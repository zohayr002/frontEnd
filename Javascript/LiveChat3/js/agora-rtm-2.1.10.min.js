/*
 @preserve
 AgoraRTM Web SDK 2.1.10 - commit: v2.1.10-0-gf671cb6c-dirty
 Copyright (C) 2018-2024 Agora Lab.
 This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
 A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
 formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource>  pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib)  *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).AgoraRTM=t()}(this,(function(){function bq(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Rd(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?bq(Object(A),!0).forEach((function(t){na(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):bq(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function ub(e){return(ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZH(e,t,A,n,r,i,o){try{var a=e[i](o),s=a.value}catch(e){return void A(e)}a.done?t(s):Promise.resolve(s).then(n,r)}function pa(e){return function(){var t=this,A=arguments;return new Promise((function(n,r){function i(e){ZH(a,n,r,i,o,"next",e)}function o(e){ZH(a,n,r,i,o,"throw",e)}var a=e.apply(t,A);i(void 0)}))}}function zb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $H(e,t){for(var A=0;A<t.length;A++){var n=t[A];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ib(e,t,A){return t&&$H(e.prototype,t),A&&$H(e,A),e}function na(e,t,A){return t in e?Object.defineProperty(e,t,{value:A,enumerable:!0,configurable:!0,writable:!0}):e[t]=A,e}function Zb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qs(e,t)}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qs(e,t){return(Qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aI(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function uA(e,t,A){return(uA=aI()?Reflect.construct:function(e,t,A){var n=[null];return n.push.apply(n,t),e=new(Function.bind.apply(e,n)),A&&Qs(e,A.prototype),e}).apply(null,arguments)}function cq(e){var t="function"==typeof Map?new Map:void 0;return(cq=function(e){function A(){return uA(e,arguments,je(this).constructor)}if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,A)}return A.prototype=Object.create(e.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),Qs(A,e)})(e)}function bI(e,t){if(null==e)return{};if(null==e)var A={};else{A={};var n,r=Object.keys(e);for(n=0;n<r.length;n++){var i=r[n];0<=t.indexOf(i)||(A[i]=e[i])}}if(Object.getOwnPropertySymbols)for(n=Object.getOwnPropertySymbols(e),i=0;i<n.length;i++)r=n[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(A[r]=e[r]);return A}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aw(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?V(e):t}function $b(e){var t=aI();return function(){var A=je(e);if(t){var n=je(this).constructor;A=Reflect.construct(A,arguments,n)}else A=A.apply(this,arguments);return aw(this,A)}}function Ce(e,t,A){return(Ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,A){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=je(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(A):t.value})(e,t,A||e)}function Lb(e,t){var A=Array.isArray(e)?e:void 0;if(!A)if(null==(A=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"])))A=void 0;else{var n,r=[],i=!0,o=!1;try{for(A=A.call(e);!(i=(n=A.next()).done)&&(r.push(n.value),!t||r.length!==t);i=!0);}catch(e){o=!0;var a=e}finally{try{i||null==A.return||A.return()}finally{if(o)throw a}}A=r}if(!(e=A||cI(e,t)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function rb(e){var t=Array.isArray(e)?vA(e):void 0;if(t||(t="undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"]?Array.from(e):void 0),!(e=t||cI(e)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function cI(e,t){if(e){if("string"==typeof e)return vA(e,t);var A=Object.prototype.toString.call(e).slice(8,-1);if("Object"===A&&e.constructor&&(A=e.constructor.name),"Map"===A||"Set"===A)return Array.from(e);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return vA(e,t)}}function vA(e,t){(null==t||t>e.length)&&(t=e.length);for(var A=0,n=Array(t);A<t;A++)n[A]=e[A];return n}function yd(e,t,A,n,r){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=A.slice().reverse().reduce((function(A,n){return n(e,t,A)||A}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function dI(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(A){var n=Object.getOwnPropertyDescriptor(e,A);Object.defineProperty(t,A,n.get?n:{enumerable:!0,get:function(){return e[A]}})})),t}function $c(e){var t={exports:{}};return e(t,t.exports),t.exports}function eI(e,t){var A="number"==typeof t?t:void 0!==t&&"string"!=typeof t?t.code:void 0;return t="number"!=typeof t&&"string"!=typeof t&&void 0!==t&&void 0!==t.serverCode?t.serverCode:void 0,A="".concat(void 0!==A?"Error Code ".concat(A):"").concat(void 0!==t?", server Code ".concat(t):""),e="string"==typeof e&&e?dq(e):Array.isArray(e)&&"string"==typeof e[0]&&e[0]?dq(wA.apply(void 0,[e[0]].concat(rb(e.slice(1))))):"","".concat(""===A?"":"".concat(A," - ")).concat(e)}function Om(e){return Object.prototype.toString.call(e).slice(8,-1)}function xA(e){return"Object"===Om(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function fI(e){var t;return(t="Boolean"===Om(e)||"Null"===Om(e)||"Undefined"===Om(e))||(t="Number"===Om(e)&&!isNaN(e)),t||"String"===Om(e)||"Symbol"===Om(e)}function eq(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function so(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function fq(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function gq(e){this.size=(this.__data__=new bw(e)).size}function Rs(e){var t=-1,A=null==e?0:e.length;for(this.__data__=new cw;++t<A;)this.add(e[t])}function hq(e,t,A,n,r){if(e===t)t=!0;else if(null==e||null==t||!Pk(e)&&!Pk(t))t=e!=e&&t!=t;else e:{var i=bh(e),o=bh(t),a=i?"[object Array]":Ss(e),s=o?"[object Array]":Ss(t),c="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a);if(o="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),(s=a==s)&&Ts(e)){if(!Ts(t)){t=!1;break e}i=!0,c=!1}if(s&&!c)r||(r=new iq),t=i||yA(e)?gI(e,t,A,n,hq,r):uW(e,t,a,A,n,hq,r);else{if(!(1&A)&&(i=c&&hI.call(e,"__wrapped__"),a=o&&hI.call(t,"__wrapped__"),i||a)){e=i?e.value():e,t=a?t.value():t,r||(r=new iq),t=hq(e,t,A,n,r);break e}if(s)t:if(r||(r=new iq),i=1&A,a=zA(e),o=a.length,s=zA(t).length,o==s||i){for(s=o;s--;){var u=a[s];if(!(i?u in t:vW.call(t,u))){t=!1;break t}}if(c=r.get(e),u=r.get(t),c&&u)t=c==t&&u==e;else{c=!0,r.set(e,t),r.set(t,e);for(var g=i;++s<o;){var I=e[u=a[s]],l=t[u];if(n)var E=i?n(l,I,u,t,e,r):n(I,l,u,e,t,r);if(void 0===E?I!==l&&!hq(I,l,A,n,r):!E){c=!1;break}g||(g="constructor"==u)}c&&!g&&((A=e.constructor)!=(n=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof n&&n instanceof n)&&(c=!1)),r.delete(e),r.delete(t),t=c}}else t=!1;else t=!1}}return t}function AA(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var A=function A(){var n=arguments,r=t?t.apply(this,n):n[0],i=A.cache;return i.has(r)?i.get(r):(n=e.apply(this,n),A.cache=i.set(r,n)||i,n)};return A.cache=new(AA.Cache||cw),A}function BA(e){if("string"==typeof e)return e;if(bh(e))return to(e,BA)+"";if(jq(e))return iI?iI.call(e):"";var t=e+"";return"0"==t&&1/e==-wW?"-0":t}function CA(e,t,A,n,r){var i=-1,o=e.length;for(A||(A=xW),r||(r=[]);++i<o;){var a=e[i];0<t&&A(a)?1<t?CA(a,t-1,A,n,r):DA(r,a):n||(r[r.length]=a)}return r}function Qk(e,t,A,n,r,i){var o,a=1&t,s=2&t,c=4&t;if(A&&(o=r?A(e,n,r,i):A(e)),void 0!==o)return o;if(!xh(e))return e;if(n=bh(e)){if(o=yW(e),!a)return EA(e,o)}else{var u=Ss(e),g="[object Function]"==u||"[object GeneratorFunction]"==u;if(Ts(e))return jI(e,a);if("[object Object]"==u||"[object Arguments]"==u||g&&!r){if(o=s||g?{}:kI(e),!a)return s?zW(e,AW(o,e)):BW(e,CW(o,e))}else{if(!We[u])return r?e:{};o=DW(e,u,a)}}if(i||(i=new iq),r=i.get(e))return r;i.set(e,o),EW(e)?e.forEach((function(n){o.add(Qk(n,t,A,n,e,i))})):FW(e)&&e.forEach((function(n,r){o.set(r,Qk(n,t,A,r,e,i))})),s=c?s?FA:zA:s?Us:uo;var I=n?void 0:s(e);return GW(I||e,(function(n,r){I&&(n=e[r=n]),GA(o,r,Qk(n,t,A,r,e,i))})),o}function lI(e,t,A,n,r){e!==t&&mI(t,(function(i,o){if(r||(r=new iq),xh(i)){i=r;var a=HA(e,o),s=HA(t,o),c=i.get(s);if(c)IA(e,o,c);else{var u=void 0===(c=n?n(a,s,o+"",e,t,i):void 0);if(u){var g=bh(s),I=!g&&Ts(s),l=!g&&!I&&yA(s);c=s,g||I||l?bh(a)?c=a:Pk(a)&&vo(a)?c=EA(a):I?(u=!1,c=jI(s,!0)):l?(u=!1,c=nI(s,!0)):c=[]:oI(s)||Vs(s)?(c=a,Vs(a)?c=kq(a,Us(a)):xh(a)&&!JA(a)||(c=kI(s))):u=!1}u&&(i.set(s,c),lI(c,s,A,n,i),i.delete(s)),IA(e,o,c)}}else void 0===(a=n?n(HA(e,o),i,o+"",e,t,r):void 0)&&(a=i),IA(e,o,a)}),Us)}function kf(e,t,A){this.low=0|e,this.high=0|t,this.unsigned=!!A}function oi(e){return!0===(e&&e.__isLong__)}function wo(e,t){var A;if(t){if((t=0<=(e>>>=0)&&256>e)&&(A=pI[e]))return A;A=Xe(e,0>(0|e)?-1:0,!0),t&&(pI[e]=A)}else{if((t=-128<=(e|=0)&&128>e)&&(A=qI[e]))return A;A=Xe(e,0>e?-1:0,!1),t&&(qI[e]=A)}return A}function zj(e,t){if(isNaN(e))return t?xo:Aj;if(t){if(0>e)return xo;if(e>=rI)return sI}else{if(e<=-tI)return pi;if(e+1>=tI)return uI}return 0>e?zj(-e,t).neg():Xe(e%4294967296|0,e/4294967296|0,t)}function Xe(e,t,A){return new kf(e,t,A)}function KA(e,t,A){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return Aj;if("number"==typeof t?(A=t,t=!1):t=!!t,2>(A=A||10)||36<A)throw RangeError("radix");var n;if(0<(n=e.indexOf("-")))throw Error("interior hyphen");if(0===n)return KA(e.substring(1),t,A).neg();n=zj(dw(A,8));for(var r=Aj,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),a=parseInt(e.substring(i,i+o),A);8>o?(o=zj(dw(A,o)),r=r.mul(o).add(zj(a))):r=(r=r.mul(n)).add(zj(a))}return r.unsigned=t,r}function hk(e,t){return"number"==typeof e?zj(e,t):"string"==typeof e?KA(e,t):Xe(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}function lq(e,t){ka.cipher.registerAlgorithm(e,(function(){return new ka.aes.Algorithm(e,t)}))}function vI(){LA=!0,wI=[0,1,2,4,8,16,32,64,128,27,54];for(var e=Array(256),t=0;128>t;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;for(Ph=Array(256),MA=Array(256),yo=Array(4),ik=Array(4),t=0;4>t;++t)yo[t]=Array(256),ik[t]=Array(256);var A=0,n=0;for(t=0;256>t;++t){var r=n^n<<1^n<<2^n<<3^n<<4;r=r>>8^255&r^99,Ph[A]=r,MA[r]=A;var i=e[r],o=e[A],a=e[o],s=e[a];i^=i<<24^r<<16^r<<8^r,a=(o^a^s)<<24^(A^s)<<16^(A^a^s)<<8^A^o^s;for(var c=0;4>c;++c)yo[c][A]=i,ik[c][r]=a,i=i<<24|i>>>8,a=a<<24|a>>>8;0===A?A=n=1:(A=o^e[e[e[o^s]]],n^=e[e[n]])}}function xI(e,t){for(var A,n=1,r=(e=e.slice(0)).length,i=mq*(r+6+1),o=r;o<i;++o)A=e[o-1],0==o%r?(A=Ph[A>>>16&255]<<24^Ph[A>>>8&255]<<16^Ph[255&A]<<8^Ph[A>>>24]^wI[n]<<24,n++):6<r&&4==o%r&&(A=Ph[A>>>24]<<24^Ph[A>>>16&255]<<16^Ph[A>>>8&255]<<8^Ph[255&A]),e[o]=e[o-r]^A;if(t){A=ik[0],n=ik[1],r=ik[2];var a=ik[3],s=e.slice(0);o=0;for(var c=(i=e.length)-mq;o<i;o+=mq,c-=mq)if(0===o||o===i-mq)s[o]=e[c],s[o+1]=e[c+3],s[o+2]=e[c+2],s[o+3]=e[c+1];else for(var u=0;u<mq;++u)t=e[c+u],s[o+(3&-u)]=A[Ph[t>>>24]]^n[Ph[t>>>16&255]]^r[Ph[t>>>8&255]]^a[Ph[255&t]];e=s}return e}function NA(e,t,A,n){var r=e.length/4-1;if(n)var i=ik[0],o=ik[1],a=ik[2],s=ik[3],c=MA;else i=yo[0],o=yo[1],a=yo[2],s=yo[3],c=Ph;var u=t[0]^e[0],g=t[n?3:1]^e[1],I=t[2]^e[2];t=t[n?1:3]^e[3];for(var l=3,E=1;E<r;++E){var C=i[u>>>24]^o[g>>>16&255]^a[I>>>8&255]^s[255&t]^e[++l],d=i[g>>>24]^o[I>>>16&255]^a[t>>>8&255]^s[255&u]^e[++l],h=i[I>>>24]^o[t>>>16&255]^a[u>>>8&255]^s[255&g]^e[++l];t=i[t>>>24]^o[u>>>16&255]^a[g>>>8&255]^s[255&I]^e[++l],u=C,g=d,I=h}A[0]=c[u>>>24]<<24^c[g>>>16&255]<<16^c[I>>>8&255]<<8^c[255&t]^e[++l],A[n?3:1]=c[g>>>24]<<24^c[I>>>16&255]<<16^c[t>>>8&255]<<8^c[255&u]^e[++l],A[2]=c[I>>>24]<<24^c[t>>>16&255]<<16^c[u>>>8&255]<<8^c[255&g]^e[++l],A[n?1:3]=c[t>>>24]<<24^c[u>>>16&255]<<16^c[g>>>8&255]<<8^c[255&I]^e[++l]}function ew(e){var t="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),A=e.decrypt?ka.cipher.createDecipher(t,e.key):ka.cipher.createCipher(t,e.key),n=A.start;return A.start=function(e,t){var r=null;t instanceof ka.util.ByteBuffer&&(r=t,t={}),(t=t||{}).output=r,t.iv=e,n.call(A,t)},A}function Rk(e,t){ka.cipher.registerAlgorithm(e,(function(){return new ka.des.Algorithm(e,t)}))}function yI(e,t,A,n){var r=32===e.length?3:9;n=3===r?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var i=t[0],o=t[1];i^=(t=252645135&(i>>>4^o))<<4,i^=(t=65535&(i>>>16^(o^=t)))<<16,i^=t=858993459&((o^=t)>>>2^i),i^=t=16711935&((o^=t<<2)>>>8^i),i=(i^=(t=1431655765&(i>>>1^(o^=t<<8)))<<1)<<1|i>>>31,o=(o^=t)<<1|o>>>31;for(var a=0;a<r;a+=3){for(var s=n[a+1],c=n[a+2],u=n[a];u!=s;u+=c){var g=o^e[u],I=(o>>>4|o<<28)^e[u+1];t=i,i=o,o=t^(HW[g>>>24&63]|IW[g>>>16&63]|JW[g>>>8&63]|KW[63&g]|LW[I>>>24&63]|MW[I>>>16&63]|NW[I>>>8&63]|OW[63&I])}t=i,i=o,o=t}i=i>>>1|i<<31,i^=(t=1431655765&(i>>>1^(o=o>>>1|o<<31)))<<1,i^=t=16711935&((o^=t)>>>8^i),i^=t=858993459&((o^=t<<8)>>>2^i),t=252645135&((i^=(t=65535&(i>>>16^(o^=t<<2)))<<16)>>>4^(o^=t)),A[0]=i^t<<4,A[1]=o^t}function fw(e){var t="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),A=e.decrypt?ka.cipher.createDecipher(t,e.key):ka.cipher.createCipher(t,e.key),n=A.start;return A.start=function(e,t){var r=null;t instanceof ka.util.ByteBuffer&&(r=t,t={}),(t=t||{}).output=r,t.iv=e,n.call(A,t)},A}function Vb(e,t,A){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,A):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function ee(){return new Vb(null)}function PW(e,t,A,n,r,i){for(;0<=--i;){var o=t*this.data[e++]+A.data[n]+r;r=Math.floor(o/67108864),A.data[n++]=67108863&o}return r}function QW(e,t,A,n,r,i){var o=32767&t;for(t>>=15;0<=--i;){var a=32767&this.data[e],s=this.data[e++]>>15,c=t*a+s*o;r=((a=o*a+((32767&c)<<15)+A.data[n]+(1073741823&r))>>>30)+(c>>>15)+t*s+(r>>>30),A.data[n++]=1073741823&a}return r}function zI(e,t,A,n,r,i){var o=16383&t;for(t>>=14;0<=--i;){var a=16383&this.data[e],s=this.data[e++]>>14,c=t*a+s*o;r=((a=o*a+((16383&c)<<14)+A.data[n]+r)>>28)+(c>>14)+t*s,A.data[n++]=268435455&a}return r}function AI(e,t){return null==(e=gw[e.charCodeAt(t)])?-1:e}function Pm(e){var t=ee();return t.fromInt(e),t}function hw(e){var t,A=1;return 0!=(t=e>>>16)&&(e=t,A+=16),0!=(t=e>>8)&&(e=t,A+=8),0!=(t=e>>4)&&(e=t,A+=4),0!=(t=e>>2)&&(e=t,A+=2),0!=e>>1&&(A+=1),A}function zo(e){this.m=e}function Ao(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function RW(e,t){return e&t}function OA(e,t){return e|t}function BI(e,t){return e^t}function CI(e,t){return e&~t}function Ws(){}function DI(e){return e}function nq(e){this.r2=ee(),this.q3=ee(),Vb.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function SW(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}}}function EI(e,t,A){var n=ka.util.createBuffer();if(t=Math.ceil(t.n.bitLength()/8),e.length>t-11)throw(n=Error("Message is too long for PKCS#1 v1.5 padding.")).length=e.length,n.max=t-11,n;if(n.putByte(0),n.putByte(A),t=t-3-e.length,0===A||1===A){A=0===A?0:255;for(var r=0;r<t;++r)n.putByte(A)}else for(;0<t;){var i=0,o=ka.random.getBytes(t);for(r=0;r<t;++r)0===(A=o.charCodeAt(r))?++i:n.putByte(A);t=i}return n.putByte(0),n.putBytes(e),n}function iw(e,t,A,n){t=Math.ceil(t.n.bitLength()/8);var r=(e=ka.util.createBuffer(e)).getByte(),i=e.getByte();if(0!==r||A&&0!==i&&1!==i||!A&&2!=i||A&&0===i&&void 0===n)throw Error("Encryption block is invalid.");if(A=0,0===i){for(A=t-3-n,n=0;n<A;++n)if(0!==e.getByte())throw Error("Encryption block is invalid.")}else if(1===i)for(A=0;1<e.length();){if(255!==e.getByte()){--e.read;break}++A}else if(2===i)for(A=0;1<e.length();){if(0===e.getByte()){--e.read;break}++A}if(0!==e.getByte()||A!==t-3-e.length())throw Error("Encryption block is invalid.");return e.getBytes()}function TW(e,t,A){function n(){r(e.pBits,(function(t,n){return t?A(t):(e.p=n,null!==e.q?i(t,e.q):void r(e.qBits,i))}))}function r(e,t){ka.prime.generateProbablePrime(e,o,t)}function i(t,o){if(t)return A(t);e.q=o,0>e.p.compareTo(e.q)&&(t=e.p,e.p=e.q,e.q=t),0!==e.p.subtract(fe.ONE).gcd(e.e).compareTo(fe.ONE)?(e.p=null,n()):0!==e.q.subtract(fe.ONE).gcd(e.e).compareTo(fe.ONE)?(e.q=null,r(e.qBits,i)):(e.p1=e.p.subtract(fe.ONE),e.q1=e.q.subtract(fe.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(fe.ONE)?(e.p=e.q=null,n()):(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits?(e.q=null,r(e.qBits,i)):(t=e.e.modInverse(e.phi),e.keys={privateKey:sd.rsa.setPrivateKey(e.n,e.e,t,e.p,e.q,t.mod(e.p1),t.mod(e.q1),e.q.modInverse(e.p)),publicKey:sd.rsa.setPublicKey(e.n,e.e)},A(null,e.keys))))}"function"==typeof t&&(A=t,t={});var o={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(o.prng=t.prng),n()}function Sk(e){return"8"<=(e=e.toString(16))[0]&&(e="00"+e),1<(e=ka.util.hexToBytes(e)).length&&(0===e.charCodeAt(0)&&0==(128&e.charCodeAt(1))||255===e.charCodeAt(0)&&128==(128&e.charCodeAt(1)))?e.substr(1):e}function UW(e){return 100>=e?27:150>=e?18:200>=e?15:250>=e?12:300>=e?9:350>=e?8:400>=e?7:500>=e?6:600>=e?5:800>=e?4:1250>=e?3:2}function FI(e){return void 0!==Bj.globalScope&&"object"===ub(Bj.globalScope.crypto)&&"object"===ub(Bj.globalScope.crypto.subtle)&&"function"==typeof Bj.globalScope.crypto.subtle[e]}function GI(e){return void 0!==Bj.globalScope&&"object"===ub(Bj.globalScope.msCrypto)&&"object"===ub(Bj.globalScope.msCrypto.subtle)&&"function"==typeof Bj.globalScope.msCrypto.subtle[e]}function HI(e){e=ka.util.hexToBytes(e.toString(16));for(var t=new Uint8Array(e.length),A=0;A<e.length;++A)t[A]=e.charCodeAt(A);return t}function II(e,t){return e.start().update(t).digest().getBytes()}function JI(e){if(e){var t=zd.oids[Fb.derToOid(e)];if(!t)throw(t=Error("Unsupported PRF OID.")).oid=e,t.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],t}else t="hmacWithSHA1";return KI(t)}function KI(e){var t=ka.md;switch(e){case"hmacWithSHA224":t=ka.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:throw(t=Error("Unsupported PRF algorithm.")).algorithm=e,t.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],t}if(!t||!(e in t))throw Error("Unknown hash algorithm: "+e);return t[e].create()}function Nl(e){var t=e.message;if(t instanceof Uint8Array||t instanceof qi)return t;var A=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),A="binary"}if("string"==typeof t&&!A)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.from(t,A);t=new PA(t,A)}else if(!(t instanceof PA))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(e=new qi(t.length()),A=0;A<e.length;++A)e[A]=t.at(A);return e}function Xs(e,t){var A=ka.md.sha512.create();if(e=new PA(e),A.update(e.getBytes(t),"binary"),t=A.digest().getBytes(),"undefined"!=typeof Buffer)return Buffer.from(t,"binary");for(A=new qi(Qd.constants.HASH_BYTE_LENGTH),e=0;64>e;++e)A[e]=t.charCodeAt(e);return A}function LI(e,t){var A,n;for(A=63;32<=A;--A){var r=0,i=A-32;for(n=A-12;i<n;++i)t[i]+=r-16*t[A]*QA[i-(A-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[A]=0}for(i=r=0;32>i;++i)t[i]+=r-(t[31]>>4)*QA[i],r=t[i]>>8,t[i]&=255;for(i=0;32>i;++i)t[i]-=r*QA[i];for(A=0;32>A;++A)t[A+1]+=t[A]>>8,e[A]=255&t[A]}function RA(e){for(var t=new Float64Array(64),A=0;64>A;++A)t[A]=e[A],e[A]=0;LI(e,t)}function SA(e,t){var A=ad(),n=ad(),r=ad(),i=ad(),o=ad(),a=ad(),s=ad(),c=ad(),u=ad();oq(A,e[1],e[0]),oq(u,t[1],t[0]),ge(A,A,u),pq(n,e[0],e[1]),pq(u,t[0],t[1]),ge(n,n,u),ge(r,e[3],t[3]),ge(r,r,VW),ge(i,e[2],t[2]),pq(i,i,i),oq(o,n,A),oq(a,i,r),pq(s,i,r),pq(c,n,A),ge(e[0],o,a),ge(e[1],c,s),ge(e[2],s,a),ge(e[3],o,c)}function TA(e,t){var A,n=ad(),r=ad(),i=ad(),o=t[2],a=ad();for(A=0;16>A;++A)a[A]=o[A];for(A=253;0<=A;--A)ge(a,a,a),2!==A&&4!==A&&ge(a,a,o);for(A=0;16>A;++A)i[A]=a[A];ge(n,t[0],i),ge(r,t[1],i),jw(e,r),e[31]^=MI(n)<<7}function jw(e,t){var A,n=ad(),r=ad();for(A=0;16>A;++A)r[A]=t[A];for(UA(r),UA(r),UA(r),t=0;2>t;++t){for(n[0]=r[0]-65517,A=1;15>A;++A)n[A]=r[A]-65535-(n[A-1]>>16&1),n[A-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1),A=n[15]>>16&1,n[14]&=65535,VA(r,n,1-A)}for(A=0;16>A;A++)e[2*A]=255&r[A],e[2*A+1]=r[A]>>8}function NI(e,t){var A=new qi(32),n=new qi(32);return jw(A,e),jw(n,t),OI(A,0,n,0)}function OI(e,t,A,n){var r,i=0;for(r=0;32>r;++r)i|=e[t+r]^A[n+r];return(1&i-1>>>8)-1}function MI(e){var t=new qi(32);return jw(t,e),1&t[0]}function PI(e,t,A){var n;for(Qm(e[0],WA),Qm(e[1],kw),Qm(e[2],kw),Qm(e[3],WA),n=255;0<=n;--n){for(var r=A[n/8|0]>>(7&n)&1,i=e,o=t,a=r,s=0;4>s;++s)VA(i[s],o[s],a);for(SA(t,e),SA(e,e),i=e,o=t,a=0;4>a;++a)VA(i[a],o[a],r)}}function XA(e,t){var A=[ad(),ad(),ad(),ad()];Qm(A[0],QI),Qm(A[1],RI),Qm(A[2],kw),ge(A[3],QI,RI),PI(e,A,t)}function Qm(e,t){var A;for(A=0;16>A;A++)e[A]=0|t[A]}function UA(e){var t,A=1;for(t=0;16>t;++t){var n=e[t]+A+65535;A=Math.floor(n/65536),e[t]=n-65536*A}e[0]+=A-1+37*(A-1)}function VA(e,t,A){for(var n=~(A-1),r=0;16>r;++r)A=n&(e[r]^t[r]),e[r]^=A,t[r]^=A}function ad(e){var t,A=new Float64Array(16);if(e)for(t=0;t<e.length;++t)A[t]=e[t];return A}function pq(e,t,A){for(var n=0;16>n;++n)e[n]=t[n]+A[n]}function oq(e,t,A){for(var n=0;16>n;++n)e[n]=t[n]-A[n]}function ge(e,t,A){var n=A[0],r=A[1],i=A[2],o=A[3],a=A[4],s=A[5],c=A[6],u=A[7],g=A[8],I=A[9],l=A[10],E=A[11],C=A[12],d=A[13],h=A[14],p=A[15],f=(A=t[0])*n,B=A*r,Q=A*i,y=A*o,v=A*a,m=A*s,_=A*c,b=A*u,R=A*g,S=A*I,w=A*l,D=A*E,k=A*C,N=A*d,T=A*h,O=A*p;B+=(A=t[1])*n,Q+=A*r,y+=A*i,v+=A*o,m+=A*a,_+=A*s,b+=A*c,R+=A*u,S+=A*g,w+=A*I,D+=A*l,k+=A*E,N+=A*C,T+=A*d,O+=A*h;var L=A*p;Q+=(A=t[2])*n,y+=A*r,v+=A*i,m+=A*o,_+=A*a,b+=A*s,R+=A*c,S+=A*u,w+=A*g,D+=A*I,k+=A*l,N+=A*E,T+=A*C,O+=A*d,L+=A*h;var M=A*p;y+=(A=t[3])*n,v+=A*r,m+=A*i,_+=A*o,b+=A*a,R+=A*s,S+=A*c,w+=A*u,D+=A*g,k+=A*I,N+=A*l,T+=A*E,O+=A*C,L+=A*d,M+=A*h;var U=A*p;v+=(A=t[4])*n,m+=A*r,_+=A*i,b+=A*o,R+=A*a,S+=A*s,w+=A*c,D+=A*u,k+=A*g,N+=A*I,T+=A*l,O+=A*E,L+=A*C,M+=A*d,U+=A*h;var x=A*p;m+=(A=t[5])*n,_+=A*r,b+=A*i,R+=A*o,S+=A*a,w+=A*s,D+=A*c,k+=A*u,N+=A*g,T+=A*I,O+=A*l,L+=A*E,M+=A*C,U+=A*d,x+=A*h;var P=A*p;_+=(A=t[6])*n,b+=A*r,R+=A*i,S+=A*o,w+=A*a,D+=A*s,k+=A*c,N+=A*u,T+=A*g,O+=A*I,L+=A*l,M+=A*E,U+=A*C,x+=A*d,P+=A*h;var G=A*p;b+=(A=t[7])*n,R+=A*r,S+=A*i,w+=A*o,D+=A*a,k+=A*s,N+=A*c,T+=A*u,O+=A*g,L+=A*I,M+=A*l,U+=A*E,x+=A*C,P+=A*d,G+=A*h;var F=A*p;R+=(A=t[8])*n,S+=A*r,w+=A*i,D+=A*o,k+=A*a,N+=A*s,T+=A*c,O+=A*u,L+=A*g,M+=A*I,U+=A*l,x+=A*E,P+=A*C,G+=A*d,F+=A*h;var K=A*p;S+=(A=t[9])*n,w+=A*r,D+=A*i,k+=A*o,N+=A*a,T+=A*s,O+=A*c,L+=A*u,M+=A*g,U+=A*I,x+=A*l,P+=A*E,G+=A*C,F+=A*d,K+=A*h;var V=A*p;w+=(A=t[10])*n,D+=A*r,k+=A*i,N+=A*o,T+=A*a,O+=A*s,L+=A*c,M+=A*u,U+=A*g,x+=A*I,P+=A*l,G+=A*E,F+=A*C,K+=A*d,V+=A*h;var Y=A*p;D+=(A=t[11])*n,k+=A*r,N+=A*i,T+=A*o,O+=A*a,L+=A*s,M+=A*c,U+=A*u,x+=A*g,P+=A*I,G+=A*l,F+=A*E,K+=A*C,V+=A*d,Y+=A*h;var J=A*p;k+=(A=t[12])*n,N+=A*r,T+=A*i,O+=A*o,L+=A*a,M+=A*s,U+=A*c,x+=A*u,P+=A*g,G+=A*I,F+=A*l,K+=A*E,V+=A*C,Y+=A*d,J+=A*h;var q=A*p;N+=(A=t[13])*n,T+=A*r,O+=A*i,L+=A*o,M+=A*a,U+=A*s,x+=A*c,P+=A*u,G+=A*g,F+=A*I,K+=A*l,V+=A*E,Y+=A*C,J+=A*d,q+=A*h;var H=A*p;T+=(A=t[14])*n,O+=A*r,L+=A*i,M+=A*o,U+=A*a,x+=A*s,P+=A*c,G+=A*u,F+=A*g,K+=A*I,V+=A*l,Y+=A*E,J+=A*C,q+=A*d,H+=A*h;var j=A*p;O+=(A=t[15])*n,B+=38*(M+A*i),Q+=38*(U+A*o),y+=38*(x+A*a),v+=38*(P+A*s),m+=38*(G+A*c),_+=38*(F+A*u),b+=38*(K+A*g),R+=38*(V+A*I),S+=38*(Y+A*l),w+=38*(J+A*E),D+=38*(q+A*C),k+=38*(H+A*d),N+=38*(j+A*h),T+=38*A*p,f=(A=f+38*(L+A*r)+1+65535)-65536*(t=Math.floor(A/65536)),B=(A=B+t+65535)-65536*(t=Math.floor(A/65536)),Q=(A=Q+t+65535)-65536*(t=Math.floor(A/65536)),y=(A=y+t+65535)-65536*(t=Math.floor(A/65536)),v=(A=v+t+65535)-65536*(t=Math.floor(A/65536)),m=(A=m+t+65535)-65536*(t=Math.floor(A/65536)),_=(A=_+t+65535)-65536*(t=Math.floor(A/65536)),b=(A=b+t+65535)-65536*(t=Math.floor(A/65536)),R=(A=R+t+65535)-65536*(t=Math.floor(A/65536)),S=(A=S+t+65535)-65536*(t=Math.floor(A/65536)),w=(A=w+t+65535)-65536*(t=Math.floor(A/65536)),D=(A=D+t+65535)-65536*(t=Math.floor(A/65536)),k=(A=k+t+65535)-65536*(t=Math.floor(A/65536)),N=(A=N+t+65535)-65536*(t=Math.floor(A/65536)),T=(A=T+t+65535)-65536*(t=Math.floor(A/65536)),O=(A=O+t+65535)-65536*(t=Math.floor(A/65536)),f=(A=(f+=t-1+37*(t-1))+1+65535)-65536*(t=Math.floor(A/65536)),B=(A=B+t+65535)-65536*(t=Math.floor(A/65536)),Q=(A=Q+t+65535)-65536*(t=Math.floor(A/65536)),y=(A=y+t+65535)-65536*(t=Math.floor(A/65536)),v=(A=v+t+65535)-65536*(t=Math.floor(A/65536)),m=(A=m+t+65535)-65536*(t=Math.floor(A/65536)),_=(A=_+t+65535)-65536*(t=Math.floor(A/65536)),b=(A=b+t+65535)-65536*(t=Math.floor(A/65536)),R=(A=R+t+65535)-65536*(t=Math.floor(A/65536)),S=(A=S+t+65535)-65536*(t=Math.floor(A/65536)),w=(A=w+t+65535)-65536*(t=Math.floor(A/65536)),D=(A=D+t+65535)-65536*(t=Math.floor(A/65536)),k=(A=k+t+65535)-65536*(t=Math.floor(A/65536)),N=(A=N+t+65535)-65536*(t=Math.floor(A/65536)),T=(A=T+t+65535)-65536*(t=Math.floor(A/65536)),A=O+t+65535,t=Math.floor(A/65536),e[0]=f+(t-1+37*(t-1)),e[1]=B,e[2]=Q,e[3]=y,e[4]=v,e[5]=m,e[6]=_,e[7]=b,e[8]=R,e[9]=S,e[10]=w,e[11]=D,e[12]=k,e[13]=N,e[14]=T,e[15]=A-65536*t}function SI(e,t,A,n){e.generate=function(e,r){for(var i=new ka.util.ByteBuffer,o=Math.ceil(r/n)+A,a=new ka.util.ByteBuffer,s=A;s<o;++s){a.putInt32(s),t.start(),t.update(e+a.getBytes());var c=t.digest();i.putBytes(c.getBytes(n))}return i.truncate(i.length()-r),i.getBytes()}}function qq(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+e}function lw(){var e=qq(0,4294967295),t=qq(1,4294967295);return new Xa(e,t,!0)}function pg(e){return e.toString().padEnd(32,"0")}function TI(e,t){return e=e.split(".").map((function(e){return Number(e)})),t=t.split(".").map((function(e){return Number(e)})),Math.sqrt(1e3*Math.pow(e[0]-t[0],2)+100*Math.pow(e[1]-t[1],2)+10*Math.pow(e[2]-t[2],2)+1*Math.pow(e[3]-t[3],2))}function UI(e){return e.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?e.toNumber():e.toString()}function rq(e,t){t="".concat(e).concat(t||"");var A=VI.get(t)||1;return VI.set(t,A+1),"".concat(e).concat(A)}function WW(e,t){return YA.apply(this,arguments)}function YA(){return(YA=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A||!A.aborted){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){setTimeout(e,t),null==A||A.addEventListener("abort",e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e,t,A){return ZA.apply(this,arguments)}function ZA(){return(ZA=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w,D;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A.body,i=A.headers,o=void 0===i?{}:i,a=A.timeout,s=void 0===a?1e4:a,c=A.signal,u=A.withCredentials,g=void 0!==u&&u,!1!==navigator.onLine){e.next=3;break}throw Error("network is offline, not permit send request: url(".concat(t,")"));case 3:if(I=Wb.rtm,l=(n||{}).useBinaryResponse,E=void 0!==l&&l,(C=new XMLHttpRequest).open("POST",t,!0),C.responseType=E?"arraybuffer":"text",C.withCredentials=g,C.timeout=s,d=r instanceof FormData,h=r instanceof Uint8Array,!(1<(p=Object.keys(o).filter((function(e){return"content-type"===e.toLowerCase()}))).length)){e.next=17;break}throw new RangeError("multiple content-type");case 17:0===p.length&&(h?o["Content-Type"]="application/octet-stream":d||(o["Content-Type"]="application/json"));case 18:if("setRequestHeader"in C){e.next=49;break}return C.abort(),e.next=22,fetch(t,{body:d||h?r:JSON.stringify(r),cache:"no-cache",credentials:g?"include":"same-origin",headers:o,method:"POST",mode:"cors",referrer:"no-referrer",signal:c});case 22:if(f=e.sent,!(200<=(B=f.status)&&300>B||304===B)){e.next=34;break}if(!E){e.next=30;break}return e.next=28,f.arrayBuffer();case 28:return Q=e.sent,e.abrupt("return",{status:B,responseData:Q});case 30:return e.next=32,f.text();case 32:return y=e.sent,e.abrupt("return",{status:B,responseText:y});case 34:return v=new Db(I,["Post XHR failure, status %d",B]),e.prev=35,e.next=38,f.text();case 38:throw m=e.sent,v.statusCode=B,v.message=m||"Request failed, status ".concat(B),v;case 44:throw e.prev=44,e.t0=e.catch(35),v.statusCode=B,v.message="Request failed, status ".concat(B),v;case 49:if(0!==Object.keys(o).length)for(_=0,b=Object.entries(o);_<b.length;_++)R=Lb(b[_],2),S=R[0],w=R[1],C.setRequestHeader(S,w);return void 0!==c&&(D=function e(){C.abort(),c.removeEventListener("abort",e)},c.addEventListener("abort",D)),d||h?C.send(r):C.send(JSON.stringify(r)),e.abrupt("return",new Promise((function(e,t){var A=function(){try{t(new DOMException("The request aborted.","AbortError"))}catch(A){var e=Error("The request aborted.");e.name="AbortError",t(e)}};C.onload=function(){var n=C.status;if(0===n)A();else if(200<=n&&300>n||304===n)e(E?{status:n,responseData:C.response}:{status:n,responseText:C.responseText});else{var r=new Db(I,["Post XHR failure, status %d",n]);r.statusCode=n,r.message=C.response||"Request failed, status ".concat(C.status),t(r)}},C.ontimeout=function(e){t(new Ol(I,["XHR request timed out after %d ms",s],{originalError:e}))},C.onerror=function(){0===C.status&&A();var e=new Db(I,["Post XHR failure, status %d",C.status]);e.statusCode=C.status,e.message=C.response||"Request failed, status ".concat(C.status),t(e)},C.onabort=function(){A()}})));case 53:case"end":return e.stop()}}),e,null,[[35,44]])})))).apply(this,arguments)}function XW(e,t){var A=Wb.publish,n=$a(t);if(t=n.code,n=n.reason,!xA(e))throw new Jc(A,[n],t);if(void 0===e.messageType)if(e.rawMessage instanceof Uint8Array){if(e.messageType="RAW",void 0!==e.text)throw new Jc(A,[n],t)}else{if("string"!=typeof e.text)throw new Jc(A,[n],t);if(e.messageType="TEXT",void 0!==e.rawMessage)throw new Jc(A,[n],t)}}function WI(e){return $A.apply(this,arguments)}function $A(){return($A=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=t.message,n=t.peerId,r=t.session,i=t.diff,o=t.customType,a=t.toPeer,s=Wb.publish,void 0!==r){e.next=5;break}throw c=$a(Aa.RTM_ERROR_NOT_LOGIN),u=c.code,g=c.reason,new Ad(s,[g],u);case 5:if(I=a?"TEXT"===A.messageType?ve.P2pSMsgNoOfflineFlag:ve.P2pRMsgNoOfflineFlag:"TEXT"===A.messageType?ve.ChannelSMsg:ve.ChannelRMsg,l=Date.now(),E=r.messageSentTimes.length-1,!(null==(C=r.messageSentTimes[E])||3e3<l-C)){e.next=13;break}r.messageSentTimes=[l],e.next=28;break;case 13:d=E;case 14:if(!(0<=d)){e.next=21;break}if(!(3e3<=l-r.messageSentTimes[d])){e.next=18;break}return r.messageSentTimes=r.messageSentTimes.slice(d+1,E+1),e.abrupt("break",21);case 18:d--,e.next=14;break;case 21:if(!(180<r.messageSentTimes.length+1)){e.next=27;break}throw r.emit("messageCount",{messageCategory:I,type:"common",key:"sentcount"}),r.emit("messageCount",{messageCategory:I,type:"common",key:"toooftencount"}),h=$a(Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT),p=h.code,f=h.reason,new ri(s,[f],p);case 27:r.messageSentTimes.push(l);case 28:e.t0=A.messageType,e.next="TEXT"===e.t0?31:"RAW"===e.t0?32:34;break;case 31:return e.abrupt("return",r.sendTextMessage(A.text,n,a,1e4-i,o));case 32:return void 0===A.description&&(A.description=""),e.abrupt("return",r.sendRawMessage(A.rawMessage,A.description,n,a,1e4-i,o));case 34:throw r.emit("messageCount",{messageCategory:I,type:"common",key:"sentcount"}),r.emit("messageCount",{messageCategory:I,type:"common",key:"invalidmessagecount"}),B=$a(Aa.RTM_ERROR_CHANNEL_INVALID_MESSAGE),Q=B.code,y=B.reason,new Jc(s,[y],Q);case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YW(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],A=e.replace(/(https?:\/\/)?(www.)?/i,"");return t||(A=A.split(".").slice(e.length-2).join(".")),-1!==A.indexOf("/")?A.split("/")[0]:A}function uc(e){if("string"!=typeof e)return"[Sensitive Info]";var t=Math.floor(.7*e.length),A=e.length;return XI(e,t,A,"*".repeat(A-t))}function YI(e){if("string"!=typeof e)return"[Sensitive Info]";var t=e.length;if(2>=t)return e;var A=t/3,n="*".repeat((t=t/3*2)-A);return e.substring(0,A)+n+e.substring(t)}function ZI(e,t,A){function n(r){if(void 0===e)return e;if(fI(r))return r;if(Array.isArray(r))return r.map(n);var i={},o=0;for(r=mw(r);o<r.length;o++){var a=Lb(r[o],2),s=a[0];if("string"==typeof(a="number"==typeof(a=a[1])?a.toString():a)&&A.includes(s)){i[s]="string"==typeof a?YI(a):"[Sensitive Info]";break}t.includes(s)?i[s]="[Hidden Info]":i[s]=null==a?a:A.includes(s)?"[Sensitive Info]":n(a)}return i}return Array.isArray(e)?e.map(n):n(e)}function $I(e){return Object.getOwnPropertyNames(e).forEach((function(t){"object"==ub(t=e[t])&&null!==t&&$I(t)})),Object.freeze(e)}function ZW(e){return new TextDecoder("utf-8").decode(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}function $W(){for(var e=0,t=arguments.length,A=Array(t),n=0;n<t;n++)A[n]=arguments[n];for(t=0;t<A.length;t++)e+=A[t].length;for(e=new Uint8Array(e),n=t=0;n<A.length;n++){var r=A[n];e.set(r,t),t+=r.length}return e}function Tk(e,t,A){var n=e.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(e=null==n?void 0:n[1],n=null==n?void 0:n[2]){var r;for(n=n.substr(1).split("&"),r=0;r<n.length;r++)if(n[r].split("=")[0]==t){n[r]=t+"="+encodeURIComponent(A);break}return r==n.length&&n.push(t+"="+encodeURIComponent(A)),e+"?"+n.join("&")}return e+"?"+t+"="+encodeURIComponent(A)}function XI(e,t,A,n){return"string"!=typeof e?"[Sensitive Info]":e.substring(0,t)+n+e.substring(A)}function Pl(e){return"string"==typeof e&&0!==e.length&&"false"!==e&&"null"!==e&&"undefined"!==e}function Co(e){return"".concat("*l*").concat(e)}function bg(e,t){return"STREAM"===t?"".concat("*s*").concat(e):e}function Cj(e){return e.startsWith("*s*")?{channelName:e.slice(3),channelType:"STREAM"}:{channelName:e,channelType:"MESSAGE"}}function aB(e,t,A,n){var r=(e="string"==typeof e?(new TextEncoder).encode(e):e).length+15&-16;for(r>e.byteLength&&(r=new Uint8Array(r-e.byteLength),e=new Uint8Array([].concat(rb(e),rb(r)))),e=jk.util.createBuffer(e),(t=jk.cipher.createCipher("AES-GCM",jk.util.createBuffer(t.slice(0,n)))).start({iv:A}),t.update(e),t.finish(),A=t.output.getBytes()+t.mode.tag.getBytes(),t=[],n=0;n<A.length;n++)t.push(A.charCodeAt(n));return new Uint8Array(t)}function nw(e,t,A,n){var r=jk.util.createBuffer(e),i=jk.util.createBuffer(e);for(e=jk.util.createBuffer(r.getBytes(r.length()).slice(-16)),r=i.getBytes(i.length()).slice(0,r.getBytes().length-16),(t=jk.cipher.createDecipher("AES-GCM",jk.util.createBuffer(t.slice(0,n)))).start({iv:A,tag:e,tagLength:128}),t.update(jk.util.createBuffer(r)),t.finish(),A=t.output.data,t=[],n=0;n<A.length;n++)t.push(A.charCodeAt(n));return new Uint8Array(t)}function $a(e){return{code:e,reason:aX[e]}}function bX(e){e=e.substring(3),e=atob(e);for(var t=new Uint8Array(e.length),A=0;A<e.length;A++)t[A]=e.charCodeAt(A);return e=cX(t),(e=new dX(e.buffer)).getString(),e.getString()}function eX(e){var t=e.areas,A=e.excludedArea;if(1===t.length&&t[0]===Tb.GLOBAL&&A===Tb.CHINA)return Ys([Tb.OVERSEA]);if(t.includes(Tb.GLOBAL)){if(e=ow(pw).filter((function(e){return e!==Tb.GLOBAL&&e!==Tb.OVERSEA})),A in Zs){t=Zs[A];var n=[].concat(rb(null!=t?t:[]),[A]);return Ys(e.filter((function(e){return!n.includes(e)})))}if(aJ(A)){var r=fX(A);return Ys(e.filter((function(e){return e!==A&&e!==r})))}}if(aJ(A)||A in Zs)return Ys(t);throw new Jc("setArea","Invalid excludedArea area config")}function bJ(e){(cJ||e)&&(dJ.abort(),e&&(dJ=new AbortController),cJ=e)}function ke(){ke.init.call(this)}function qw(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+ub(e))}function eJ(e,t,A,n){qw(A);var r=e._events;if(void 0===r)r=e._events=Object.create(null),e._eventsCount=0;else{void 0!==r.newListener&&(e.emit("newListener",t,A.listener?A.listener:A),r=e._events);var i=r[t]}return void 0===i?(r[t]=A,++e._eventsCount):("function"==typeof i?i=r[t]=n?[A,i]:[i,A]:n?i.unshift(A):i.push(A),0<(A=void 0===e._maxListeners?ke.defaultMaxListeners:e._maxListeners)&&i.length>A&&!i.warned&&(i.warned=!0,(A=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",A.emitter=e,A.type=t,A.count=i.length,console&&console.warn&&console.warn(A))),e}function gX(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function fJ(e,t,A){return e={fired:!1,wrapFn:void 0,target:e,type:t,listener:A},(t=gX.bind(e)).listener=A,e.wrapFn=t}function gJ(e,t,A){if(void 0===(e=e._events))return[];if(void 0===(t=e[t]))return[];if("function"==typeof t)return A?[t.listener||t]:[t];if(A)for(A=Array(t.length),e=0;e<A.length;++e)A[e]=t[e].listener||t[e];else A=hJ(t,t.length);return A}function iJ(e){var t=this._events;if(void 0!==t){if("function"==typeof(e=t[e]))return 1;if(void 0!==e)return e.length}return 0}function hJ(e,t){for(var A=Array(t),n=0;n<t;++n)A[n]=e[n];return A}function hX(e,t,A){"function"==typeof e.on&&jJ(e,"error",t,A)}function jJ(e,t,A,n){if("function"==typeof e.on)n.once?e.once(t,A):e.on(t,A);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+ub(e));e.addEventListener(t,(function r(i){n.once&&e.removeEventListener(t,r),A(i)}))}}function kJ(e){var t=[];return function e(A){if(null===A||"object"!==ub(A))return A;if(-1!==t.indexOf(A))return"[Circular]";if(t.push(A),"function"==typeof A.toJSON)try{var n=e(A.toJSON());return t.pop(),n}catch(e){return"[Throws: "+(e?e.message:"?")+"]"}return Array.isArray(A)?(n=A.map(e),t.pop(),n):(n=Object.keys(A).reduce((function(t,n){e:{if(iX.call(A,n))try{var r=A[n];break e}catch(e){r="[Throws: "+(e?e.message:"?")+"]";break e}r=A[n]}return t[n]=e(r),t}),{}),t.pop(),n)}(e)}function jX(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}function rw(e,t,A,n){return Math.round(e/A)+" "+n+(t>=1.5*A?"s":"")}function kX(e){sw=Xb.__global_unique_id__=(Xb.__global_unique_id__||0)+1;var t=new bB({processId:"process-".concat(e),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v2.1.10-0-gf671cb6c-dirty"),uploadRequest:cB,PrivateConfig:{}});return $s.set(e,t),sw}function Bd(e,t,A){void 0===A&&(A=Object.getOwnPropertyDescriptor(e,t));var n=A.value;return A.value=function(){for(var e=this,A=arguments.length,r=Array(A),i=0;i<A;i++)r[i]=arguments[i];this.invokeTracker.apply(this,["%s: ".concat(0<r.length?"%s with args: ".concat(r.map((function(){return"%o"}))):"%s"),this.name,t].concat(rb(r.map(sq))));try{var o=n.apply(this,r)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<r.length?" with args: ".concat(r.map((function(){return"%o"}))):""),t].concat(rb(r.map(sq)))),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var a=Date.now();return pa(O.mark((function A(){var n,i;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,o;case 3:n=A.sent,A.next=12;break;case 6:return A.prev=6,A.t0=A.catch(0),e.logError.apply(e,["".concat(void 0!==A.t0.code?"Error Code ".concat(A.t0.code,": "):"","%s failed").concat(0<r.length?" with args: ".concat(r.map((function(){return"%o"}))):""),t].concat(rb(r.map(sq)))),A.t0.originalError&&e.logError(A.t0.originalError),e.errorTracker(A.t0),A.abrupt("return");case 12:n!==o?void 0===n?e.resultTracker("%s promise resolves after %dms",t,Date.now()-a):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-a,sq(n)):"Object"!==Om(n)||xA(n)?e.resultTracker("%s result is %o",t,sq(n)):e.resultTracker("%s result is %s",t,n.name||(null===(i=n.constructor)||void 0===i?void 0:i.name));case 13:case"end":return A.stop()}}),A,null,[[0,6]])})))(),o},A}function tq(e,t){var A=$a(Aa.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME),n=A.code;if(A=A.reason,!re(e))throw new Jc(t,[A],n);if(0===e.length||16<new Blob([null!=e?e:""]).size)throw new Jc(t,[A],n)}function re(e){return"string"==typeof e&&!e.startsWith("_")&&/^[a-zA-Z0-9 !#\$%&\(\)\+,\-:;<=>\?@\[\]\^_`\{\|\}~]{1,64}$/.test(e)}function dB(e){return e=Number(e),Number.isInteger(e)&&0<=e}function eB(e){try{var t=e.split(".").map((function(e){return Number(e)}))}catch(e){return!1}if(4!==t.length||0===t[0])return!1;for(e=0;e<t.length;e++){var A=t[e];if(!Number.isInteger(A)||0>A||255<A)return!1}return!0}function uq(e,t){var A=t.items,n=t.maxMetaDataCount,r=t.maxMetaValueSize,i=t.majorRevision;if(t=t.type,!Array.isArray(A))throw r=$a(Aa.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM),new Jc(e,[r.reason],r.code);var o=A.map((function(e){return[e.getKey(),e.getValue()]}));if(o.length>n)throw r=$a(Aa.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION),new ri(e,[r.reason],r.code);if(0===o.length)throw r=$a(Aa.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM),new Jc(e,[r.reason],r.code);if("number"!=typeof i||-1>i||0!=i%1)throw r=$a(Aa.RTM_ERROR_STORAGE_INVALID_REVISION),new Jc(e,[r.reason],r.code);if(A.map((function(t){if(-1>(null==t?void 0:t.getRevision()))throw t=$a(Aa.RTM_ERROR_STORAGE_INVALID_REVISION),new Jc(e,[t.reason],t.code)})),("Update"===t||"Delete"===t)&&0===i)throw r=$a(Aa.RTM_ERROR_STORAGE_INVALID_REVISION),new Jc(e,[r.reason],r.code);if(("Update"===t||"Delete"===t)&&A.map((function(e){return e.getRevision()})).includes(0))throw r=$a(Aa.RTM_ERROR_STORAGE_INVALID_REVISION),new Jc(e,[r.reason],r.code);for(A=0;A<o.length;A++){n=(i=Lb(o[A],2))[0],i=i[1];var a=new Blob([null!=n?n:""]).size,s=new Blob([null!=i?i:""]).size;if(0===a||"_"===(null==n?void 0:n[0])||"string"!=typeof n)throw r=$a(Aa.RTM_ERROR_STORAGE_INVALID_KEY),new Jc(e,[r.reason],r.code);if(32<a)throw r=$a(Aa.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW),new Jc(e,[r.reason],r.code);if("Delete"!==t&&"string"!=typeof i)throw r=$a(Aa.RTM_ERROR_STORAGE_INVALID_VALUE),new Jc(e,[r.reason],r.code);if("Delete"!==t&&s>r)throw r=$a(Aa.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW),new ri(e,[r.reason],r.code)}}function vq(e,t){if(16384<new Blob([null!=t?t:""]).size)throw t=$a(Aa.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW),new ri(e,[t.reason],t.code)}function lJ(e,t){if(-1>t)throw t=$a(Aa.RTM_ERROR_STORAGE_INVALID_REVISION),new Jc(e,[t.reason],t.code);if(0!=t%1)throw t=$a(Aa.RTM_ERROR_STORAGE_INVALID_REVISION),new Jc(e,[t.reason],t.code);if(0===t)throw t=$a(Aa.RTM_ERROR_STORAGE_INVALID_REVISION),new Jc(e,[t.reason],t.code)}function lX(e,t){for(var A in e){var n,r=new Blob([null!==(n=e[A])&&void 0!==n?n:""]).size;if(mJ(A,t),16384<r)throw e=$a(Aa.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW),new ri(t,[e.reason],e.code)}}function mJ(e,t){var A=new Blob([null!=e?e:""]).size;if(32<A)throw e=$a(Aa.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW),new Jc(t,[e.reason],e.code);if(0===A||"string"!=typeof e||!/^[abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 !*#$%&()+,-:;<=>?@\[\]\^_`{\|}~\u4e00-\u9fff]+$/.test(e)||"_"===(null==e?void 0:e[0]))throw e=$a(Aa.RTM_ERROR_PRESENCE_INVALID_STATE_KEY),new Jc(t,[e.reason],e.code)}function at(e){return 0!==e.length&&"_"!==e[0]}function mX(e,t){if("string"==typeof e&&!e)throw e=$a(Aa.RTM_ERROR_CHANNEL_INVALID_MESSAGE),new Jc(t,[e.reason],e.code);if(32768<("string"==typeof e?new Blob([null!=e?e:""]).size:e.byteLength))throw e=$a(Aa.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION),new Jc(t,[e.reason],e.code)}function nJ(e,t){if(32<(e=new Blob([e])).size)throw e=$a(Aa.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW),new Jc(t,[e.reason],e.code);if(0===e.size)throw e=$a(Aa.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE),new Jc(t,[e.reason],e.code)}function fB(e,t,A,n){function r(){var e=$a(Aa.RTM_ERROR_INCONSISTENT_APPID);throw new Jc(A,[e.reason],e.code)}var i=null==e?void 0:e.slice(0,3);try{var o="006"===i?e.slice(3,35):"007"!==i||bX(e);"string"==typeof o&&o!==t&&(n("appId from token is '".concat(o,"', not match the appId of config.")),r())}catch(e){n(e),r()}}function si(e,t){if("MESSAGE"!==t&&"STREAM"!==t)throw t=$a(Aa.RTM_ERROR_INVALID_CHANNEL_TYPE),new Jc(e,[t.reason],t.code)}function gB(e,t,A,n){return new(A||(A=Promise))((function(r,i){function o(e){try{s(n.next(e))}catch(e){i(e)}}function a(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):function(e){return e instanceof A?e:new A((function(t){t(e)}))}(e.value).then(o,a)}s((n=n.apply(e,t||[])).next())}))}function hB(e,t){function A(A){return function(o){return function(A){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&A[0]?r.return:A[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,A[1])).done)return i;switch(r=0,i&&(A=[2&A[0],i.value]),A[0]){case 0:case 1:i=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,r=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=0<i.length&&i[i.length-1])||6!==A[0]&&2!==A[0])){a=0;continue}if(3===A[0]&&(!i||A[1]>i[0]&&A[1]<i[3]))a.label=A[1];else if(6===A[0]&&a.label<i[1])a.label=i[1],i=A;else{if(!(i&&a.label<i[2])){i[2]&&a.ops.pop(),a.trys.pop();continue}a.label=i[2],a.ops.push(A)}}A=t.call(e,a)}catch(e){A=[6,e],r=0}finally{n=i=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,o])}}var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}function tw(e,t){var A="function"==typeof Symbol&&e[Symbol.iterator];if(!A)return e;e=A.call(e);var n,r=[];try{for(;(void 0===t||0<t--)&&!(n=e.next()).done;)r.push(n.value)}catch(e){var i={error:e}}finally{try{n&&!n.done&&(A=e.return)&&A.call(e)}finally{if(i)throw i.error}}return r}function Do(e,t,A){if(A||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function uw(){this._listeners={}}function oJ(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,A){i[0]=e,t[A]=o[0],t[A+1]=o[1],t[A+2]=o[2],t[A+3]=o[3]}function A(e,t,A){i[0]=e,t[A]=o[3],t[A+1]=o[2],t[A+2]=o[1],t[A+3]=o[0]}function n(e,t){return o[0]=e[t],o[1]=e[t+1],o[2]=e[t+2],o[3]=e[t+3],i[0]}function r(e,t){return o[3]=e[t],o[2]=e[t+1],o[1]=e[t+2],o[0]=e[t+3],i[0]}var i=new Float32Array([-0]),o=new Uint8Array(i.buffer),a=128===o[3];e.writeFloatLE=a?t:A,e.writeFloatBE=a?A:t,e.readFloatLE=a?n:r,e.readFloatBE=a?r:n}():function(){function t(e,t,A,n){var r=0>t?1:0;if(r&&(t=-t),0===t)e(0<1/t?0:2147483648,A,n);else if(isNaN(t))e(2143289344,A,n);else if(34028234663852886e22<t)e((r<<31|2139095040)>>>0,A,n);else if(11754943508222875e-54>t)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,A,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((r<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,A,n)}}function A(e,t,A){return A=e(t,A),e=2*(A>>31)+1,t=A>>>23&255,A&=8388607,255===t?A?NaN:1/0*e:0===t?1401298464324817e-60*e*A:e*Math.pow(2,t-150)*(A+8388608)}e.writeFloatLE=t.bind(null,pJ),e.writeFloatBE=t.bind(null,qJ),e.readFloatLE=A.bind(null,rJ),e.readFloatBE=A.bind(null,sJ)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,A){i[0]=e,t[A]=o[0],t[A+1]=o[1],t[A+2]=o[2],t[A+3]=o[3],t[A+4]=o[4],t[A+5]=o[5],t[A+6]=o[6],t[A+7]=o[7]}function A(e,t,A){i[0]=e,t[A]=o[7],t[A+1]=o[6],t[A+2]=o[5],t[A+3]=o[4],t[A+4]=o[3],t[A+5]=o[2],t[A+6]=o[1],t[A+7]=o[0]}function n(e,t){return o[0]=e[t],o[1]=e[t+1],o[2]=e[t+2],o[3]=e[t+3],o[4]=e[t+4],o[5]=e[t+5],o[6]=e[t+6],o[7]=e[t+7],i[0]}function r(e,t){return o[7]=e[t],o[6]=e[t+1],o[5]=e[t+2],o[4]=e[t+3],o[3]=e[t+4],o[2]=e[t+5],o[1]=e[t+6],o[0]=e[t+7],i[0]}var i=new Float64Array([-0]),o=new Uint8Array(i.buffer),a=128===o[7];e.writeDoubleLE=a?t:A,e.writeDoubleBE=a?A:t,e.readDoubleLE=a?n:r,e.readDoubleBE=a?r:n}():function(){function t(e,t,A,n,r,i){var o=0>n?1:0;if(o&&(n=-n),0===n)e(0,r,i+t),e(0<1/n?0:2147483648,r,i+A);else if(isNaN(n))e(0,r,i+t),e(2146959360,r,i+A);else if(17976931348623157e292<n)e(0,r,i+t),e((o<<31|2146435072)>>>0,r,i+A);else if(22250738585072014e-324>n)e((n/=5e-324)>>>0,r,i+t),e((o<<31|n/4294967296)>>>0,r,i+A);else{var a=Math.floor(Math.log(n)/Math.LN2);1024===a&&(a=1023),e(4503599627370496*(n*=Math.pow(2,-a))>>>0,r,i+t),e((o<<31|a+1023<<20|1048576*n&1048575)>>>0,r,i+A)}}function A(e,t,A,n,r){return t=e(n,r+t),n=e(n,r+A),e=2*(n>>31)+1,t=4294967296*(1048575&n)+t,2047===(A=n>>>20&2047)?t?NaN:1/0*e:0===A?5e-324*e*t:e*Math.pow(2,A-1075)*(t+4503599627370496)}e.writeDoubleLE=t.bind(null,pJ,0,4),e.writeDoubleBE=t.bind(null,qJ,4,0),e.readDoubleLE=A.bind(null,rJ,0,4),e.readDoubleBE=A.bind(null,sJ,4,0)}(),e}function pJ(e,t,A){t[A]=255&e,t[A+1]=e>>>8&255,t[A+2]=e>>>16&255,t[A+3]=e>>>24}function qJ(e,t,A){t[A]=e>>>24,t[A+1]=e>>>16&255,t[A+2]=e>>>8&255,t[A+3]=255&e}function rJ(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function sJ(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function Eg(e,t){this.lo=e>>>0,this.hi=t>>>0}function bt(e,t,A){this.fn=e,this.len=t,this.next=void 0,this.val=A}function iB(){}function nX(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function he(){this.len=0,this.tail=this.head=new bt(iB,0,0),this.states=null}function jB(e,t,A){t[A]=255&e}function kB(e,t){this.len=e,this.next=void 0,this.val=t}function lB(e,t,A){for(;e.hi;)t[A++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[A++]=127&e.lo|128,e.lo>>>=7;t[A++]=e.lo}function mB(e,t,A){t[A]=255&e,t[A+1]=e>>>8&255,t[A+2]=e>>>16&255,t[A+3]=e>>>24}function Uk(){nB.call(this)}function oX(e,t,A){40>e.length?Cd.utf8.write(e,t,A):t.utf8Write?t.utf8Write(e,A):t.write(e,A)}function kk(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Rf(e){this.buf=e,this.pos=0,this.len=e.length}function oB(){var e=new tJ(0,0),t=0;if(!(4<this.len-this.pos)){for(;3>t;++t){if(this.pos>=this.len)throw kk(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;4>t;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return e;if(t=0,4<this.len-this.pos){for(;5>t;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}else for(;5>t;++t){if(this.pos>=this.len)throw kk(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}throw Error("invalid varint encoding")}function vw(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function uJ(){if(this.pos+8>this.len)throw kk(this,8);return new tJ(vw(this.buf,this.pos+=4),vw(this.buf,this.pos+=4))}function Eo(e){pB.call(this,e)}function ct(e,t,A){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");Cd.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!A}function Fo(e){e||(e={});var t=e.ua;if(t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!=typeof t)return!1;var A=pX.test(t)&&!qX.test(t)||!!e.tablet&&rX.test(t);return!A&&e.tablet&&e.featureDetect&&navigator&&1<navigator.maxTouchPoints&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(A=!0),A}function vJ(e,t){var A,n,r,i;return O.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:A=sX(e)([wJ,wJ,function(e,t){return t}])[2],n=0;case 2:if(!(n<t.length)){o.next=17;break}if(r=t[n],!((i=A(qB,r))instanceof rB)){o.next=11;break}if((i=tX(i.deref()))===qB){o.next=10;break}return o.next=10,i;case 10:return o.abrupt("return");case 11:if(i===qB){o.next=14;break}return o.next=14,i;case 14:n++,o.next=2;break;case 17:case"end":return o.stop()}}),uX)}function ww(e,t){return null!=t&&"function"==typeof t[Symbol.iterator]?vJ(ww(e),t):function(t){var A=t[2];return vX(t,(function(t,n){return A(t,e(n))}))}}function xJ(e){return e.reduce((function(e,t){return e.concat(t instanceof xw.UnsubscriptionError?t.errors:t)}),[])}function yJ(e){return 0===e.length?wq.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}function zJ(e){if(e||(e=lk.config.Promise||Promise),!e)throw Error("no Promise impl found");return e}function Df(e,t,A){return void 0===A&&(A=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(Df((function(A,n){return sB.from(e(A,n)).pipe(tB.map((function(e,r){return t(A,e,n,r)})))}),A))}:("number"==typeof t&&(A=t),function(t){return t.lift(new AJ(e,A))})}function Vk(e,t,A,n){return dt.isFunction(A)&&(n=A,A=void 0),n?Vk(e,t,A).pipe(tB.map((function(e){return et.isArray(e)?n.apply(void 0,e):n(e)}))):new Kf.Observable((function(n){BJ(e,t,(function(e){1<arguments.length?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,A)}))}function BJ(e,t,A,n,r){if(e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){e.addEventListener(t,A,r);var i=function(){return e.removeEventListener(t,A,r)}}else if(e&&"function"==typeof e.on&&"function"==typeof e.off)e.on(t,A),i=function(){return e.off(t,A)};else if(e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener)e.addListener(t,A),i=function(){return e.removeListener(t,A)};else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var o=0,a=e.length;o<a;o++)BJ(e[o],t,A,n,r)}n.add(i)}function wX(e){var t=e.subscriber,A=e.counter;e=e.period,t.next(A),this.schedule({subscriber:t,counter:A+1,period:e},e)}function xX(e){e.subscriber.error(e.error)}function yX(e){var t=e.index,A=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===A)return n.complete();e.index=t+1,this.schedule(e,A)}}function zX(){return new yw.Subject}function AX(e){var t,A,n=e.bufferSize,r=void 0===n?Number.POSITIVE_INFINITY:n,i=void 0===(n=e.windowTime)?Number.POSITIVE_INFINITY:n,o=e.refCount,a=e.scheduler,s=0,c=!1,u=!1;return function(e){if(s++,!t||c){c=!1;var n=(t=new BX.ReplaySubject(r,i,a)).subscribe(this);A=e.subscribe({next:function(e){t.next(e)},error:function(e){c=!0,t.error(e)},complete:function(){u=!0,A=void 0,t.complete()}}),u&&(A=void 0)}else n=t.subscribe(this);this.add((function(){s--,n.unsubscribe(),n=void 0,A&&!u&&o&&0===s&&(A.unsubscribe(),t=A=void 0)}))}}function Sf(e,t){return"function"==typeof t?function(A){return A.pipe(Sf((function(A,n){return sB.from(e(A,n)).pipe(tB.map((function(e,r){return t(A,e,n,r)})))})))}:function(t){return t.lift(new CX(e))}}function DX(){return new CJ.EmptyError}function DJ(e){var t=e.subscriber,A=e.context;A&&t.closeContext(A),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function EX(e){var t=e.bufferCreationInterval,A=e.bufferTimeSpan,n=e.subscriber,r=e.scheduler,i=n.openContext();n.closed||(n.add(i.closeAction=r.schedule(EJ,A,{subscriber:n,context:i})),this.schedule(e,t))}function EJ(e){e.subscriber.closeContext(e.context)}function FX(e){e.subscriber.clearThrottle()}function Gd(e,t){function A(){this.constructor=e}uB(e,t),e.prototype=null===t?Object.create(t):(A.prototype=t.prototype,new A)}function ft(e){return"function"==typeof e}function xq(e){setTimeout((function(){throw e}),0)}function vB(e){return null!==e&&"object"===ub(e)}function FJ(e){return e.reduce((function(e,t){return e.concat(t instanceof gt?t.errors:t)}),[])}function wB(e){for(;e;){var t=e.destination,A=e.isStopped;if(e.closed||A)return!1;e=t&&t instanceof Fg?t:null}return!0}function ht(e){return e}function GJ(e){return 0===e.length?ht:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}function HJ(e){if(e||(e=Dj.Promise||Promise),!e)throw Error("no Promise impl found");return e}function GX(){return function(e){return e.lift(new HX(e))}}function xB(e){return e?IX(e):yq}function IX(e){return new Ld((function(t){return e.schedule((function(){return t.complete()}))}))}function Rm(e){return e&&"function"==typeof e.schedule}function yB(e,t){return new Ld((function(A){var n=new qg,r=0;return n.add(t.schedule((function(){r===e.length?A.complete():(A.next(e[r++]),A.closed||n.add(this.schedule()))}))),n}))}function it(e,t){return t?yB(e,t):new Ld(IJ(e))}function zw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rm(t=e[e.length-1])?(e.pop(),yB(e,t)):it(e)}function JJ(e,t){return new Ld(t?function(A){return t.schedule(JX,0,{error:e,subscriber:A})}:function(t){return t.error(e)})}function JX(e){e.subscriber.error(e.error)}function KJ(e){return e in zB&&(delete zB[e],!0)}function LJ(){}function Go(e,t){return function(A){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return A.lift(new KX(e,t))}}function MJ(e,t,A){if(t){if(!Rm(t))return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return MJ(e,A).apply(void 0,n).pipe(Go((function(e){return Ej(e)?t.apply(void 0,e):t(e)})))};A=t}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,i=this,o={context:i,subject:r,callbackFunc:e,scheduler:A};return new Ld((function(n){if(A)return A.schedule(LX,0,{args:t,subscriber:n,params:o});if(!r){r=new jt;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.next(1>=e.length?e[0]:e),r.complete()}]))}catch(e){wB(r)?r.error(e):console.warn(e)}}return r.subscribe(n)}))}}function LX(e){var t=this,A=e.args,n=e.subscriber,r=e.params;e=r.callbackFunc;var i=r.context,o=r.scheduler,a=r.subject;if(!a){a=r.subject=new jt,r=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];t.add(o.schedule(MX,0,{value:1>=e.length?e[0]:e,subject:a}))};try{e.apply(i,A.concat([r]))}catch(e){a.error(e)}}this.add(a.subscribe(n))}function MX(e){var t=e.subject;t.next(e.value),t.complete()}function NJ(e,t,A){if(t){if(!Rm(t))return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return NJ(e,A).apply(void 0,n).pipe(Go((function(e){return Ej(e)?t.apply(void 0,e):t(e)})))};A=t}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={subject:void 0,args:t,callbackFunc:e,scheduler:A,context:this};return new Ld((function(n){var i=r.context,o=r.subject;if(A)return A.schedule(NX,0,{params:r,subscriber:n,context:i});if(!o){o=r.subject=new jt;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(t=e.shift())?o.error(t):(o.next(1>=e.length?e[0]:e),o.complete())}]))}catch(e){wB(o)?o.error(e):console.warn(e)}}return o.subscribe(n)}))}}function NX(e){var t=this,A=e.params,n=e.subscriber;e=e.context;var r=A.callbackFunc,i=A.args,o=A.scheduler,a=A.subject;if(!a){a=A.subject=new jt,A=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];(A=e.shift())?t.add(o.schedule(OJ,0,{err:A,subject:a})):t.add(o.schedule(OX,0,{value:1>=e.length?e[0]:e,subject:a}))};try{r.apply(e,i.concat([A]))}catch(e){this.add(o.schedule(OJ,0,{err:e,subject:a}))}}this.add(a.subscribe(n))}function OX(e){var t=e.subject;t.next(e.value),t.complete()}function OJ(e){e.subject.error(e.err)}function PJ(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}function QJ(e,t,A,n,r){if(void 0===r&&(r=new PX(e,A,n)),!r.closed)return t instanceof Ld?t.subscribe(r):kt(t)(r)}function QX(e,t){return new Ld((function(A){var n=new qg;return n.add(t.schedule((function(){var r=e[zq]();n.add(r.subscribe({next:function(e){n.add(t.schedule((function(){return A.next(e)})))},error:function(e){n.add(t.schedule((function(){return A.error(e)})))},complete:function(){n.add(t.schedule((function(){return A.complete()})))}}))}))),n}))}function RX(e,t){return new Ld((function(A){var n=new qg;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){A.next(e),n.add(t.schedule((function(){return A.complete()})))})))}),(function(e){n.add(t.schedule((function(){return A.error(e)})))}))}))),n}))}function SX(e,t){if(!e)throw Error("Iterable cannot be null");return new Ld((function(A){var n,r=new qg;return r.add((function(){n&&"function"==typeof n.return&&n.return()})),r.add(t.schedule((function(){n=e[Sm](),r.add(t.schedule((function(){if(!A.closed){try{var e=n.next(),t=e.value,r=e.done}catch(e){return void A.error(e)}r?A.complete():(A.next(t),this.schedule())}})))}))),r}))}function RJ(e,t){if(null!=e){if(e&&"function"==typeof e[zq])return QX(e,t);if(PJ(e))return RX(e,t);if(SJ(e))return yB(e,t);if(e&&"function"==typeof e[Sm]||"string"==typeof e)return SX(e,t)}throw new TypeError((null!==e&&ub(e)||e)+" is not observable")}function Aq(e,t){return t?RJ(e,t):e instanceof Ld?e:new Ld(kt(e))}function TJ(e,t){if(!t.closed){if(e instanceof Ld)return e.subscribe(t);try{var A=kt(e)(t)}catch(e){t.error(e)}return A}}function AB(e,t,A){return void 0===A&&(A=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(AB((function(A,n){return Aq(e(A,n)).pipe(Go((function(e,r){return t(A,e,n,r)})))}),A))}:("number"==typeof t&&(A=t),function(t){return t.lift(new TX(e,A))})}function UJ(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),AB(ht,e)}function VJ(e){return new Ld((function(t){try{var A=e()}catch(e){return void t.error(e)}return(A?Aq(A):xB()).subscribe(t)}))}function Aw(e,t){return new Ld((function(A){var n=e.length;if(0===n)A.complete();else for(var r=Array(n),i=0,o=0,a=function(a){var s=Aq(e[a]),c=!1;A.add(s.subscribe({next:function(e){c||(c=!0,o++),r[a]=e},error:function(e){return A.error(e)},complete:function(){++i!==n&&c||(o===n&&A.next(t?t.reduce((function(e,t,A){return e[t]=r[A],e}),{}):r),A.complete())}}))},s=0;s<n;s++)a(s)}))}function WJ(e,t,A,n){return ft(A)&&(n=A,A=void 0),n?WJ(e,t,A).pipe(Go((function(e){return Ej(e)?n.apply(void 0,e):n(e)}))):new Ld((function(n){XJ(e,t,(function(e){1<arguments.length?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,A)}))}function XJ(e,t,A,n,r){if(e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){e.addEventListener(t,A,r);var i=function(){return e.removeEventListener(t,A,r)}}else if(e&&"function"==typeof e.on&&"function"==typeof e.off)e.on(t,A),i=function(){return e.off(t,A)};else if(e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener)e.addListener(t,A),i=function(){return e.removeListener(t,A)};else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var o=0,a=e.length;o<a;o++)XJ(e[o],t,A,n,r)}n.add(i)}function YJ(e,t,A){return A?YJ(e,t).pipe(Go((function(e){return Ej(e)?A.apply(void 0,e):A(e)}))):new Ld((function(A){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A.next(1===e.length?e[0]:e)};try{var r=e(n)}catch(e){return void A.error(e)}if(ft(t))return function(){return t(n,r)}}))}function UX(e){var t=e.subscriber,A=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(A){var n=void 0;try{n=A(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}try{var r=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(r),!t.closed))return this.schedule(e)}}function BB(e){return!Ej(e)&&0<=e-parseFloat(e)+1}function VX(e){var t=e.subscriber,A=e.counter;e=e.period,t.next(A),this.schedule({subscriber:t,counter:A+1,period:e},e)}function CB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return yq;var A=e[0],n=e.slice(1);return 1===e.length&&Ej(A)?CB.apply(void 0,A):new Ld((function(e){var t=function(){return e.add(CB.apply(void 0,n).subscribe(e))};return Aq(A).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function WX(e){var t=e.keys,A=e.index,n=e.subscriber,r=e.subscription;if(e=e.obj,!n.closed)if(A<t.length){var i=t[A];n.next([i,e[i]]),r.add(this.schedule({keys:t,index:A+1,subscriber:n,subscription:r,obj:e}))}else n.complete()}function XX(e,t){function A(){return!A.pred.apply(A.thisArg,arguments)}return A.pred=e,A.thisArg=t,A}function ZJ(e,t){return function(A){return A.lift(new YX(e,t))}}function ZX(e){var t=e.start,A=e.index,n=e.subscriber;A>=e.count?n.complete():(n.next(t),n.closed||(e.index=A+1,e.start=t+1,this.schedule(e)))}function $X(e){var t=e.index,A=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===A)return n.complete();e.index=t+1,this.schedule(e,A)}}function aY(e,t){return AB(e,t,1)}function bY(e,t){void 0===t&&(t=lt);var A=e instanceof Date&&!isNaN(+e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new cY(A,t))}}function dY(e,t){var A=!1;return 2<=arguments.length&&(A=!0),function(n){return n.lift(new eY(e,t,A))}}function fY(e){var t=1,A=DB;1==(1>=arguments.length?0:arguments.length-1)?"number"==typeof(1>=arguments.length?void 0:arguments[1])?t=1>=arguments.length?void 0:arguments[1]:A=1>=arguments.length?void 0:arguments[1]:2==(1>=arguments.length?0:arguments.length-1)&&(t=1>=arguments.length?void 0:arguments[1],A=2>=arguments.length?void 0:arguments[2]);var n=t||1;return function(t){return t.pipe(dY((function(t,r){var i=A.now(),o=i-e;if((t=t.filter((function(e){return e.until>o}))).length>=n){var a=t[t.length-1],s=t[0].until+e*Math.floor(t.length/n);t.push({delay:a.until<i?s-i:s-a.until,until:s,value:r})}else t.push({delay:0,until:i,value:r});return t}),[]),Go((function(e){return e[e.length-1]})),aY((function(e){var t=zw(e.value);return e.delay?t.pipe(bY(e.delay,A)):t})))}}function $J(e,t){var A=(t=void 0===t?{protocols:aK,makeWebSocket:bK}:t).protocols,n=void 0===A?aK:A,r=void 0===(t=t.makeWebSocket)?bK:t;return new Ld((function(t){var A,i=new Bq,o=r(e,n),a=!1,s=!1,c=!1,u=function(e){if(A)throw a=!0,e=Error("Web socket message factory function called more than once"),t.error(e),e;return A=e.subscribe((function(e){o.send(e)})),i};return o.onopen=function(){c=!0,s?(a=!0,o.close()):t.next(u)},o.onmessage=function(e){i.next(e.data)},o.onerror=function(e){a=!0,t.error(Error(e.message))},o.onclose=function(e){a||(a=!0,s?(t.complete(),i.complete()):t.error(Error(1e3===e.code?"Normal closure":e.reason)))},function(){s=!0,A&&A.unsubscribe(),a||(a=!0,c&&o.close())}}))}function gY(e,t){var A="".concat(e,"Uri");if("number"!=typeof(A=EB[A])||0===A)throw new TypeError("Got Unknown URI Name");return t=new(e=cK[e])(t),t=e.encode(t).finish(),new hY({uri:A,data:t})}function FB(e,t){var A=Pl(Qc("EDGE_DOMAIN_TLD"));return"".concat(e.split(".").join("-"),".edge.").concat(A?Qc("EDGE_DOMAIN_TLD"):t?"sd-rtn.com":"agora.io")}function iY(e,t){return setInterval((function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return A=6e4<Date.now()-A,GB(e,t,A)}),1e4)}function jY(e,t){return HB.apply(this,arguments)}function HB(){return(HB=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=pa(O.mark((function e(r){var i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(3<(o=1<s.length&&void 0!==s[1]?s[1]:0))){e.next=3;break}return e.abrupt("return");case 3:return a=A?"https://".concat(null!==(i=null==cc?void 0:cc.PROXY_NGINX[0])&&void 0!==i?i:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(r,"&p=443&d=events/proto-raws"):"https://".concat(Qc("USE_STAGING_REPORT_DOMAIN")?"183-131-160-209.edge.staging-1-aws.myagoralab.com":r,"/events/proto-raws"),e.next=6,Bo(a,{body:t,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch((function(e){return n(r,o+1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,n((null==cc?void 0:cc.EVENT_REPORT_DOMAIN[0])||Pl(null)&&null||"webcollector-rtm.agora.io");case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),e.next=10,n(cc&&IB(1<(null==cc?void 0:cc.EVENT_REPORT_DOMAIN.length)?null==cc?void 0:cc.EVENT_REPORT_DOMAIN.slice(1):null==cc?void 0:cc.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function GB(e,t){var A=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!1===navigator.onLine)return 0;var n="".concat("events-").concat(e);Tm.has(n)||Tm.set(n,[]);var r=Tm.get(n),i=Date.now();if(0===r.length||20>r.length&&!A)return i;for(;0<r.length;){A=r.splice(0,20<r.length?20:r.length),Tm.set(n,r);var o=Math.ceil(Date.now()/1e3);jY(A=dK.encode({vid:Xa.fromNumber(Number(e)),sendTs:Xa.fromNumber(o),payloads:A}).finish(),t)}return i}function De(e,t,A,n){return JB.apply(this,arguments)}function JB(){return(JB=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=eK[t].encode(A).finish(),o=fK[t],a={id:Xa.fromNumber(o),msg:i};var u=s="".concat("events-").concat(r);Tm.has(u)||Tm.set(u,[]),(c=Tm.get(s)).push(a),Tm.set(s,c),20<=c.length&&GB(r,n,!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cq(e,t,A){return KB.apply(this,arguments)}function KB(){return(KB=pa(O.mark((function e(t,A,n){var r,i,o,a=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=3<a.length&&void 0!==a[3]&&a[3],i=eK[t].encode(A).finish(),o=function(){var e=pa(O.mark((function e(A){var a,s,c,u=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(3<(s=1<u.length&&void 0!==u[1]?u[1]:0))){e.next=3;break}return e.abrupt("return");case 3:if(c=Tk(c=n?"https://".concat(null!==(a=null==cc?void 0:cc.PROXY_NGINX[0])&&void 0!==a?a:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(A,"&p=443&d=events/proto-raw"):"https://".concat(Qc("USE_STAGING_REPORT_DOMAIN")?"183-131-160-209.edge.staging-1-aws.myagoralab.com":A,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),c=Tk(c,"id",fK[t].toString()),!r){e.next=9;break}return e.next=9,WW(1e4);case 9:return e.next=11,Bo(c,{body:i,timeout:5e3,headers:{"Content-Type":"application/octet-stream"}}).catch((function(e){return o(A,s+1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=3,e.next=6,o((null==cc?void 0:cc.EVENT_REPORT_DOMAIN[0])||Pl(null)&&null||"webcollector-rtm.agora.io");case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,o(cc&&IB(1<(null==cc?void 0:cc.EVENT_REPORT_DOMAIN.length)?null==cc?void 0:cc.EVENT_REPORT_DOMAIN.slice(1):null==cc?void 0:cc.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function lf(e){return void 0===e?Xa.fromNumber(0):Xa.fromNumber(Date.now()-e)}function gK(e,t){var A=this,n=e;if(4<e.toString().length){var r=e.toString().padStart(8,"0");if(e=parseInt(r.slice(0,4),10),r=parseInt(r.slice(4,8),10),201===e)n=r;else if(101===e&&!kY.includes(r))return n=$a(Aa.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES),Rc(new Db(this.operation,[n.reason],n.code))}if(e=n.toString(),!Object.keys(hK).includes(e))return e=(t=$a(Aa.RTM_ERROR_LOGIN_REJECTED)).code,(t=new Db(this.operation,[t.reason+"apCode is ".concat(n,", unexpected code.")],e)).serverCode=n,Rc(t);switch(n=hK[e],console.warn("%s: %s's error type is %s",this.name,t,n),n){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":case"DYNAMIC_KEY_NOT_ENABLED":return t=(e=$a(Aa.RTM_ERROR_INVALID_APP_ID)).code,(n=new Bw(this.operation,[e.reason+" detail: ".concat(n,", ").concat(mt[n])],t)).serverCode=t,Rc(n);case"NO_AUTHORIZED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":case"INVALID_USER_ID":case"INVALID_TOKEN_UID":return t=(e=$a(Aa.RTM_ERROR_INVALID_TOKEN)).code,(n=new Bw(this.operation,[e.reason+" detail: ".concat(n,", ").concat(mt[n])],t)).serverCode=t,Rc(n);case"TOKEN_TIMEOUT":case"TOKEN_EXPIRED":return t=(e=$a(Aa.RTM_ERROR_TOKEN_EXPIRED)).code,(n=new Bw(this.operation,[e.reason+" detail: ".concat(n,", ").concat(mt[n])],t)).serverCode=t,Rc(n);case"CANNOT_MEET_AREA_DEMAND":(e=lY(t)).forEach((function(e){return A.failedAreas.add(e)})),r=void 0===cc?2:cc.CODES.size;var i=$a(Aa.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES);return t=i.code,i=i.reason,this.failedAreas.size===r?((n=new Jc(this.operation,[i+" detail: ".concat(n,", ").concat(mt[n])],t)).serverCode=t,Rc(n)):Rc(new Db(this.operation,[i+"".concat(this.name," ").concat(e.join(", ")," cannot meet requirement")],t));case"INIT_APPID_MISMATCH":return n=(t=$a(Aa.RTM_ERROR_INCONSISTENT_APPID)).code,(t=new Db(this.operation,[t.reason],n)).serverCode=n,Rc(t);default:return t=(e=$a(Aa.RTM_ERROR_LOGIN_REJECTED)).code,(n=new Db(this.operation,[e.reason+" detail: ".concat(n,", ").concat(mt[n])],t)).serverCode=t,Rc(n)}}function Cw(e,t){return Xa.fromValue(e).eq(t)}function Dw(e,t){var A=void 0===t?e.val:t,n=e.isBoolean;t=e.isNumber;var r=e.oneof,i=e.len;if(2!==[n,t,r].filter((function(e){return!e})).length)throw new TypeError("invalid field type");if(void 0!==A&&(e=!1,void 0!==r&&(r=LB(r),mY(r,Cw).length===r.length&&void 0!==nY(r,(function(e){return Cw(A,e)}))&&(e=!0)),n=void 0!==n&&(0===A||1===A)&&1===i,t=void 0!==t&&A.toString(2).length<=i,!(e||n||t)))throw Error("invalid field value")}function yh(e){return e===Yc.ErrOK?$a(Aa.RTM_ERROR_OK):e===Yc.ErrTimeout?$a(Aa.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT):e===Yc.ErrNetwork?$a(Aa.RTM_ERROR_PRESENCE_OPERATION_FAILED):$a(e)}function Wk(e){switch(e){case ch.kMetadataOk:return $a(Aa.RTM_ERROR_OK);case ch.kArgumentError:return $a(Aa.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case ch.kOutdateRevision:return $a(Aa.RTM_ERROR_STORAGE_OUTDATED_REVISION);case ch.kTimeOutError:return $a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);default:return $a(Aa.RTM_ERROR_STORAGE_OPERATION_FAILED)}}function MB(e){switch(e){case ch.kMetadataOk:case ch.kDuplicatedOperation:return $a(Aa.RTM_ERROR_OK);case ch.kArgumentError:return $a(Aa.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case ch.kTimeOutError:return $a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);default:return $a(e)}}function Ql(e){switch(e){case ch.kMetadataOk:case ch.kDuplicatedOperation:return $a(Aa.RTM_ERROR_OK);case ch.kOutdateRevision:return $a(Aa.RTM_ERROR_LOCK_ALREADY_EXIST);case ch.kLockAcquireFailed:return $a(Aa.RTM_ERROR_LOCK_ACQUIRE_FAILED);case ch.kNoLock:return $a(Aa.RTM_ERROR_LOCK_NOT_EXIST);default:return $a(Aa.RTM_ERROR_LOCK_OPERATION_FAILED)}}function Dq(e){switch(e){case Gg.NOT_SUPPORTED:case Gg.UNEXPECTED_RESPONSE:return $a(Aa.RTM_ERROR_CHANNEL_NOT_AVAILABLE);case Gg.INIT_DATACHANNEL_TIMEOUT:case Gg.DATACHANNEL_CONNECTION_TIMEOUT:case Gg.DATACHANNEL_FAILED:return $a(Aa.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED);case Gg.CAN_NOT_GET_GATEWAY_SERVER:case Gg.VOID_GATEWAY_ADDRESS:case Gg.MULTI_UNILBS_RESPONSE_ERROR:case Gg.INIT_WEBSOCKET_TIMEOUT:case Gg.UID_CONFLICT:return $a(Aa.RTM_ERROR_CHANNEL_JOIN_FAILED);default:return{code:e,reason:""}}}function oY(e,t){do{2147483647==nt?nt=0:nt++}while(Eq.hasOwnProperty(nt));var A=nt;return Eq[A]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},NB.postMessage({name:"setInterval",fakeId:A,time:t}),A}function Fq(e,t){t=na({},Rl.STATE_REVISION,void 0!==t&&0<=t?t:void 0);for(var A=0;A<e.length;A++){var n=e[A];t[n.getKey()]=n.getValue(),t["".concat(Rl.STATE_REVISION_KEY_PREFIX).concat(n.getKey())]=0<=n.getRevision()||-2===n.getRevision()?n.getRevision():void 0}return pY(t,qY(Ho(rY)))}function OB(e){var t=JSON.parse(e);e={majorRevision:t[Rl.STATE_REVISION],items:[]};var A=PB(t,Rl.STATE_REVISION);return t=Object.keys(A).filter((function(e){return"_"!==e[0]})),e.items=t.map((function(e){return new Io({key:e,value:A[e],revision:A["".concat(Rl.STATE_REVISION_KEY_PREFIX).concat(e)],updateTs:A["".concat(Rl.STATE_TIMESTAMP_PREFIX).concat(e)],authorUserId:A["".concat(Rl.STATE_AUTHOR_PREFIX).concat(e)]})})),e}function Ew(e){return function(){var t=e();if(!t)throw new Ad("Client is not logged in. Cannot do the operation");return t}}function iK(e){return function(){var t=e();if(!t)throw new Ad("Sync Client not connected, Cannot do the operation.");return t}}function Xk(e){return e=new Blob([e]).size,BigInt(e)}function td(e){var t=eb._malloc(new Blob([e]).size+1);return eb.stringToUTF8(e,t,new Blob([e]).size+1),t}function jK(e){var t=eb.lengthBytesUTF8(e)+1,A=eb._malloc(t);return eb.stringToUTF8(e,A,t),eb.HEAPU8[A+t-1]=1,A}function Md(e){eb._free(e)}function mk(e){return eb.UTF8ToString(e).valueOf()}function Fw(e){return mk(e=eb.getValue(e,"i32"))}var Xb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gw=function(e){return e&&e.Math==Math&&e},ec=Gw("object"==typeof globalThis&&globalThis)||Gw("object"==typeof window&&window)||Gw("object"==typeof self&&self)||Gw("object"==typeof Xb&&Xb)||function(){return this}()||Function("return this")(),Sc=function(e){try{return!!e()}catch(e){return!0}},Nd=!Sc((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),kK={}.propertyIsEnumerable,lK=Object.getOwnPropertyDescriptor,ot=lK&&!kK.call({1:2},1)?function(e){return!!(e=lK(this,e))&&e.enumerable}:kK,Yk=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},sY={}.toString,Fj=function(e){return sY.call(e).slice(8,-1)},tY="".split,pt=Sc((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==Fj(e)?tY.call(e,""):Object(e)}:Object,Qh=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Rh=function(e){return pt(Qh(e))},Hd=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Zk=function(e,t){if(!Hd(e))return e;var A,n;if(t&&"function"==typeof(A=e.toString)&&!Hd(n=A.call(e))||"function"==typeof(A=e.valueOf)&&!Hd(n=A.call(e))||!t&&"function"==typeof(A=e.toString)&&!Hd(n=A.call(e)))return n;throw TypeError("Can't convert object to primitive value")},Tf=function(e){return Object(Qh(e))},uY={}.hasOwnProperty,Kc=function(e,t){return uY.call(Tf(e),t)},Gq=ec.document,Hw=Hd(Gq)&&Hd(Gq.createElement),mK=!Nd&&!Sc((function(){return 7!=Object.defineProperty(Hw?Gq.createElement("div"):{},"a",{get:function(){return 7}}).a})),nK=Object.getOwnPropertyDescriptor,Gj=Nd?nK:function(e,t){if(e=Rh(e),t=Zk(t,!0),mK)try{return nK(e,t)}catch(e){}if(Kc(e,t))return Yk(!ot.call(e,t),e[t])},Pe=function(e){if(!Hd(e))throw TypeError(String(e)+" is not an object");return e},oK=Object.defineProperty,Uf={f:Nd?oK:function(e,t,A){if(Pe(e),t=Zk(t,!0),Pe(A),mK)try{return oK(e,t,A)}catch(e){}if("get"in A||"set"in A)throw TypeError("Accessors not supported");return"value"in A&&(e[t]=A.value),e}},Vf=Nd?function(e,t,A){return Uf.f(e,t,Yk(1,A))}:function(e,t,A){return e[t]=A,e},QB=function(e,t){try{Vf(ec,e,t)}catch(A){ec[e]=t}return t},Um=ec["__core-js_shared__"]||QB("__core-js_shared__",{}),vY=Function.toString;"function"!=typeof Um.inspectSource&&(Um.inspectSource=function(e){return vY.call(e)});var RB=Um.inspectSource,pK=ec.WeakMap,qK="function"==typeof pK&&/native code/.test(RB(pK)),Vm=$c((function(e){(e.exports=function(e,t){return Um[e]||(Um[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})})),wY=0,xY=Math.random(),Hq=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++wY+xY).toString(36)},rK=Vm("keys"),Iw=function(e){return rK[e]||(rK[e]=Hq(e))},Iq={},yY=ec.WeakMap;if(qK||Um.state)var Jo=Um.state||(Um.state=new yY),zY=Jo.get,sK=Jo.has,AY=Jo.set,SB=function(e,t){if(sK.call(Jo,e))throw new TypeError("Object already initialized");return t.facade=e,AY.call(Jo,e,t),t},Jw=function(e){return zY.call(Jo,e)||{}},TB=function(e){return sK.call(Jo,e)};else{var Jq=Iw("state");Iq[Jq]=!0,SB=function(e,t){if(Kc(e,Jq))throw new TypeError("Object already initialized");return t.facade=e,Vf(e,Jq,t),t},Jw=function(e){return Kc(e,Jq)?e[Jq]:{}},TB=function(e){return Kc(e,Jq)}}var Ye={set:SB,get:Jw,has:TB,enforce:function(e){return TB(e)?Jw(e):SB(e,{})},getterFor:function(e){return function(t){var A;if(!Hd(t)||(A=Jw(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return A}}},mf=$c((function(e){var t=Ye.get,A=Ye.enforce,n=String(String).split("String");(e.exports=function(e,t,r,i){var o=!!i&&!!i.unsafe,a=!!i&&!!i.enumerable;if(i=!!i&&!!i.noTargetGet,"function"==typeof r){"string"!=typeof t||Kc(r,"name")||Vf(r,"name",t);var s=A(r);s.source||(s.source=n.join("string"==typeof t?t:""))}e===ec?a?e[t]=r:QB(t,r):(o?!i&&e[t]&&(a=!0):delete e[t],a?e[t]=r:Vf(e,t,r))})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||RB(this)}))})),tK=function(e){return"function"==typeof e?e:void 0},nk=function(e,t){return 2>arguments.length?tK(ec[e])||tK(ec[e]):ec[e]&&ec[e][t]||ec[e]&&ec[e][t]},BY=Math.ceil,CY=Math.floor,Hj=function(e){return isNaN(e=+e)?0:(0<e?CY:BY)(e)},DY=Math.min,Ee=function(e){return 0<e?DY(Hj(e),9007199254740991):0},EY=Math.max,FY=Math.min,Ui=function(e,t){return 0>(e=Hj(e))?EY(e+t,0):FY(e,t)},uK=function(e){return function(t,A,n){t=Rh(t);var r=Ee(t.length);if(n=Ui(n,r),e&&A!=A){for(;r>n;)if((A=t[n++])!=A)return!0}else for(;r>n;n++)if((e||n in t)&&t[n]===A)return e||n||0;return!e&&-1}},vK=uK(!0),UB=uK(!1),wK=function(e,t){e=Rh(e);var A,n=0,r=[];for(A in e)!Kc(Iq,A)&&Kc(e,A)&&r.push(A);for(;t.length>n;)Kc(e,A=t[n++])&&(~UB(r,A)||r.push(A));return r},Kw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),GY=Kw.concat("length","prototype"),Ko={f:Object.getOwnPropertyNames||function(e){return wK(e,GY)}},qt={f:Object.getOwnPropertySymbols},VB=nk("Reflect","ownKeys")||function(e){var t=Ko.f(Pe(e)),A=qt.f;return A?t.concat(A(e)):t},xK=function(e,t){for(var A=VB(t),n=Uf.f,r=Gj,i=0;i<A.length;i++){var o=A[i];Kc(e,o)||n(e,o,r(t,o))}},HY=/#|\.prototype\./,$k=function(e,t){return(e=IY[JY(e)])==KY||e!=LY&&("function"==typeof t?Sc(t):!!t)},JY=$k.normalize=function(e){return String(e).replace(HY,".").toLowerCase()},IY=$k.data={},LY=$k.NATIVE="N",KY=$k.POLYFILL="P",MY=Gj,qc=function(e,t){var A,n,r,i=e.target,o=e.global,a=e.stat;if(n=o?ec:a?ec[i]||QB(i,{}):(ec[i]||{}).prototype)for(r in t){var s=t[r],c=e.noTargetGet?(A=MY(n,r))&&A.value:n[r];if(!(A=$k(o?r:i+(a?".":"#")+r,e.forced))&&void 0!==c){if(typeof s==typeof c)continue;xK(s,c)}(e.sham||c&&c.sham)&&Vf(s,"sham",!0);try{mf(n,r,s,e)}catch(e){}}},Kq=nk("navigator","userAgent")||"",yK=ec.process,zK=yK&&yK.versions,AK=zK&&zK.v8;if(AK)var Wm=AK.split("."),WB=4>Wm[0]?1:Wm[0]+Wm[1];else Kq&&(Wm=Kq.match(/Edge\/(\d+)/),(!Wm||74<=Wm[1])&&(Wm=Kq.match(/Chrome\/(\d+)/))&&(WB=Wm[1]));var al=WB&&+WB,bl=!!Object.getOwnPropertySymbols&&!Sc((function(){return!String(Symbol())||!Symbol.sham&&al&&41>al})),BK=bl&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,rt=Vm("wks"),st=ec.Symbol,NY=BK?st:st&&st.withoutSetter||Hq,se=function(e){return Kc(rt,e)&&(bl||"string"==typeof rt[e])||(bl&&Kc(st,e)?rt[e]=st[e]:rt[e]=NY("Symbol."+e)),rt[e]},Sl=Object.keys||function(e){return wK(e,Kw)},CK=Nd?Object.defineProperties:function(e,t){Pe(e);for(var A,n=Sl(t),r=n.length,i=0;r>i;)Uf.f(e,A=n[i++],t[A]);return e},XB=nk("document","documentElement"),DK=Iw("IE_PROTO"),YB=function(){},ZB,Lw=function(){try{ZB=document.domain&&new ActiveXObject("htmlfile")}catch(e){}if(ZB){var e=ZB;e.write("<script><\/script>"),e.close(),e=e.parentWindow.Object}else(e=Hw?Gq.createElement("iframe"):{}).style.display="none",XB.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),e=e.F;for(Lw=e,e=Kw.length;e--;)delete Lw.prototype[Kw[e]];return Lw()};Iq[DK]=!0;var ok=Object.create||function(e,t){if(null!==e){YB.prototype=Pe(e);var A=new YB;YB.prototype=null,A[DK]=e}else A=Lw();return void 0===t?A:CK(A,t)},$B=se("unscopables"),aC=Array.prototype;null==aC[$B]&&Uf.f(aC,$B,{configurable:!0,value:ok(null)});var Xm=function(e){aC[$B][e]=!0};qc({target:"Array",proto:!0},{includes:function(e){return vK(this,e,1<arguments.length?arguments[1]:void 0)}}),Xm("includes");var OY=se("match"),bC=function(e){var t;return Hd(e)&&(void 0!==(t=e[OY])?!!t:"RegExp"==Fj(e))},cC=function(e){if(bC(e))throw TypeError("The method doesn't accept regular expressions");return e},PY=se("match"),dC=function(e){var t=/./;try{"/./"[e](t)}catch(A){try{return t[PY]=!1,"/./"[e](t)}catch(e){}}return!1};qc({target:"String",proto:!0,forced:!dC("includes")},{includes:function(e){return!!~String(Qh(this)).indexOf(cC(e),1<arguments.length?arguments[1]:void 0)}});var Ym=Array.isArray||function(e){return"Array"==Fj(e)},pk=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Zm=function(e,t,A){if(pk(e),void 0===t)return e;switch(A){case 0:return function(){return e.call(t)};case 1:return function(A){return e.call(t,A)};case 2:return function(A,n){return e.call(t,A,n)};case 3:return function(A,n,r){return e.call(t,A,n,r)}}return function(){return e.apply(t,arguments)}},EK=function(e,t,A,n,r,i,o,a){var s=0;for(o=!!o&&Zm(o,a,3);s<n;){if(s in A){if(a=o?o(A[s],s,t):A[s],0<i&&Ym(a))r=EK(e,t,a,Ee(a.length),r,i-1)-1;else{if(9007199254740991<=r)throw TypeError("Exceed the acceptable array length");e[r]=a}r++}s++}return r},FK=EK,QY=se("species"),tt=function(e,t){if(Ym(e)){var A=e.constructor;"function"!=typeof A||A!==Array&&!Ym(A.prototype)?Hd(A)&&(null===(A=A[QY])&&(A=void 0)):A=void 0}return new(void 0===A?Array:A)(0===t?0:t)};qc({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=Tf(this),A=Ee(t.length),n=tt(t,0);return n.length=FK(n,t,t,A,0,void 0===e?1:Hj(e)),n}});var RY=ot,GK=function(e){return function(t){t=Rh(t);for(var A,n=Sl(t),r=n.length,i=0,o=[];r>i;)A=n[i++],Nd&&!RY.call(t,A)||o.push(e?[A,t[A]]:t[A]);return o}},SY=GK(!0),TY=GK(!1);qc({target:"Object",stat:!0},{values:function(e){return TY(e)}});var HK=[].push,$m=function(e){var t=1==e,A=2==e,n=3==e,r=4==e,i=6==e,o=7==e,a=5==e||i;return function(s,c,u,g){var I=Tf(s),l=pt(I);c=Zm(c,u,3),u=Ee(l.length);var E,C=0;for(g=g||tt,s=t?g(s,u):A||o?g(s,0):void 0;u>C;C++)if((a||C in l)&&(E=c(g=l[C],C,I),e))if(t)s[C]=E;else if(E)switch(e){case 3:return!0;case 5:return g;case 6:return C;case 2:HK.call(s,g)}else switch(e){case 4:return!1;case 7:HK.call(s,g)}return i?-1:n||r?r:s}},Lo=$m(0),IK=$m(1),JK=$m(2),UY=$m(3),VY=$m(4),eC=$m(5),fC=$m(6);$m(7);var KK=!0;"find"in[]&&Array(1).find((function(){KK=!1})),qc({target:"Array",proto:!0,forced:KK},{find:function(e){return eC(this,e,1<arguments.length?arguments[1]:void 0)}}),Xm("find");var Mo=function(e,t){var A=[][e];return!!A&&Sc((function(){A.call(null,t||function(){throw 1},1)}))},gC=[],LK=gC.sort,WY=Sc((function(){gC.sort(void 0)})),XY=Sc((function(){gC.sort(null)})),YY=Mo("sort");qc({target:"Array",proto:!0,forced:WY||!XY||!YY},{sort:function(e){return void 0===e?LK.call(Tf(this)):LK.call(Tf(this),pk(e))}});var MK=[].indexOf,NK=!!MK&&0>1/[1].indexOf(1,-0),ZY=Mo("indexOf");qc({target:"Array",proto:!0,forced:NK||!ZY},{indexOf:function(e){return NK?MK.apply(this,arguments)||0:UB(this,e,1<arguments.length?arguments[1]:void 0)}});var Lq={},OK=!Sc((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),PK=Iw("IE_PROTO"),$Y=Object.prototype,cl=OK?Object.getPrototypeOf:function(e){return e=Tf(e),Kc(e,PK)?e[PK]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?$Y:null},hC=se("iterator"),QK=!1,aZ=function(){return this},No;if([].keys){var RK=[].keys();if("next"in RK){var SK=cl(cl(RK));SK!==Object.prototype&&(No=SK)}else QK=!0}(null==No||Sc((function(){var e={};return No[hC].call(e)!==e})))&&(No={}),Kc(No,hC)||Vf(No,hC,aZ);var Mw=No,Nw=QK,bZ=Uf.f,TK=se("toStringTag"),qk=function(e,t,A){e&&!Kc(e=A?e:e.prototype,TK)&&bZ(e,TK,{configurable:!0,value:t})},cZ=function(){return this},UK=function(e,t,A){return t+=" Iterator",e.prototype=ok(Mw,{next:Yk(1,A)}),qk(e,t,!1),Lq[t]=cZ,e},rg=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={};try{var A=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;A.call(t,[]),e=t instanceof Array}catch(e){}return function(t,n){if(Pe(t),!Hd(n)&&null!==n)throw TypeError("Can't set "+String(n)+" as a prototype");return e?A.call(t,n):t.__proto__=n,t}}():void 0),ut=se("iterator"),dZ=function(){return this},iC=function(e,t,A,n,r,i,o){UK(A,t,n),n=function(e){if(e===r&&I)return I;if(!Nw&&e in u)return u[e];switch(e){case"keys":case"values":case"entries":return function(){return new A(this,e)}}return function(){return new A(this)}};var a,s=t+" Iterator",c=!1,u=e.prototype,g=u[ut]||u["@@iterator"]||r&&u[r],I=!Nw&&g||n(r),l="Array"==t&&u.entries||g;if(l&&(e=cl(l.call(new e)),Mw!==Object.prototype&&e.next&&(cl(e)!==Mw&&(rg?rg(e,Mw):"function"!=typeof e[ut]&&Vf(e,ut,dZ)),qk(e,s,!0))),"values"==r&&g&&"values"!==g.name&&(c=!0,I=function(){return g.call(this)}),u[ut]!==I&&Vf(u,ut,I),Lq[t]=I,r){var E={values:n("values"),keys:i?I:n("keys"),entries:n("entries")};if(o)for(a in E)!Nw&&!c&&a in u||mf(u,a,E[a]);else qc({target:t,proto:!0,forced:Nw||c},E)}return E},eZ=Ye.set,fZ=Ye.getterFor("Array Iterator"),an=iC(Array,"Array",(function(e,t){eZ(this,{type:"Array Iterator",target:Rh(e),index:0,kind:t})}),(function(){var e=fZ(this),t=e.target,A=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==A?{value:n,done:!1}:"values"==A?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");Lq.Arguments=Lq.Array,Xm("keys"),Xm("values"),Xm("entries");var gZ=se("toStringTag"),VK={};VK[gZ]="z";var jC="[object z]"===String(VK),hZ=se("toStringTag"),iZ="Arguments"==Fj(function(){return arguments}()),Oo=jC?Fj:function(e){var t;if(void 0===e)var A="Undefined";else{if(null===e)var n="Null";else{e:{var r=e=Object(e);try{n=r[hZ];break e}catch(e){}n=void 0}n="string"==typeof(A=n)?A:iZ?Fj(e):"Object"==(t=Fj(e))&&"function"==typeof e.callee?"Arguments":t}A=n}return A},jZ=jC?{}.toString:function(){return"[object "+Oo(this)+"]"};jC||mf(Object.prototype,"toString",jZ,{unsafe:!0});var WK=!Sc((function(){return Object.isExtensible(Object.preventExtensions({}))})),vt=$c((function(e){var t=Uf.f,A=Hq("meta"),n=0,r=Object.isExtensible||function(){return!0},i=function(e){t(e,A,{value:{objectID:"O"+ ++n,weakData:{}}})},o=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!Hd(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Kc(e,A)){if(!r(e))return"F";if(!t)return"E";i(e)}return e[A].objectID},getWeakData:function(e,t){if(!Kc(e,A)){if(!r(e))return!0;if(!t)return!1;i(e)}return e[A].weakData},onFreeze:function(e){return WK&&o.REQUIRED&&r(e)&&!Kc(e,A)&&i(e),e}};Iq[A]=!0})),kZ=se("iterator"),lZ=Array.prototype,kC=function(e){return void 0!==e&&(Lq.Array===e||lZ[kZ]===e)},mZ=se("iterator"),wt=function(e){if(null!=e)return e[mZ]||e["@@iterator"]||Lq[Oo(e)]},lC=function(e){var t=e.return;if(void 0!==t)return Pe(t.call(e)).value},xt=function(e,t){this.stopped=e,this.result=t},yt=function(e,t,A){var n,r=!(!A||!A.AS_ENTRIES),i=!(!A||!A.IS_ITERATOR),o=!(!A||!A.INTERRUPTED),a=Zm(t,A&&A.that,1+r+o),s=function(e){return c&&lC(c),new xt(!0,e)};if(t=function(e){return r?(Pe(e),o?a(e[0],e[1],s):a(e[0],e[1])):o?a(e,s):a(e)},i)var c=e;else{if("function"!=typeof(i=wt(e)))throw TypeError("Target is not iterable");if(kC(i)){for(i=0,A=Ee(e.length);A>i;i++)if((n=t(e[i]))&&n instanceof xt)return n;return new xt(!1)}c=i.call(e)}for(e=c.next;!(i=e.call(c)).done;){try{n=t(i.value)}catch(e){throw lC(c),e}if("object"==typeof n&&n&&n instanceof xt)return n}return new xt(!1)},Ij=function(e,t,A){if(!(e instanceof t))throw TypeError("Incorrect "+(A?A+" ":"")+"invocation");return e},XK=se("iterator"),YK=!1;try{var nZ=0,ZK={next:function(){return{done:!!nZ++}},return:function(){YK=!0}};ZK[XK]=function(){return this},Array.from(ZK,(function(){throw 2}))}catch(d){}var Ow=function(e,t){if(!t&&!YK)return!1;var A=!1;try{(t={})[XK]=function(){return{next:function(){return{done:A=!0}}}},e(t)}catch(e){}return A},Pw=function(e,t,A){var n,r;return rg&&"function"==typeof(n=t.constructor)&&n!==A&&Hd(r=n.prototype)&&r!==A.prototype&&rg(e,r),e},mC=function(e,t,A){var n=-1!==e.indexOf("Map"),r=-1!==e.indexOf("Weak"),i=n?"set":"add",o=ec[e],a=o&&o.prototype,s=o,c={},u=function(e){var t=a[e];mf(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(r&&!Hd(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return r&&!Hd(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(r&&!Hd(e))&&t.call(this,0===e?0:e)}:function(e,A){return t.call(this,0===e?0:e,A),this})};if($k(e,"function"!=typeof o||!(r||a.forEach&&!Sc((function(){(new o).entries().next()})))))s=A.getConstructor(t,e,n,i),vt.REQUIRED=!0;else if($k(e,!0)){var g=new s,I=g[i](r?{}:-0,1)!=g,l=Sc((function(){g.has(1)})),E=Ow((function(e){new o(e)})),C=!r&&Sc((function(){for(var e=new o,t=5;t--;)e[i](t,t);return!e.has(-0)}));E||((s=t((function(t,A){return Ij(t,s,e),t=Pw(new o,t,s),null!=A&&yt(A,t[i],{that:t,AS_ENTRIES:n}),t}))).prototype=a,a.constructor=s),(l||C)&&(u("delete"),u("has"),n&&u("get")),(C||I)&&u(i),r&&a.clear&&delete a.clear}return c[e]=s,qc({global:!0,forced:s!=o},c),qk(s,e),r||A.setStrong(s,e,n),s},Tl=function(e,t,A){for(var n in t)mf(e,n,t[n],A);return e},$K=se("species"),zt=function(e){e=nk(e);var t=Uf.f;Nd&&e&&!e[$K]&&t(e,$K,{configurable:!0,get:function(){return this}})},oZ=Uf.f,aL=vt.fastKey,bL=Ye.set,nC=Ye.getterFor,cL={getConstructor:function(e,t,A,n){var r=e((function(e,i){Ij(e,r,t),bL(e,{type:t,index:ok(null),first:void 0,last:void 0,size:0}),Nd||(e.size=0),null!=i&&yt(i,e[n],{that:e,AS_ENTRIES:A})})),i=nC(t),o=function(e,t,A){var n,r=i(e),o=a(e,t);return o?o.value=A:(r.last=o={index:n=aL(t,!0),key:t,value:A,previous:t=r.last,next:void 0,removed:!1},r.first||(r.first=o),t&&(t.next=o),Nd?r.size++:e.size++,"F"!==n&&(r.index[n]=o)),e},a=function(e,t){e=i(e);var A=aL(t);if("F"!==A)return e.index[A];for(e=e.first;e;e=e.next)if(e.key==t)return e};return Tl(r.prototype,{clear:function(){for(var e=i(this),t=e.index,A=e.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=void 0),delete t[A.index],A=A.next;e.first=e.last=void 0,Nd?e.size=0:this.size=0},delete:function(e){var t=i(this);if(e=a(this,e)){var A=e.next,n=e.previous;delete t.index[e.index],e.removed=!0,n&&(n.next=A),A&&(A.previous=n),t.first==e&&(t.first=A),t.last==e&&(t.last=n),Nd?t.size--:this.size--}return!!e},forEach:function(e){for(var t,A=i(this),n=Zm(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:A.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),Tl(r.prototype,A?{get:function(e){return(e=a(this,e))&&e.value},set:function(e,t){return o(this,0===e?0:e,t)}}:{add:function(e){return o(this,e=0===e?0:e,e)}}),Nd&&oZ(r.prototype,"size",{get:function(){return i(this).size}}),r},setStrong:function(e,t,A){var n=t+" Iterator",r=nC(t),i=nC(n);iC(e,t,(function(e,t){bL(this,{type:n,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,A=e.last;A&&A.removed;)A=A.previous;return e.target&&(e.last=A=A?A.next:e.state.first)?"keys"==t?{value:A.key,done:!1}:"values"==t?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),A?"entries":"values",!A,!0),zt(t)}};mC("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),cL);var dL=function(e){return function(t,A){t=String(Qh(t)),A=Hj(A);var n,r=t.length;if(0>A||A>=r)return e?"":void 0;var i=t.charCodeAt(A);return 55296>i||56319<i||A+1===r||56320>(n=t.charCodeAt(A+1))||57343<n?e?t.charAt(A):i:e?t.slice(A,A+2):n-56320+(i-55296<<10)+65536}},pZ=dL(!1),eL=dL(!0),qZ=Ye.set,rZ=Ye.getterFor("String Iterator");iC(String,"String",(function(e){qZ(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e=rZ(this),t=e.string,A=e.index;return A>=t.length?{value:void 0,done:!0}:(t=eL(t,A),e.index+=t.length,{value:t,done:!1})}));var oC={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},pC=se("iterator"),fL=se("toStringTag"),qC=an.values,Qw;for(Qw in oC){var gL=ec[Qw],Ul=gL&&gL.prototype;if(Ul){if(Ul[pC]!==qC)try{Vf(Ul,pC,qC)}catch(d){Ul[pC]=qC}if(Ul[fL]||Vf(Ul,fL,Qw),oC[Qw])for(var Mq in an)if(Ul[Mq]!==an[Mq])try{Vf(Ul,Mq,an[Mq])}catch(d){Ul[Mq]=an[Mq]}}}var sZ=se("species"),At=function(e){return 51<=al||!Sc((function(){var t=[];return(t.constructor={})[sZ]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},tZ=At("map");qc({target:"Array",proto:!0,forced:!tZ},{map:function(e){return IK(this,e,1<arguments.length?arguments[1]:void 0)}});var Po=function(e,t,A){(t=Zk(t))in e?Uf.f(e,t,Yk(0,A)):e[t]=A},uZ=At("slice"),vZ=se("species"),wZ=[].slice,xZ=Math.max;qc({target:"Array",proto:!0,forced:!uZ},{slice:function(e,t){var A=Rh(this),n=Ee(A.length);if(e=Ui(e,n),t=Ui(void 0===t?n:t,n),Ym(A)){var r=A.constructor;if("function"!=typeof r||r!==Array&&!Ym(r.prototype)?Hd(r)&&(null===(r=r[vZ])&&(r=void 0)):r=void 0,r===Array||void 0===r)return wZ.call(A,e,t)}for(r=new(void 0===r?Array:r)(xZ(t-e,0)),n=0;e<t;e++,n++)e in A&&Po(r,n,A[e]);return r.length=n,r}});var hL=function(e){return function(t,A,n,r){pk(A),t=Tf(t);var i=pt(t),o=Ee(t.length),a=e?o-1:0,s=e?-1:1;if(2>n)for(;;){if(a in i){r=i[a],a+=s;break}if(a+=s,e?0>a:o<=a)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=a:o>a;a+=s)a in i&&(r=A(r,i[a],a,t));return r}},iL=hL(!1),jL=hL(!0),dl="process"==Fj(ec.process),yZ=Mo("reduce"),zZ=!dl&&79<al&&83>al;qc({target:"Array",proto:!0,forced:!yZ||zZ},{reduce:function(e){return iL(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Qo=function(e){var t,A=Tf(e),n="function"==typeof this?this:Array,r=arguments.length,i=1<r?arguments[1]:void 0,o=void 0!==i,a=wt(A),s=0;if(o&&(i=Zm(i,2<r?arguments[2]:void 0,2)),null==a||n==Array&&kC(a)){var c=Ee(A.length);for(n=new n(c);c>s;s++)a=o?i(A[s],s):A[s],Po(n,s,a)}else for(r=(A=a.call(A)).next,n=new n;!(t=r.call(A)).done;s++){if(o){a=A;var u=i;t=[t.value,s];try{c=u(Pe(t)[0],t[1])}catch(e){throw lC(a),e}}else c=t.value;Po(n,s,a=c)}return n.length=s,n},AZ=!Ow((function(e){Array.from(e)}));qc({target:"Array",stat:!0,forced:AZ},{from:Qo});var kL=se("isConcatSpreadable"),BZ=51<=al||!Sc((function(){var e=[];return e[kL]=!1,e.concat()[0]!==e})),CZ=At("concat");qc({target:"Array",proto:!0,forced:!BZ||!CZ},{concat:function(e){var t,A=Tf(this),n=tt(A,0),r=0,i=-1;for(t=arguments.length;i<t;i++){var o=-1===i?A:arguments[i],a=o;if(Hd(a)){var s=a[kL];a=void 0!==s?!!s:Ym(a)}else a=!1;if(a){if(9007199254740991<r+(s=Ee(o.length)))throw TypeError("Maximum allowed index exceeded");for(a=0;a<s;a++,r++)a in o&&Po(n,r,o[a])}else{if(9007199254740991<=r)throw TypeError("Maximum allowed index exceeded");Po(n,r++,o)}}return n.length=r,n}});var DZ=At("filter"),bn,d,rC,sC,Bt;qc({target:"Array",proto:!0,forced:!DZ},{filter:function(e){return JK(this,e,1<arguments.length?arguments[1]:void 0)}}),d=bn||(bn={}),d.UNSUBSCRIBED="UNSUBSCRIBED",d.SUBSCRIBED="SUBSCRIBED",function(e){e.STRING="STRING",e.BINARY="BINARY"}(rC||(rC={})),function(e){e.CN="CN",e.NA="NA",e.EU="EU",e.AS="AS",e.JP="JP",e.IN="IN",e.GLOB="GLOB",e.OC="OC",e.SA="SA",e.AF="AF",e.KR="KR",e.US="US",e.OVS="OVS"}(sC||(sC={})),function(e){e.GLOBAL="GLOBAL",e.INDIA="INDIA",e.JAPAN="JAPAN",e.ASIA="ASIA",e.EUROPE="EUROPE",e.CHINA="CHINA",e.NORTH_AMERICA="NORTH_AMERICA"}(Bt||(Bt={}));var EZ=Object.freeze({__proto__:null,get subscribedState(){return bn},get MessageType(){return rC},get LegacyAreaCode(){return sC},get AreaCode(){return Bt}}),FZ=Uf.f,tC=Function.prototype,GZ=tC.toString,HZ=/^\s*function ([^ (]*)/;!Nd||"name"in tC||FZ(tC,"name",{configurable:!0,get:function(){try{return GZ.call(this).match(HZ)[1]}catch(e){return""}}});var IZ=Sc((function(){Sl(1)}));qc({target:"Object",stat:!0,forced:IZ},{keys:function(e){return Sl(Tf(e))}});var Rw=function(){var e=Pe(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},rk=Sc((function(){var e=/a/y;return e.lastIndex=2,null!=e.exec("abcd")})),JZ=Sc((function(){var e=/^r/gy;return e.lastIndex=2,null!=e.exec("str")})),Sw=RegExp.prototype.exec,KZ=Vm("native-string-replace",String.prototype.replace),lL=Sw,uC=function(){var e=/a/,t=/b*/g;return Sw.call(e,"a"),Sw.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),mL=rk||JZ,vC=void 0!==/()??/.exec("")[1];(uC||vC||mL)&&(lL=function(e){var t,A=mL&&this.sticky,n=Rw.call(this),r=this.source,i=0,o=e;if(A){-1===(n=n.replace("y","")).indexOf("g")&&(n+="g"),o=String(e).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&"\n"!==e[this.lastIndex-1])&&(r="(?: "+r+")",o=" "+o,i++);var a=new RegExp("^(?:"+r+")",n)}if(vC&&(a=new RegExp("^"+r+"$(?!\\s)",n)),uC)var s=this.lastIndex;var c=Sw.call(A?a:this,o);return A?c?(c.input=c.input.slice(i),c[0]=c[0].slice(i),c.index=this.lastIndex,this.lastIndex+=c[0].length):this.lastIndex=0:uC&&c&&(this.lastIndex=this.global?c.index+c[0].length:s),vC&&c&&1<c.length&&KZ.call(c[0],a,(function(){for(t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(c[t]=void 0)})),c});var Ct=lL;qc({target:"RegExp",proto:!0,forced:/./.exec!==Ct},{exec:Ct});var LZ=se("species"),wC=RegExp.prototype,MZ=!Sc((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),nL="$0"==="a".replace(/./,"$0"),oL=se("replace"),pL=!!/./[oL]&&""===/./[oL]("a","$0"),NZ=!Sc((function(){var e=/(?:)/,t=e.exec;return e.exec=function(){return t.apply(this,arguments)},2!==(e="ab".split(e)).length||"a"!==e[0]||"b"!==e[1]})),Tw=function(e,t,A,n){var r=se(e),i=!Sc((function(){var t={};return t[r]=function(){return 7},7!=""[e](t)})),o=i&&!Sc((function(){var t=!1,A=/a/;return"split"===e&&((A={constructor:{}}).constructor[LZ]=function(){return A},A.flags="",A[r]=/./[r]),A.exec=function(){return t=!0,null},A[r](""),!t}));if(!i||!o||"replace"===e&&(!MZ||!nL||pL)||"split"===e&&!NZ){var a=/./[r],s=(A=A(r,""[e],(function(e,t,A,n,r){var o=t.exec;return o===Ct||o===wC.exec?i&&!r?{done:!0,value:a.call(t,A,n)}:{done:!0,value:e.call(A,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:nL,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:pL}))[1];mf(String.prototype,e,A[0]),mf(wC,r,2==t?function(e,t){return s.call(e,this,t)}:function(e){return s.call(e,this)})}n&&Vf(wC[r],"sham",!0)},xC=function(e,t,A){return t+(A?eL(e,t).length:1)},OZ=Math.floor,PZ="".replace,QZ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,RZ=/\$([$&'`]|\d{1,2})/g,SZ=function(e,t,A,n,r,i){var o=A+e.length,a=n.length,s=RZ;return void 0!==r&&(r=Tf(r),s=QZ),PZ.call(i,s,(function(i,s){switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,A);case"'":return t.slice(o);case"<":i=r[s.slice(1,-1)];break;default:var c=+s;if(0===c)return i;if(c>a)return 0===(c=OZ(c/10))?i:c<=a?void 0===n[c-1]?s.charAt(1):n[c-1]+s.charAt(1):i;i=n[c-1]}return void 0===i?"":i}))},Nq=function(e,t){var A=e.exec;if("function"==typeof A){if("object"!=typeof(e=A.call(e,t)))throw TypeError("RegExp exec method returned something other than an Object or null");return e}if("RegExp"!==Fj(e))throw TypeError("RegExp#exec called on incompatible receiver");return Ct.call(e,t)},TZ=Math.max,UZ=Math.min;Tw("replace",2,(function(e,t,A,n){var r=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=n.REPLACE_KEEPS_$0,o=r?"$":"$0";return[function(A,n){var r=Qh(this),i=null==A?void 0:A[e];return void 0!==i?i.call(A,r,n):t.call(String(r),A,n)},function(e,n){if(!r&&i||"string"==typeof n&&-1===n.indexOf(o)){var a=A(t,e,this,n);if(a.done)return a.value}var s=Pe(e);e=String(this),(a="function"==typeof n)||(n=String(n));var c=s.global;if(c){var u=s.unicode;s.lastIndex=0}for(var g=[];;){var I=Nq(s,e);if(null===I)break;if(g.push(I),!c)break;""===String(I[0])&&(s.lastIndex=xC(e,Ee(s.lastIndex),u))}for(u="",c=s=0;c<g.length;c++){I=g[c];for(var l=String(I[0]),E=TZ(UZ(Hj(I.index),e.length),0),C=[],d=1;d<I.length;d++){var h=C,p=I[d];h.push.call(h,void 0===p?p:String(p))}I=I.groups,a?(C=[l].concat(C,E,e),void 0!==I&&C.push(I),I=String(n.apply(void 0,C))):I=SZ(l,e,E,C,I,n),E>=s&&(u+=e.slice(s,E)+I,s=E+l.length)}return u+e.slice(s)}]}));var VZ=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,WZ=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,yC=function(e){return function(t){return t=String(Qh(t)),1&e&&(t=t.replace(VZ,"")),2&e&&(t=t.replace(WZ,"")),t}},XZ=yC(1),YZ=yC(2),Uw=yC(3),ZZ=Ko.f,$Z=Gj,a_=Uf.f,cn=ec.Number,Vw=cn.prototype,b_="Number"==Fj(ok(Vw)),qL=function(e){var t,A=Zk(e,!1);if("string"==typeof A&&2<A.length)if(43===(e=(A=Uw(A)).charCodeAt(0))||45===e){if(88===(e=A.charCodeAt(2))||120===e)return NaN}else if(48===e){switch(A.charCodeAt(1)){case 66:case 98:e=2;var n=49;break;case 79:case 111:e=8,n=55;break;default:return+A}var r=(A=A.slice(2)).length;for(t=0;t<r;t++){var i=A.charCodeAt(t);if(48>i||i>n)return NaN}return parseInt(A,e)}return+A};if($k("Number",!cn(" 0o1")||!cn("0b1")||cn("+0x1"))){for(var Ro=function(e){var t=1>arguments.length?0:e,A=this;return A instanceof Ro&&(b_?Sc((function(){Vw.valueOf.call(A)})):"Number"!=Fj(A))?Pw(new cn(qL(t)),A,Ro):qL(t)},rL=Nd?ZZ(cn):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),zC=0,Ww;rL.length>zC;zC++)Kc(cn,Ww=rL[zC])&&!Kc(Ro,Ww)&&a_(Ro,Ww,$Z(cn,Ww));Ro.prototype=Vw,Vw.constructor=Ro,mf(ec,"Number",Ro)}var c_=[].join,d_=pt!=Object,e_=Mo("join",",");qc({target:"Array",proto:!0,forced:d_||!e_},{join:function(e){return c_.call(Rh(this),void 0===e?",":e)}});var wA=function(e){var t=/(%?)(%([jds]))/g,A=Array.prototype.slice.call(arguments,1);return A.length&&(e=e.replace(t,(function(e,t,n,r){switch(n=A.shift(),r){case"s":n=""+n;break;case"d":n=Number(n);break;case"j":n=JSON.stringify(n)}return t?(A.unshift(n),e):n}))),A.length&&(e+=" "+A.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))},sg=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),f_=Object.defineProperty({TimeoutError:sg},"__esModule",{value:!0}),g_=Gj,sL="".endsWith,h_=Math.min,tL=dC("endsWith"),i_=!tL&&!!function(){var e=g_(String.prototype,"endsWith");return e&&!e.writable}();qc({target:"String",proto:!0,forced:!i_&&!tL},{endsWith:function(e){var t=String(Qh(this));cC(e);var A=1<arguments.length?arguments[1]:void 0,n=Ee(t.length);return A=void 0===A?n:h_(Ee(A),n),n=String(e),sL?sL.call(t,n,A):t.slice(A-n.length,A)===n}});var dq=function(e){return"string"==typeof e?e.endsWith(".")?e:"".concat(e,"."):e},el=function(e){function t(e,n,r){var i;zb(this,t);var o=A.call(this,eI(n,r));return na(V(o),"originalError",void 0),na(V(o),"code",void 0),na(V(o),"serverCode",void 0),na(V(o),"error",void 0),na(V(o),"reason",void 0),na(V(o),"operation",void 0),na(V(o),"errorCode",void 0),"number"==typeof r?o.code=r:"string"==typeof r?o.name=r:void 0!==r&&(r.originalError&&(o.originalError=r.originalError),void 0!==r.code&&(o.code=r.code),void 0!==r.serverCode&&(o.serverCode=r.serverCode)),n="string"==typeof n&&n?dq(n):Array.isArray(n)&&"string"==typeof n[0]&&n[0]?dq(wA.apply(void 0,[n[0]].concat(rb(n.slice(1))))):"",o.error=!0,o.errorCode=null!==(i=o.code)&&void 0!==i?i:0,o.operation=null!=e?e:"",o.reason=n,o}Zb(t,e);var A=$b(t);return t}(cq(Error)),Sh=function(e){function t(e,n){return zb(this,t),na(V(e=A.call(this,eI(e,n))),"name","RtmInternalError"),na(V(e),"code",void 0),e.code=n,e}Zb(t,e);var A=$b(t);return t}(cq(Error)),Dt=function(){return function(e){function t(e){zb(this,t);var n=Object.keys(e);return A.call(this,e[n[0]],n[0])}Zb(t,e);var A=$b(t);return t}(Sh)},Xw=Dt(),Ol=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return na(V(e=A.call.apply(A,[this].concat(n))),"name","RtmTimeoutError"),e}Zb(t,e);var A=$b(t);return t}(el),Jc=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return na(V(e=A.call.apply(A,[this].concat(n))),"name","RtmInvalidArgumentError"),e}Zb(t,e);var A=$b(t);return t}(el),Ad=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return na(V(e=A.call.apply(A,[this].concat(n))),"name","RtmInvalidStatusError"),e}Zb(t,e);var A=$b(t);return t}(el),ri=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return na(V(e=A.call.apply(A,[this].concat(n))),"name","RtmLimitExceededError"),e}Zb(t,e);var A=$b(t);return t}(el),Vi=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return na(V(e=A.call.apply(A,[this].concat(n))),"name","RtmInvokeTooOftenError"),e}Zb(t,e);var A=$b(t);return t}(el),Db=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return na(V(e=A.call.apply(A,[this].concat(n))),"name","RtmUnavailableError"),na(V(e),"serverCode",void 0),na(V(e),"statusCode",void 0),e}Zb(t,e);var A=$b(t);return t}(el),Bw=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return na(V(e=A.call.apply(A,[this].concat(n))),"name","RtmUnauthenticatedError"),na(V(e),"serverCode",void 0),e}Zb(t,e);var A=$b(t);return t}(el),Et=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return na(V(e=A.call.apply(A,[this].concat(n))),"name","RtmUnknownError"),e}Zb(t,e);var A=$b(t);return t}(el),Qe=function(e){return e instanceof Ol||e instanceof sg},be=function(e){return e instanceof el},ti=function(e){return e instanceof Ad},uL=Ko.f,j_={}.toString,vL="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],AC=function(e){if(vL&&"[object Window]"==j_.call(e))try{var t=uL(e)}catch(e){t=vL.slice()}else t=uL(Rh(e));return t},wL={f:se},k_=Uf.f,Yw=function(e){var t=ec.Symbol||(ec.Symbol={});Kc(t,e)||k_(t,e,{value:wL.f(e)})},ui=Iw("hidden"),xL=se("toPrimitive"),l_=Ye.set,yL=Ye.getterFor("Symbol"),Jj=Object.prototype,vi=ec.Symbol,Ft=nk("JSON","stringify"),zL=Gj,dn=Uf.f,AL=AC,m_=ot,Vl=Vm("symbols"),Gt=Vm("op-symbols"),BC=Vm("string-to-symbol-registry"),CC=Vm("symbol-to-string-registry"),n_=Vm("wks"),DC=ec.QObject,EC=!DC||!DC.prototype||!DC.prototype.findChild,FC=Nd&&Sc((function(){return 7!=ok(dn({},"a",{get:function(){return dn(this,"a",{value:7}).a}})).a}))?function(e,t,A){var n=zL(Jj,t);n&&delete Jj[t],dn(e,t,A),n&&e!==Jj&&dn(Jj,t,n)}:dn,GC=function(e,t){var A=Vl[e]=ok(vi.prototype);return l_(A,{type:"Symbol",tag:e,description:t}),Nd||(A.description=t),A},HC=BK?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof vi},Zw=function(e,t,A){return e===Jj&&Zw(Gt,t,A),Pe(e),t=Zk(t,!0),Pe(A),Kc(Vl,t)?(A.enumerable?(Kc(e,ui)&&e[ui][t]&&(e[ui][t]=!1),A=ok(A,{enumerable:Yk(0,!1)})):(Kc(e,ui)||dn(e,ui,Yk(1,{})),e[ui][t]=!0),FC(e,t,A)):dn(e,t,A)},BL=function(e,t){Pe(e);var A=Rh(t);return t=Sl(A).concat(IC(A)),Lo(t,(function(t){Nd&&!JC.call(A,t)||Zw(e,t,A[t])})),e},JC=function(e){e=Zk(e,!0);var t=m_.call(this,e);return!(this===Jj&&Kc(Vl,e)&&!Kc(Gt,e))&&(!(t||!Kc(this,e)||!Kc(Vl,e)||Kc(this,ui)&&this[ui][e])||t)},CL=function(e,t){if(e=Rh(e),t=Zk(t,!0),e!==Jj||!Kc(Vl,t)||Kc(Gt,t)){var A=zL(e,t);return!A||!Kc(Vl,t)||Kc(e,ui)&&e[ui][t]||(A.enumerable=!0),A}},DL=function(e){e=AL(Rh(e));var t=[];return Lo(e,(function(e){Kc(Vl,e)||Kc(Iq,e)||t.push(e)})),t},IC=function(e){var t=e===Jj;e=AL(t?Gt:Rh(e));var A=[];return Lo(e,(function(e){!Kc(Vl,e)||t&&!Kc(Jj,e)||A.push(Vl[e])})),A};if(bl||(vi=function(){if(this instanceof vi)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Hq(e),A=function(e){this===Jj&&A.call(Gt,e),Kc(this,ui)&&Kc(this[ui],t)&&(this[ui][t]=!1),FC(this,t,Yk(1,e))};return Nd&&EC&&FC(Jj,t,{configurable:!0,set:A}),GC(t,e)},mf(vi.prototype,"toString",(function(){return yL(this).tag})),mf(vi,"withoutSetter",(function(e){return GC(Hq(e),e)})),ot=JC,Uf.f=Zw,Gj=CL,Ko.f=AC=DL,qt.f=IC,wL.f=function(e){return GC(se(e),e)},Nd&&(dn(vi.prototype,"description",{configurable:!0,get:function(){return yL(this).description}}),mf(Jj,"propertyIsEnumerable",JC,{unsafe:!0}))),qc({global:!0,wrap:!0,forced:!bl,sham:!bl},{Symbol:vi}),Lo(Sl(n_),(function(e){Yw(e)})),qc({target:"Symbol",stat:!0,forced:!bl},{for:function(e){if(e=String(e),Kc(BC,e))return BC[e];var t=vi(e);return BC[e]=t,CC[t]=e,t},keyFor:function(e){if(!HC(e))throw TypeError(e+" is not a symbol");if(Kc(CC,e))return CC[e]},useSetter:function(){EC=!0},useSimple:function(){EC=!1}}),qc({target:"Object",stat:!0,forced:!bl,sham:!Nd},{create:function(e,t){return void 0===t?ok(e):BL(ok(e),t)},defineProperty:Zw,defineProperties:BL,getOwnPropertyDescriptor:CL}),qc({target:"Object",stat:!0,forced:!bl},{getOwnPropertyNames:DL,getOwnPropertySymbols:IC}),qc({target:"Object",stat:!0,forced:Sc((function(){qt.f(1)}))},{getOwnPropertySymbols:function(e){return qt.f(Tf(e))}}),Ft){var o_=!bl||Sc((function(){var e=vi();return"[null]"!=Ft([e])||"{}"!=Ft({a:e})||"{}"!=Ft(Object(e))}));qc({target:"JSON",stat:!0,forced:o_},{stringify:function(e,t,A){for(var n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t,(Hd(t)||void 0!==e)&&!HC(e))return Ym(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!HC(t))return t}),r[1]=t,Ft.apply(null,r)}})}vi.prototype[xL]||Vf(vi.prototype,xL,vi.prototype.valueOf),qk(vi,"Symbol"),Iq[ui]=!0;var p_=Uf.f,Wl=ec.Symbol;if(Nd&&"function"==typeof Wl&&(!("description"in Wl.prototype)||void 0!==Wl().description)){var EL={},Ht=function(){var e=1>arguments.length||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Ht?new Wl(e):void 0===e?Wl():Wl(e);return""===e&&(EL[t]=!0),t};xK(Ht,Wl);var KC=Ht.prototype=Wl.prototype;KC.constructor=Ht;var q_=KC.toString,r_="Symbol(test)"==String(Wl("test")),s_=/^Symbol\((.*)\)[^)]+$/;p_(KC,"description",{configurable:!0,get:function(){var e=Hd(this)?this.valueOf():this,t=q_.call(e);return Kc(EL,e)?"":""===(e=r_?t.slice(7,-1):t.replace(s_,"$1"))?void 0:e}}),qc({global:!0,forced:!0},{Symbol:Ht})}Yw("iterator"),Yw("asyncIterator"),Yw("toStringTag"),qk(ec.JSON,"JSON",!0),qk(Math,"Math",!0);var t_=Sc((function(){cl(1)}));qc({target:"Object",stat:!0,forced:t_,sham:!OK},{getPrototypeOf:function(e){return cl(Tf(e))}}),qc({target:"Object",stat:!0},{setPrototypeOf:rg});var Xl=ec.Promise,u_=se("species"),en=function(e,t){var A;return void 0===(e=Pe(e).constructor)||null==(A=Pe(e)[u_])?t:pk(A)},FL=/(?:iphone|ipod|ipad).*applewebkit/i.test(Kq),$w=ec.location,LC=ec.setImmediate,MC=ec.clearImmediate,v_=ec.process,GL=ec.MessageChannel,NC=ec.Dispatch,OC=0,It={},PC=function(e){if(It.hasOwnProperty(e)){var t=It[e];delete It[e],t()}},QC=function(e){return function(){PC(e)}},HL=function(e){PC(e.data)},IL=function(e){ec.postMessage(e+"",$w.protocol+"//"+$w.host)};if(!LC||!MC)if(LC=function(e){for(var t=[],A=1;arguments.length>A;)t.push(arguments[A++]);return It[++OC]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Jt(OC),OC},MC=function(e){delete It[e]},dl)var Jt=function(e){v_.nextTick(QC(e))};else if(NC&&NC.now)Jt=function(e){NC.now(QC(e))};else if(GL&&!FL){var JL=new GL,KL=JL.port2;JL.port1.onmessage=HL,Jt=Zm(KL.postMessage,KL,1)}else ec.addEventListener&&"function"==typeof postMessage&&!ec.importScripts&&$w&&"file:"!==$w.protocol&&!Sc(IL)?(Jt=IL,ec.addEventListener("message",HL,!1)):Jt="onreadystatechange"in(Hw?Gq.createElement("script"):{})?function(e){XB.appendChild(Hw?Gq.createElement("script"):{}).onreadystatechange=function(){XB.removeChild(this),PC(e)}}:function(e){setTimeout(QC(e),0)};var ax=LC,w_=MC,x_=/web0s(?!.*chrome)/i.test(Kq),LL=ec.MutationObserver||ec.WebKitMutationObserver,ML=ec.document,NL=ec.process,bx=ec.Promise,OL=Gj(ec,"queueMicrotask"),PL=OL&&OL.value,So,Kt;if(!PL){var dx=function(){var e;for(dl&&(e=NL.domain)&&e.exit();So;){var t=So.fn;So=So.next;try{t()}catch(e){throw So?cx():Kt=void 0,e}}Kt=void 0,e&&e.enter()};if(FL||dl||x_||!LL||!ML)if(bx&&bx.resolve){var RC=bx.resolve(void 0);RC.constructor=bx;var y_=RC.then,cx=function(){y_.call(RC,dx)}}else cx=dl?function(){NL.nextTick(dx)}:function(){ax.call(ec,dx)};else{var QL=!0,RL=ML.createTextNode("");new LL(dx).observe(RL,{characterData:!0}),cx=function(){RL.data=QL=!QL}}}var SL=PL||function(e){e={fn:e,next:void 0},Kt&&(Kt.next=e),So||(So=e,cx()),Kt=e},z_=function(e){var t,A;this.promise=new e((function(e,n){if(void 0!==t||void 0!==A)throw TypeError("Bad Promise constructor");t=e,A=n})),this.resolve=pk(t),this.reject=pk(A)},SC={f:function(e){return new z_(e)}},TC=function(e,t){return Pe(e),Hd(t)&&t.constructor===e?t:((0,(e=SC.f(e)).resolve)(t),e.promise)},A_=function(e,t){var A=ec.console;A&&A.error&&(1===arguments.length?A.error(e):A.error(e,t))},UC=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},B_="object"==typeof window,C_=se("species"),TL=Ye.get,D_=Ye.set,E_=Ye.getterFor("Promise"),To=Xl&&Xl.prototype,Wi=Xl,ex=To,UL=ec.TypeError,VC=ec.document,WC=ec.process,Oq=SC.f,F_=Oq,G_=!!(VC&&VC.createEvent&&ec.dispatchEvent),VL="function"==typeof PromiseRejectionEvent,WL=!1,Lt=$k("Promise",(function(){var e=RB(Wi)!==String(Wi);if(!e&&66===al)return!0;if(51<=al&&/native code/.test(Wi))return!1;var t=new Wi((function(e){e(1)})),A=function(e){e((function(){}),(function(){}))};return(t.constructor={})[C_]=A,!(WL=t.then((function(){}))instanceof A)||!e&&B_&&!VL})),H_=Lt||!Ow((function(e){Wi.all(e).catch((function(){}))})),XL=function(e){var t;return!(!Hd(e)||"function"!=typeof(t=e.then))&&t},XC=function(e,t){if(!e.notified){e.notified=!0;var A=e.reactions;SL((function(){for(var n=e.value,r=1==e.state,i=0;A.length>i;){var o,a=A[i++],s=r?a.ok:a.fail,c=a.resolve,u=a.reject,g=a.domain;try{if(s){if(r||(2===e.rejection&&I_(e),e.rejection=1),!0===s)var I=n;else if(g&&g.enter(),I=s(n),g){g.exit();var l=!0}I===a.promise?u(UL("Promise-chain cycle")):(o=XL(I))?o.call(I,c,u):c(I)}else u(n)}catch(e){g&&!l&&g.exit(),u(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&J_(e)}))}},YL=function(e,t,A){var n;if(G_){var r=VC.createEvent("Event");r.promise=t,r.reason=A,r.initEvent(e,!1,!0),ec.dispatchEvent(r)}else r={promise:t,reason:A};!VL&&(n=ec["on"+e])?n(r):"unhandledrejection"===e&&A_("Unhandled promise rejection",A)},J_=function(e){ax.call(ec,(function(){var t=e.facade,A=e.value;if(1!==e.rejection&&!e.parent){var n=UC((function(){dl?WC.emit("unhandledRejection",A,t):YL("unhandledrejection",t,A)}));if(e.rejection=dl||1!==e.rejection&&!e.parent?2:1,n.error)throw n.value}}))},I_=function(e){ax.call(ec,(function(){var t=e.facade;dl?WC.emit("rejectionHandled",t):YL("rejectionhandled",t,e.value)}))},Pq=function(e,t,A){return function(n){e(t,n,A)}},Qq=function(e,t,A){e.done||(e.done=!0,A&&(e=A),e.value=t,e.state=2,XC(e,!0))},YC=function(e,t,A){if(!e.done){e.done=!0,A&&(e=A);try{if(e.facade===t)throw UL("Promise can't be resolved itself");var n=XL(t);n?SL((function(){var A={done:!1};try{n.call(t,Pq(YC,A,e),Pq(Qq,A,e))}catch(t){Qq(A,t,e)}})):(e.value=t,e.state=1,XC(e,!1))}catch(t){Qq({done:!1},t,e)}}};if(Lt){Wi=function(e){Ij(this,Wi,"Promise"),pk(e),ZC.call(this);var t=TL(this);try{e(Pq(YC,t),Pq(Qq,t))}catch(e){Qq(t,e)}},ex=Wi.prototype;var ZC=function(e){D_(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};ZC.prototype=Tl(ex,{then:function(e,t){var A=E_(this),n=Oq(en(this,Wi));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=dl?WC.domain:void 0,A.parent=!0,A.reactions.push(n),0!=A.state&&XC(A,!1),n.promise},catch:function(e){return this.then(void 0,e)}});var K_=function(){var e=new ZC,t=TL(e);this.promise=e,this.resolve=Pq(YC,t),this.reject=Pq(Qq,t)};if(SC.f=Oq=function(e){return e===Wi||e===L_?new K_(e):F_(e)},"function"==typeof Xl&&To!==Object.prototype){var M_=To.then;WL||(mf(To,"then",(function(e,t){var A=this;return new Wi((function(e,t){M_.call(A,e,t)})).then(e,t)}),{unsafe:!0}),mf(To,"catch",ex.catch,{unsafe:!0}));try{delete To.constructor}catch(d){}rg&&rg(To,ex)}}qc({global:!0,wrap:!0,forced:Lt},{Promise:Wi}),qk(Wi,"Promise",!1),zt("Promise");var L_=nk("Promise");qc({target:"Promise",stat:!0,forced:Lt},{reject:function(e){var t=Oq(this);return t.reject.call(void 0,e),t.promise}}),qc({target:"Promise",stat:!0,forced:Lt},{resolve:function(e){return TC(this,e)}}),qc({target:"Promise",stat:!0,forced:H_},{all:function(e){var t=this,A=Oq(t),n=A.resolve,r=A.reject,i=UC((function(){var A=pk(t.resolve),i=[],o=0,a=1;yt(e,(function(e){var s=o++,c=!1;i.push(void 0),a++,A.call(t,e).then((function(e){c||(c=!0,i[s]=e,--a||n(i))}),r)})),--a||n(i)}));return i.error&&r(i.value),A.promise},race:function(e){var t=this,A=Oq(t),n=A.reject,r=UC((function(){var r=pk(t.resolve);yt(e,(function(e){r.call(t,e).then(A.resolve,n)}))}));return r.error&&n(r.value),A.promise}});var $C=Mo("forEach")?[].forEach:function(e){return Lo(this,e,1<arguments.length?arguments[1]:void 0)},ZL;for(ZL in oC){var $L=ec[ZL],fx=$L&&$L.prototype;if(fx&&fx.forEach!==$C)try{Vf(fx,"forEach",$C)}catch(d){fx.forEach=$C}}var N_=[].reverse,aM=[1,2];qc({target:"Array",proto:!0,forced:String(aM)===String(aM.reverse())},{reverse:function(){return Ym(this)&&(this.length=this.length),N_.call(this)}});var O=$c((function(e){e=function(e){function t(e,t,A){return Object.defineProperty(e,t,{value:A,enumerable:!0,configurable:!0,writable:!0}),e[t]}function A(e,t,A,n){return t=Object.create((t&&t.prototype instanceof r?t:r).prototype),n=new l(n||[]),p(t,"_invoke",{value:c(e,A,n)}),t}function n(e,t,A){try{return{type:"normal",arg:e.call(t,A)}}catch(e){return{type:"throw",arg:e}}}function r(){}function i(){}function o(){}function a(e){["next","throw","return"].forEach((function(A){t(e,A,(function(e){return this._invoke(A,e)}))}))}function s(e,t){function A(r,i,o,a){if("throw"!==(r=n(e[r],e,i)).type){var s=r.arg;return(r=s.value)&&"object"===ub(r)&&h.call(r,"__await")?t.resolve(r.__await).then((function(e){A("next",e,o,a)}),(function(e){A("throw",e,o,a)})):t.resolve(r).then((function(e){s.value=e,o(s)}),(function(e){return A("throw",e,o,a)}))}a(r.arg)}var r;p(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,r){A(e,n,t,r)}))}return r=r?r.then(i,i):i()}})}function c(e,t,A){var r=v;return function(i,o){if(r===_)throw Error("Generator is already running");if(r===b){if("throw"===i)throw o;return{value:C,done:!0}}for(A.method=i,A.arg=o;;){if((i=A.delegate)&&(i=u(i,A))){if(i===R)continue;return i}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if(r===v)throw r=b,A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);if(r=_,"normal"===(i=n(e,t,A)).type){if(r=A.done?b:m,i.arg===R)continue;return{value:i.arg,done:A.done}}"throw"===i.type&&(r=b,A.method="throw",A.arg=i.arg)}}}function u(e,t){var A=t.method,r=e.iterator[A];return r===C?(t.delegate=null,"throw"===A&&e.iterator.return&&(t.method="return",t.arg=C,u(e,t),"throw"===t.method)||"return"!==A&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+A+"' method")),R):"throw"===(A=n(r,e.iterator,t.arg)).type?(t.method="throw",t.arg=A.arg,t.delegate=null,R):(A=A.arg)?A.done?(t[e.resultName]=A.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=C),t.delegate=null,R):A:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,R)}function g(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function l(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(g,this),this.reset(!0)}function E(e){if(e||""===e){var t=e[B];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var A=-1;return(t=function t(){for(;++A<e.length;)if(h.call(e,A))return t.value=e[A],t.done=!1,t;return t.value=C,t.done=!0,t}).next=t}}throw new TypeError(ub(e)+" is not iterable")}var C,d=Object.prototype,h=d.hasOwnProperty,p=Object.defineProperty||function(e,t,A){e[t]=A.value},f="function"==typeof Symbol?Symbol:{},B=f.iterator||"@@iterator",Q=f.asyncIterator||"@@asyncIterator",y=f.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,A){return e[t]=A}}e.wrap=A;var v="suspendedStart",m="suspendedYield",_="executing",b="completed",R={};t(f={},B,(function(){return this}));var S=Object.getPrototypeOf;(S=S&&S(S(E([]))))&&S!==d&&h.call(S,B)&&(f=S);var w=o.prototype=r.prototype=Object.create(f);return i.prototype=o,p(w,"constructor",{value:o,configurable:!0}),p(o,"constructor",{value:i,configurable:!0}),i.displayName=t(o,y,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,t(e,y,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},a(s.prototype),t(s.prototype,Q,(function(){return this})),e.AsyncIterator=s,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new s(A(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(w),t(w,y,"Generator"),t(w,B,(function(){return this})),t(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,A=Object(e),n=[];for(t in A)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in A)return e.value=t,e.done=!1,e}return e.done=!0,e}},e.values=E,l.prototype={constructor:l,reset:function(e){if(this.next=this.prev=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=C)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,A.next=t,n&&(A.method="next",A.arg=C),!!n}if(this.done)throw e;for(var A=this,n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n],i=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=h.call(r,"catchLoc"),a=h.call(r,"finallyLoc");if(o&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var A=this.tryEntries.length-1;0<=A;--A){var n=this.tryEntries[A];if(n.tryLoc<=this.prev&&h.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}return r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null),(A=r?r.completion:{}).type=e,A.arg=t,r?(this.method="next",this.next=r.finallyLoc,R):this.complete(A)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),R},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var A=this.tryEntries[t];if(A.finallyLoc===e)return this.complete(A.completion,A.afterLoc),I(A),R}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var A=this.tryEntries[t];if(A.tryLoc===e){if("throw"===(e=A.completion).type){var n=e.arg;I(A)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,t,A){return this.delegate={iterator:E(e),resultName:t,nextLoc:A},"next"===this.method&&(this.arg=C),R}},e}(e.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":ub(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),Mt=function(e){var t=String(Qh(this)),A="";if(0>(e=Hj(e))||1/0==e)throw RangeError("Wrong number of repetitions");for(;0<e;(e>>>=1)&&(t+=t))1&e&&(A+=t);return A},O_=Math.ceil,bM=function(e){return function(t,A,n){var r=(t=String(Qh(t))).length;return n=void 0===n?" ":String(n),(A=Ee(A))<=r||""==n?t:(A-=r,(r=Mt.call(n,O_(A/n.length))).length>A&&(r=r.slice(0,A)),e?t+r:r+t)}},P_=bM(!1),Q_=bM(!0),cM=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Kq);qc({target:"String",proto:!0,forced:cM},{padEnd:function(e){return Q_(this,e,1<arguments.length?arguments[1]:void 0)}});var dM=RegExp.prototype,eM=dM.toString,R_=Sc((function(){return"/a/b"!=eM.call({source:"a",flags:"b"})})),S_="toString"!=eM.name;(R_||S_)&&mf(RegExp.prototype,"toString",(function(){var e=Pe(this),t=String(e.source),A=e.flags;return"/"+t+"/"+(e=String(void 0===A&&e instanceof RegExp&&!("flags"in dM)?Rw.call(e):A))}),{unsafe:!0});var T_=[].push,U_=Math.min;Tw("split",2,(function(e,t,A){var n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,A){var n=String(Qh(this));if(0===(A=void 0===A?4294967295:A>>>0))return[];if(void 0===e)return[n];if(!bC(e))return t.call(n,e,A);var r,i,o,a=[],s=0;for(e=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(r=Ct.call(e,n))&&!((i=e.lastIndex)>s&&(a.push(n.slice(s,r.index)),1<r.length&&r.index<n.length&&T_.apply(a,r.slice(1)),o=r[0].length,s=i,a.length>=A));)e.lastIndex===r.index&&e.lastIndex++;return s===n.length?(o||!e.test(""))&&a.push(""):a.push(n.slice(s)),a.length>A?a.slice(0,A):a}:"0".split(void 0,0).length?function(e,A){return void 0===e&&0===A?[]:t.call(this,e,A)}:t;return[function(t,A){var r=Qh(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,r,A):n.call(String(r),t,A)},function(e,r){var i=A(n,e,this,r,n!==t);if(i.done)return i.value;var o=Pe(e);e=String(this);var a=en(o,RegExp);if(i=o.unicode,o=new a(rk?"^(?:"+o.source+")":o,(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(rk?"g":"y")),0===(r=void 0===r?4294967295:r>>>0))return[];if(0===e.length)return null===Nq(o,e)?[e]:[];var s=0,c=0;for(a=[];c<e.length;){o.lastIndex=rk?0:c;var u,g=Nq(o,rk?e.slice(c):e);if(null===g||(u=U_(Ee(o.lastIndex+(rk?c:0)),e.length))===s)c=xC(e,c,i);else{if(a.push(e.slice(s,c)),a.length===r)return a;for(s=1;s<=g.length-1;s++)if(a.push(g[s]),a.length===r)return a;c=s=u}}return a.push(e.slice(s)),a}]}),rk),qc({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),mC("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),cL),qc({target:"Object",stat:!0},{entries:function(e){return SY(e)}});var fM="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Rq=function(e){if(void 0===e)return 0;e=Hj(e);var t=Ee(e);if(e!==t)throw RangeError("Wrong length or index");return t},V_=Math.abs,Yl=Math.pow,W_=Math.floor,X_=Math.log,Y_=Math.LN2,aD=function(e){var t=Tf(this),A=Ee(t.length),n=arguments.length,r=Ui(1<n?arguments[1]:void 0,A);for(A=void 0===(n=2<n?arguments[2]:void 0)?A:Ui(n,A);A>r;)t[r++]=e;return t},Z_=Ko.f,$_=Uf.f,Sq=Ye.get,gM=Ye.set,sk=ec.ArrayBuffer,Xi=sk,tk=ec.DataView,gx=tk&&tk.prototype,hM=Object.prototype,hx=ec.RangeError,iM=function(e,t,A){var n,r=Array(A),i=(1<<(A=8*A-t-1))-1,o=i>>1,a=23===t?Yl(2,-24)-Yl(2,-77):0,s=0>e||0===e&&0>1/e?1:0,c=0;if((e=V_(e))!=e||1/0===e){e=e!=e?1:0;var u=i}else u=W_(X_(e)/Y_),1>e*(n=Yl(2,-u))&&(u--,n*=2),2<=(e=1<=u+o?e+a/n:e+a*Yl(2,1-o))*n&&(u++,n/=2),u+o>=i?(e=0,u=i):1<=u+o?(e=(e*n-1)*Yl(2,t),u+=o):(e=e*Yl(2,o-1)*Yl(2,t),u=0);for(;8<=t;r[c++]=255&e,e/=256,t-=8);for(u=u<<t|e,A+=t;0<A;r[c++]=255&u,u/=256,A-=8);return r[--c]|=128*s,r},jM=function(e,t){var A=e.length,n=8*A-t-1,r=(1<<n)-1,i=r>>1;n-=7,--A;var o=e[A--],a=127&o;for(o>>=7;0<n;a=256*a+e[A],A--,n-=8);var s=a&(1<<-n)-1;for(a>>=-n,n+=t;0<n;s=256*s+e[A],A--,n-=8);if(0===a)a=1-i;else{if(a===r)return s?NaN:o?-1/0:1/0;s+=Yl(2,t),a-=i}return(o?-1:1)*s*Yl(2,a-t)},kM=function(e){return[255&e]},lM=function(e){return[255&e,e>>8&255]},mM=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},nM=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},a0=function(e){return iM(e,23,4)},b0=function(e){return iM(e,52,8)},ix=function(e,t){$_(e.prototype,t,{get:function(){return Sq(this)[t]}})},fn=function(e,t,A,n){A=Rq(A);var r=Sq(e);if(A+t>r.byteLength)throw hx("Wrong index");return e=Sq(r.buffer).bytes,A+=r.byteOffset,t=e.slice(A,A+t),n?t:t.reverse()},gn=function(e,t,A,n,r,i){A=Rq(A);var o=Sq(e);if(A+t>o.byteLength)throw hx("Wrong index");for(e=Sq(o.buffer).bytes,A+=o.byteOffset,n=n(+r),r=0;r<t;r++)e[A+r]=n[i?r:t-r-1]};if(fM){if(!Sc((function(){sk(1)}))||!Sc((function(){new sk(-1)}))||Sc((function(){return new sk,new sk(1.5),new sk(NaN),"ArrayBuffer"!=sk.name}))){Xi=function(e){return Ij(this,Xi),new sk(Rq(e))};for(var c0=Xi.prototype=sk.prototype,oM=Z_(sk),pM=0,bD;oM.length>pM;)(bD=oM[pM++])in Xi||Vf(Xi,bD,sk[bD]);c0.constructor=Xi}rg&&cl(gx)!==hM&&rg(gx,hM);var jx=new tk(new Xi(2)),qM=gx.setInt8;jx.setInt8(0,2147483648),jx.setInt8(1,2147483649),!jx.getInt8(0)&&jx.getInt8(1)||Tl(gx,{setInt8:function(e,t){qM.call(this,e,t<<24>>24)},setUint8:function(e,t){qM.call(this,e,t<<24>>24)}},{unsafe:!0})}else Xi=function(e){Ij(this,Xi,"ArrayBuffer"),e=Rq(e),gM(this,{bytes:aD.call(Array(e),0),byteLength:e}),Nd||(this.byteLength=e)},tk=function(e,t,A){Ij(this,tk,"DataView"),Ij(e,Xi,"DataView");var n=Sq(e).byteLength;if(0>(t=Hj(t))||t>n)throw hx("Wrong offset");if(t+(A=void 0===A?n-t:Ee(A))>n)throw hx("Wrong length");gM(this,{buffer:e,byteLength:A,byteOffset:t}),Nd||(this.buffer=e,this.byteLength=A,this.byteOffset=t)},Nd&&(ix(Xi,"byteLength"),ix(tk,"buffer"),ix(tk,"byteLength"),ix(tk,"byteOffset")),Tl(tk.prototype,{getInt8:function(e){return fn(this,1,e)[0]<<24>>24},getUint8:function(e){return fn(this,1,e)[0]},getInt16:function(e){var t=fn(this,2,e,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=fn(this,2,e,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return nM(fn(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return nM(fn(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return jM(fn(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return jM(fn(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){gn(this,1,e,kM,t)},setUint8:function(e,t){gn(this,1,e,kM,t)},setInt16:function(e,t){gn(this,2,e,lM,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){gn(this,2,e,lM,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){gn(this,4,e,mM,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){gn(this,4,e,mM,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){gn(this,4,e,a0,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){gn(this,8,e,b0,t,2<arguments.length?arguments[2]:void 0)}});qk(Xi,"ArrayBuffer"),qk(tk,"DataView");var Nt={ArrayBuffer:Xi,DataView:tk},cD=Nt.ArrayBuffer,rM=Nt.DataView,sM=cD.prototype.slice,d0=Sc((function(){return!new cD(2).slice(1,void 0).byteLength}));qc({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:d0},{slice:function(e,t){if(void 0!==sM&&void 0===t)return sM.call(Pe(this),e);var A=Pe(this).byteLength;e=Ui(e,A),t=Ui(void 0===t?A:t,A),A=new(en(this,cD))(Ee(t-e));for(var n=new rM(this),r=new rM(A),i=0;e<t;)r.setUint8(i++,n.getUint8(e++));return A}});var e0=Uf.f,kx=ec.Int8Array,dD=kx&&kx.prototype,tM=ec.Uint8ClampedArray,uM=tM&&tM.prototype,fl=kx&&cl(kx),uk=dD&&cl(dD),vM=Object.prototype,wM=vM.isPrototypeOf,xM=se("toStringTag"),eD=Hq("TYPED_ARRAY_TAG"),Zl=fM&&!!rg&&"Opera"!==Oo(ec.opera),yM=!1,Yi,vk={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},zM={BigInt64Array:8,BigUint64Array:8},lx=function(e){return!!Hd(e)&&(e=Oo(e),Kc(vk,e)||Kc(zM,e))};for(Yi in vk)ec[Yi]||(Zl=!1);if((!Zl||"function"!=typeof fl||fl===Function.prototype)&&(fl=function(){throw TypeError("Incorrect invocation")},Zl))for(Yi in vk)ec[Yi]&&rg(ec[Yi],fl);if((!Zl||!uk||uk===vM)&&(uk=fl.prototype,Zl))for(Yi in vk)ec[Yi]&&rg(ec[Yi].prototype,uk);if(Zl&&cl(uM)!==uk&&rg(uM,uk),Nd&&!Kc(uk,xM))for(Yi in yM=!0,e0(uk,xM,{get:function(){return Hd(this)?this[eD]:void 0}}),vk)ec[Yi]&&Vf(ec[Yi],eD,Yi);var Tq=Zl,AM=yM&&eD,nf=function(e){if(lx(e))return e;throw TypeError("Target is not a typed array")},Uq=function(e){if(rg){if(wM.call(fl,e))return e}else for(var t in vk)if(Kc(vk,Yi)){var A=ec[t];if(A&&(e===A||wM.call(A,e)))return e}throw TypeError("Target is not a typed array constructor")},Ze=function(e,t,A){if(Nd){if(A)for(var n in vk){var r=ec[n];if(r&&Kc(r.prototype,e))try{delete r.prototype[e]}catch(e){}}uk[e]&&!A||mf(uk,e,A?t:Zl&&dD[e]||t)}},BM=function(e,t,A){var n,r;if(Nd){if(rg){if(A)for(n in vk)if((r=ec[n])&&Kc(r,e))try{delete r[e]}catch(e){}if(fl[e]&&!A)return;try{return mf(fl,e,A?t:Zl&&fl[e]||t)}catch(e){}}for(n in vk)!(r=ec[n])||r[e]&&!A||mf(r,e,t)}},CM=fl,Ot=uk,f0=ec.ArrayBuffer,Uo=ec.Int8Array,fD=!Tq||!Sc((function(){Uo(1)}))||!Sc((function(){new Uo(-1)}))||!Ow((function(e){new Uo,new Uo(null),new Uo(1.5),new Uo(e)}),!0)||Sc((function(){return 1!==new Uo(new f0(2),1,void 0).length})),mx=function(e,t){if(0>(e=Hj(e)))throw RangeError("The argument can't be less than 0");if(e%t)throw RangeError("Wrong offset");return e},gD=function(e){var t=Tf(e),A=arguments.length,n=1<A?arguments[1]:void 0,r=void 0!==n,i=wt(t);if(null!=i&&!kC(i)){var o=i.call(t),a=o.next;for(t=[];!(i=a.call(o)).done;)t.push(i.value)}for(r&&2<A&&(n=Zm(n,arguments[2],2)),i=Ee(t.length),o=new(Uq(this))(i),A=0;i>A;A++)o[A]=r?n(t[A],A):t[A];return o},hn=$c((function(e){var t=Ko.f,A=Ye.get,n=Ye.set,r=Uf.f,i=Gj,o=Math.round,a=ec.RangeError,s=Nt.ArrayBuffer,c=Nt.DataView,u=function(e,t){var A=0,n=t.length;for(e=new(Uq(e))(n);n>A;)e[A]=t[A++];return e},g=function(e,t){r(e,t,{get:function(){return A(this)[t]}})},I=function(e){var t;return e instanceof s||"ArrayBuffer"==(t=Oo(e))||"SharedArrayBuffer"==t},l=function(e,t){return lx(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},E=function(e,t){return l(e,t=Zk(t,!0))?Yk(2,e[t]):i(e,t)},C=function(e,t,A){return!(l(e,t=Zk(t,!0))&&Hd(A)&&Kc(A,"value"))||Kc(A,"get")||Kc(A,"set")||A.configurable||Kc(A,"writable")&&!A.writable||Kc(A,"enumerable")&&!A.enumerable?r(e,t,A):(e[t]=A.value,e)};Nd?(Tq||(Gj=E,Uf.f=C,g(Ot,"buffer"),g(Ot,"byteOffset"),g(Ot,"byteLength"),g(Ot,"length")),qc({target:"Object",stat:!0,forced:!Tq},{getOwnPropertyDescriptor:E,defineProperty:C}),e.exports=function(e,i,g){var l=e.match(/\d+$/)[0]/8,E=e+(g?"Clamped":"")+"Array",C="get"+e,d="set"+e,h=ec[E],p=h;e=p&&p.prototype;var f={},B=function(e,t){r(e,t,{get:function(){var e=A(this);return e.view[C](t*l+e.byteOffset,!0)},set:function(e){var n=A(this);g&&(e=0>(e=o(e))?0:255<e?255:255&e),n.view[d](t*l+n.byteOffset,e,!0)},enumerable:!0})};Tq?fD&&(p=i((function(e,t,A,n){return Ij(e,p,E),Pw(Hd(t)?I(t)?void 0!==n?new h(t,mx(A,l),n):void 0!==A?new h(t,mx(A,l)):new h(t):lx(t)?u(p,t):gD.call(p,t):new h(Rq(t)),e,p)})),rg&&rg(p,CM),Lo(t(h),(function(e){e in p||Vf(p,e,h[e])})),p.prototype=e):(p=i((function(e,t,A,r){Ij(e,p,E);var i=0,o=0;if(Hd(t)){if(!I(t))return lx(t)?u(p,t):gD.call(p,t);var g=t;if(o=mx(A,l),t=t.byteLength,void 0===r){if(t%l)throw a("Wrong length");if(0>(r=t-o))throw a("Wrong length")}else if((r=Ee(r)*l)+o>t)throw a("Wrong length");t=r/l}else t=Rq(t),g=new s(r=t*l);for(n(e,{buffer:g,byteOffset:o,byteLength:r,length:t,view:new c(g)});i<t;)B(e,i++)})),rg&&rg(p,CM),e=p.prototype=ok(Ot)),e.constructor!==p&&Vf(e,"constructor",p),AM&&Vf(e,AM,E),f[E]=p,qc({global:!0,forced:p!=h,sham:!Tq},f),"BYTES_PER_ELEMENT"in p||Vf(p,"BYTES_PER_ELEMENT",l),"BYTES_PER_ELEMENT"in e||Vf(e,"BYTES_PER_ELEMENT",l),zt(E)}):e.exports=function(){}}));hn("Uint8",(function(e){return function(t,A,n){return e(this,t,A,n)}}));var g0=Math.min,h0=[].copyWithin||function(e,t){var A=Tf(this),n=Ee(A.length),r=Ui(e,n),i=Ui(t,n),o=2<arguments.length?arguments[2]:void 0;for(n=g0((void 0===o?n:Ui(o,n))-i,n-r),o=1,i<r&&r<i+n&&(o=-1,i+=n-1,r+=n-1);0<n--;)i in A?A[r]=A[i]:delete A[r],r+=o,i+=o;return A};Ze("copyWithin",(function(e,t){return h0.call(nf(this),e,t,2<arguments.length?arguments[2]:void 0)})),Ze("every",(function(e){return VY(nf(this),e,1<arguments.length?arguments[1]:void 0)})),Ze("fill",(function(e){return aD.apply(nf(this),arguments)})),Ze("filter",(function(e){var t=JK(nf(this),e,1<arguments.length?arguments[1]:void 0),A=en(this,this.constructor),n=0,r=t.length;for(A=new(Uq(A))(r);r>n;)A[n]=t[n++];return A})),Ze("find",(function(e){return eC(nf(this),e,1<arguments.length?arguments[1]:void 0)})),Ze("findIndex",(function(e){return fC(nf(this),e,1<arguments.length?arguments[1]:void 0)})),Ze("forEach",(function(e){Lo(nf(this),e,1<arguments.length?arguments[1]:void 0)})),Ze("includes",(function(e){return vK(nf(this),e,1<arguments.length?arguments[1]:void 0)})),Ze("indexOf",(function(e){return UB(nf(this),e,1<arguments.length?arguments[1]:void 0)}));var DM=se("iterator"),EM=ec.Uint8Array,i0=an.values,j0=an.keys,k0=an.entries,hD=EM&&EM.prototype[DM],FM=!!hD&&("values"==hD.name||null==hD.name),GM=function(){return i0.call(nf(this))};Ze("entries",(function(){return k0.call(nf(this))})),Ze("keys",(function(){return j0.call(nf(this))})),Ze("values",GM,!FM),Ze(DM,GM,!FM);var l0=[].join;Ze("join",(function(e){return l0.apply(nf(this),arguments)}));var m0=Math.min,iD=[].lastIndexOf,HM=!!iD&&0>1/[1].lastIndexOf(1,-0),n0=Mo("lastIndexOf"),jD=HM||!n0?function(e){if(HM)return iD.apply(this,arguments)||0;var t=Rh(this),A=Ee(t.length),n=A-1;for(1<arguments.length&&(n=m0(n,Hj(arguments[1]))),0>n&&(n=A+n);0<=n;n--)if(n in t&&t[n]===e)return n||0;return-1}:iD;Ze("lastIndexOf",(function(e){return jD.apply(nf(this),arguments)})),Ze("map",(function(e){return IK(nf(this),e,1<arguments.length?arguments[1]:void 0,(function(e,t){return new(Uq(en(e,e.constructor)))(t)}))})),Ze("reduce",(function(e){return iL(nf(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)})),Ze("reduceRight",(function(e){return jL(nf(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}));var o0=Math.floor;Ze("reverse",(function(){for(var e,t=nf(this).length,A=o0(t/2),n=0;n<A;)e=this[n],this[n++]=this[--t],this[t]=e;return this}));var p0=Sc((function(){new Int8Array(1).set({})}));Ze("set",(function(e){nf(this);var t=mx(1<arguments.length?arguments[1]:void 0,1),A=this.length,n=Tf(e),r=Ee(n.length),i=0;if(r+t>A)throw RangeError("Wrong length");for(;i<r;)this[t+i]=n[i++]}),p0);var q0=[].slice,r0=Sc((function(){new Int8Array(1).slice()}));Ze("slice",(function(e,t){e=q0.call(nf(this),e,t);var A=en(this,this.constructor);t=0;var n=e.length;for(A=new(Uq(A))(n);n>t;)A[t]=e[t++];return A}),r0),Ze("some",(function(e){return UY(nf(this),e,1<arguments.length?arguments[1]:void 0)}));var s0=[].sort;Ze("sort",(function(e){return s0.call(nf(this),e)})),Ze("subarray",(function(e,t){var A=nf(this),n=A.length;return e=Ui(e,n),new(en(A,A.constructor))(A.buffer,A.byteOffset+e*A.BYTES_PER_ELEMENT,Ee((void 0===t?n:Ui(t,n))-e))}));var nx=ec.Int8Array,IM=[].toLocaleString,t0=[].slice,u0=!!nx&&Sc((function(){IM.call(new nx(1))})),v0=Sc((function(){return[1,2].toLocaleString()!=new nx([1,2]).toLocaleString()}))||!Sc((function(){nx.prototype.toLocaleString.call([1,2])}));Ze("toLocaleString",(function(){return IM.apply(u0?t0.call(nf(this)):nf(this),arguments)}),v0);var JM=ec.Uint8Array,w0=JM&&JM.prototype||{},ox=[].toString,x0=[].join;Sc((function(){ox.call({})}))&&(ox=function(){return x0.call(this)}),Ze("toString",ox,w0.toString!=ox),qc({target:"String",proto:!0},{repeat:Mt});var y0=AC,z0=Sc((function(){return!Object.getOwnPropertyNames(1)}));qc({target:"Object",stat:!0,forced:z0},{getOwnPropertyNames:y0});var A0=vt.onFreeze,kD=Object.freeze,B0=Sc((function(){kD(1)}));qc({target:"Object",stat:!0,forced:B0,sham:!WK},{freeze:function(e){return kD&&Hd(e)?kD(A0(e)):e}}),Tw("match",1,(function(e,t,A){return[function(t){var A=Qh(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,A):new RegExp(t)[e](String(A))},function(e){var n=A(t,e,this);if(n.done)return n.value;if(e=Pe(e),n=String(this),!e.global)return Nq(e,n);var r=e.unicode;e.lastIndex=0;for(var i,o=[],a=0;null!==(i=Nq(e,n));)i=String(i[0]),o[a]=i,""===i&&(e.lastIndex=xC(n,Ee(e.lastIndex),r)),a++;return 0===a?null:o}]}));var KM=Nt.ArrayBuffer;qc({global:!0,forced:ec.ArrayBuffer!==KM},{ArrayBuffer:KM}),zt("ArrayBuffer");var C0=Gj,LM="".startsWith,D0=Math.min,MM=dC("startsWith"),E0=!MM&&!!function(){var e=C0(String.prototype,"startsWith");return e&&!e.writable}();qc({target:"String",proto:!0,forced:!E0&&!MM},{startsWith:function(e){var t=String(Qh(this));cC(e);var A=Ee(D0(1<arguments.length?arguments[1]:void 0,t.length)),n=String(e);return LM?LM.call(t,n,A):t.slice(A,A+n.length)===n}});var xh=function(e){var t=ub(e);return null!=e&&("object"==t||"function"==t)},NM="object"==ub(Xb)&&Xb&&Xb.Object===Object&&Xb,F0="object"==("undefined"==typeof self?"undefined":ub(self))&&self&&self.Object===Object&&self,wi=NM||F0||Function("return this")(),px=ec.parseInt,G0=/^[+-]?0[Xx]/,OM=8!==px("\t\n\v\f\r \u2028\u2029\ufeff08")||22!==px("\t\n\v\f\r \u2028\u2029\ufeff0x16")?function(e,t){return e=Uw(String(e)),px(e,t>>>0||(G0.test(e)?16:10))}:px;qc({global:!0,forced:parseInt!=OM},{parseInt:OM});var H0=/\s/,I0=/^\s+/,Kj=wi.Symbol,PM=Object.prototype,J0=PM.hasOwnProperty,K0=PM.toString,Pt=Kj?Kj.toStringTag:void 0,L0=Object.prototype.toString,QM=Kj?Kj.toStringTag:void 0,Vo=function(e){if(null==e)e=void 0===e?"[object Undefined]":"[object Null]";else if(QM&&QM in Object(e)){var t=J0.call(e,Pt),A=e[Pt];try{e[Pt]=void 0;var n=!0}catch(e){}var r=K0.call(e);n&&(t?e[Pt]=A:delete e[Pt]),e=r}else e=L0.call(e);return e},Pk=function(e){return null!=e&&"object"==ub(e)},jq=function(e){return"symbol"==ub(e)||Pk(e)&&"[object Symbol]"==Vo(e)},RM=NaN,M0=/^[-+]0x[0-9a-f]+$/i,N0=/^0b[01]+$/i,O0=/^0o[0-7]+$/i,P0=parseInt,qx=function(e){if("number"==typeof e)return e;if(jq(e))return RM;if(xh(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=xh(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;if(e){for(var t=e.slice,A=e.length;A--&&H0.test(e.charAt(A)););e=t.call(e,0,A+1).replace(I0,"")}return(t=N0.test(e))||O0.test(e)?P0(e.slice(2),t?2:8):M0.test(e)?RM:+e},Q0=Math.max,R0=Math.min,S0=function(e,t,A){function n(t){var A=s,n=c;return s=c=void 0,l=t,u=e.apply(n,A)}function r(e){var A=e-I;return e-=l,void 0===I||A>=t||0>A||C&&e>=h}function i(){var e=wi.Date.now();if(r(e))return o(e);var A=setTimeout,n=e-l;e=t-(e-I),n=C?R0(e,h-n):e,g=A(i,n)}function o(e){return g=void 0,d&&s?n(e):(s=c=void 0,u)}function a(){var e=wi.Date.now(),A=r(e);if(s=arguments,c=this,I=e,A){if(void 0===g)return l=e=I,g=setTimeout(i,t),E?n(e):u;if(C)return clearTimeout(g),g=setTimeout(i,t),n(I)}return void 0===g&&(g=setTimeout(i,t)),u}var s,c,u,g,I,l=0,E=!1,C=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=qx(t)||0,xh(A)){E=!!A.leading;var h=(C="maxWait"in A)?Q0(qx(A.maxWait)||0,t):h;d="trailing"in A?!!A.trailing:d}return a.cancel=function(){void 0!==g&&clearTimeout(g),l=0,s=I=c=g=void 0},a.flush=function(){return void 0===g?u:o(wi.Date.now())},a},T0=function(e,t,A){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return xh(A)&&(n="leading"in A?!!A.leading:n,r="trailing"in A?!!A.trailing:r),S0(e,t,{leading:n,maxWait:t,trailing:r})},EA=function(e,t){var A=-1,n=e.length;for(t||(t=Array(n));++A<n;)t[A]=e[A];return t},U0=Math.floor,V0=Math.random,SM=function(e,t){return e+U0(V0()*(t-e+1))},TM=function(e,t){var A=-1,n=e.length,r=n-1;for(t=void 0===t?n:t;++A<t;){var i=e[n=SM(A,r)];e[n]=e[A],e[A]=i}return e.length=t,e},W0=function(e){return TM(EA(e))},to=function(e,t){for(var A=-1,n=null==e?0:e.length,r=Array(n);++A<n;)r[A]=t(e[A],A,e);return r},X0=function(e,t){return to(t,(function(t){return e[t]}))},UM=function(e){return Pk(e)&&"[object Arguments]"==Vo(e)},VM=Object.prototype,Y0=VM.hasOwnProperty,Z0=VM.propertyIsEnumerable,Vs=UM(function(){return arguments}())?UM:function(e){return Pk(e)&&Y0.call(e,"callee")&&!Z0.call(e,"callee")},bh=Array.isArray,$0=function(){return!1},Ts=$c((function(e,t){var A=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e;t=A&&A.exports===t?wi.Buffer:void 0,e.exports=(t?t.isBuffer:void 0)||$0})),a1=/^(?:0|[1-9]\d*)$/,rx=function(e,t){var A=ub(e);return!!(t=null==t?9007199254740991:t)&&("number"==A||"symbol"!=A&&a1.test(e))&&-1<e&&0==e%1&&e<t},lD=function(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e},of={};of["[object Float32Array]"]=of["[object Float64Array]"]=of["[object Int8Array]"]=of["[object Int16Array]"]=of["[object Int32Array]"]=of["[object Uint8Array]"]=of["[object Uint8ClampedArray]"]=of["[object Uint16Array]"]=of["[object Uint32Array]"]=!0,of["[object Arguments]"]=of["[object Array]"]=of["[object ArrayBuffer]"]=of["[object Boolean]"]=of["[object DataView]"]=of["[object Date]"]=of["[object Error]"]=of["[object Function]"]=of["[object Map]"]=of["[object Number]"]=of["[object Object]"]=of["[object RegExp]"]=of["[object Set]"]=of["[object String]"]=of["[object WeakMap]"]=!1;var b1=function(e){return Pk(e)&&lD(e.length)&&!!of[Vo(e)]},sx=function(e){return function(t){return e(t)}},Vq=$c((function(e,t){var A=t&&!t.nodeType&&t;A=(t=A&&e&&!e.nodeType&&e)&&t.exports===A&&NM.process;e:{try{var n=t&&t.require&&t.require("util").types;if(n){var r=n;break e}r=A&&A.binding&&A.binding("util");break e}catch(e){}r=void 0}e.exports=r})),WM=Vq&&Vq.isTypedArray,yA=WM?sx(WM):b1,c1=Object.prototype.hasOwnProperty,XM=function(e,t){var A=bh(e),n=!A&&Vs(e),r=!A&&!n&&Ts(e),i=!A&&!n&&!r&&yA(e);if(A=A||n||r||i){n=e.length;for(var o=String,a=-1,s=Array(n);++a<n;)s[a]=o(a);n=s}else n=[];for(var c in o=n.length,e)!t&&!c1.call(e,c)||A&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||rx(c,o))||n.push(c);return n},d1=Object.prototype,mD=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||d1)},YM=function(e,t){return function(A){return e(t(A))}},e1=YM(Object.keys,Object),f1=Object.prototype.hasOwnProperty,JA=function(e){return!!xh(e)&&("[object Function]"==(e=Vo(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},vo=function(e){return null!=e&&lD(e.length)&&!JA(e)},uo=function(e){if(vo(e))e=XM(e);else if(mD(e)){var t,A=[];for(t in Object(e))f1.call(e,t)&&"constructor"!=t&&A.push(t);e=A}else e=e1(e);return e},LB=function(e){return null==e?[]:X0(e,uo(e))},g1=function(e){return TM(LB(e))},xi=function(e){return(bh(e)?W0:g1)(e)},ZM=function(e,t){for(var A=-1,n=null==e?0:e.length;++A<n;)if(t(e[A],A,e))return!0;return!1},h1=At("splice"),i1=Math.max,j1=Math.min;qc({target:"Array",proto:!0,forced:!h1},{splice:function(e,t){var A,n,r=Tf(this),i=Ee(r.length),o=Ui(e,i),a=arguments.length;if(0===a?a=A=0:1===a?(a=0,A=i-o):(a-=2,A=j1(i1(Hj(t),0),i-o)),9007199254740991<i+a-A)throw TypeError("Maximum allowed length exceeded");var s=tt(r,A);for(n=0;n<A;n++){var c=o+n;c in r&&Po(s,n,r[c])}if(s.length=A,a<A){for(n=o;n<i-A;n++){var u=n+a;(c=n+A)in r?r[u]=r[c]:delete r[u]}for(n=i;n>i-A+a;n--)delete r[n-1]}else if(a>A)for(n=i-A;n>o;n--)u=n+a-1,(c=n+A-1)in r?r[u]=r[c]:delete r[u];for(n=0;n<a;n++)r[n+o]=arguments[n+2];return r.length=i-A+a,s}});var Qt=function(e,t){return e===t||e!=e&&t!=t},tx=function(e,t){for(var A=e.length;A--;)if(Qt(e[A][0],t))return A;return-1},k1=Array.prototype.splice;eq.prototype.clear=function(){this.__data__=[],this.size=0},eq.prototype.delete=function(e){var t=this.__data__;return!(0>(e=tx(t,e)))&&(e==t.length-1?t.pop():k1.call(t,e,1),--this.size,!0)},eq.prototype.get=function(e){var t=this.__data__;return 0>(e=tx(t,e))?void 0:t[e][1]},eq.prototype.has=function(e){return-1<tx(this.__data__,e)},eq.prototype.set=function(e,t){var A=this.__data__,n=tx(A,e);return 0>n?(++this.size,A.push([e,t])):A[n][1]=t,this};var bw=eq,l1=Uf.f,m1=Ko.f,n1=Ye.enforce,o1=se("match"),gl=ec.RegExp,nD=gl.prototype,Rt=/a/g,oD=/a/g,pD=new gl(Rt)!==Rt;if(Nd&&$k("RegExp",!pD||rk||Sc((function(){return oD[o1]=!1,gl(Rt)!=Rt||gl(oD)==oD||"/a/i"!=gl(Rt,"i")})))){for(var $l=function(e,t){var A,n=this instanceof $l,r=bC(e),i=void 0===t;return!n&&r&&e.constructor===$l&&i||(pD?r&&!i&&(e=e.source):e instanceof $l&&(i&&(t=Rw.call(e)),e=e.source),rk&&(A=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,"")),e=Pw(pD?new gl(e,t):gl(e,t),n?this:nD,$l),rk&&A&&(n1(e).sticky=!0)),e},p1=function(e){e in $l||l1($l,e,{configurable:!0,get:function(){return gl[e]},set:function(t){gl[e]=t}})},$M=m1(gl),aN=0;$M.length>aN;)p1($M[aN++]);nD.constructor=$l,$l.prototype=nD,mf(ec,"RegExp",$l)}zt("RegExp");var qD=wi["__core-js_shared__"],bN=function(){var e=/[^.]+$/.exec(qD&&qD.keys&&qD.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),q1=Function.prototype.toString,Wo=function(e){if(null!=e){try{return q1.call(e)}catch(e){}return e+""}return""},r1=/^\[object .+?Constructor\]$/,s1=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xo=function(e,t){return e=null==e?void 0:e[t],!xh(e)||bN&&bN in e||!(JA(e)?s1:r1).test(Wo(e))?void 0:e},St=Xo(wi,"Map"),Tt=Xo(Object,"create"),t1=Object.prototype.hasOwnProperty,u1=Object.prototype.hasOwnProperty;so.prototype.clear=function(){this.__data__=Tt?Tt(null):{},this.size=0},so.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},so.prototype.get=function(e){var t=this.__data__;return Tt?"__lodash_hash_undefined__"===(e=t[e])?void 0:e:t1.call(t,e)?t[e]:void 0},so.prototype.has=function(e){var t=this.__data__;return Tt?void 0!==t[e]:u1.call(t,e)},so.prototype.set=function(e,t){var A=this.__data__;return this.size+=this.has(e)?0:1,A[e]=Tt&&void 0===t?"__lodash_hash_undefined__":t,this};var ux=function(e,t){e=e.__data__;var A=ub(t);return("string"==A||"number"==A||"symbol"==A||"boolean"==A?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map};fq.prototype.clear=function(){this.size=0,this.__data__={hash:new so,map:new(St||bw),string:new so}},fq.prototype.delete=function(e){return e=ux(this,e).delete(e),this.size-=e?1:0,e},fq.prototype.get=function(e){return ux(this,e).get(e)},fq.prototype.has=function(e){return ux(this,e).has(e)},fq.prototype.set=function(e,t){var A=ux(this,e),n=A.size;return A.set(e,t),this.size+=A.size==n?0:1,this};var cw=fq;gq.prototype.clear=function(){this.__data__=new bw,this.size=0},gq.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},gq.prototype.get=function(e){return this.__data__.get(e)},gq.prototype.has=function(e){return this.__data__.has(e)},gq.prototype.set=function(e,t){var A=this.__data__;if(A instanceof bw){var n=A.__data__;if(!St||199>n.length)return n.push([e,t]),this.size=++A.size,this;A=this.__data__=new cw(n)}return A.set(e,t),this.size=A.size,this};var iq=gq;Rs.prototype.add=Rs.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Rs.prototype.has=function(e){return this.__data__.has(e)};var v1=function(e,t){return e.has(t)},gI=function(e,t,A,n,r,i){var o=1&A,a=e.length,s=t.length;if(a!=s&&!(o&&s>a))return!1;s=i.get(e);var c=i.get(t);if(s&&c)return s==t&&c==e;s=-1,c=!0;var u=2&A?new Rs:void 0;for(i.set(e,t),i.set(t,e);++s<a;){var g=e[s],I=t[s];if(n)var l=o?n(I,g,s,t,e,i):n(g,I,s,e,t,i);if(void 0!==l){if(l)continue;c=!1;break}if(u){if(!ZM(t,(function(e,t){if(!u.has(t)&&(g===e||r(g,e,A,n,i)))return u.push(t)}))){c=!1;break}}else if(g!==I&&!r(g,I,A,n,i)){c=!1;break}}return i.delete(e),i.delete(t),c},vx=wi.Uint8Array,w1=function(e){var t=-1,A=Array(e.size);return e.forEach((function(e,n){A[++t]=[n,e]})),A},rD=function(e){var t=-1,A=Array(e.size);return e.forEach((function(e){A[++t]=e})),A},cN=Kj?Kj.prototype:void 0,sD=cN?cN.valueOf:void 0,uW=function(e,t,A,n,r,i,o){switch(A){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new vx(e),new vx(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Qt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=w1;case"[object Set]":if(a||(a=rD),e.size!=t.size&&!(1&n))break;return(A=o.get(e))?A==t:(n|=2,o.set(e,t),t=gI(a(e),a(t),n,r,i,o),o.delete(e),t);case"[object Symbol]":if(sD)return sD.call(e)==sD.call(t)}return!1},DA=function(e,t){for(var A=-1,n=t.length,r=e.length;++A<n;)e[r+A]=t[A];return e},dN=function(e,t,A){return t=t(e),bh(e)?t:DA(t,A(e))},x1=function(e,t){for(var A=-1,n=null==e?0:e.length,r=0,i=[];++A<n;){var o=e[A];t(o,A,e)&&(i[r++]=o)}return i},eN=function(){return[]},y1=Object.prototype.propertyIsEnumerable,fN=Object.getOwnPropertySymbols,tD=fN?function(e){return null==e?[]:(e=Object(e),x1(fN(e),(function(t){return y1.call(e,t)})))}:eN,zA=function(e){return dN(e,uo,tD)},vW=Object.prototype.hasOwnProperty,uD=Xo(wi,"DataView"),vD=Xo(wi,"Promise"),Wq=Xo(wi,"Set"),wD=Xo(wi,"WeakMap"),z1=Wo(uD),A1=Wo(St),B1=Wo(vD),C1=Wo(Wq),D1=Wo(wD),Yo=Vo;(uD&&"[object DataView]"!=Yo(new uD(new ArrayBuffer(1)))||St&&"[object Map]"!=Yo(new St)||vD&&"[object Promise]"!=Yo(vD.resolve())||Wq&&"[object Set]"!=Yo(new Wq)||wD&&"[object WeakMap]"!=Yo(new wD))&&(Yo=function(e){var t=Vo(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?Wo(e):"")switch(e){case z1:return"[object DataView]";case A1:return"[object Map]";case B1:return"[object Promise]";case C1:return"[object Set]";case D1:return"[object WeakMap]"}return t});var Ss=Yo,hI=Object.prototype.hasOwnProperty,E1=function(e,t,A,n){var r=A.length,i=r,o=!n;if(null==e)return!i;for(e=Object(e);r--;){var a=A[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){var s=(a=A[r])[0],c=e[s],u=a[1];if(o&&a[2]){if(void 0===c&&!(s in e))return!1}else{if(a=new iq,n)var g=n(c,u,s,e,t,a);if(void 0===g?!hq(u,c,3,n,a):!g)return!1}}return!0},F1=function(e){for(var t=uo(e),A=t.length;A--;){var n=t[A],r=e[n];t[A]=[n,r,r==r&&!xh(r)]}return t},gN=function(e,t){return function(A){return null!=A&&(A[e]===t&&(void 0!==t||e in Object(A)))}},G1=function(e){var t=F1(e);return 1==t.length&&t[0][2]?gN(t[0][0],t[0][1]):function(A){return A===e||E1(A,e,t)}},H1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I1=/^\w*$/,xD=function(e,t){if(bh(e))return!1;var A=ub(e);return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=e&&!jq(e))||(I1.test(e)||!H1.test(e)||null!=t&&e in Object(t))};AA.Cache=cw;var J1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K1=/\\(\\)?/g,L1=function(e){var t=(e=AA(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(J1,(function(e,A,n,r){t.push(n?r.replace(K1,"$1"):A||e)})),t})),wW=1/0,hN=Kj?Kj.prototype:void 0,iI=hN?hN.toString:void 0,Xq=function(e,t){return bh(e)?e:xD(e,t)?[e]:L1(null==e?"":BA(e))},M1=1/0,Yq=function(e){if("string"==typeof e||jq(e))return e;var t=e+"";return"0"==t&&1/e==-M1?"-0":t},Ut=function(e,t){for(var A=0,n=(t=Xq(t,e)).length;null!=e&&A<n;)e=e[Yq(t[A++])];return A&&A==n?e:void 0},N1=function(e,t){return xD(e)&&t==t&&!xh(t)?gN(Yq(e),t):function(A){var n=null==A?void 0:Ut(A,e);if(void 0===(n=void 0===n?void 0:n)&&n===t){if(n=null!=A){for(var r=-1,i=(n=Xq(n=e,A)).length,o=!1;++r<i;){var a=Yq(n[r]);if(!(o=null!=A&&null!=A&&a in Object(A)))break;A=A[a]}o||++r!=i?n=o:n=!!(i=null==A?0:A.length)&&lD(i)&&rx(a,i)&&(bh(A)||Vs(A))}a=n}else a=hq(t,n,3);return a}},wx=function(e){return e},O1=function(e){return function(t){return null==t?void 0:t[e]}},P1=function(e){return function(t){return Ut(t,e)}},Ho=function(e){return"function"==typeof e?e:null==e?wx:"object"==ub(e)?bh(e)?N1(e[0],e[1]):G1(e):xD(e)?O1(Yq(e)):P1(e)},mI=function(e,t,A){for(var n=-1,r=Object(e),i=(A=A(e)).length;i--;){var o=A[++n];if(!1===t(r[o],o,r))break}return e},iN=function(e,t){return e&&mI(e,t,uo)},jN=function(e,t){return function(t,A){if(null==t)return t;if(!vo(t))return e(t,A);for(var n=t.length,r=-1,i=Object(t);++r<n&&!1!==A(i[r],r,i););return t}}(iN),Q1=function(e,t){var A;return jN(e,(function(e,n,r){return!(A=t(e,n,r))})),!!A},xx=function(e,t,A){if(!xh(A))return!1;var n=ub(t);return!!("number"==n?vo(A)&&rx(t,A.length):"string"==n&&t in A)&&Qt(A[t],e)},Zq=function(e,t,A){var n=bh(e)?ZM:Q1;return A&&xx(e,t,A)&&(t=void 0),n(e,Ho(t))},kN=Kj?Kj.isConcatSpreadable:void 0,xW=function(e){return bh(e)||Vs(e)||!!(kN&&e&&e[kN])},R1=function(e,t){var A=-1,n=vo(e)?Array(e.length):[];return jN(e,(function(e,r,i){n[++A]=t(e,r,i)})),n},S1=function(e,t){var A=e.length;for(e.sort(t);A--;)e[A]=e[A].value;return e},T1=function(e,t,A){t=t.length?to(t,(function(e){return bh(e)?function(t){return Ut(t,1===e.length?e[0]:e)}:e})):[wx];var n=-1;return t=to(t,sx(Ho)),e=R1(e,(function(e,A,r){return{criteria:to(t,(function(t){return t(e)})),index:++n,value:e}})),S1(e,(function(e,t){e:{for(var n=-1,r=e.criteria,i=t.criteria,o=r.length,a=A.length;++n<o;){t:{var s=r[n],c=i[n];if(s!==c){var u=void 0!==s,g=null===s,I=s==s,l=jq(s),E=void 0!==c,C=null===c,d=c==c,h=jq(c);if(!C&&!h&&!l&&s>c||l&&E&&d&&!C&&!h||g&&E&&d||!u&&d||!I){s=1;break t}if(!g&&!l&&!h&&s<c||h&&u&&I&&!g&&!l||C&&u&&I||!E&&I||!d){s=-1;break t}}s=0}if(s){e=n>=a?s:s*("desc"==A[n]?-1:1);break e}}e=e.index-t.index}return e}))},U1=function(e,t,A){switch(A.length){case 0:return e.call(t);case 1:return e.call(t,A[0]);case 2:return e.call(t,A[0],A[1]);case 3:return e.call(t,A[0],A[1],A[2])}return e.apply(t,A)},lN=Math.max,mN=function(e,t,A){return t=lN(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=lN(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];for(r=-1,i=Array(t+1);++r<t;)i[r]=n[r];return i[t]=A(o),U1(e,this,i)}},V1=function(e){return function(){return e}},yx=function(){try{var e=Xo(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),W1=Date.now,nN=function(e){var t=0,A=0;return function(){var n=W1(),r=16-(n-A);if(A=n,0<r){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(yx?function(e,t){return yx(e,"toString",{configurable:!0,enumerable:!1,value:V1(t),writable:!0})}:wx),oN=function(e,t){return nN(mN(e,t,wx),e+"")},pN=oN((function(e,t){if(null==e)return[];var A=t.length;return 1<A&&xx(e,t[0],t[1])?t=[]:2<A&&xx(t[0],t[1],t[2])&&(t=[t[0]]),T1(e,CA(t,1),[])})),qN=function(e){var t=e.length;return t?e[SM(0,t-1)]:void 0},X1=function(e){return qN(LB(e))},IB=function(e){return(bh(e)?qN:X1)(e)},Y1=Math.max,Z1=Math.min,rN=1/0,yD=function(e){return e?(e=qx(e))===rN||e===-rN?17976931348623157e292*(0>e?-1:1):e==e?e:0:0===e?e:0},sN=function(e,t,A){return t=yD(t),void 0===A?(A=t,t=0):A=yD(A),(e=qx(e))>=Z1(t,A)&&e<Y1(t,A)},tN=function(e){for(var t=-1,A=null==e?0:e.length,n=0,r=[];++t<A;){var i=e[t];i&&(r[n++]=i)}return r},GW=function(e,t){for(var A=-1,n=null==e?0:e.length;++A<n&&!1!==t(e[A],A,e););return e},zx=function(e,t,A){"__proto__"==t&&yx?yx(e,t,{configurable:!0,enumerable:!0,value:A,writable:!0}):e[t]=A},$1=Object.prototype.hasOwnProperty,GA=function(e,t,A){var n=e[t];$1.call(e,t)&&Qt(n,A)&&(void 0!==A||t in e)||zx(e,t,A)},kq=function(e,t,A,n){var r=!A;A||(A={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(A[a],e[a],a,A,e):void 0;void 0===s&&(s=e[a]),r?zx(A,a,s):GA(A,a,s)}return A},CW=function(e,t){return e&&kq(t,uo(t),e)},a2=Object.prototype.hasOwnProperty,Us=function(e){if(vo(e))e=XM(e,!0);else if(xh(e)){var t=mD(e),A=[];for(n in e)("constructor"!=n||!t&&a2.call(e,n))&&A.push(n);e=A}else{var n=[];if(null!=e)for(t in Object(e))n.push(t);e=n}return e},AW=function(e,t){return e&&kq(t,Us(t),e)},jI=$c((function(e,t){var A=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,n=(t=A&&A.exports===t?wi.Buffer:void 0)?t.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=n?n(t):new e.constructor(t),e.copy(t),t)}})),BW=function(e,t){return kq(e,tD(e),t)},zD=YM(Object.getPrototypeOf,Object),uN=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)DA(t,tD(e)),e=zD(e);return t}:eN,zW=function(e,t){return kq(e,uN(e),t)},FA=function(e){return dN(e,Us,uN)},b2=Object.prototype.hasOwnProperty,yW=function(e){var t=e.length,A=new e.constructor(t);return t&&"string"==typeof e[0]&&b2.call(e,"index")&&(A.index=e.index,A.input=e.input),A},AD=function(e){var t=new e.constructor(e.byteLength);return new vx(t).set(new vx(e)),t},c2=/\w*$/,vN=Kj?Kj.prototype:void 0,wN=vN?vN.valueOf:void 0,nI=function(e,t){return t=t?AD(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},DW=function(e,t,A){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return AD(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return t=A?AD(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return nI(e,A);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return(t=new e.constructor(e.source,c2.exec(e))).lastIndex=e.lastIndex,t;case"[object Set]":return new n;case"[object Symbol]":return wN?Object(wN.call(e)):{}}},xN=Object.create,d2=function(){function e(){}return function(t){return xh(t)?xN?xN(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),kI=function(e){return"function"!=typeof e.constructor||mD(e)?{}:d2(zD(e))},e2=function(e){return Pk(e)&&"[object Map]"==Ss(e)},yN=Vq&&Vq.isMap,FW=yN?sx(yN):e2,f2=function(e){return Pk(e)&&"[object Set]"==Ss(e)},zN=Vq&&Vq.isSet,EW=zN?sx(zN):f2,We={};We["[object Arguments]"]=We["[object Array]"]=We["[object ArrayBuffer]"]=We["[object DataView]"]=We["[object Boolean]"]=We["[object Date]"]=We["[object Float32Array]"]=We["[object Float64Array]"]=We["[object Int8Array]"]=We["[object Int16Array]"]=We["[object Int32Array]"]=We["[object Map]"]=We["[object Number]"]=We["[object Object]"]=We["[object RegExp]"]=We["[object Set]"]=We["[object String]"]=We["[object Symbol]"]=We["[object Uint8Array]"]=We["[object Uint8ClampedArray]"]=We["[object Uint16Array]"]=We["[object Uint32Array]"]=!0,We["[object Error]"]=We["[object Function]"]=We["[object WeakMap]"]=!1;var g2=function(e,t){var A={};return t=Ho(t),iN(e,(function(e,n,r){zx(A,n,t(e,n,r))})),A},IA=function(e,t,A){(void 0===A||Qt(e[t],A))&&(void 0!==A||t in e)||zx(e,t,A)},AN=Function.prototype.toString,h2=Object.prototype.hasOwnProperty,i2=AN.call(Object),oI=function(e){return!(!Pk(e)||"[object Object]"!=Vo(e))&&(null===(e=zD(e))||"function"==typeof(e=h2.call(e,"constructor")&&e.constructor)&&e instanceof e&&AN.call(e)==i2)},HA=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},j2=function(e){return oN((function(t,A){var n=-1,r=A.length,i=1<r?A[r-1]:void 0,o=2<r?A[2]:void 0;for(i=3<e.length&&"function"==typeof i?(r--,i):void 0,o&&xx(A[0],A[1],o)&&(i=3>r?void 0:i,r=1),t=Object(t);++n<r;)(o=A[n])&&e(t,o,n,i);return t}))}((function(e,t,A,n){lI(e,t,A,n)})),k2=function(e,t){if(!(2>(t=Xq(t,e)).length)){var A=t,n=0,r=-1,i=-1,o=A.length;for(0>n&&(n=-n>o?0:o+n),0>(r=r>o?o:r)&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0,r=Array(o);++i<o;)r[i]=A[i+n];e=Ut(e,r)}return(A=null==e)||(A=null==t?0:t.length,A=delete e[Yq(A?t[A-1]:void 0)]),A},l2=function(e){return oI(e)?void 0:e},m2=function(e){return null!=e&&e.length?CA(e,1):[]},PB=function(e){return nN(mN(e,void 0,m2),e+"")}((function(e,t){var A={};if(null==e)return A;var n=!1;t=to(t,(function(t){return t=Xq(t,e),n||(n=1<t.length),t})),kq(e,FA(e),A),n&&(A=Qk(A,7,l2));for(var r=t.length;r--;)k2(A,t[r]);return A})),n2=/^\s+/,o2=wi.parseInt,rY=function(e){return void 0===e},qY=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}},p2=function(e,t,A){for(var n=-1,r=t.length,i={};++n<r;){var o=t[n],a=Ut(e,o);if(A(a,o)){var s=i;if(o=Xq(o,e),xh(s))for(var c=-1,u=(o=Xq(o,s)).length,g=u-1;null!=s&&++c<u;){var I=Yq(o[c]),l=a;if("__proto__"===I||"constructor"===I||"prototype"===I)break;if(c!=g){var E=s[I];void 0===(l=void 0)&&(l=xh(E)?E:rx(o[c+1])?[]:{})}GA(s,I,l),s=s[I]}}}return i},pY=function(e,t){if(null==e)return{};var A=to(FA(e),(function(e){return[e]}));return t=Ho(t),p2(e,A,(function(e,A){return t(e,A[0])}))},BN=function(e,t,A,n){var r=e.length;for(A+=n?1:-1;n?A--:++A<r;)if(t(e[A],A,e))return A;return-1},q2=Math.max,nY=function(e,t,A){var n=Object(e);if(!vo(e)){var r=Ho(t);e=uo(e),t=function(e){return r(n[e],e,n)}}return-1<(t=function(e,t,A){var n=null==e?0:e.length;if(!n)return-1;if(null==A)A=0;else{var r=(A=yD(A))%1;A=A==A?r?A-r:A:0}return 0>A&&(A=q2(n+A,0)),BN(e,Ho(t),A)}(e,t,A))?n[r?e[t]:t]:void 0},r2=function(e){return e!=e},s2=function(e,t){var A;if(A=!(null==e||!e.length)){if(t==t)e:{A=-1;for(var n=e.length;++A<n;)if(e[A]===t){e=A;break e}e=-1}else e=BN(e,r2,0);A=-1<e}return A},t2=function(e,t,A){for(var n=-1,r=null==e?0:e.length;++n<r;)if(A(t,e[n]))return!0;return!1},u2=function(){},v2=1/0,w2=Wq&&1/rD(new Wq([,-0]))[1]==v2?function(e){return new Wq(e)}:u2,mY=function(e,t){if(e&&e.length)e:{t="function"==typeof t?t:void 0;var A=-1,n=s2,r=e.length,i=!0,o=[],a=o;if(t)i=!1,n=t2;else if(200<=r){if(n=w2(e)){e=rD(n);break e}i=!1,n=v1,a=new Rs}else a=o;t:for(;++A<r;){var s=e[A],c=s;if(s=t||0!==s?s:0,i&&c==c){for(var u=a.length;u--;)if(a[u]===c)continue t;o.push(s)}else n(a,c,t)||(a!==o&&a.push(c),o.push(s))}e=o}else e=[];return e};qc({target:"String",proto:!0,forced:Sc((function(){var e="".sub('"');return e!==e.toLowerCase()||3<e.split('"').length}))},{sub:function(){return"<sub>"+String(Qh(this))+"</sub>"}});var Xa=kf,Lj=null;try{Lj=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(d){}Object.defineProperty(kf.prototype,"__isLong__",{value:!0}),kf.isLong=oi;var qI={},pI={};kf.fromInt=wo,kf.fromNumber=zj,kf.fromBits=Xe;var dw=Math.pow;kf.fromString=KA,kf.fromValue=hk;var rI=0x10000000000000000,tI=rI/2,CN=wo(16777216),Aj=wo(0);kf.ZERO=Aj;var xo=wo(0,!0);kf.UZERO=xo;var $q=wo(1);kf.ONE=$q;var DN=wo(1,!0);kf.UONE=DN;var BD=wo(-1);kf.NEG_ONE=BD;var uI=Xe(-1,2147483647,!1);kf.MAX_VALUE=uI;var sI=Xe(-1,-1,!0);kf.MAX_UNSIGNED_VALUE=sI;var pi=Xe(0,-2147483648,!1);kf.MIN_VALUE=pi;var pc=kf.prototype,ve;pc.toInt=function(){return this.unsigned?this.low>>>0:this.low},pc.toNumber=function(){return this.unsigned?4294967296*(this.high>>>0)+(this.low>>>0):4294967296*this.high+(this.low>>>0)},pc.toString=function(e){if(2>(e=e||10)||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(pi)){var t=zj(e),A=this.div(t);return t=A.mul(t).sub(this),A.toString(e)+t.toInt().toString(e)}return"-"+this.neg().toString(e)}A=zj(dw(e,6),this.unsigned),t=this;for(var n="";;){var r=t.div(A),i=(t.sub(r.mul(A)).toInt()>>>0).toString(e);if((t=r).isZero())return i+n;for(;6>i.length;)i="0"+i;n=""+i+n}},pc.getHighBits=function(){return this.high},pc.getHighBitsUnsigned=function(){return this.high>>>0},pc.getLowBits=function(){return this.low},pc.getLowBitsUnsigned=function(){return this.low>>>0},pc.getNumBitsAbs=function(){if(this.isNegative())return this.eq(pi)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},pc.isZero=function(){return 0===this.high&&0===this.low},pc.eqz=pc.isZero,pc.isNegative=function(){return!this.unsigned&&0>this.high},pc.isPositive=function(){return this.unsigned||0<=this.high},pc.isOdd=function(){return 1==(1&this.low)},pc.isEven=function(){return 0==(1&this.low)},pc.equals=function(e){return oi(e)||(e=hk(e)),(this.unsigned===e.unsigned||1!=this.high>>>31||1!=e.high>>>31)&&(this.high===e.high&&this.low===e.low)},pc.eq=pc.equals,pc.notEquals=function(e){return!this.eq(e)},pc.neq=pc.notEquals,pc.ne=pc.notEquals,pc.lessThan=function(e){return 0>this.comp(e)},pc.lt=pc.lessThan,pc.lessThanOrEqual=function(e){return 0>=this.comp(e)},pc.lte=pc.lessThanOrEqual,pc.le=pc.lessThanOrEqual,pc.greaterThan=function(e){return 0<this.comp(e)},pc.gt=pc.greaterThan,pc.greaterThanOrEqual=function(e){return 0<=this.comp(e)},pc.gte=pc.greaterThanOrEqual,pc.ge=pc.greaterThanOrEqual,pc.compare=function(e){if(oi(e)||(e=hk(e)),this.eq(e))return 0;var t=this.isNegative(),A=e.isNegative();return t&&!A?-1:!t&&A?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},pc.comp=pc.compare,pc.negate=function(){return!this.unsigned&&this.eq(pi)?pi:this.not().add($q)},pc.neg=pc.negate,pc.add=function(e){oi(e)||(e=hk(e));var t=this.high>>>16,A=65535&this.high,n=this.low>>>16,r=e.high>>>16,i=65535&e.high,o=e.low>>>16;return n=(o=((e=(65535&this.low)+(65535&e.low))>>>16)+(n+o))>>>16,Xe((65535&o)<<16|65535&e,(t=((n+=A+i)>>>16)+(t+r)&65535)<<16|65535&n,this.unsigned)},pc.subtract=function(e){return oi(e)||(e=hk(e)),this.add(e.neg())},pc.sub=pc.subtract,pc.multiply=function(e){if(this.isZero())return Aj;if(oi(e)||(e=hk(e)),Lj){var t=Lj.mul(this.low,this.high,e.low,e.high);return Xe(t,Lj.get_high(),this.unsigned)}if(e.isZero())return Aj;if(this.eq(pi))return e.isOdd()?pi:Aj;if(e.eq(pi))return this.isOdd()?pi:Aj;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(CN)&&e.lt(CN))return zj(this.toNumber()*e.toNumber(),this.unsigned);t=this.high>>>16;var A=65535&this.high,n=this.low>>>16,r=65535&this.low,i=e.high>>>16,o=65535&e.high,a=e.low>>>16,s=r*(e=65535&e.low),c=(s>>>16)+n*e,u=c>>>16;u+=(c=(65535&c)+r*a)>>>16;var g=(u+=A*e)>>>16;return Xe((65535&c)<<16|65535&s,(g=(g+=(u=(65535&u)+n*a)>>>16)+((u=(65535&u)+r*o)>>>16)+(t*e+A*a+n*o+r*i)&65535)<<16|65535&u,this.unsigned)},pc.mul=pc.multiply,pc.divide=function(e){if(oi(e)||(e=hk(e)),e.isZero())throw Error("division by zero");if(Lj)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Xe(e=(this.unsigned?Lj.div_u:Lj.div_s)(this.low,this.high,e.low,e.high),Lj.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?xo:Aj;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return xo;if(e.gt(this.shru(1)))return DN;var t=xo}else{if(this.eq(pi)){if(e.eq($q)||e.eq(BD))return pi;if(e.eq(pi))return $q;var A=this.shr(1).div(e).shl(1);if(A.eq(Aj))return e.isNegative()?$q:BD;var n=this.sub(e.mul(A));return A.add(n.div(e))}if(e.eq(pi))return this.unsigned?xo:Aj;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();t=Aj}for(n=this;n.gte(e);){A=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));var r=Math.ceil(Math.log(A)/Math.LN2);r=48>=r?1:dw(2,r-48);for(var i=zj(A),o=i.mul(e);o.isNegative()||o.gt(n);)o=(i=zj(A-=r,this.unsigned)).mul(e);i.isZero()&&(i=$q),t=t.add(i),n=n.sub(o)}return t},pc.div=pc.divide,pc.modulo=function(e){return oi(e)||(e=hk(e)),Lj?Xe(e=(this.unsigned?Lj.rem_u:Lj.rem_s)(this.low,this.high,e.low,e.high),Lj.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},pc.mod=pc.modulo,pc.rem=pc.modulo,pc.not=function(){return Xe(~this.low,~this.high,this.unsigned)},pc.and=function(e){return oi(e)||(e=hk(e)),Xe(this.low&e.low,this.high&e.high,this.unsigned)},pc.or=function(e){return oi(e)||(e=hk(e)),Xe(this.low|e.low,this.high|e.high,this.unsigned)},pc.xor=function(e){return oi(e)||(e=hk(e)),Xe(this.low^e.low,this.high^e.high,this.unsigned)},pc.shiftLeft=function(e){return oi(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?Xe(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Xe(0,this.low<<e-32,this.unsigned)},pc.shl=pc.shiftLeft,pc.shiftRight=function(e){return oi(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?Xe(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Xe(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},pc.shr=pc.shiftRight,pc.shiftRightUnsigned=function(e){if(oi(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return 32>e?Xe(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Xe(32===e?t:t>>>e-32,0,this.unsigned)},pc.shru=pc.shiftRightUnsigned,pc.shr_u=pc.shiftRightUnsigned,pc.toSigned=function(){return this.unsigned?Xe(this.low,this.high,!1):this},pc.toUnsigned=function(){return this.unsigned?this:Xe(this.low,this.high,!0)},pc.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},pc.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},pc.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},kf.fromBytes=function(e,t,A){return A?kf.fromBytesLE(e,t):kf.fromBytesBE(e,t)},kf.fromBytesLE=function(e,t){return new kf(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},kf.fromBytesBE=function(e,t){return new kf(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},function(e){e[e.ChannelSMsg=1]="ChannelSMsg",e[e.ChannelRMsg=2]="ChannelRMsg",e[e.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",e[e.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",e[e.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",e[e.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",e[e.P2pCallInvitation=7]="P2pCallInvitation",e[e.P2pCallCancellation=8]="P2pCallCancellation",e[e.P2pCallAcceptance=9]="P2pCallAcceptance",e[e.P2pCallRefusal=10]="P2pCallRefusal"}(ve||(ve={}));var ka={options:{usePureJavaScript:!1}};qc({global:!0,bind:!0,enumerable:!0,forced:!ec.setImmediate||!ec.clearImmediate},{setImmediate:ax,clearImmediate:w_}),hn("Uint16",(function(e){return function(t,A,n){return e(this,t,A,n)}}));var EN=1..toFixed,FN=Math.floor,ar=function(e,t,A){return 0===t?A:1==t%2?ar(e,t-1,A*e):ar(e*e,t/2,A)},br=function(e,t,A){for(var n=-1;6>++n;)A+=t*e[n],e[n]=A%1e7,A=FN(A/1e7)},CD=function(e,t){for(var A=6,n=0;0<=--A;)n+=e[A],e[A]=FN(n/t),n=n%t*1e7},GN=function(e){for(var t=6,A="";0<=--t;)if(""!==A||0===t||0!==e[t]){var n=String(e[t]);A=""===A?n:A+Mt.call("0",7-n.length)+n}return A},x2=EN&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!Sc((function(){EN.call({})}));qc({target:"Number",proto:!0,forced:x2},{toFixed:function(e){if("number"!=typeof this&&"Number"!=Fj(this))throw TypeError("Incorrect invocation");var t=+this,A=[0,0,0,0,0,0],n="",r="0";if(0>(e=Hj(e))||20<e)throw RangeError("Incorrect fraction digits");if(t!=t)return"NaN";if(-1e21>=t||1e21<=t)return String(t);if(0>t&&(n="-",t=-t),1e-21<t){r=0;for(var i=t*ar(2,69,1);4096<=i;)r+=12,i/=4096;for(;2<=i;)r+=1,i/=2;if(t=0>(r-=69)?t*ar(2,-r,1):t/ar(2,r,1),t*=4503599627370496,0<(r=52-r)){for(br(A,0,t),t=e;7<=t;)br(A,1e7,0),t-=7;for(br(A,ar(10,t,1),0),t=r-1;23<=t;)CD(A,8388608),t-=23;CD(A,1<<t),br(A,1,1),CD(A,2),r=GN(A)}else br(A,0,t),br(A,1<<-r,0),r=GN(A)+Mt.call("0",e)}return 0<e?r=n+((A=r.length)<=e?"0."+Mt.call("0",e-A)+r:r.slice(0,A-e)+"."+r.slice(A-e)):r=n+r,r}});var y2=se("iterator"),DD=!Sc((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,A="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),A+=n+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[y2]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==A||"x"!==new URL("http://x",void 0).host})),cr=Object.assign,HN=Object.defineProperty,Vt=!cr||Sc((function(){if(Nd&&1!==cr({b:1},cr(HN({},"a",{enumerable:!0,get:function(){HN(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},A=Symbol();return e[A]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=cr({},e)[A]||"abcdefghijklmnopqrst"!=Sl(cr({},t)).join("")}))?function(e,t){for(var A=Tf(e),n=arguments.length,r=1,i=qt.f,o=ot;n>r;)for(var a,s=pt(arguments[r++]),c=i?Sl(s).concat(i(s)):Sl(s),u=c.length,g=0;u>g;)a=c[g++],(!Nd||o.call(s,a))&&(A[a]=s[a]);return A}:cr,z2=/[^\0-\u007E]/,A2=/[.\u3002\uFF0E\uFF61]/g,dr=Math.floor,ED=String.fromCharCode,IN=function(e){var t=wt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Pe(t.call(e))},JN=nk("fetch"),FD=nk("Headers"),B2=se("iterator"),KN=Ye.set,Zi=Ye.getterFor("URLSearchParams"),C2=Ye.getterFor("URLSearchParamsIterator"),D2=/\+/g,LN=Array(4),E2=function(e){try{return decodeURIComponent(e)}catch(t){return e}},MN=function(e){var t=e.replace(D2," ");e=4;try{return decodeURIComponent(t)}catch(r){for(;e;){var A=t.replace,n=e--;n=LN[n-1]||(LN[n-1]=RegExp("((?:%[\\da-f]{2}){"+n+"})","gi")),t=A.call(t,n,E2)}return t}},NN=/[!'()~]|%20/g,F2={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ON=function(e){return F2[e]},PN=function(e,t){if(t){t=t.split("&");for(var A,n=0;n<t.length;)(A=t[n++]).length&&(A=A.split("="),e.push({key:MN(A.shift()),value:MN(A.join("="))}))}},G2=function(e){this.entries.length=0,PN(this.entries,e)},er=function(e,t){if(e<t)throw TypeError("Not enough arguments")},GD=UK((function(e,t){KN(this,{type:"URLSearchParamsIterator",iterator:IN(Zi(e).entries),kind:t})}),"Iterator",(function(){var e=C2(this),t=e.kind,A=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?A.key:"values"===t?A.value:[A.key,A.value]),e})),Wt=function(){Ij(this,Wt,"URLSearchParams");var e,t,A,n=0<arguments.length?arguments[0]:void 0,r=[];if(KN(this,{type:"URLSearchParams",entries:r,updateURL:function(){},updateSearchParams:G2}),void 0!==n)if(Hd(n)){var i=wt(n);if("function"==typeof i)for(n=i.call(n),i=n.next;!(e=i.call(n)).done;){var o=(e=IN(Pe(e.value))).next;if((t=o.call(e)).done||(A=o.call(e)).done||!o.call(e).done)throw TypeError("Expected sequence with length 2");r.push({key:t.value+"",value:A.value+""})}else for(e in n)Kc(n,e)&&r.push({key:e,value:n[e]+""})}else PN(r,"string"==typeof n?"?"===n.charAt(0)?n.slice(1):n:n+"")},Ax=Wt.prototype;Tl(Ax,{append:function(e,t){er(arguments.length,2);var A=Zi(this);A.entries.push({key:e+"",value:t+""}),A.updateURL()},delete:function(e){er(arguments.length,1);for(var t=Zi(this),A=t.entries,n=e+"",r=0;r<A.length;)A[r].key===n?A.splice(r,1):r++;t.updateURL()},get:function(e){er(arguments.length,1);for(var t=Zi(this).entries,A=e+"",n=0;n<t.length;n++)if(t[n].key===A)return t[n].value;return null},getAll:function(e){er(arguments.length,1);for(var t=Zi(this).entries,A=e+"",n=[],r=0;r<t.length;r++)t[r].key===A&&n.push(t[r].value);return n},has:function(e){er(arguments.length,1);for(var t=Zi(this).entries,A=e+"",n=0;n<t.length;)if(t[n++].key===A)return!0;return!1},set:function(e,t){er(arguments.length,1);for(var A,n=Zi(this),r=n.entries,i=!1,o=e+"",a=t+"",s=0;s<r.length;s++)(A=r[s]).key===o&&(i?r.splice(s--,1):(i=!0,A.value=a));i||r.push({key:o,value:a}),n.updateURL()},sort:function(){var e,t,A=Zi(this),n=A.entries,r=n.slice();for(t=n.length=0;t<r.length;t++){var i=r[t];for(e=0;e<t;e++)if(n[e].key>i.key){n.splice(e,0,i);break}e===t&&n.push(i)}A.updateURL()},forEach:function(e){for(var t,A=Zi(this).entries,n=Zm(e,1<arguments.length?arguments[1]:void 0,3),r=0;r<A.length;)n((t=A[r++]).value,t.key,this)},keys:function(){return new GD(this,"keys")},values:function(){return new GD(this,"values")},entries:function(){return new GD(this,"entries")}},{enumerable:!0}),mf(Ax,B2,Ax.entries),mf(Ax,"toString",(function(){for(var e,t=Zi(this).entries,A=[],n=0;n<t.length;)e=t[n++],A.push(encodeURIComponent(e.key).replace(NN,ON)+"="+encodeURIComponent(e.value).replace(NN,ON));return A.join("&")}),{enumerable:!0}),qk(Wt,"URLSearchParams"),qc({global:!0,forced:!DD},{URLSearchParams:Wt}),DD||"function"!=typeof JN||"function"!=typeof FD||qc({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t=[e];if(1<arguments.length){var A=arguments[1];if(Hd(A)){var n=A.body;if("URLSearchParams"===Oo(n)){var r=A.headers?new FD(A.headers):new FD;r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),A=ok(A,{body:Yk(0,String(n)),headers:Yk(0,r)})}}t.push(A)}return JN.apply(this,t)}});var Xt=ec.URL,H2=Wt,I2=Ye.set,Ef=Ye.getterFor("URL"),J2=Math.floor,QN=Math.pow,RN=/[A-Za-z]/,K2=/[\d+-.A-Za-z]/,HD=/\d/,L2=/^(0x|0X)/,M2=/^[0-7]+$/,N2=/^\d+$/,SN=/^[\dA-Fa-f]+$/,O2=/[\0\t\n\r #%/:?@[\\]]/,P2=/[\0\t\n\r #/:?@[\\]]/,Q2=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,R2=/[\t\n\r]/g,ID=function(e,t){var A;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";var n=S2(t.slice(1,-1));if(!n)return"Invalid host"}else if(Hg(e)){for(n=[],t=t.toLowerCase().replace(A2,".").split("."),A=0;A<t.length;A++){var r=t[A],i=n,o=i.push;if(z2.test(r)){var a=r;r=[];var s=a;a=[];for(var c=0,u=s.length;c<u;){var g=s.charCodeAt(c++);if(55296<=g&&56319>=g&&c<u){var I=s.charCodeAt(c++);56320==(64512&I)?a.push(((1023&g)<<10)+(1023&I)+65536):(a.push(g),c--)}else a.push(g)}c=a.length,u=128;var l=0,E=72;for(s=0;s<a.length;s++){var C=a[s];128>C&&r.push(ED(C))}for((I=g=r.length)&&r.push("-");I<c;){var d=2147483647;for(s=0;s<a.length;s++)(C=a[s])>=u&&C<d&&(d=C);var h=I+1;if(d-u>dr((2147483647-l)/h))throw RangeError("Overflow: input needs wider integers to process");for(l+=(d-u)*h,u=d,s=0;s<a.length;s++){if((C=a[s])<u&&2147483647<++l)throw RangeError("Overflow: input needs wider integers to process");if(C==u){var p=l;for(C=36;!(p<(d=C<=E?1:C>=E+26?26:C-E));C+=36){var f=36-d,B=r;d+=(p-=d)%f,B.push.call(B,ED(d+22+75*(26>d))),p=dr(p/f)}for(r.push(ED(p+22+75*(26>p))),E=h,C=0,l=I==g?dr(l/700):l>>1,l+=dr(l/E);455<l;C+=36)l=dr(l/35);E=dr(C+36*l/(l+38)),l=0,++I}}++l,++u}r="xn--"+r.join("")}o.call(i,r)}if(t=n.join("."),O2.test(t))return"Invalid host";if(null===(n=T2(t)))return"Invalid host"}else{if(P2.test(t))return"Invalid host";for(n="",t=Qo(t),A=0;A<t.length;A++)n+=jn(t[A],Bx)}e.host=n},T2=function(e){var t,A=e.split(".");A.length&&""==A[A.length-1]&&A.pop();var n=A.length;if(4<n)return e;var r=[];for(t=0;t<n;t++){var i=A[t];if(""==i)return e;var o=10;if(1<i.length&&"0"==i.charAt(0)&&(o=L2.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)i=0;else{if(!(10==o?N2:8==o?M2:SN).test(i))return e;i=parseInt(i,o)}r.push(i)}for(t=0;t<n;t++)if(i=r[t],t==n-1){if(i>=QN(256,5-n))return null}else if(255<i)return null;for(e=r.pop(),t=0;t<r.length;t++)e+=r[t]*QN(256,3-t);return e},S2=function(e){var t,A,n=[0,0,0,0,0,0,0,0],r=0,i=null,o=0,a=function(){return e.charAt(o)};if(":"==a()){if(":"!=e.charAt(1))return;o+=2,i=++r}for(;a();){if(8==r)return;if(":"==a()){if(null!==i)return;o++,i=++r}else{for(t=A=0;4>A&&SN.test(a());)t=16*t+parseInt(a(),16),o++,A++;if("."==a()){if(0==A)return;if(o-=A,6<r)return;for(t=0;a();){if(A=null,0<t){if(!("."==a()&&4>t))return;o++}if(!HD.test(a()))return;for(;HD.test(a());){var s=parseInt(a(),10);if(null===A)A=s;else{if(0==A)return;A=10*A+s}if(255<A)return;o++}n[r]=256*n[r]+A,2!=++t&&4!=t||r++}if(4!=t)return;break}if(":"==a()){if(o++,!a())return}else if(a())return;n[r++]=t}}if(null!==i)for(a=r-i,r=7;0!=r&&0<a;)t=n[r],n[r--]=n[i+a-1],n[i+--a]=t;else if(8!=r)return;return n},Yt=function(e){var t,A;if("number"==typeof e){var n=[];for(t=0;4>t;t++)n.unshift(e%256),e=J2(e/256);return n.join(".")}if("object"==typeof e){n="",t=null;for(var r=1,i=null,o=0,a=0;8>a;a++)0!==e[a]?(o>r&&(t=i,r=o),i=null,o=0):(null===i&&(i=a),++o);for(o>r&&(t=i),r=t,t=0;8>t;t++)A&&0===e[t]||(A&&(A=!1),r===t?(n+=t?":":"::",A=!0):(n+=e[t].toString(16),7>t&&(n+=":")));return"["+n+"]"}return e},Bx={},TN=Vt({},Bx,{" ":1,'"':1,"<":1,">":1,"`":1}),UN=Vt({},TN,{"#":1,"?":1,"{":1,"}":1}),JD=Vt({},UN,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),jn=function(e,t){var A=pZ(e,0);return 32<A&&127>A&&!Kc(t,e)?e:encodeURIComponent(e)},Cx={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Hg=function(e){return Kc(Cx,e.scheme)},KD=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Zt=function(e,t){var A;return 2==e.length&&RN.test(e.charAt(0))&&(":"==(A=e.charAt(1))||!t&&"|"==A)},VN=function(e){var t;return 1<e.length&&Zt(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},WN=function(e){var t=e.path,A=t.length;!A||"file"==e.scheme&&1==A&&Zt(t[0],!0)||t.pop()},LD={},XN={},MD={},YN={},ZN={},ND={},$N={},aO={},Dx={},Ex={},OD={},PD={},QD={},RD={},bO={},SD={},$t={},hl={},cO={},Zo={},am={},il=function(e,t,A,n){var r=A||LD,i=0,o="",a=!1,s=!1,c=!1;for(A||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Q2,"")),t=t.replace(R2,""),t=Qo(t);i<=t.length;){var u=t[i];switch(r){case LD:if(!u||!RN.test(u)){if(A)return"Invalid scheme";r=MD;continue}o+=u.toLowerCase(),r=XN;break;case XN:if(u&&(K2.test(u)||"+"==u||"-"==u||"."==u))o+=u.toLowerCase();else{if(":"!=u){if(A)return"Invalid scheme";o="",r=MD,i=0;continue}if(A&&(Hg(e)!=Kc(Cx,o)||"file"==o&&(""!=e.username||""!=e.password||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=o,A)return void(Hg(e)&&Cx[e.scheme]==e.port&&(e.port=null));o="","file"==e.scheme?r=RD:Hg(e)&&n&&n.scheme==e.scheme?r=YN:Hg(e)?r=aO:"/"==t[i+1]?(r=ZN,i++):(e.cannotBeABaseURL=!0,e.path.push(""),r=cO)}break;case MD:if(!n||n.cannotBeABaseURL&&"#"!=u)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==u){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,r=am;break}r="file"==n.scheme?RD:ND;continue;case YN:if("/"!=u||"/"!=t[i+1]){r=ND;continue}r=Dx,i++;break;case ZN:if("/"==u){r=Ex;break}r=hl;continue;case ND:if(e.scheme=n.scheme,null==u)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==u||"\\"==u&&Hg(e))r=$N;else if("?"==u)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",r=Zo;else{if("#"!=u){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),r=hl;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",r=am}break;case $N:if(!Hg(e)||"/"!=u&&"\\"!=u){if("/"!=u){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,r=hl;continue}r=Ex}else r=Dx;break;case aO:if(r=Dx,"/"!=u||"/"!=o.charAt(i+1))continue;i++;break;case Dx:if("/"!=u&&"\\"!=u){r=Ex;continue}break;case Ex:if("@"==u){for(a&&(o="%40"+o),a=!0,o=Qo(o),u=0;u<o.length;u++){var g=o[u];":"!=g||c?(g=jn(g,JD),c?e.password+=g:e.username+=g):c=!0}o=""}else if(null==u||"/"==u||"?"==u||"#"==u||"\\"==u&&Hg(e)){if(a&&""==o)return"Invalid authority";i-=Qo(o).length+1,o="",r=OD}else o+=u;break;case OD:case PD:if(A&&"file"==e.scheme){r=SD;continue}if(":"!=u||s){if(null==u||"/"==u||"?"==u||"#"==u||"\\"==u&&Hg(e)){if(Hg(e)&&""==o)return"Invalid host";if(A&&""==o&&(""!=e.username||""!=e.password||null!==e.port))return;if(r=ID(e,o))return r;if(o="",r=$t,A)return;continue}"["==u?s=!0:"]"==u&&(s=!1),o+=u}else{if(""==o)return"Invalid host";if(r=ID(e,o))return r;if(o="",r=QD,A==PD)return}break;case QD:if(!HD.test(u)){if(null==u||"/"==u||"?"==u||"#"==u||"\\"==u&&Hg(e)||A){if(""!=o){if(65535<(r=parseInt(o,10)))return"Invalid port";e.port=Hg(e)&&r===Cx[e.scheme]?null:r,o=""}if(A)return;r=$t;continue}return"Invalid port"}o+=u;break;case RD:if(e.scheme="file","/"==u||"\\"==u)r=bO;else{if(!n||"file"!=n.scheme){r=hl;continue}if(null==u)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==u)e.host=n.host,e.path=n.path.slice(),e.query="",r=Zo;else{if("#"!=u){VN(t.slice(i).join(""))||(e.host=n.host,e.path=n.path.slice(),WN(e)),r=hl;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",r=am}}break;case bO:if("/"==u||"\\"==u){r=SD;break}n&&"file"==n.scheme&&!VN(t.slice(i).join(""))&&(Zt(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),r=hl;continue;case SD:if(null==u||"/"==u||"\\"==u||"?"==u||"#"==u){if(!A&&Zt(o))r=hl;else{if(""==o){if(e.host="",A)return}else{if(r=ID(e,o))return r;if("localhost"==e.host&&(e.host=""),A)return;o=""}r=$t}continue}o+=u;break;case $t:if(Hg(e)){if(r=hl,"/"!=u&&"\\"!=u)continue}else if(A||"?"!=u)if(A||"#"!=u){if(null!=u&&(r=hl,"/"!=u))continue}else e.fragment="",r=am;else e.query="",r=Zo;break;case hl:if(null==u||"/"==u||"\\"==u&&Hg(e)||!A&&("?"==u||"#"==u)){if(".."===(g=(g=o).toLowerCase())||"%2e."===g||".%2e"===g||"%2e%2e"===g?(WN(e),"/"==u||"\\"==u&&Hg(e)||e.path.push("")):"."===o||"%2e"===o.toLowerCase()?"/"==u||"\\"==u&&Hg(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Zt(o)&&(e.host&&(e.host=""),o=o.charAt(0)+":"),e.path.push(o)),o="","file"==e.scheme&&(null==u||"?"==u||"#"==u))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==u?(e.query="",r=Zo):"#"==u&&(e.fragment="",r=am)}else o+=jn(u,UN);break;case cO:"?"==u?(e.query="",r=Zo):"#"==u?(e.fragment="",r=am):null!=u&&(e.path[0]+=jn(u,Bx));break;case Zo:A||"#"!=u?null!=u&&("'"==u&&Hg(e)?e.query+="%27":e.query="#"==u?e.query+"%23":e.query+jn(u,Bx)):(e.fragment="",r=am);break;case am:null!=u&&(e.fragment+=jn(u,TN))}i++}},kn=function(e){var t=Ij(this,kn,"URL"),A=1<arguments.length?arguments[1]:void 0,n=String(e),r=I2(t,{type:"URL"});if(void 0!==A)if(A instanceof kn)var i=Ef(A);else if(A=il(i={},String(A)))throw TypeError(A);if(A=il(r,n,null,i))throw TypeError(A);var o=r.searchParams=new H2;(n=Zi(o)).updateSearchParams(r.query),n.updateURL=function(){r.query=String(o)||null},Nd||(t.href=Fx.call(t),t.origin=dO.call(t),t.protocol=eO.call(t),t.username=fO.call(t),t.password=gO.call(t),t.host=hO.call(t),t.hostname=iO.call(t),t.port=jO.call(t),t.pathname=kO.call(t),t.search=lO.call(t),t.searchParams=mO.call(t),t.hash=nO.call(t))},TD=kn.prototype,Fx=function(){var e=Ef(this),t=e.scheme,A=e.username,n=e.password,r=e.host,i=e.port,o=e.path,a=e.query,s=e.fragment,c=t+":";return null!==r?(c+="//",""==e.username&&""==e.password||(c+=A+(n?":"+n:"")+"@"),c+=Yt(r),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==a&&(c+="?"+a),null!==s&&(c+="#"+s),c},dO=function(){var e=Ef(this),t=e.scheme,A=e.port;if("blob"==t)try{return new kn(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Hg(e)?t+"://"+Yt(e.host)+(null!==A?":"+A:""):"null"},eO=function(){return Ef(this).scheme+":"},fO=function(){return Ef(this).username},gO=function(){return Ef(this).password},hO=function(){var e=Ef(this),t=e.host;return e=e.port,null===t?"":null===e?Yt(t):Yt(t)+":"+e},iO=function(){var e=Ef(this).host;return null===e?"":Yt(e)},jO=function(){var e=Ef(this).port;return null===e?"":String(e)},kO=function(){var e=Ef(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},lO=function(){var e=Ef(this).query;return e?"?"+e:""},mO=function(){return Ef(this).searchParams},nO=function(){var e=Ef(this).fragment;return e?"#"+e:""},Mj=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(Nd&&CK(TD,{href:Mj(Fx,(function(e){var t=Ef(this);if(e=il(t,String(e)))throw TypeError(e);Zi(t.searchParams).updateSearchParams(t.query)})),origin:Mj(dO),protocol:Mj(eO,(function(e){var t=Ef(this);il(t,String(e)+":",LD)})),username:Mj(fO,(function(e){var t=Ef(this);if(e=Qo(String(e)),!KD(t)){t.username="";for(var A=0;A<e.length;A++)t.username+=jn(e[A],JD)}})),password:Mj(gO,(function(e){var t=Ef(this);if(e=Qo(String(e)),!KD(t)){t.password="";for(var A=0;A<e.length;A++)t.password+=jn(e[A],JD)}})),host:Mj(hO,(function(e){var t=Ef(this);t.cannotBeABaseURL||il(t,String(e),OD)})),hostname:Mj(iO,(function(e){var t=Ef(this);t.cannotBeABaseURL||il(t,String(e),PD)})),port:Mj(jO,(function(e){var t=Ef(this);KD(t)||(""==(e=String(e))?t.port=null:il(t,e,QD))})),pathname:Mj(kO,(function(e){var t=Ef(this);t.cannotBeABaseURL||(t.path=[],il(t,e+"",$t))})),search:Mj(lO,(function(e){var t=Ef(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",il(t,e,Zo)),Zi(t.searchParams).updateSearchParams(t.query)})),searchParams:Mj(mO),hash:Mj(nO,(function(e){var t=Ef(this);""==(e=String(e))?t.fragment=null:("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",il(t,e,am))}))}),mf(TD,"toJSON",(function(){return Fx.call(this)}),{enumerable:!0}),mf(TD,"toString",(function(){return Fx.call(this)}),{enumerable:!0}),Xt){var oO=Xt.createObjectURL,pO=Xt.revokeObjectURL;oO&&mf(kn,"createObjectURL",(function(e){return oO.apply(Xt,arguments)})),pO&&mf(kn,"revokeObjectURL",(function(e){return pO.apply(Xt,arguments)}))}qk(kn,"URL"),qc({global:!0,forced:!DD,sham:!Nd},{URL:kn});var qO={},U2=function(e,t,A){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==A&&"number"!=typeof A)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var r,i=t.length,o=t.charAt(0),a=[0];for(r=0;r<e.length;++r){for(var s=0,c=e[r];s<a.length;++s)c+=a[s]<<8,a[s]=c%i,c=c/i|0;for(;0<c;)a.push(c%i),c=c/i|0}for(r=0;0===e[r]&&r<e.length-1;++r)n+=o;for(r=a.length-1;0<=r;--r)n+=t[a[r]]}else{for(o=t.length,r=t.charAt(0),i=[0],n=0;n<e.length();++n){for(a=0,s=e.at(n);a<i.length;++a)s+=i[a]<<8,i[a]=s%o,s=s/o|0;for(;0<s;)i.push(s%o),s=s/o|0}for(o="",n=0;0===e.at(n)&&n<e.length()-1;++n)o+=r;for(n=i.length-1;0<=n;--n)o+=t[i[n]];n=o}return A&&(n=n.match(new RegExp(".{1,"+A+"}","g")).join("\r\n")),n},V2=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var A=qO[t];if(!A){A=qO[t]=[];for(var n=0;n<t.length;++n)A[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");var r=t.length;t=t.charAt(0);var i=[0];for(n=0;n<e.length;n++){var o=A[e.charCodeAt(n)];if(void 0===o)return;for(var a=0;a<i.length;++a)o+=i[a]*r,i[a]=255&o,o>>=8;for(;0<o;)i.push(255&o),o>>=8}for(A=0;e[A]===t&&A<e.length-1;++A)i.push(0);return"undefined"!=typeof Buffer?Buffer.from(i.reverse()):new Uint8Array(i.reverse())};$c((function(e){function t(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw Error("Only 8, 16, 24, or 32 bits supported: "+e)}function A(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(n.isArrayBuffer(e)||n.isArrayBufferView(e))if("undefined"!=typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{e=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,e)}catch(A){for(var t=0;t<e.length;++t)this.putByte(e[t])}}else(e instanceof A||"object"===ub(e)&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}var n=e.exports=ka.util=ka.util||{};!function(){if("undefined"!=typeof process&&process.nextTick&&!process.browser)n.nextTick=process.nextTick,n.setImmediate="function"==typeof setImmediate?setImmediate:n.nextTick;else if("function"==typeof setImmediate)n.setImmediate=function(){return setImmediate.apply(void 0,arguments)},n.nextTick=function(e){return setImmediate(e)};else{if(n.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e=[];n.setImmediate=function(t){e.push(t),1===e.length&&window.postMessage("forge.setImmediate","*")},window.addEventListener("message",(function(t){t.source===window&&"forge.setImmediate"===t.data&&(t.stopPropagation(),t=e.slice(),e.length=0,t.forEach((function(e){e()})))}),!0)}if("undefined"!=typeof MutationObserver){var t=Date.now(),A=!0,r=document.createElement("div");e=[],new MutationObserver((function(){var t=e.slice();e.length=0,t.forEach((function(e){e()}))})).observe(r,{attributes:!0});var i=n.setImmediate;n.setImmediate=function(n){15<Date.now()-t?(t=Date.now(),i(n)):(e.push(n),1===e.length&&r.setAttribute("a",A=!A))}}n.nextTick=n.setImmediate}}(),n.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,e=n.isNodejs?Xb:"undefined"==typeof self?window:self,n.globalScope=e,n.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},n.isArrayBufferView=function(e){return e&&n.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},n.ByteBuffer=A,n.ByteStringBuffer=A,n.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,4096<this._constructedStringLength&&(this.data.substr(0,1),this._constructedStringLength=0)},n.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},n.ByteStringBuffer.prototype.isEmpty=function(){return 0>=this.length()},n.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},n.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var A=this.data;0<t;)1&t&&(A+=e),0<(t>>>=1)&&(e+=e);return this.data=A,this._optimizeConstructedString(t),this},n.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},n.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(n.encodeUtf8(e))},n.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},n.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},n.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},n.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},n.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},n.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},n.ByteStringBuffer.prototype.putInt=function(e,A){t(A);var n="";do{A-=8,n+=String.fromCharCode(e>>A&255)}while(0<A);return this.putBytes(n)},n.ByteStringBuffer.prototype.putSignedInt=function(e,t){return 0>e&&(e+=2<<t-1),this.putInt(e,t)},n.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},n.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},n.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},n.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},n.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},n.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},n.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},n.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},n.ByteStringBuffer.prototype.getInt=function(e){t(e);var A=0;do{A=(A<<8)+this.data.charCodeAt(this.read++),e-=8}while(0<e);return A},n.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e);return t>=(e=2<<e-2)&&(t-=e<<1),t},n.ByteStringBuffer.prototype.getBytes=function(e){if(e){e=Math.min(this.length(),e);var t=this.data.slice(this.read,this.read+e);this.read+=e}else 0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear());return t},n.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},n.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},n.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},n.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},n.ByteStringBuffer.prototype.copy=function(){var e=n.createBuffer(this.data);return e.read=this.read,e},n.ByteStringBuffer.prototype.compact=function(){return 0<this.read&&(this.data=this.data.slice(this.read),this.read=0),this},n.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},n.ByteStringBuffer.prototype.truncate=function(e){return e=Math.max(0,this.length()-e),this.data=this.data.substr(this.read,e),this.read=0,this},n.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var A=this.data.charCodeAt(t);16>A&&(e+="0"),e+=A.toString(16)}return e},n.ByteStringBuffer.prototype.toString=function(){return n.decodeUtf8(this.bytes())},n.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var A=n.isArrayBuffer(e),r=n.isArrayBufferView(e);A||r?(this.data=A?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset))},n.DataBuffer.prototype.length=function(){return this.write-this.read},n.DataBuffer.prototype.isEmpty=function(){return 0>=this.length()},n.DataBuffer.prototype.accommodate=function(e,t){return this.length()>=e||(t=Math.max(t||this.growSize,e),e=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),(t=new Uint8Array(this.length()+t)).set(e),this.data=new DataView(t.buffer)),this},n.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},n.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var A=0;A<t;++A)this.data.setUint8(e);return this},n.DataBuffer.prototype.putBytes=function(e,t){if(n.isArrayBufferView(e)){e=(t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-t.byteOffset,this.accommodate(e);var A=new Uint8Array(this.data.buffer,this.write);return A.set(t),this.write+=e,this}if(n.isArrayBuffer(e))return t=new Uint8Array(e),this.accommodate(t.byteLength),(A=new Uint8Array(this.data.buffer)).set(t,this.write),this.write+=t.byteLength,this;if(e instanceof n.DataBuffer||"object"===ub(e)&&"number"==typeof e.read&&"number"==typeof e.write&&n.isArrayBufferView(e.data))return t=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(t.byteLength),(A=new Uint8Array(e.data.byteLength,this.write)).set(t),this.write+=t.byteLength,this;if(e instanceof n.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),t=new Uint8Array(this.data.buffer,this.write),this.write+=n.binary.hex.decode(e,t,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),t=new Uint8Array(this.data.buffer,this.write),this.write+=n.binary.base64.decode(e,t,this.write),this;if("utf8"===t&&(e=n.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),t=new Uint8Array(this.data.buffer,this.write),this.write+=n.binary.raw.decode(t),this;if("utf16"===t)return this.accommodate(2*e.length),t=new Uint16Array(this.data.buffer,this.write),this.write+=n.text.utf16.encode(t),this;throw Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},n.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},n.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},n.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},n.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},n.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},n.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},n.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},n.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},n.DataBuffer.prototype.putInt=function(e,A){t(A),this.accommodate(A/8);do{A-=8,this.data.setInt8(this.write++,e>>A&255)}while(0<A);return this},n.DataBuffer.prototype.putSignedInt=function(e,A){return t(A),this.accommodate(A/8),0>e&&(e+=2<<A-1),this.putInt(e,A)},n.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},n.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},n.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},n.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},n.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},n.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},n.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},n.DataBuffer.prototype.getInt=function(e){t(e);var A=0;do{A=(A<<8)+this.data.getInt8(this.read++),e-=8}while(0<e);return A},n.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e);return t>=(e=2<<e-2)&&(t-=e<<1),t},n.DataBuffer.prototype.getBytes=function(e){if(e){e=Math.min(this.length(),e);var t=this.data.slice(this.read,this.read+e);this.read+=e}else 0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear());return t},n.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},n.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},n.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},n.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},n.DataBuffer.prototype.copy=function(){return new n.DataBuffer(this)},n.DataBuffer.prototype.compact=function(){if(0<this.read){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},n.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},n.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},n.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var A=this.data.getUint8(t);16>A&&(e+="0"),e+=A.toString(16)}return e},n.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return n.binary.raw.encode(t);if("hex"===e)return n.binary.hex.encode(t);if("base64"===e)return n.binary.base64.encode(t);if("utf8"===e)return n.text.utf8.decode(t);if("utf16"===e)return n.text.utf16.decode(t);throw Error("Invalid encoding: "+e)},n.createBuffer=function(e,t){return void 0!==e&&"utf8"===(t||"raw")&&(e=n.encodeUtf8(e)),new n.ByteBuffer(e)},n.fillString=function(e,t){for(var A="";0<t;)1&t&&(A+=e),0<(t>>>=1)&&(e+=e);return A},n.xorBytes=function(e,t,A){for(var n,r="",i="",o=0,a=0;0<A;--A,++o)n=e.charCodeAt(o)^t.charCodeAt(o),10<=a&&(r+=i,i="",a=0),i+=String.fromCharCode(n),++a;return r+i},n.hexToBytes=function(e){var t="",A=0;for(1&e.length&&(A=1,t+=String.fromCharCode(parseInt(e[0],16)));A<e.length;A+=2)t+=String.fromCharCode(parseInt(e.substr(A,2),16));return t},n.bytesToHex=function(e){return n.createBuffer(e).toHex()},n.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var r=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];n.encode64=function(e,t){for(var A,n,r,i="",o="",a=0;a<e.length;)A=e.charCodeAt(a++),n=e.charCodeAt(a++),r=e.charCodeAt(a++),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(A>>2),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((3&A)<<4|n>>4),isNaN(n)?i+="==":(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((15&n)<<2|r>>6),i+=isNaN(r)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(63&r)),t&&i.length>t&&(o+=i.substr(0,t)+"\r\n",i=i.substr(t));return o+i},n.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");for(var t,A,n,i,o="",a=0;a<e.length;)t=r[e.charCodeAt(a++)-43],A=r[e.charCodeAt(a++)-43],n=r[e.charCodeAt(a++)-43],i=r[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|A>>4),64!==n&&(o+=String.fromCharCode((15&A)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},n.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},n.decodeUtf8=function(e){return decodeURIComponent(escape(e))},n.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:U2,decode:V2}},n.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},n.binary.raw.decode=function(e,t,A){var n=t;n||(n=new Uint8Array(e.length));for(var r=A=A||0,i=0;i<e.length;++i)n[r++]=e.charCodeAt(i);return t?r-A:n},n.binary.hex.encode=n.bytesToHex,n.binary.hex.decode=function(e,t,A){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var r=0,i=A=A||0;for(1&e.length&&(r=1,n[i++]=parseInt(e[0],16));r<e.length;r+=2)n[i++]=parseInt(e.substr(r,2),16);return t?i-A:n},n.binary.base64.encode=function(e,t){for(var A,n,r,i="",o="",a=0;a<e.byteLength;)A=e[a++],n=e[a++],r=e[a++],i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(A>>2),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((3&A)<<4|n>>4),isNaN(n)?i+="==":(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((15&n)<<2|r>>6),i+=isNaN(r)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(63&r)),t&&i.length>t&&(o+=i.substr(0,t)+"\r\n",i=i.substr(t));return o+i},n.binary.base64.decode=function(e,t,A){var n=t;n||(n=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");for(var i,o,a,s,c=0,u=A=A||0;c<e.length;)i=r[e.charCodeAt(c++)-43],o=r[e.charCodeAt(c++)-43],a=r[e.charCodeAt(c++)-43],s=r[e.charCodeAt(c++)-43],n[u++]=i<<2|o>>4,64!==a&&(n[u++]=(15&o)<<4|a>>2,64!==s&&(n[u++]=(3&a)<<6|s));return t?u-A:n.subarray(0,u)},n.binary.base58.encode=function(e,t){return n.binary.baseN.encode(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",t)},n.binary.base58.decode=function(e,t){return n.binary.baseN.decode(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",t)},n.text={utf8:{},utf16:{}},n.text.utf8.encode=function(e,t,A){e=n.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var i=A=A||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-A:r},n.text.utf8.decode=function(e){return n.decodeUtf8(String.fromCharCode.apply(null,e))},n.text.utf16.encode=function(e,t,A){var n=t;n||(n=new Uint8Array(2*e.length));for(var r=new Uint16Array(n.buffer),i=A=A||0,o=A,a=0;a<e.length;++a)r[o++]=e.charCodeAt(a),i+=2;return t?i-A:n},n.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},n.deflate=function(e,t,A){return t=n.decode64(e.deflate(n.encode64(t)).rval),A&&(e=2,32&t.charCodeAt(1)&&(e=6),t=t.substring(e,t.length-4)),t},n.inflate=function(e,t,A){return null===(e=e.inflate(n.encode64(t)).rval)?null:n.decode64(e)};var i=function(e,t,A){if(!e)throw Error("WebStorage not available.");if(null===A?e=e.removeItem(t):(A=n.encode64(JSON.stringify(A)),e=e.setItem(t,A)),void 0!==e&&!0!==e.rval)throw(t=Error(e.error.message)).id=e.error.id,t.name=e.error.name,t},o=function(e,t){if(!e)throw Error("WebStorage not available.");if(t=e.getItem(t),e.init)if(null===t.rval){if(t.error)throw(e=Error(t.error.message)).id=t.error.id,e.name=t.error.name,e;t=null}else t=t.rval;return null!==t&&(t=JSON.parse(n.decode64(t))),t},a=function(e,t,A,n){var r=o(e,t);null===r&&(r={}),r[A]=n,i(e,t,r)},s=function(e,t,A){return null!==(e=o(e,t))&&(e=A in e?e[A]:null),e},c=function(e,t,A){var n=o(e,t);if(null!==n&&A in n){for(var r in delete n[A],A=!0,n){A=!1;break}A&&(n=null),i(e,t,n)}},u=function(e,t){i(e,t,null)},g=function(e,t,A){var n=null;void 0===A&&(A=["web","flash"]);var r,i=!1,o=null;for(r in A){var a=A[r];try{if("flash"===a||"both"===a){if(null===t[0])throw Error("Flash local storage not available.");n=e.apply(this,t),i="flash"===a}"web"!==a&&"both"!==a||(t[0]=localStorage,n=e.apply(this,t),i=!0)}catch(e){o=e}if(i)break}if(!i)throw o;return n};n.setItem=function(e,t,A,n,r){g(a,arguments,r)},n.getItem=function(e,t,A,n){return g(s,arguments,n)},n.removeItem=function(e,t,A,n){g(c,arguments,n)},n.clearItems=function(e,t,A){g(u,arguments,A)},n.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},n.format=function(e){var t,A,n=/%./g,r=0,i=[];for(A=0;t=n.exec(e);)switch(A=e.substring(A,n.lastIndex-2),0<A.length&&i.push(A),A=n.lastIndex,t=t[0][1],t){case"s":case"o":r<arguments.length?i.push(arguments[1+r++]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+t+"?>")}return i.push(e.substring(A)),i.join("")},n.formatNumber=function(e,t,A,n){var r=isNaN(t=Math.abs(t))?2:t;t=void 0===A?",":A,n=void 0===n?".":n,A=0>e?"-":"";var i=parseInt(e=Math.abs(+e||0).toFixed(r),10)+"",o=3<i.length?i.length%3:0;return A+(o?i.substr(0,o)+n:"")+i.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n)+(r?t+Math.abs(e-i).toFixed(r).slice(2):"")},n.formatSize=function(e){return 1073741824<=e?n.formatNumber(e/1073741824,2,".","")+" GiB":1048576<=e?n.formatNumber(e/1048576,2,".","")+" MiB":1024<=e?n.formatNumber(e/1024,0)+" KiB":n.formatNumber(e,0)+" bytes"},n.bytesFromIP=function(e){return-1!==e.indexOf(".")?n.bytesFromIPv4(e):-1!==e.indexOf(":")?n.bytesFromIPv6(e):null},n.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=n.createBuffer(),A=0;A<e.length;++A){var r=parseInt(e[A],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},n.bytesFromIPv6=function(e){for(var t=0,A=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),r=n.createBuffer(),i=0;8>i;++i)if(e[i]&&0!==e[i].length){var o=n.hexToBytes(e[i]);2>o.length&&r.putByte(0),r.putBytes(o)}else r.fillWithByte(0,A),A=0;return r.getBytes()},n.bytesToIP=function(e){return 4===e.length?n.bytesToIPv4(e):16===e.length?n.bytesToIPv6(e):null},n.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],A=0;A<e.length;++A)t.push(e.charCodeAt(A));return t.join(".")},n.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],A=[],r=0,i=0;i<e.length;i+=2){for(var o=n.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=A[A.length-1],s=t.length;a&&s===a.end+1?(a.end=s,a.end-a.start>A[r].end-A[r].start&&(r=A.length-1)):A.push({start:s,end:s})}t.push(o)}return 0<A.length&&(0<(e=A[r]).end-e.start&&(t.splice(e.start,e.end-e.start+1,""),0===e.start&&t.unshift(""),7===e.end&&t.push(""))),t.join(":")},n.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in n&&!e.update)return t(null,n.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&0<navigator.hardwareConcurrency)return n.cores=navigator.hardwareConcurrency,t(null,n.cores);if("undefined"==typeof Worker)return n.cores=1,t(null,n.cores);if("undefined"==typeof Blob)return n.cores=2,t(null,n.cores);var A=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){e=Date.now(),self.postMessage({st:e,et:e+4})}))}.toString(),")()"],{type:"application/javascript"}));!function e(r,i,o){if(0===i){var a=Math.floor(r.reduce((function(e,t){return e+t}),0)/r.length);return n.cores=Math.max(1,a),URL.revokeObjectURL(A),t(null,n.cores)}!function(e,t){for(var n=[],r=[],i=0;i<e;++i){var o=new Worker(A);o.addEventListener("message",(function(A){if(r.push(A.data),r.length===e){for(A=0;A<e;++A)n[A].terminate();t(null,r)}})),n.push(o)}for(i=0;i<e;++i)n[i].postMessage(i)}(o,(function(t,A){r.push(function(e,t){for(var A=[],n=0;n<e;++n)for(var r=t[n],i=A[n]=[],o=0;o<e;++o)if(n!==o){var a=t[o];(r.st>a.st&&r.st<a.et||a.st>r.st&&a.st<r.et)&&i.push(o)}return A.reduce((function(e,t){return Math.max(e,t.length)}),0)}(o,A)),e(r,i-1,o)}))}([],5,16)}})),ka.cipher=ka.cipher||{},ka.cipher.algorithms=ka.cipher.algorithms||{},ka.cipher.createCipher=function(e,t){var A=e;if("string"==typeof A&&(A=ka.cipher.getAlgorithm(A))&&(A=A()),!A)throw Error("Unsupported algorithm: "+e);return new ka.cipher.BlockCipher({algorithm:A,key:t,decrypt:!1})},ka.cipher.createDecipher=function(e,t){var A=e;if("string"==typeof A&&(A=ka.cipher.getAlgorithm(A))&&(A=A()),!A)throw Error("Unsupported algorithm: "+e);return new ka.cipher.BlockCipher({algorithm:A,key:t,decrypt:!0})},ka.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),ka.cipher.algorithms[e]=t},ka.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in ka.cipher.algorithms?ka.cipher.algorithms[e]:null};var UD=ka.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this.output=this._input=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};UD.prototype.start=function(e){e=e||{};var t,A={};for(t in e)A[t]=e[t];A.decrypt=this._decrypt,this._finish=!1,this._input=ka.util.createBuffer(),this.output=e.output||ka.util.createBuffer(),this.mode.start(A)},UD.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},UD.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))},$c((function(e){function t(e,t){if("string"==typeof e&&(e=ka.util.createBuffer(e)),ka.util.isArray(e)&&4<e.length){var A=e;e=ka.util.createBuffer();for(var n=0;n<A.length;++n)e.putByte(A[n])}if(e.length()<t)throw Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!ka.util.isArray(e)){for(A=[],t/=4,n=0;n<t;++n)A.push(e.getInt32());e=A}return e}function A(e){e[e.length-1]=e[e.length-1]+1&4294967295}function n(e){return[e/4294967296|0,4294967295&e]}ka.cipher=ka.cipher||{},(e=e.exports=ka.cipher.modes=ka.cipher.modes||{}).ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},e.ecb.prototype.start=function(e){},e.ecb.prototype.encrypt=function(e,t,A){if(e.length()<this.blockSize&&!(A&&0<e.length()))return!0;for(A=0;A<this._ints;++A)this._inBlock[A]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),A=0;A<this._ints;++A)t.putInt32(this._outBlock[A])},e.ecb.prototype.decrypt=function(e,t,A){if(e.length()<this.blockSize&&!(A&&0<e.length()))return!0;for(A=0;A<this._ints;++A)this._inBlock[A]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),A=0;A<this._ints;++A)t.putInt32(this._outBlock[A])},e.ecb.prototype.pad=function(e,t){return t=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length(),e.fillWithByte(t,t),!0},e.ecb.prototype.unpad=function(e,t){return!(0<t.overflow)&&(t=e.length(),!((t=e.at(t-1))>this.blockSize<<2)&&(e.truncate(t),!0))},e.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},e.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=t(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(e,t,A){if(e.length()<this.blockSize&&!(A&&0<e.length()))return!0;for(A=0;A<this._ints;++A)this._inBlock[A]=this._prev[A]^e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),A=0;A<this._ints;++A)t.putInt32(this._outBlock[A]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(e,t,A){if(e.length()<this.blockSize&&!(A&&0<e.length()))return!0;for(A=0;A<this._ints;++A)this._inBlock[A]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),A=0;A<this._ints;++A)t.putInt32(this._prev[A]^this._outBlock[A]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(e,t){return t=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length(),e.fillWithByte(t,t),!0},e.cbc.prototype.unpad=function(e,t){return!(0<t.overflow)&&(t=e.length(),!((t=e.at(t-1))>this.blockSize<<2)&&(e.truncate(t),!0))},e.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialBlock=Array(this._ints),this._partialOutput=ka.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=t(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(e,t,A){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32()^this._outBlock[r],t.putInt32(this._inBlock[r]);else{var i=(this.blockSize-n)%this.blockSize;for(0<i&&(i=this.blockSize-i),this._partialOutput.clear(),r=0;r<this._ints;++r)this._partialBlock[r]=e.getInt32()^this._outBlock[r],this._partialOutput.putInt32(this._partialBlock[r]);if(0<i)e.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=this._partialBlock[r];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<i&&!A)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(e,t,A){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32(),t.putInt32(this._inBlock[r]^this._outBlock[r]);else{var i=(this.blockSize-n)%this.blockSize;for(0<i&&(i=this.blockSize-i),this._partialOutput.clear(),r=0;r<this._ints;++r)this._partialBlock[r]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[r]^this._outBlock[r]);if(0<i)e.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=this._partialBlock[r];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<i&&!A)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=ka.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=t(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(e,t,A){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var r=0;r<this._ints;++r)t.putInt32(e.getInt32()^this._outBlock[r]),this._inBlock[r]=this._outBlock[r];else{var i=(this.blockSize-n)%this.blockSize;for(0<i&&(i=this.blockSize-i),this._partialOutput.clear(),r=0;r<this._ints;++r)this._partialOutput.putInt32(e.getInt32()^this._outBlock[r]);if(0<i)e.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=this._outBlock[r];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<i&&!A)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=ka.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");this._iv=t(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-r)%this.blockSize;for(0<o&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0<o&&(e.read-=this.blockSize),0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<o&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}A(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints),this._partialOutput=ka.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(e){if(!("iv"in e))throw Error("Invalid IV parameter.");var t=ka.util.createBuffer(e.iv);this._cipherLength=0;var r="additionalData"in e?ka.util.createBuffer(e.additionalData):ka.util.createBuffer();if(this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=ka.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error("Authentication tag does not match tag length.");if(this._hashBlock=Array(this._ints),this.tag=null,this._hashSubkey=Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits),12===(e=t.length()))this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];0<t.length();)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(n(8*e)))}for(this._inBlock=this._j0.slice(0),A(this._inBlock),this._partialBytes=0,r=ka.util.createBuffer(r),this._aDataLength=n(8*r.length()),(t=r.length()%this.blockSize)&&r.fillWithByte(0,this.blockSize-t),this._s=[0,0,0,0];0<r.length();)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])},e.gcm.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-r)%this.blockSize;for(0<o&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0>=o||n){for(n?(i=r%this.blockSize,this._cipherLength+=i,this._partialOutput.truncate(this.blockSize-i)):this._cipherLength+=this.blockSize,i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<o&&!n)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),A(this._inBlock)},e.gcm.prototype.decrypt=function(e,t,n){var r=e.length();if(r<this.blockSize&&!(n&&0<r))return!0;for(this.cipher.encrypt(this._inBlock,this._outBlock),A(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock),e=0;e<this._ints;++e)t.putInt32(this._outBlock[e]^this._hashBlock[e]);this._cipherLength=r<this.blockSize?this._cipherLength+r%this.blockSize:this._cipherLength+this.blockSize},e.gcm.prototype.afterFinish=function(e,t){var A=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=ka.util.createBuffer(),e=this._aDataLength.concat(n(8*this._cipherLength)),this._s=this.ghash(this._hashSubkey,this._s,e),e=[],this.cipher.encrypt(this._j0,e);for(var r=0;r<this._ints;++r)this.tag.putInt32(this._s[r]^e[r]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(A=!1),A},e.gcm.prototype.multiply=function(e,t){var A=[0,0,0,0];t=t.slice(0);for(var n=0;128>n;++n)e[n/32|0]&1<<31-n%32&&(A[0]^=t[0],A[1]^=t[1],A[2]^=t[2],A[3]^=t[3]),this.pow(t,t);return A},e.gcm.prototype.pow=function(e,t){for(var A=1&e[3],n=3;0<n;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,A&&(t[0]^=this._R)},e.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],A=0;32>A;++A){var n=this._m[A][e[A/8|0]>>>4*(7-A%8)&15];t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3]}return t},e.gcm.prototype.ghash=function(e,t,A){return t[0]^=A[0],t[1]^=A[1],t[2]^=A[2],t[3]^=A[3],this.tableMultiply(t)},e.gcm.prototype.generateHashTable=function(e,t){var A=8/t,n=4*A;A*=16;for(var r=Array(A),i=0;i<A;++i){var o=[0,0,0,0];o[i/n|0]=1<<t-1<<(n-1-i%n)*t,r[i]=this.generateSubHashTable(this.multiply(o,e),t)}return r},e.gcm.prototype.generateSubHashTable=function(e,t){var A=(t=1<<t)>>>1,n=Array(t);n[A]=e.slice(0);for(var r=A>>>1;0<r;)this.pow(n[2*r],n[r]=[]),r>>=1;for(r=2;r<A;){for(var i=1;i<r;++i){var o=n[r],a=n[i];n[r+i]=[o[0]^a[0],o[1]^a[1],o[2]^a[2],o[3]^a[3]]}r*=2}for(n[0]=[0,0,0,0],r=A+1;r<t;++r)i=n[r^A],n[r]=[e[0]^i[0],e[1]^i[1],e[2]^i[2],e[3]^i[3]];return n}})),ka.aes=ka.aes||{},ka.aes.startEncrypting=function(e,t,A,n){return(e=ew({key:e,output:A,decrypt:!1,mode:n})).start(t),e},ka.aes.createEncryptionCipher=function(e,t){return ew({key:e,output:null,decrypt:!1,mode:t})},ka.aes.startDecrypting=function(e,t,A,n){return(e=ew({key:e,output:A,decrypt:!0,mode:n})).start(t),e},ka.aes.createDecryptionCipher=function(e,t){return ew({key:e,output:null,decrypt:!0,mode:t})},ka.aes.Algorithm=function(e,t){LA||vI();var A=this;A.name=e,A.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return NA(A._w,e,t,!1)},decrypt:function(e,t){return NA(A._w,e,t,!0)}}}),A._init=!1},ka.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key;if("string"!=typeof t||16!==t.length&&24!==t.length&&32!==t.length){if(ka.util.isArray(t)&&(16===t.length||24===t.length||32===t.length)){var A=t;t=ka.util.createBuffer();for(var n=0;n<A.length;++n)t.putByte(A[n])}}else t=ka.util.createBuffer(t);if(!ka.util.isArray(t)){A=t,t=[];var r=A.length();if(16===r||24===r||32===r)for(r>>>=2,n=0;n<r;++n)t.push(A.getInt32())}if(!ka.util.isArray(t)||4!==t.length&&6!==t.length&&8!==t.length)throw Error("Invalid key parameter.");A=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name),this._w=xI(t,e.decrypt&&!A),this._init=!0}},ka.aes._expandKey=function(e,t){return LA||vI(),xI(e,t)},ka.aes._updateBlock=NA,lq("AES-ECB",ka.cipher.modes.ecb),lq("AES-CBC",ka.cipher.modes.cbc),lq("AES-CFB",ka.cipher.modes.cfb),lq("AES-OFB",ka.cipher.modes.ofb),lq("AES-CTR",ka.cipher.modes.ctr),lq("AES-GCM",ka.cipher.modes.gcm);var LA=!1,mq=4,Ph,MA,wI,yo,ik,VD=ec.parseFloat,rO=-1/0!=1/VD("\t\n\v\f\r \u2028\u2029\ufeff-0")?function(e){e=Uw(String(e));var t=VD(e);return 0===t&&"-"==e.charAt(0)?-0:t}:VD;qc({global:!0,forced:parseFloat!=rO},{parseFloat:rO}),$c((function(e){function t(e,t){A[e]=t,A[t]=e}ka.pki=ka.pki||{};var A=e.exports=ka.pki.oids=ka.oids=ka.oids||{};t("1.2.840.113549.1.1.1","rsaEncryption"),t("1.2.840.113549.1.1.4","md5WithRSAEncryption"),t("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),t("1.2.840.113549.1.1.7","RSAES-OAEP"),t("1.2.840.113549.1.1.8","mgf1"),t("1.2.840.113549.1.1.9","pSpecified"),t("1.2.840.113549.1.1.10","RSASSA-PSS"),t("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),t("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),t("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),t("1.3.101.112","EdDSA25519"),t("1.2.840.10040.4.3","dsa-with-sha1"),t("1.3.14.3.2.7","desCBC"),t("1.3.14.3.2.26","sha1"),t("1.3.14.3.2.29","sha1WithRSASignature"),t("2.16.840.1.101.3.4.2.1","sha256"),t("2.16.840.1.101.3.4.2.2","sha384"),t("2.16.840.1.101.3.4.2.3","sha512"),t("2.16.840.1.101.3.4.2.4","sha224"),t("2.16.840.1.101.3.4.2.5","sha512-224"),t("2.16.840.1.101.3.4.2.6","sha512-256"),t("1.2.840.113549.2.2","md2"),t("1.2.840.113549.2.5","md5"),t("1.2.840.113549.1.7.1","data"),t("1.2.840.113549.1.7.2","signedData"),t("1.2.840.113549.1.7.3","envelopedData"),t("1.2.840.113549.1.7.4","signedAndEnvelopedData"),t("1.2.840.113549.1.7.5","digestedData"),t("1.2.840.113549.1.7.6","encryptedData"),t("1.2.840.113549.1.9.1","emailAddress"),t("1.2.840.113549.1.9.2","unstructuredName"),t("1.2.840.113549.1.9.3","contentType"),t("1.2.840.113549.1.9.4","messageDigest"),t("1.2.840.113549.1.9.5","signingTime"),t("1.2.840.113549.1.9.6","counterSignature"),t("1.2.840.113549.1.9.7","challengePassword"),t("1.2.840.113549.1.9.8","unstructuredAddress"),t("1.2.840.113549.1.9.14","extensionRequest"),t("1.2.840.113549.1.9.20","friendlyName"),t("1.2.840.113549.1.9.21","localKeyId"),t("1.2.840.113549.1.9.22.1","x509Certificate"),t("1.2.840.113549.1.12.10.1.1","keyBag"),t("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),t("1.2.840.113549.1.12.10.1.3","certBag"),t("1.2.840.113549.1.12.10.1.4","crlBag"),t("1.2.840.113549.1.12.10.1.5","secretBag"),t("1.2.840.113549.1.12.10.1.6","safeContentsBag"),t("1.2.840.113549.1.5.13","pkcs5PBES2"),t("1.2.840.113549.1.5.12","pkcs5PBKDF2"),t("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),t("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),t("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),t("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),t("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),t("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),t("1.2.840.113549.2.7","hmacWithSHA1"),t("1.2.840.113549.2.8","hmacWithSHA224"),t("1.2.840.113549.2.9","hmacWithSHA256"),t("1.2.840.113549.2.10","hmacWithSHA384"),t("1.2.840.113549.2.11","hmacWithSHA512"),t("1.2.840.113549.3.7","des-EDE3-CBC"),t("2.16.840.1.101.3.4.1.2","aes128-CBC"),t("2.16.840.1.101.3.4.1.22","aes192-CBC"),t("2.16.840.1.101.3.4.1.42","aes256-CBC"),t("2.5.4.3","commonName"),t("2.5.4.4","surname"),t("2.5.4.5","serialNumber"),t("2.5.4.6","countryName"),t("2.5.4.7","localityName"),t("2.5.4.8","stateOrProvinceName"),t("2.5.4.9","streetAddress"),t("2.5.4.10","organizationName"),t("2.5.4.11","organizationalUnitName"),t("2.5.4.12","title"),t("2.5.4.13","description"),t("2.5.4.15","businessCategory"),t("2.5.4.17","postalCode"),t("2.5.4.42","givenName"),t("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),t("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),t("2.16.840.1.113730.1.1","nsCertType"),t("2.16.840.1.113730.1.13","nsComment"),A["2.5.29.1"]="authorityKeyIdentifier",A["2.5.29.2"]="keyAttributes",A["2.5.29.3"]="certificatePolicies",A["2.5.29.4"]="keyUsageRestriction",A["2.5.29.5"]="policyMapping",A["2.5.29.6"]="subtreesConstraint",A["2.5.29.7"]="subjectAltName",A["2.5.29.8"]="issuerAltName",A["2.5.29.9"]="subjectDirectoryAttributes",A["2.5.29.10"]="basicConstraints",A["2.5.29.11"]="nameConstraints",A["2.5.29.12"]="policyConstraints",A["2.5.29.13"]="basicConstraints",t("2.5.29.14","subjectKeyIdentifier"),t("2.5.29.15","keyUsage"),A["2.5.29.16"]="privateKeyUsagePeriod",t("2.5.29.17","subjectAltName"),t("2.5.29.18","issuerAltName"),t("2.5.29.19","basicConstraints"),A["2.5.29.20"]="cRLNumber",A["2.5.29.21"]="cRLReason",A["2.5.29.22"]="expirationDate",A["2.5.29.23"]="instructionCode",A["2.5.29.24"]="invalidityDate",A["2.5.29.25"]="cRLDistributionPoints",A["2.5.29.26"]="issuingDistributionPoint",A["2.5.29.27"]="deltaCRLIndicator",A["2.5.29.28"]="issuingDistributionPoint",A["2.5.29.29"]="certificateIssuer",A["2.5.29.30"]="nameConstraints",t("2.5.29.31","cRLDistributionPoints"),t("2.5.29.32","certificatePolicies"),A["2.5.29.33"]="policyMappings",A["2.5.29.34"]="policyConstraints",t("2.5.29.35","authorityKeyIdentifier"),A["2.5.29.36"]="policyConstraints",t("2.5.29.37","extKeyUsage"),A["2.5.29.46"]="freshestCRL",A["2.5.29.54"]="inhibitAnyPolicy",t("1.3.6.1.4.1.11129.2.4.2","timestampList"),t("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),t("1.3.6.1.5.5.7.3.1","serverAuth"),t("1.3.6.1.5.5.7.3.2","clientAuth"),t("1.3.6.1.5.5.7.3.3","codeSigning"),t("1.3.6.1.5.5.7.3.4","emailProtection"),t("1.3.6.1.5.5.7.3.8","timeStamping")})),$c((function(e){function t(e,t,A){if(A>t){var n=Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=A,n}}function A(e,r,i,o){t(e,r,2);var a=e.getByte();r--;var s,c=192&a,u=31&a,g=e.length(),I=r,l=e.getByte();if(I--,128===l)I=void 0;else if(128&l?(t(e,I,l&=127),I=e.getInt(l<<3)):I=l,0>I)throw Error("Negative length: "+I);if(r-=g-e.length(),void 0!==I&&I>r){if(o.strict)throw(i=Error("Too few bytes to read ASN.1 value.")).available=e.length(),i.remaining=r,i.requested=I,i;I=r}if(a=32==(32&a)){var E=[];if(void 0===I)for(;;){if(t(e,r,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),r-=2;break}g=e.length(),E.push(A(e,r,i+1,o)),r-=g-e.length()}else for(;0<I;)g=e.length(),E.push(A(e,I,i+1,o)),r-=g-e.length(),I-=g-e.length()}if(void 0===E&&c===n.Class.UNIVERSAL&&u===n.Type.BITSTRING&&(s=e.bytes(I)),void 0===E&&o.decodeBitStrings&&c===n.Class.UNIVERSAL&&u===n.Type.BITSTRING&&1<I){l=e.read;var C=r,d=0;if(u===n.Type.BITSTRING&&(t(e,r,1),d=e.getByte(),r--),0===d)try{g=e.length();var h=A(e,r,i+1,{strict:!0,decodeBitStrings:!0}),p=g-e.length();r-=p,u==n.Type.BITSTRING&&p++;var f=h.tagClass;p!==I||f!==n.Class.UNIVERSAL&&f!==n.Class.CONTEXT_SPECIFIC||(E=[h])}catch(e){}void 0===E&&(e.read=l,r=C)}if(void 0===E){if(void 0===I){if(o.strict)throw Error("Non-constructed ASN.1 object of indefinite length.");I=r}if(u===n.Type.BMPSTRING)for(E="";0<I;I-=2)t(e,r,2),E+=String.fromCharCode(e.getInt16()),r-=2;else E=e.getBytes(I)}return n.create(c,u,a,E,void 0===s?null:{bitStringContents:s})}var n=e.exports=ka.asn1=ka.asn1||{};n.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},n.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},n.create=function(e,t,A,r,i){if(ka.util.isArray(r)){for(var o=[],a=0;a<r.length;++a)void 0!==r[a]&&o.push(r[a]);r=o}return e={tagClass:e,type:t,constructed:A,composed:A||ka.util.isArray(r),value:r},i&&"bitStringContents"in i&&(e.bitStringContents=i.bitStringContents,e.original=n.copy(e)),e},n.copy=function(e,t){if(ka.util.isArray(e)){for(var A=[],r=0;r<e.length;++r)A.push(n.copy(e[r],t));return A}return"string"==typeof e?e:(A={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:n.copy(e.value,t)},t&&!t.excludeBitStringContents&&(A.bitStringContents=e.bitStringContents),A)},n.equals=function(e,t,A){if(ka.util.isArray(e)){if(!ka.util.isArray(t)||e.length!==t.length)return!1;for(A=0;A<e.length;++A)if(!n.equals(e[A],t[A]))return!1;return!0}if(ub(e)!==ub(t))return!1;if("string"==typeof e)return e===t;var r=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&n.equals(e.value,t.value);return A&&A.includeBitStringContents&&(r=r&&e.bitStringContents===t.bitStringContents),r},n.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t},n.fromDer=function(e,t){void 0===t&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=ka.util.createBuffer(e));var n=e.length(),r=A(e,e.length(),0,t);if(t.parseAllBytes&&0!==e.length())throw(t=Error("Unparsed DER bytes remain after ASN.1 parsing.")).byteCount=n,t.remaining=e.length(),t;return r},n.toDer=function(e){var t=ka.util.createBuffer(),A=e.tagClass|e.type,r=ka.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=n.equals(e,e.original))),i)r.putBytes(e.bitStringContents);else if(e.composed)for(e.constructed?A|=32:r.putByte(0),i=0;i<e.value.length;++i)void 0!==e.value[i]&&r.putBuffer(n.toDer(e.value[i]));else if(e.type===n.Type.BMPSTRING)for(i=0;i<e.value.length;++i)r.putInt16(e.value.charCodeAt(i));else e.type===n.Type.INTEGER&&1<e.value.length&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?r.putBytes(e.value.substr(1)):r.putBytes(e.value);if(t.putByte(A),127>=r.length())t.putByte(127&r.length());else{A=r.length(),e="";do{e+=String.fromCharCode(255&A),A>>>=8}while(0<A);for(t.putByte(128|e.length),i=e.length-1;0<=i;--i)t.putByte(e.charCodeAt(i))}return t.putBuffer(r),t},n.oidToDer=function(e){e=e.split(".");var t=ka.util.createBuffer();t.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var A,n,r,i,o=2;o<e.length;++o){A=!0,n=[],r=parseInt(e[o],10);do{i=127&r,r>>>=7,A||(i|=128),n.push(i),A=!1}while(0<r);for(A=n.length-1;0<=A;--A)t.putByte(n[A])}return t},n.derToOid=function(e){"string"==typeof e&&(e=ka.util.createBuffer(e));for(var t=e.getByte(),A=Math.floor(t/40)+"."+t%40,n=0;0<e.length();)n<<=7,128&(t=e.getByte())?n+=127&t:(A+="."+(n+t),n=0);return A},n.utcTimeToDate=function(e){var t=new Date,A=parseInt(e.substr(0,2),10);A=50<=A?1900+A:2e3+A;var n=parseInt(e.substr(2,2),10)-1,r=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=0;if(11<e.length){var s=e.charAt(10),c=10;"+"!==s&&"-"!==s&&(a=parseInt(e.substr(10,2),10),c+=2)}return t.setUTCFullYear(A,n,r),t.setUTCHours(i,o,a,0),c&&("+"===(s=e.charAt(c))||"-"===s)&&(A=parseInt(e.substr(c+1,2),10),e=6e4*(60*A+(e=parseInt(e.substr(c+4,2),10))),"+"===s?t.setTime(+t-e):t.setTime(+t+e)),t},n.generalizedTimeToDate=function(e){var t=new Date,A=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,r=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),s=0,c=0,u=!1;"Z"===e.charAt(e.length-1)&&(u=!0);var g=e.length-5,I=e.charAt(g);return"+"!==I&&"-"!==I||(c=6e4*(60*(c=parseInt(e.substr(g+1,2),10))+(g=parseInt(e.substr(g+4,2),10))),"+"===I&&(c*=-1),u=!0),"."===e.charAt(14)&&(s=1e3*parseFloat(e.substr(14),10)),u?(t.setUTCFullYear(A,n,r),t.setUTCHours(i,o,a,s),t.setTime(+t+c)):(t.setFullYear(A,n,r),t.setHours(i,o,a,s)),t},n.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",A=[];for(A.push((""+e.getUTCFullYear()).substr(2)),A.push(""+(e.getUTCMonth()+1)),A.push(""+e.getUTCDate()),A.push(""+e.getUTCHours()),A.push(""+e.getUTCMinutes()),A.push(""+e.getUTCSeconds()),e=0;e<A.length;++e)2>A[e].length&&(t+="0"),t+=A[e];return t+"Z"},n.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",A=[];for(A.push(""+e.getUTCFullYear()),A.push(""+(e.getUTCMonth()+1)),A.push(""+e.getUTCDate()),A.push(""+e.getUTCHours()),A.push(""+e.getUTCMinutes()),A.push(""+e.getUTCSeconds()),e=0;e<A.length;++e)2>A[e].length&&(t+="0"),t+=A[e];return t+"Z"},n.integerToDer=function(e){var t=ka.util.createBuffer();if(-128<=e&&128>e)return t.putSignedInt(e,8);if(-32768<=e&&32768>e)return t.putSignedInt(e,16);if(-8388608<=e&&8388608>e)return t.putSignedInt(e,24);if(-2147483648<=e&&2147483648>e)return t.putSignedInt(e,32);throw(t=Error("Integer too large; max is 32-bits.")).integer=e,t},n.derToInteger=function(e){"string"==typeof e&&(e=ka.util.createBuffer(e));var t=8*e.length();if(32<t)throw Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},n.validate=function(e,t,A,r){var i=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)r&&(e.tagClass!==t.tagClass&&r.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&r.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(i=!0,t.value&&ka.util.isArray(t.value))for(var o=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[o]&&((i=n.validate(e.value[o],t.value[a],A,r))?++o:t.value[a].optional&&(i=!0)),!i&&r&&r.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&A&&(t.capture&&(A[t.capture]=e.value),t.captureAsn1&&(A[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(A[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(2>e.bitStringContents.length)A[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw Error("captureBitStringValue only supported for zero unused bits");A[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else r&&r.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return i};var r=/[^\\u0000-\\u00ff]/;n.prettyPrint=function(e,t,A){var i="";A=A||2,0<(t=t||0)&&(i+="\n");for(var o="",a=0;a<t*A;++a)o+=" ";switch(i+=o+"Tag: ",e.tagClass){case n.Class.UNIVERSAL:i+="Universal:";break;case n.Class.APPLICATION:i+="Application:";break;case n.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case n.Class.PRIVATE:i+="Private:"}if(e.tagClass===n.Class.UNIVERSAL)switch(i+=e.type,e.type){case n.Type.NONE:i+=" (None)";break;case n.Type.BOOLEAN:i+=" (Boolean)";break;case n.Type.INTEGER:i+=" (Integer)";break;case n.Type.BITSTRING:i+=" (Bit string)";break;case n.Type.OCTETSTRING:i+=" (Octet string)";break;case n.Type.NULL:i+=" (Null)";break;case n.Type.OID:i+=" (Object Identifier)";break;case n.Type.ODESC:i+=" (Object Descriptor)";break;case n.Type.EXTERNAL:i+=" (External or Instance of)";break;case n.Type.REAL:i+=" (Real)";break;case n.Type.ENUMERATED:i+=" (Enumerated)";break;case n.Type.EMBEDDED:i+=" (Embedded PDV)";break;case n.Type.UTF8:i+=" (UTF8)";break;case n.Type.ROID:i+=" (Relative Object Identifier)";break;case n.Type.SEQUENCE:i+=" (Sequence)";break;case n.Type.SET:i+=" (Set)";break;case n.Type.PRINTABLESTRING:i+=" (Printable String)";break;case n.Type.IA5String:i+=" (IA5String (ASCII))";break;case n.Type.UTCTIME:i+=" (UTC time)";break;case n.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case n.Type.BMPSTRING:i+=" (BMP String)"}else i+=e.type;if(i=i+"\n"+o+"Constructed: "+e.constructed+"\n",e.composed){var s=0,c="";for(a=0;a<e.value.length;++a)void 0!==e.value[a]&&(s+=1,c+=n.prettyPrint(e.value[a],t+1,A),a+1<e.value.length&&(c+=","));i+=o+"Sub values: "+s+c}else if(i+=o+"Value: ",e.type===n.Type.OID&&(i+=t=n.derToOid(e.value),ka.pki&&ka.pki.oids&&t in ka.pki.oids&&(i+=" ("+ka.pki.oids[t]+") ")),e.type===n.Type.INTEGER)try{i+=n.derToInteger(e.value)}catch(t){i+="0x"+ka.util.bytesToHex(e.value)}else if(e.type===n.Type.BITSTRING)i=1<e.value.length?i+"0x"+ka.util.bytesToHex(e.value.slice(1)):i+"(none)",0<e.value.length&&(1==(e=e.value.charCodeAt(0))?i+=" (1 unused bit shown)":1<e&&(i+=" ("+e+" unused bits shown)"));else if(e.type===n.Type.OCTETSTRING)r.test(e.value)||(i+="("+e.value+") "),i+="0x"+ka.util.bytesToHex(e.value);else if(e.type===n.Type.UTF8)try{i+=ka.util.decodeUtf8(e.value)}catch(t){if("URI malformed"!==t.message)throw t;i+="0x"+ka.util.bytesToHex(e.value)+" (malformed UTF8)"}else i=e.type===n.Type.PRINTABLESTRING||e.type===n.Type.IA5String?i+e.value:r.test(e.value)?i+"0x"+ka.util.bytesToHex(e.value):0===e.value.length?i+"[null]":i+e.value;return i}})),ka.md=ka.md||{},ka.md.algorithms=ka.md.algorithms||{},$c((function(e){(e.exports=ka.hmac=ka.hmac||{}).create=function(){var e=null,t=null,A=null,n={start:function(n,r){if(null!==n)if("string"==typeof n){if(!((n=n.toLowerCase())in ka.md.algorithms))throw Error('Unknown hash algorithm "'+n+'"');e=ka.md.algorithms[n].create()}else e=n;if(null!==r){if("string"==typeof r)r=ka.util.createBuffer(r);else if(ka.util.isArray(r)){n=r,r=ka.util.createBuffer();for(var i=0;i<n.length;++i)r.putByte(n[i])}var o=r.length();for(o>e.blockLength&&(e.start(),e.update(r.bytes()),r=e.digest()),t=ka.util.createBuffer(),A=ka.util.createBuffer(),o=r.length(),i=0;i<o;++i)n=r.at(i),t.putByte(54^n),A.putByte(92^n);if(o<e.blockLength)for(n=e.blockLength-o,i=0;i<n;++i)t.putByte(54),A.putByte(92);t=t.bytes(),A=A.bytes()}e.start(),e.update(t)},update:function(t){e.update(t)},getMac:function(){var t=e.digest().bytes();return e.start(),e.update(A),e.update(t),e.digest()}};return n.digest=n.getMac,n}})),$c((function(e){function t(e,t,A){for(var o,a,s,c,u,g,I,l=A.length();64<=l;){for(a=e.h0,s=e.h1,c=e.h2,u=e.h3,I=0;16>I;++I)t[I]=A.getInt32Le(),o=a+(o=u^s&(c^u))+i[I]+t[I],a=u,u=c,c=s,s+=o<<(g=r[I])|o>>>32-g;for(;32>I;++I)o=a+(o=c^u&(s^c))+i[I]+t[n[I]],a=u,u=c,c=s,s+=o<<(g=r[I])|o>>>32-g;for(;48>I;++I)o=a+(o=s^c^u)+i[I]+t[n[I]],a=u,u=c,c=s,s+=o<<(g=r[I])|o>>>32-g;for(;64>I;++I)o=a+(o=c^(s|~u))+i[I]+t[n[I]],a=u,u=c,c=s,s+=o<<(g=r[I])|o>>>32-g;e.h0=e.h0+a|0,e.h1=e.h1+s|0,e.h2=e.h2+c|0,e.h3=e.h3+u|0,l-=64}}e=e.exports=ka.md5=ka.md5||{},ka.md.md5=ka.md.algorithms.md5=e,e.create=function(){o||function(){A=String.fromCharCode(128),A+=ka.util.fillString(String.fromCharCode(0),64),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],r=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],i=Array(64);for(var e=0;64>e;++e)i[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));o=!0}();var e=null,a=ka.util.createBuffer(),s=Array(16),c={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){c.messageLength=0,c.fullMessageLength=c.messageLength64=[];for(var t=c.messageLengthSize/4,A=0;A<t;++A)c.fullMessageLength.push(0);return a=ka.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},c}};return c.start(),c.update=function(A,n){"utf8"===n&&(A=ka.util.encodeUtf8(A)),n=A.length,c.messageLength+=n,n=[n/4294967296>>>0,n>>>0];for(var r=c.fullMessageLength.length-1;0<=r;--r)c.fullMessageLength[r]+=n[1],n[1]=n[0]+(c.fullMessageLength[r]/4294967296>>>0),c.fullMessageLength[r]>>>=0,n[0]=n[1]/4294967296>>>0;return a.putBytes(A),t(e,s,a),(2048<a.read||0===a.length())&&a.compact(),c},c.digest=function(){var n=ka.util.createBuffer();n.putBytes(a.bytes()),n.putBytes(A.substr(0,c.blockLength-(c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize&c.blockLength-1)));for(var r,i=0,o=c.fullMessageLength.length-1;0<=o;--o)i=(r=8*c.fullMessageLength[o]+i)/4294967296>>>0,n.putInt32Le(r>>>0);return t(r={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3},s,n),(n=ka.util.createBuffer()).putInt32Le(r.h0),n.putInt32Le(r.h1),n.putInt32Le(r.h2),n.putInt32Le(r.h3),n},c};var A=null,n=null,r=null,i=null,o=!1})),$c((function(e){function t(e){for(var t=e.name+": ",A=[],n=function(e,t){return" "+t},r=0;r<e.values.length;++r)A.push(e.values[r].replace(/^(\S+\r\n)/,n));for(t+=A.join(",")+"\r\n",A=0,e=-1,r=0;r<t.length;++r,++A)65<A&&-1!==e?(","===(A=t[e])?(++e,t=t.substr(0,e)+"\r\n "+t.substr(e)):t=t.substr(0,e)+"\r\n"+A+t.substr(e+1),A=r-e-1,e=-1,++r):" "!==t[r]&&"\t"!==t[r]&&","!==t[r]||(e=r);return t}(e=e.exports=ka.pem=ka.pem||{}).encode=function(e,A){A=A||{};var n="-----BEGIN "+e.type+"-----\r\n";if(e.procType){var r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]};n+=t(r)}if(e.contentDomain&&(n+=t(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),n+=t(r)),e.headers)for(r=0;r<e.headers.length;++r)n+=t(e.headers[r]);return e.procType&&(n+="\r\n"),(n+=ka.util.encode64(e.body,A.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"},e.decode=function(e){for(var t,A=[],n=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,r=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/;t=n.exec(e);){var o=t[1];if("NEW CERTIFICATE REQUEST"===o&&(o="CERTIFICATE REQUEST"),o={type:o,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ka.util.decode64(t[3])},A.push(o),t[2]){for(var a=t[2].split(i),s=0;t&&s<a.length;){t=a[s].replace(/\s+$/,"");for(var c=s+1;c<a.length;++c){var u=a[c];if(!/\s/.test(u[0]))break;t+=u,s=c}if(t=t.match(r)){c={name:t[1],values:[]},u=t[2].split(",");for(var g=0;g<u.length;++g)c.values.push(u[g].replace(/^\s+/,""));if(o.procType)if(o.contentDomain||"Content-Domain"!==c.name)if(o.dekInfo||"DEK-Info"!==c.name)o.headers.push(c);else{if(0===c.values.length)throw Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:u[0],parameters:u[1]||null}}else o.contentDomain=u[0]||"";else{if("Proc-Type"!==c.name)throw Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==c.values.length)throw Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:u[0],type:u[1]}}}++s}if("ENCRYPTED"===o.procType&&!o.dekInfo)throw Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===A.length)throw Error("Invalid PEM formatted message.");return A}})),ka.des=ka.des||{},ka.des.startEncrypting=function(e,t,A,n){return(e=fw({key:e,output:A,decrypt:!1,mode:n||(null===t?"ECB":"CBC")})).start(t),e},ka.des.createEncryptionCipher=function(e,t){return fw({key:e,output:null,decrypt:!1,mode:t})},ka.des.startDecrypting=function(e,t,A,n){return(e=fw({key:e,output:A,decrypt:!0,mode:n||(null===t?"ECB":"CBC")})).start(t),e},ka.des.createDecryptionCipher=function(e,t){return fw({key:e,output:null,decrypt:!0,mode:t})},ka.des.Algorithm=function(e,t){var A=this;A.name=e,A.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return yI(A._keys,e,t,!1)},decrypt:function(e,t){return yI(A._keys,e,t,!0)}}}),A._init=!1},ka.des.Algorithm.prototype.initialize=function(e){if(!this._init){if(e=ka.util.createBuffer(e.key),0===this.name.indexOf("3DES")&&24!==e.length())throw Error("Invalid Triple-DES key size: "+8*e.length());for(var t,A=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],r=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],g=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],I=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],l=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],E=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],C=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],d=8<e.length()?3:1,h=[],p=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],f=0,B=0;B<d;B++){var Q=e.getInt32(),y=e.getInt32();Q^=(t=252645135&(Q>>>4^y))<<4,Q^=t=65535&((y^=t)>>>-16^Q),Q^=(t=858993459&(Q>>>2^(y^=t<<-16)))<<2,Q^=t=65535&((y^=t)>>>-16^Q),Q^=(t=1431655765&(Q>>>1^(y^=t<<-16)))<<1,Q^=t=16711935&((y^=t)>>>8^Q),t=(Q^=(t=1431655765&(Q>>>1^(y^=t<<8)))<<1)<<8|(y^=t)>>>20&240,Q=y<<24|y<<8&16711680|y>>>8&65280|y>>>24&240,y=t;for(var v=0;v<p.length;++v){p[v]?(Q=Q<<2|Q>>>26,y=y<<2|y>>>26):(Q=Q<<1|Q>>>27,y=y<<1|y>>>27);var m=A[(Q&=-15)>>>28]|n[Q>>>24&15]|r[Q>>>20&15]|i[Q>>>16&15]|o[Q>>>12&15]|a[Q>>>8&15]|s[Q>>>4&15],_=c[(y&=-15)>>>28]|u[y>>>24&15]|g[y>>>20&15]|I[y>>>16&15]|l[y>>>12&15]|E[y>>>8&15]|C[y>>>4&15];t=65535&(_>>>16^m),h[f++]=m^t,h[f++]=_^t<<16}}this._keys=h,this._init=!0}},Rk("DES-ECB",ka.cipher.modes.ecb),Rk("DES-CBC",ka.cipher.modes.cbc),Rk("DES-CFB",ka.cipher.modes.cfb),Rk("DES-OFB",ka.cipher.modes.ofb),Rk("DES-CTR",ka.cipher.modes.ctr),Rk("3DES-ECB",ka.cipher.modes.ecb),Rk("3DES-CBC",ka.cipher.modes.cbc),Rk("3DES-CFB",ka.cipher.modes.cfb),Rk("3DES-OFB",ka.cipher.modes.ofb),Rk("3DES-CTR",ka.cipher.modes.ctr);var LW=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],HW=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],MW=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],IW=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],NW=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],JW=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],OW=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],KW=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],W2=Object.freeze({__proto__:null,default:{}}),WD=dI(W2),X2=ka.pkcs5=ka.pkcs5||{},bm;ka.util.isNodejs&&!ka.options.usePureJavaScript&&(bm=WD),ka.pbkdf2=X2.pbkdf2=function(e,t,A,n,r,i){function o(){if(E>c)return i(null,l);g.start(null,null),g.update(t),g.update(ka.util.int32ToBytes(E)),C=I=g.digest().getBytes(),d=2,a()}function a(){if(d<=A)return g.start(null,null),g.update(I),h=g.digest().getBytes(),C=ka.util.xorBytes(C,h,s),I=h,++d,ka.util.setImmediate(a);l+=E<c?C:C.substr(0,u),++E,o()}if("function"==typeof r&&(i=r,r=null),ka.util.isNodejs&&!ka.options.usePureJavaScript&&bm.pbkdf2&&(null===r||"object"!==ub(r))&&(4<bm.pbkdf2Sync.length||!r||"sha1"===r))return"string"!=typeof r&&(r="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),i?4===bm.pbkdf2Sync.length?bm.pbkdf2(e,t,A,n,(function(e,t){if(e)return i(e);i(null,t.toString("binary"))})):bm.pbkdf2(e,t,A,n,r,(function(e,t){if(e)return i(e);i(null,t.toString("binary"))})):4===bm.pbkdf2Sync.length?bm.pbkdf2Sync(e,t,A,n).toString("binary"):bm.pbkdf2Sync(e,t,A,n,r).toString("binary");if(null==r&&(r="sha1"),"string"==typeof r){if(!(r in ka.md.algorithms))throw Error("Unknown hash algorithm: "+r);r=ka.md[r].create()}var s=r.digestLength;if(n>4294967295*s){if(e=Error("Derived key is too long."),i)return i(e);throw e}var c=Math.ceil(n/s),u=n-(c-1)*s,g=ka.hmac.create();g.start(r,e);var I,l="";if(!i){for(var E=1;E<=c;++E){g.start(null,null),g.update(t),g.update(ka.util.int32ToBytes(E));for(var C=I=g.digest().getBytes(),d=2;d<=A;++d){g.start(null,null),g.update(I);var h=g.digest().getBytes();C=ka.util.xorBytes(C,h,s),I=h}l+=E<c?C:C.substr(0,u)}return l}E=1,o()},$c((function(e){function t(e,t,A){for(var n,i,o,a,s,c,u,g,I,l,E,C,d=A.length();64<=d;){for(a=0;16>a;++a)t[a]=A.getInt32();for(;64>a;++a)n=((n=t[a-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[a-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[a]=n+t[a-7]+i+t[a-16]|0;for(s=e.h0,c=e.h1,u=e.h2,g=e.h3,I=e.h4,l=e.h5,E=e.h6,C=e.h7,a=0;64>a;++a)i=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),o=s&c|u&(s^c),n=C+(n=(I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7))+(E^I&(l^E))+r[a]+t[a],C=E,E=l,l=I,I=g+n>>>0,g=u,u=c,c=s,s=n+(i+=o)>>>0;e.h0=e.h0+s|0,e.h1=e.h1+c|0,e.h2=e.h2+u|0,e.h3=e.h3+g|0,e.h4=e.h4+I|0,e.h5=e.h5+l|0,e.h6=e.h6+E|0,e.h7=e.h7+C|0,d-=64}}e=e.exports=ka.sha256=ka.sha256||{},ka.md.sha256=ka.md.algorithms.sha256=e,e.create=function(){n||(A=String.fromCharCode(128),A+=ka.util.fillString(String.fromCharCode(0),64),r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0);var e=null,i=ka.util.createBuffer(),o=Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var t=a.messageLengthSize/4,A=0;A<t;++A)a.fullMessageLength.push(0);return i=ka.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a}};return a.start(),a.update=function(A,n){"utf8"===n&&(A=ka.util.encodeUtf8(A)),n=A.length,a.messageLength+=n,n=[n/4294967296>>>0,n>>>0];for(var r=a.fullMessageLength.length-1;0<=r;--r)a.fullMessageLength[r]+=n[1],n[1]=n[0]+(a.fullMessageLength[r]/4294967296>>>0),a.fullMessageLength[r]>>>=0,n[0]=n[1]/4294967296>>>0;return i.putBytes(A),t(e,o,i),(2048<i.read||0===i.length())&&i.compact(),a},a.digest=function(){var n=ka.util.createBuffer();n.putBytes(i.bytes()),n.putBytes(A.substr(0,a.blockLength-(a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1)));for(var r,s=8*a.fullMessageLength[0],c=0;c<a.fullMessageLength.length-1;++c)s+=(r=8*a.fullMessageLength[c+1])/4294967296>>>0,n.putInt32(s>>>0),s=r>>>0;return n.putInt32(s),t(r={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7},o,n),(n=ka.util.createBuffer()).putInt32(r.h0),n.putInt32(r.h1),n.putInt32(r.h2),n.putInt32(r.h3),n.putInt32(r.h4),n.putInt32(r.h5),n.putInt32(r.h6),n.putInt32(r.h7),n},a};var A=null,n=!1,r=null})),hn("Uint32",(function(e){return function(t,A,n){return e(this,t,A,n)}})),$c((function(e){var t=null;!ka.util.isNodejs||ka.options.usePureJavaScript||process.versions["node-webkit"]||(t=WD),(e.exports=ka.prng=ka.prng||{}).create=function(e){function A(){r.reseeds=4294967295===r.reseeds?0:r.reseeds+1;var e=r.plugin.md.create();e.update(r.keyBytes);for(var t=1,A=0;32>A;++A)0==r.reseeds%t&&(e.update(r.pools[A].digest().getBytes()),r.pools[A].start()),t<<=1;r.keyBytes=e.digest().getBytes(),e.start(),e.update(r.keyBytes),e=e.digest().getBytes(),r.key=r.plugin.formatKey(r.keyBytes),r.seed=r.plugin.formatSeed(e),r.generated=0}function n(e){var t=null,A=ka.util.globalScope,n=A.crypto||A.msCrypto;if(n&&n.getRandomValues&&(t=function(e){return n.getRandomValues(e)}),A=ka.util.createBuffer(),t)for(;A.length()<e;){var r=Math.max(1,Math.min(e-A.length(),65536)/4),i=new Uint32Array(Math.floor(r));try{for(t(i),r=0;r<i.length;++r)A.putInt32(i[r])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(A.length()<e)for(t=Math.floor(65536*Math.random());A.length()<e;)for(r=16807*(65535&t),r+=(32767&(t=16807*(t>>16)))<<16,t=4294967295&(r=(2147483647&(r+=t>>15))+(r>>31)),r=0;3>r;++r)i=t>>>(r<<3),i^=Math.floor(256*Math.random()),A.putByte(255&i);return A.getBytes(e)}var r={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""};e=e.md;for(var i=Array(32),o=0;32>o;++o)i[o]=e.create();return r.pools=i,r.pool=0,r.generate=function(e,t){if(!t)return r.generateSync(e);var n=r.plugin.cipher,i=r.plugin.increment,o=r.plugin.formatKey,a=r.plugin.formatSeed,s=ka.util.createBuffer();r.key=null,function c(u){return u?t(u):s.length()>=e?t(null,s.getBytes(e)):(1048575<r.generated&&(r.key=null),null===r.key?ka.util.nextTick((function(){!function(e){if(32<=r.pools[0].messageLength)return A(),e();r.seedFile(32-r.pools[0].messageLength<<5,(function(t,n){if(t)return e(t);r.collect(n),A(),e()}))}(c)})):(u=n(r.key,r.seed),r.generated+=u.length,s.putBytes(u),r.key=o(n(r.key,i(r.seed))),r.seed=a(n(r.key,r.seed)),void ka.util.setImmediate(c)))}()},r.generateSync=function(e){var t=r.plugin.cipher,n=r.plugin.increment,i=r.plugin.formatKey,o=r.plugin.formatSeed;r.key=null;for(var a=ka.util.createBuffer();a.length()<e;){1048575<r.generated&&(r.key=null),null===r.key&&(32<=r.pools[0].messageLength||r.collect(r.seedFileSync(32-r.pools[0].messageLength<<5)),A());var s=t(r.key,r.seed);r.generated+=s.length,a.putBytes(s),r.key=i(t(r.key,n(r.seed))),r.seed=o(t(r.key,r.seed))}return a.getBytes(e)},t?(r.seedFile=function(e,A){t.randomBytes(e,(function(e,t){if(e)return A(e);A(null,t.toString())}))},r.seedFileSync=function(e){return t.randomBytes(e).toString()}):(r.seedFile=function(e,t){try{t(null,n(e))}catch(e){t(e)}},r.seedFileSync=n),r.collect=function(e){for(var t=e.length,A=0;A<t;++A)r.pools[r.pool].update(e.substr(A,1)),r.pool=31===r.pool?0:r.pool+1},r.collectInt=function(e,t){for(var A="",n=0;n<t;n+=8)A+=String.fromCharCode(e>>n&255);r.collect(A)},r.registerWorker=function(e){e===self?r.seedFile=function(e,t){self.addEventListener("message",(function e(A){(A=A.data).forge&&A.forge.prng&&(self.removeEventListener("message",e),t(A.forge.prng.err,A.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})}:e.addEventListener("message",(function(t){(t=t.data).forge&&t.forge.prng&&r.seedFile(t.forge.prng.needed,(function(t,A){e.postMessage({forge:{prng:{err:t,bytes:A}}})}))}))},r}})),$c((function(e){ka.random&&ka.random.getBytes?e.exports=ka.random:function(t){function A(){var e=ka.prng.create(n);return e.getBytes=function(t,A){return e.generate(t,A)},e.getBytesSync=function(t){return e.generate(t)},e}var n={},r=Array(4),i=ka.util.createBuffer();n.formatKey=function(e){var t=ka.util.createBuffer(e);return(e=Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),ka.aes._expandKey(e,!1)},n.formatSeed=function(e){var t=ka.util.createBuffer(e);return(e=Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},n.cipher=function(e,t){return ka.aes._updateBlock(e,t,r,!1),i.putInt32(r[0]),i.putInt32(r[1]),i.putInt32(r[2]),i.putInt32(r[3]),i.getBytes()},n.increment=function(e){return++e[3],e},n.md=ka.md.sha256;var o=A(),a=null,s=ka.util.globalScope,c=s.crypto||s.msCrypto;if(c&&c.getRandomValues&&(a=function(e){return c.getRandomValues(e)}),!ka.util.isNodejs&&!a){if(o.collectInt(+new Date,32),"undefined"!=typeof navigator){for(var u in a="",navigator)try{"string"==typeof navigator[u]&&(a+=navigator[u])}catch(e){}o.collect(a),a=null}t&&(t().mousemove((function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)})),t().keypress((function(e){o.collectInt(e.charCode,8)})))}if(ka.random)for(u in o)ka.random[u]=o[u];else ka.random=o;ka.random.createInstance=A,e.exports=ka.random}("undefined"!=typeof jQuery?jQuery:null)}));var XD=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],sO=[1,2,3,5];ka.rc2=ka.rc2||{},ka.rc2.expandKey=function(e,t){"string"==typeof e&&(e=ka.util.createBuffer(e)),t=t||128;var A=e;e=e.length();var n,r=t;for(t=Math.ceil(r/8),r=255>>(7&r),n=e;128>n;n++)A.putByte(XD[A.at(n-1)+A.at(n-e)&255]);for(A.setAt(128-t,XD[A.at(128-t)&r]),n=127-t;0<=n;n--)A.setAt(n,XD[A.at(n+1)^A.at(n+t)]);return A};var tO=function(e,t,A){var n,r,i=!1,o=null,a=null,s=null,c=[];for(e=ka.rc2.expandKey(e,t),n=0;64>n;n++)c.push(e.getInt16Le());if(A)var u=function(e){for(n=0;4>n;n++){e[n]+=c[r]+(e[(n+3)%4]&e[(n+2)%4])+(~e[(n+3)%4]&e[(n+1)%4]);var t=e[n],A=sO[n];e[n]=t<<A&65535|(65535&t)>>16-A,r++}},g=function(e){for(n=0;4>n;n++)e[n]+=c[63&e[(n+3)%4]]};else u=function(e){for(n=3;0<=n;n--){var t=e[n],A=sO[n];e[n]=(65535&t)>>A|t<<16-A&65535,e[n]-=c[r]+(e[(n+3)%4]&e[(n+2)%4])+(~e[(n+3)%4]&e[(n+1)%4]),r--}},g=function(e){for(n=3;0<=n;n--)e[n]-=c[63&e[(n+3)%4]]};var I=null;return I={start:function(e,t){e&&"string"==typeof e&&(e=ka.util.createBuffer(e)),i=!1,o=ka.util.createBuffer(),a=t||new ka.util.createBuffer,s=e,I.output=a},update:function(e){for(i||o.putBuffer(e);8<=o.length();){e=[[5,u],[1,g],[6,u],[1,g],[5,u]];var t=[];for(n=0;4>n;n++){var c=o.getInt16Le();null!==s&&(A?c^=s.getInt16Le():s.putInt16Le(c)),t.push(65535&c)}for(r=A?0:63,c=0;c<e.length;c++)for(var I=0;I<e[c][0];I++)e[c][1](t);for(n=0;4>n;n++)null!==s&&(A?s.putInt16Le(t[n]):t[n]^=s.getInt16Le()),a.putInt16Le(t[n])}},finish:function(e){var t=!0;if(A)if(e)t=e(8,o,!A);else{var n=8===o.length()?8:8-o.length();o.fillWithByte(n,n)}return t&&(i=!0,I.update()),!A&&(t=0===o.length())&&(e?t=e(8,a,!A):(e=a.length(),(n=a.at(e-1))>e?t=!1:a.truncate(n))),t}}};if(ka.rc2.startEncrypting=function(e,t,A){return(e=ka.rc2.createEncryptionCipher(e,128)).start(t,A),e},ka.rc2.createEncryptionCipher=function(e,t){return tO(e,t,!0)},ka.rc2.startDecrypting=function(e,t,A){return(e=ka.rc2.createDecryptionCipher(e,128)).start(t,A),e},ka.rc2.createDecryptionCipher=function(e,t){return tO(e,t,!1)},ka.jsbn=ka.jsbn||{},ka.jsbn.BigInteger=Vb,"undefined"==typeof navigator){Vb.prototype.am=zI;var ln=28}else"Microsoft Internet Explorer"==navigator.appName?(Vb.prototype.am=QW,ln=30):"Netscape"!=navigator.appName?(Vb.prototype.am=PW,ln=26):(Vb.prototype.am=zI,ln=28);Vb.prototype.DB=ln,Vb.prototype.DM=(1<<ln)-1,Vb.prototype.DV=1<<ln,Vb.prototype.FV=Math.pow(2,52),Vb.prototype.F1=52-ln,Vb.prototype.F2=2*ln-52;var gw=[],Nj,au=48;for(Nj=0;9>=Nj;++Nj)gw[au++]=Nj;for(au=97,Nj=10;36>Nj;++Nj)gw[au++]=Nj;for(au=65,Nj=10;36>Nj;++Nj)gw[au++]=Nj;zo.prototype.convert=function(e){return 0>e.s||0<=e.compareTo(this.m)?e.mod(this.m):e},zo.prototype.revert=function(e){return e},zo.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},zo.prototype.mulTo=function(e,t,A){e.multiplyTo(t,A),this.reduce(A)},zo.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Ao.prototype.convert=function(e){var t=ee();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),0>e.s&&0<t.compareTo(Vb.ZERO)&&this.m.subTo(t,t),t},Ao.prototype.revert=function(e){var t=ee();return e.copyTo(t),this.reduce(t),t},Ao.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var A=32767&e.data[t],n=A*this.mpl+((A*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(A=t+this.m.t,e.data[A]+=this.m.am(0,n,e,t,0,this.m.t);e.data[A]>=e.DV;)e.data[A]-=e.DV,e.data[++A]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},Ao.prototype.mulTo=function(e,t,A){e.multiplyTo(t,A),this.reduce(A)},Ao.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Vb.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},Vb.prototype.fromInt=function(e){this.t=1,this.s=0>e?-1:0,0<e?this.data[0]=e:-1>e?this.data[0]=e+this.DV:this.t=0},Vb.prototype.fromString=function(e,t){if(16==t)t=4;else if(8==t)t=3;else if(256==t)t=8;else if(2==t)t=1;else if(32==t)t=5;else{if(4!=t)return void this.fromRadix(e,t);t=2}this.s=this.t=0;for(var A=e.length,n=!1,r=0;0<=--A;){var i=8==t?255&e[A]:AI(e,A);0>i?"-"==e.charAt(A)&&(n=!0):(n=!1,0==r?this.data[this.t++]=i:r+t>this.DB?(this.data[this.t-1]|=(i&(1<<this.DB-r)-1)<<r,this.data[this.t++]=i>>this.DB-r):this.data[this.t-1]|=i<<r,(r+=t)>=this.DB&&(r-=this.DB))}8==t&&0!=(128&e[0])&&(this.s=-1,0<r&&(this.data[this.t-1]|=(1<<this.DB-r)-1<<r)),this.clamp(),n&&Vb.ZERO.subTo(this,this)},Vb.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this.data[this.t-1]==e;)--this.t},Vb.prototype.dlShiftTo=function(e,t){var A;for(A=this.t-1;0<=A;--A)t.data[A+e]=this.data[A];for(A=e-1;0<=A;--A)t.data[A]=0;t.t=this.t+e,t.s=this.s},Vb.prototype.drShiftTo=function(e,t){for(var A=e;A<this.t;++A)t.data[A-e]=this.data[A];t.t=Math.max(this.t-e,0),t.s=this.s},Vb.prototype.lShiftTo=function(e,t){var A=e%this.DB,n=this.DB-A,r=(1<<n)-1;e=Math.floor(e/this.DB);var i,o=this.s<<A&this.DM;for(i=this.t-1;0<=i;--i)t.data[i+e+1]=this.data[i]>>n|o,o=(this.data[i]&r)<<A;for(i=e-1;0<=i;--i)t.data[i]=0;t.data[e]=o,t.t=this.t+e+1,t.s=this.s,t.clamp()},Vb.prototype.rShiftTo=function(e,t){t.s=this.s;var A=Math.floor(e/this.DB);if(A>=this.t)t.t=0;else{e%=this.DB;var n=this.DB-e,r=(1<<e)-1;t.data[0]=this.data[A]>>e;for(var i=A+1;i<this.t;++i)t.data[i-A-1]|=(this.data[i]&r)<<n,t.data[i-A]=this.data[i]>>e;0<e&&(t.data[this.t-A-1]|=(this.s&r)<<n),t.t=this.t-A,t.clamp()}},Vb.prototype.subTo=function(e,t){for(var A=0,n=0,r=Math.min(e.t,this.t);A<r;)n+=this.data[A]-e.data[A],t.data[A++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;A<this.t;)n+=this.data[A],t.data[A++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;A<e.t;)n-=e.data[A],t.data[A++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=0>n?-1:0,-1>n?t.data[A++]=this.DV+n:0<n&&(t.data[A++]=n),t.t=A,t.clamp()},Vb.prototype.multiplyTo=function(e,t){var A=this.abs(),n=e.abs(),r=A.t;for(t.t=r+n.t;0<=--r;)t.data[r]=0;for(r=0;r<n.t;++r)t.data[r+A.t]=A.am(0,n.data[r],t,r,0,A.t);t.s=0,t.clamp(),this.s!=e.s&&Vb.ZERO.subTo(t,t)},Vb.prototype.squareTo=function(e){for(var t=this.abs(),A=e.t=2*t.t;0<=--A;)e.data[A]=0;for(A=0;A<t.t-1;++A){var n=t.am(A,t.data[A],e,2*A,0,1);(e.data[A+t.t]+=t.am(A+1,2*t.data[A],e,2*A+1,n,t.t-A-1))>=t.DV&&(e.data[A+t.t]-=t.DV,e.data[A+t.t+1]=1)}0<e.t&&(e.data[e.t-1]+=t.am(A,t.data[A],e,2*A,0,1)),e.s=0,e.clamp()},Vb.prototype.divRemTo=function(e,t,A){var n=e.abs();if(!(0>=n.t)){var r=this.abs();if(r.t<n.t)null!=t&&t.fromInt(0),null!=A&&this.copyTo(A);else{null==A&&(A=ee());var i=ee(),o=this.s;e=e.s;var a=this.DB-hw(n.data[n.t-1]);if(0<a?(n.lShiftTo(a,i),r.lShiftTo(a,A)):(n.copyTo(i),r.copyTo(A)),n=i.t,0!=(r=i.data[n-1])){var s=r*(1<<this.F1)+(1<n?i.data[n-2]>>this.F2:0),c=this.FV/s;s=(1<<this.F1)/s;var u=1<<this.F2,g=A.t,I=g-n,l=null==t?ee():t;for(i.dlShiftTo(I,l),0<=A.compareTo(l)&&(A.data[A.t++]=1,A.subTo(l,A)),Vb.ONE.dlShiftTo(n,l),l.subTo(i,i);i.t<n;)i.data[i.t++]=0;for(;0<=--I;){var E=A.data[--g]==r?this.DM:Math.floor(A.data[g]*c+(A.data[g-1]+u)*s);if((A.data[g]+=i.am(0,E,A,I,0,n))<E)for(i.dlShiftTo(I,l),A.subTo(l,A);A.data[g]<--E;)A.subTo(l,A)}null!=t&&(A.drShiftTo(n,t),o!=e&&Vb.ZERO.subTo(t,t)),A.t=n,A.clamp(),0<a&&A.rShiftTo(a,A),0>o&&Vb.ZERO.subTo(A,A)}}}},Vb.prototype.invDigit=function(){if(1>this.t)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},Vb.prototype.isEven=function(){return 0==(0<this.t?1&this.data[0]:this.s)},Vb.prototype.exp=function(e,t){if(4294967295<e||1>e)return Vb.ONE;var A=ee(),n=ee(),r=t.convert(this),i=hw(e)-1;for(r.copyTo(A);0<=--i;)if(t.sqrTo(A,n),0<(e&1<<i))t.mulTo(n,r,A);else{var o=A;A=n,n=o}return t.revert(A)},Vb.prototype.toString=function(e){if(0>this.s)return"-"+this.negate().toString(e);if(16==e)e=4;else if(8==e)e=3;else if(2==e)e=1;else if(32==e)e=5;else{if(4!=e)return this.toRadix(e);e=2}var t,A=(1<<e)-1,n=!1,r="",i=this.t,o=this.DB-i*this.DB%e;if(0<i--)for(o<this.DB&&0<(t=this.data[i]>>o)&&(n=!0,r="0123456789abcdefghijklmnopqrstuvwxyz".charAt(t));0<=i;)o<e?(t=(this.data[i]&(1<<o)-1)<<e-o,t|=this.data[--i]>>(o+=this.DB-e)):(t=this.data[i]>>(o-=e)&A,0>=o&&(o+=this.DB,--i)),0<t&&(n=!0),n&&(r+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(t));return n?r:"0"},Vb.prototype.negate=function(){var e=ee();return Vb.ZERO.subTo(this,e),e},Vb.prototype.abs=function(){return 0>this.s?this.negate():this},Vb.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var A=this.t;if(0!=(t=A-e.t))return 0>this.s?-t:t;for(;0<=--A;)if(0!=(t=this.data[A]-e.data[A]))return t;return 0},Vb.prototype.bitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+hw(this.data[this.t-1]^this.s&this.DM)},Vb.prototype.mod=function(e){var t=ee();return this.abs().divRemTo(e,null,t),0>this.s&&0<t.compareTo(Vb.ZERO)&&e.subTo(t,t),t},Vb.prototype.modPowInt=function(e,t){return t=256>e||t.isEven()?new zo(t):new Ao(t),this.exp(e,t)},Vb.ZERO=Pm(0),Vb.ONE=Pm(1),Ws.prototype.convert=DI,Ws.prototype.revert=DI,Ws.prototype.mulTo=function(e,t,A){e.multiplyTo(t,A)},Ws.prototype.sqrTo=function(e,t){e.squareTo(t)},nq.prototype.convert=function(e){if(0>e.s||e.t>2*this.m.t)return e.mod(this.m);if(0>e.compareTo(this.m))return e;var t=ee();return e.copyTo(t),this.reduce(t),t},nq.prototype.revert=function(e){return e},nq.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>e.compareTo(this.r2);)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);0<=e.compareTo(this.m);)e.subTo(this.m,e)},nq.prototype.mulTo=function(e,t,A){e.multiplyTo(t,A),this.reduce(A)},nq.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var wk=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Y2=67108864/wk[wk.length-1];if(Vb.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},Vb.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||2>e||36<e)return"0";var t=this.chunkSize(e),A=Pm(t=Math.pow(e,t)),n=ee(),r=ee(),i="";for(this.divRemTo(A,n,r);0<n.signum();)i=(t+r.intValue()).toString(e).substr(1)+i,n.divRemTo(A,n,r);return r.intValue().toString(e)+i},Vb.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var A=this.chunkSize(t),n=Math.pow(t,A),r=!1,i=0,o=0,a=0;a<e.length;++a){var s=AI(e,a);0>s?"-"==e.charAt(a)&&0==this.signum()&&(r=!0):(o=t*o+s,++i>=A&&(this.dMultiply(n),this.dAddOffset(o,0),o=i=0))}0<i&&(this.dMultiply(Math.pow(t,i)),this.dAddOffset(o,0)),r&&Vb.ZERO.subTo(this,this)},Vb.prototype.fromNumber=function(e,t,A){if("number"==typeof t)if(2>e)this.fromInt(1);else for(this.fromNumber(e,A),this.testBit(e-1)||this.bitwiseTo(Vb.ONE.shiftLeft(e-1),OA,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Vb.ONE.shiftLeft(e-1),this);else{var n=7&e;(A=[]).length=1+(e>>3),t.nextBytes(A),A[0]=0<n?A[0]&(1<<n)-1:0,this.fromString(A,256)}},Vb.prototype.bitwiseTo=function(e,t,A){var n,r=Math.min(e.t,this.t);for(n=0;n<r;++n)A.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){var i=e.s&this.DM;for(n=r;n<this.t;++n)A.data[n]=t(this.data[n],i);A.t=this.t}else{for(i=this.s&this.DM,n=r;n<e.t;++n)A.data[n]=t(i,e.data[n]);A.t=e.t}A.s=t(this.s,e.s),A.clamp()},Vb.prototype.changeBit=function(e,t){return e=Vb.ONE.shiftLeft(e),this.bitwiseTo(e,t,e),e},Vb.prototype.addTo=function(e,t){for(var A=0,n=0,r=Math.min(e.t,this.t);A<r;)n+=this.data[A]+e.data[A],t.data[A++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;A<this.t;)n+=this.data[A],t.data[A++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;A<e.t;)n+=e.data[A],t.data[A++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=0>n?-1:0,0<n?t.data[A++]=n:-1>n&&(t.data[A++]=this.DV+n),t.t=A,t.clamp()},Vb.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},Vb.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},Vb.prototype.multiplyLowerTo=function(e,t,A){var n,r=Math.min(this.t+e.t,t);for(A.s=0,A.t=r;0<r;)A.data[--r]=0;for(n=A.t-this.t;r<n;++r)A.data[r+this.t]=this.am(0,e.data[r],A,r,0,this.t);for(n=Math.min(e.t,t);r<n;++r)this.am(0,e.data[r],A,r,0,t-r);A.clamp()},Vb.prototype.multiplyUpperTo=function(e,t,A){--t;var n=A.t=this.t+e.t-t;for(A.s=0;0<=--n;)A.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)A.data[this.t+n-t]=this.am(t-n,e.data[n],A,0,0,this.t+n-t);A.clamp(),A.drShiftTo(1,A)},Vb.prototype.modInt=function(e){if(0>=e)return 0;var t=this.DV%e,A=0>this.s?e-1:0;if(0<this.t)if(0==t)A=this.data[0]%e;else for(var n=this.t-1;0<=n;--n)A=(t*A+this.data[n])%e;return A},Vb.prototype.millerRabin=function(e){var t=this.subtract(Vb.ONE),A=t.getLowestSetBit();if(0>=A)return!1;for(var n,r=t.shiftRight(A),i=SW(),o=0;o<e;++o){do{n=new Vb(this.bitLength(),i)}while(0>=n.compareTo(Vb.ONE)||0<=n.compareTo(t));if(0!=(n=n.modPow(r,this)).compareTo(Vb.ONE)&&0!=n.compareTo(t)){for(var a=1;a++<A&&0!=n.compareTo(t);)if(0==(n=n.modPowInt(2,this)).compareTo(Vb.ONE))return!1;if(0!=n.compareTo(t))return!1}}return!0},Vb.prototype.clone=function(){var e=ee();return this.copyTo(e),e},Vb.prototype.intValue=function(){if(0>this.s){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},Vb.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},Vb.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},Vb.prototype.signum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this.data[0]?0:1},Vb.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var A,n=this.DB-e*this.DB%8,r=0;if(0<e--)for(n<this.DB&&(A=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[r++]=A|this.s<<this.DB-n);0<=e;)8>n?(A=(this.data[e]&(1<<n)-1)<<8-n,A|=this.data[--e]>>(n+=this.DB-8)):(A=this.data[e]>>(n-=8)&255,0>=n&&(n+=this.DB,--e)),0!=(128&A)&&(A|=-256),0==r&&(128&this.s)!=(128&A)&&++r,(0<r||A!=this.s)&&(t[r++]=A);return t},Vb.prototype.equals=function(e){return 0==this.compareTo(e)},Vb.prototype.min=function(e){return 0>this.compareTo(e)?this:e},Vb.prototype.max=function(e){return 0<this.compareTo(e)?this:e},Vb.prototype.and=function(e){var t=ee();return this.bitwiseTo(e,RW,t),t},Vb.prototype.or=function(e){var t=ee();return this.bitwiseTo(e,OA,t),t},Vb.prototype.xor=function(e){var t=ee();return this.bitwiseTo(e,BI,t),t},Vb.prototype.andNot=function(e){var t=ee();return this.bitwiseTo(e,CI,t),t},Vb.prototype.not=function(){for(var e=ee(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},Vb.prototype.shiftLeft=function(e){var t=ee();return 0>e?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},Vb.prototype.shiftRight=function(e){var t=ee();return 0>e?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},Vb.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e]){var t=e*this.DB;if(0==(e=this.data[e]))e=-1;else{var A=0;0==(65535&e)&&(e>>=16,A+=16),0==(255&e)&&(e>>=8,A+=8),0==(15&e)&&(e>>=4,A+=4),0==(3&e)&&(e>>=2,A+=2),0==(1&e)&&++A,e=A}return t+e}return 0>this.s?this.t*this.DB:-1},Vb.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,A=0;A<this.t;++A){for(var n=this.data[A]^t,r=0;0!=n;)n&=n-1,++r;e+=r}return e},Vb.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},Vb.prototype.setBit=function(e){return this.changeBit(e,OA)},Vb.prototype.clearBit=function(e){return this.changeBit(e,CI)},Vb.prototype.flipBit=function(e){return this.changeBit(e,BI)},Vb.prototype.add=function(e){var t=ee();return this.addTo(e,t),t},Vb.prototype.subtract=function(e){var t=ee();return this.subTo(e,t),t},Vb.prototype.multiply=function(e){var t=ee();return this.multiplyTo(e,t),t},Vb.prototype.divide=function(e){var t=ee();return this.divRemTo(e,t,null),t},Vb.prototype.remainder=function(e){var t=ee();return this.divRemTo(e,null,t),t},Vb.prototype.divideAndRemainder=function(e){var t=ee(),A=ee();return this.divRemTo(e,t,A),[t,A]},Vb.prototype.modPow=function(e,t){var A=e.bitLength(),n=Pm(1);if(0>=A)return n;var r=18>A?1:48>A?3:144>A?4:768>A?5:6;t=8>A?new zo(t):t.isEven()?new nq(t):new Ao(t);var i=[],o=3,a=r-1,s=(1<<r)-1;if(i[1]=t.convert(this),1<r)for(A=ee(),t.sqrTo(i[1],A);o<=s;)i[o]=ee(),t.mulTo(A,i[o-2],i[o]),o+=2;var c=e.t-1,u=!0,g=ee();for(A=hw(e.data[c])-1;0<=c;){if(A>=a)var I=e.data[c]>>A-a&s;else I=(e.data[c]&(1<<A+1)-1)<<a-A,0<c&&(I|=e.data[c-1]>>this.DB+A-a);for(o=r;0==(1&I);)I>>=1,--o;if(0>(A-=o)&&(A+=this.DB,--c),u)i[I].copyTo(n),u=!1;else{for(;1<o;)t.sqrTo(n,g),t.sqrTo(g,n),o-=2;0<o?t.sqrTo(n,g):(o=n,n=g,g=o),t.mulTo(g,i[I],n)}for(;0<=c&&0==(e.data[c]&1<<A);)t.sqrTo(n,g),o=n,n=g,g=o,0>--A&&(A=this.DB-1,--c)}return t.revert(n)},Vb.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return Vb.ZERO;for(var A=e.clone(),n=this.clone(),r=Pm(1),i=Pm(0),o=Pm(0),a=Pm(1);0!=A.signum();){for(;A.isEven();)A.rShiftTo(1,A),t?(r.isEven()&&i.isEven()||(r.addTo(this,r),i.subTo(e,i)),r.rShiftTo(1,r)):i.isEven()||i.subTo(e,i),i.rShiftTo(1,i);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);0<=A.compareTo(n)?(A.subTo(n,A),t&&r.subTo(o,r),i.subTo(a,i)):(n.subTo(A,n),t&&o.subTo(r,o),a.subTo(i,a))}return 0!=n.compareTo(Vb.ONE)?Vb.ZERO:0<=a.compareTo(e)?a.subtract(e):0>a.signum()?(a.addTo(e,a),0>a.signum()?a.add(e):a):a},Vb.prototype.pow=function(e){return this.exp(e,new Ws)},Vb.prototype.gcd=function(e){var t=0>this.s?this.negate():this.clone();if(e=0>e.s?e.negate():e.clone(),0>t.compareTo(e)){var A=t;t=e,e=A}A=t.getLowestSetBit();var n=e.getLowestSetBit();if(0>n)return t;for(A<n&&(n=A),0<n&&(t.rShiftTo(n,t),e.rShiftTo(n,e));0<t.signum();)0<(A=t.getLowestSetBit())&&t.rShiftTo(A,t),0<(A=e.getLowestSetBit())&&e.rShiftTo(A,e),0<=t.compareTo(e)?(t.subTo(e,t),t.rShiftTo(1,t)):(e.subTo(t,e),e.rShiftTo(1,e));return 0<n&&e.lShiftTo(n,e),e},Vb.prototype.isProbablePrime=function(e){var t,A=this.abs();if(1==A.t&&A.data[0]<=wk[wk.length-1]){for(t=0;t<wk.length;++t)if(A.data[0]==wk[t])return!0;return!1}if(A.isEven())return!1;for(t=1;t<wk.length;){for(var n=wk[t],r=t+1;r<wk.length&&n<Y2;)n*=wk[r++];for(n=A.modInt(n);t<r;)if(0==n%wk[t++])return!1}return A.millerRabin(e)},$c((function(e){function t(e,t,A){for(var n,r,i,o,a,s,c,u=A.length();64<=u;){for(r=e.h0,i=e.h1,o=e.h2,a=e.h3,s=e.h4,c=0;16>c;++c)n=A.getInt32(),t[c]=n,n=(r<<5|r>>>27)+(a^i&(o^a))+s+1518500249+n,s=a,a=o,o=(i<<30|i>>>2)>>>0,i=r,r=n;for(;20>c;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(r<<5|r>>>27)+(a^i&(o^a))+s+1518500249+n,s=a,a=o,o=(i<<30|i>>>2)>>>0,i=r,r=n;for(;32>c;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(r<<5|r>>>27)+(i^o^a)+s+1859775393+n,s=a,a=o,o=(i<<30|i>>>2)>>>0,i=r,r=n;for(;40>c;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(r<<5|r>>>27)+(i^o^a)+s+1859775393+n,s=a,a=o,o=(i<<30|i>>>2)>>>0,i=r,r=n;for(;60>c;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(r<<5|r>>>27)+(i&o|a&(i^o))+s+2400959708+n,s=a,a=o,o=(i<<30|i>>>2)>>>0,i=r,r=n;for(;80>c;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(r<<5|r>>>27)+(i^o^a)+s+3395469782+n,s=a,a=o,o=(i<<30|i>>>2)>>>0,i=r,r=n;e.h0=e.h0+r|0,e.h1=e.h1+i|0,e.h2=e.h2+o|0,e.h3=e.h3+a|0,e.h4=e.h4+s|0,u-=64}}e=e.exports=ka.sha1=ka.sha1||{},ka.md.sha1=ka.md.algorithms.sha1=e,e.create=function(){n||(A=String.fromCharCode(128),A+=ka.util.fillString(String.fromCharCode(0),64),n=!0);var e=null,r=ka.util.createBuffer(),i=Array(80),o={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0,o.fullMessageLength=o.messageLength64=[];for(var t=o.messageLengthSize/4,A=0;A<t;++A)o.fullMessageLength.push(0);return r=ka.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},o}};return o.start(),o.update=function(A,n){"utf8"===n&&(A=ka.util.encodeUtf8(A)),n=A.length,o.messageLength+=n,n=[n/4294967296>>>0,n>>>0];for(var a=o.fullMessageLength.length-1;0<=a;--a)o.fullMessageLength[a]+=n[1],n[1]=n[0]+(o.fullMessageLength[a]/4294967296>>>0),o.fullMessageLength[a]>>>=0,n[0]=n[1]/4294967296>>>0;return r.putBytes(A),t(e,i,r),(2048<r.read||0===r.length())&&r.compact(),o},o.digest=function(){var n=ka.util.createBuffer();n.putBytes(r.bytes()),n.putBytes(A.substr(0,o.blockLength-(o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1)));for(var a,s=8*o.fullMessageLength[0],c=0;c<o.fullMessageLength.length-1;++c)s+=(a=8*o.fullMessageLength[c+1])/4294967296>>>0,n.putInt32(s>>>0),s=a>>>0;return n.putInt32(s),t(a={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4},i,n),(n=ka.util.createBuffer()).putInt32(a.h0),n.putInt32(a.h1),n.putInt32(a.h2),n.putInt32(a.h3),n.putInt32(a.h4),n},o};var A=null,n=!1})),$c((function(e){function t(e,t,A){A||(A=ka.md.sha1.create());for(var n="",r=Math.ceil(t/A.digestLength),i=0;i<r;++i){var o=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i);A.start(),A.update(e+o),n+=A.digest().getBytes()}return n.substring(0,t)}(e=e.exports=ka.pkcs1=ka.pkcs1||{}).encode_rsa_oaep=function(e,A,n,r,i){if("string"==typeof n)var o=n,a=r||void 0,s=i||void 0;else if(n&&(o=n.label||void 0,a=n.seed||void 0,s=n.md||void 0,n.mgf1&&n.mgf1.md))var c=n.mgf1.md;if(s?s.start():s=ka.md.sha1.create(),c||(c=s),n=(e=Math.ceil(e.n.bitLength()/8))-2*s.digestLength-2,A.length>n)throw(c=Error("RSAES-OAEP input message length is too long.")).length=A.length,c.maxLength=n,c;for(o||(o=""),s.update(o,"raw"),o=s.digest(),r="",n-=A.length,i=0;i<n;i++)r+="\0";if(A=o.getBytes()+r+""+A,a){if(a.length!==s.digestLength)throw(c=Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,c.digestLength=s.digestLength,c}else a=ka.random.getBytes(s.digestLength);return e=t(a,e-s.digestLength-1,c),s=t(A=ka.util.xorBytes(A,e,A.length),s.digestLength,c),"\0"+ka.util.xorBytes(a,s,a.length)+A},e.decode_rsa_oaep=function(e,A,n,r){if("string"==typeof n)var i=n,o=r||void 0;else if(n&&(i=n.label||void 0,o=n.md||void 0,n.mgf1&&n.mgf1.md))var a=n.mgf1.md;if(n=Math.ceil(e.n.bitLength()/8),A.length!==n)throw(a=Error("RSAES-OAEP encoded message length is invalid.")).length=A.length,a.expectedLength=n,a;if(void 0===o?o=ka.md.sha1.create():o.start(),a||(a=o),n<2*o.digestLength+2)throw Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),o.update(i,"raw"),i=o.digest().getBytes(),e=A.charAt(0),r=A.substring(1,o.digestLength+1);var s=t(A=A.substring(1+o.digestLength),o.digestLength,a);for(a=t(r=ka.util.xorBytes(r,s,r.length),n-o.digestLength-1,a),n=(A=ka.util.xorBytes(A,a,A.length)).substring(0,o.digestLength),a="\0"!==e,e=0;e<o.digestLength;++e)a|=i.charAt(e)!==n.charAt(e);for(i=1,o=e=o.digestLength;o<A.length;o++)a|=(n=A.charCodeAt(o))&(i?65534:0),e+=i&=r=1&n^1;if(a||1!==A.charCodeAt(e))throw Error("Invalid RSAES-OAEP padding.");return A.substring(e+1)}})),$c((function(e){!function(){function t(e,t,n,i){return"workers"in n?function(e,t,n,i){function a(){function A(A){if(!l){var a=A.data;if(a.found){for(A=0;A<n.length;++A)n[A].terminate();return l=!0,i(null,new o(a.prime,16))}s.bitLength()>e&&(s=r(e,t)),a=s.toString(16),A.target.postMessage({hex:a,workLoad:u}),s.dAddOffset(g,0)}}c=Math.max(1,c);for(var n=[],a=0;a<c;++a)n[a]=new Worker(I);for(a=0;a<c;++a)n[a].addEventListener("message",A);var l=!1}if("undefined"==typeof Worker)return A(e,t,n,i);var s=r(e,t),c=n.workers,u=n.workLoad||100,g=30*u/8,I=n.workerScript||"forge/prime.worker.js";if(-1===c)return ka.util.estimateCores((function(e,t){e&&(t=2),c=t-1,a()}));a()}(e,t,n,i):A(e,t,n,i)}function A(e,t,A,i){var o=r(e,t),a=o.bitLength();a=100>=a?27:150>=a?18:200>=a?15:250>=a?12:300>=a?9:350>=a?8:400>=a?7:500>=a?6:600>=a?5:800>=a?4:1250>=a?3:2,"millerRabinTests"in A&&(a=A.millerRabinTests);var s=10;"maxBlockTime"in A&&(s=A.maxBlockTime),n(o,e,t,0,a,s,i)}function n(e,t,A,i,o,s,c){var u=+new Date;do{if(e.bitLength()>t&&(e=r(t,A)),e.isProbablePrime(o))return c(null,e);e.dAddOffset(a[i++%8],0)}while(0>s||+new Date-u<s);ka.util.setImmediate((function(){n(e,t,A,i,o,s,c)}))}function r(e,t){return t=new o(e,t),--e,t.testBit(e)||t.bitwiseTo(o.ONE.shiftLeft(e),c,t),t.dAddOffset(31-t.mod(s).byteValue(),0),t}if(ka.prime)e.exports=ka.prime;else{var i=e.exports=ka.prime=ka.prime||{},o=ka.jsbn.BigInteger,a=[6,4,2,4,2,4,6,2],s=new o(null);s.fromInt(30);var c=function(e,t){return e|t};i.generateProbablePrime=function(e,A,n){"function"==typeof A&&(n=A,A={});var r=(A=A||{}).algorithm||"PRIMEINC";"string"==typeof r&&(r={name:r}),r.options=r.options||{};var i=A.prng||ka.random;if(A={nextBytes:function(e){for(var t=i.getBytesSync(e.length),A=0;A<e.length;++A)e[A]=t.charCodeAt(A)}},"PRIMEINC"===r.name)return t(e,A,r.options,n);throw Error("Invalid prime generation algorithm: "+r.name)}}}()})),void 0===fe)var fe=ka.jsbn.BigInteger;var Gx=ka.util.isNodejs?WD:null,vb=ka.asn1,Bj=ka.util;ka.pki=ka.pki||{},ka.pki.rsa=ka.rsa=ka.rsa||{};var sd=ka.pki,Z2=[6,4,2,4,2,4,6,2],$2={name:"PrivateKeyInfo",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:vb.Class.UNIVERSAL,type:vb.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:vb.Class.UNIVERSAL,type:vb.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},a3={name:"RSAPrivateKey",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},b3={name:"RSAPublicKey",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:vb.Class.UNIVERSAL,type:vb.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},c3=ka.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:vb.Class.UNIVERSAL,type:vb.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:vb.Class.UNIVERSAL,type:vb.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},d3={name:"DigestInfo",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:vb.Class.UNIVERSAL,type:vb.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:vb.Class.UNIVERSAL,type:vb.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:vb.Class.UNIVERSAL,type:vb.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:vb.Class.UNIVERSAL,type:vb.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},e3=function(e){if(!(e.algorithm in sd.oids))throw(t=Error("Unknown message digest algorithm.")).algorithm=e.algorithm,t;var t=sd.oids[e.algorithm],A=vb.oidToDer(t).getBytes();t=vb.create(vb.Class.UNIVERSAL,vb.Type.SEQUENCE,!0,[]);var n=vb.create(vb.Class.UNIVERSAL,vb.Type.SEQUENCE,!0,[]);return n.value.push(vb.create(vb.Class.UNIVERSAL,vb.Type.OID,!1,A)),n.value.push(vb.create(vb.Class.UNIVERSAL,vb.Type.NULL,!1,"")),e=vb.create(vb.Class.UNIVERSAL,vb.Type.OCTETSTRING,!1,e.digest().getBytes()),t.value.push(n),t.value.push(e),vb.toDer(t).getBytes()},uO=function(e,t,A){if(A)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(fe.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(fe.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{A=new fe(ka.util.bytesToHex(ka.random.getBytes(t.n.bitLength()/8)),16)}while(0<=A.compareTo(t.n)||!A.gcd(t.n).equals(fe.ONE));var n=(e=e.multiply(A.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p);for(e=e.mod(t.q).modPow(t.dQ,t.q);0>n.compareTo(e);)n=n.add(t.p);return(e=n.subtract(e).multiply(t.qInv).mod(t.p).multiply(t.q).add(e)).multiply(A.modInverse(t.n)).mod(t.n)};if(sd.rsa.encrypt=function(e,t,A){var n=A,r=Math.ceil(t.n.bitLength()/8);for(!1!==A&&!0!==A?(n=2===A,A=EI(e,t,A)):(A=ka.util.createBuffer()).putBytes(e),e=new fe(A.toHex(),16),t=uO(e,t,n).toString(16),n=ka.util.createBuffer(),r-=Math.ceil(t.length/2);0<r;)n.putByte(0),--r;return n.putBytes(ka.util.hexToBytes(t)),n.getBytes()},sd.rsa.decrypt=function(e,t,A,n){var r=Math.ceil(t.n.bitLength()/8);if(e.length!==r)throw(t=Error("Encrypted message length is invalid.")).length=e.length,t.expected=r,t;if(0<=(e=new fe(ka.util.createBuffer(e).toHex(),16)).compareTo(t.n))throw Error("Encrypted message is invalid.");e=uO(e,t,A).toString(16);var i=ka.util.createBuffer();for(r-=Math.ceil(e.length/2);0<r;)i.putByte(0),--r;return i.putBytes(ka.util.hexToBytes(e)),!1!==n?iw(i.getBytes(),t,A):i.getBytes()},sd.rsa.createKeyPairGenerationState=function(e,t,A){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var n=(A=A||{}).prng||ka.random,r={nextBytes:function(e){for(var t=n.getBytesSync(e.length),A=0;A<e.length;++A)e[A]=t.charCodeAt(A)}};if("PRIMEINC"!==(A=A.algorithm||"PRIMEINC"))throw Error("Invalid key generation algorithm: "+A);return(e={algorithm:A,state:0,bits:e,rng:r,eInt:t||65537,e:new fe(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(e.eInt),e},sd.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var A=new fe(null);A.fromInt(30);for(var n,r=0,i=function(e,t){return e|t},o=+new Date,a=0;null===e.keys&&(0>=t||a<t);){if(0===e.state){var s=(n=null===e.p?e.pBits:e.qBits)-1;0===e.pqState?(e.num=new fe(n,e.rng),e.num.testBit(s)||e.num.bitwiseTo(fe.ONE.shiftLeft(s),i,e.num),e.num.dAddOffset(31-e.num.mod(A).byteValue(),0),r=0,++e.pqState):1===e.pqState?e.num.bitLength()>n?e.pqState=0:e.num.isProbablePrime(UW(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(Z2[r++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(fe.ONE).gcd(e.e).compareTo(fe.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else 1===e.state?(0>e.p.compareTo(e.q)&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state):2===e.state?(e.p1=e.p.subtract(fe.ONE),e.q1=e.q.subtract(fe.ONE),e.phi=e.p1.multiply(e.q1),++e.state):3===e.state?0===e.phi.gcd(e.e).compareTo(fe.ONE)?++e.state:(e.p=null,e.q=null,e.state=0):4===e.state?(e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0)):5===e.state&&(n=e.e.modInverse(e.phi),e.keys={privateKey:sd.rsa.setPrivateKey(e.n,e.e,n,e.p,e.q,n.mod(e.p1),n.mod(e.q1),e.q.modInverse(e.p)),publicKey:sd.rsa.setPublicKey(e.n,e.e)});a+=(n=+new Date)-o,o=n}return null!==e.keys},sd.rsa.generateKeyPair=function(e,t,A,n){if(1===arguments.length?"object"===ub(e)?(A=e,e=void 0):"function"==typeof e&&(n=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(n=t,t=void 0):"number"!=typeof t&&(A=t,t=void 0):(A=e,n=t,t=e=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof A&&(n=A,A=void 0):(n=A,A=t,t=void 0)),A=A||{},void 0===e&&(e=A.bits||2048),void 0===t&&(t=A.e||65537),!A.prng&&256<=e&&16384>=e&&(65537===t||3===t))if(n){if(ka.util.isNodejs&&"function"==typeof Gx.generateKeyPair)return Gx.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,A){if(e)return n(e);n(null,{privateKey:sd.privateKeyFromPem(A),publicKey:sd.publicKeyFromPem(t)})}));if(FI("generateKey")&&FI("exportKey"))return Bj.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:HI(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return Bj.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){n(e)})).then((function(e){e&&(e=sd.privateKeyFromAsn1(vb.fromDer(ka.util.createBuffer(e))),n(null,{privateKey:e,publicKey:sd.setRsaPublicKey(e.n,e.e)}))}));if(GI("generateKey")&&GI("exportKey")){var r=Bj.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:HI(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return r.oncomplete=function(e){(e=Bj.globalScope.msCrypto.subtle.exportKey("pkcs8",e.target.result.privateKey)).oncomplete=function(e){e=sd.privateKeyFromAsn1(vb.fromDer(ka.util.createBuffer(e.target.result))),n(null,{privateKey:e,publicKey:sd.setRsaPublicKey(e.n,e.e)})},e.onerror=function(e){n(e)}},void(r.onerror=function(e){n(e)})}}else if(ka.util.isNodejs&&"function"==typeof Gx.generateKeyPairSync)return r=Gx.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),{privateKey:sd.privateKeyFromPem(r.privateKey),publicKey:sd.publicKeyFromPem(r.publicKey)};if(r=sd.rsa.createKeyPairGenerationState(e,t,A),!n)return sd.rsa.stepKeyPairGenerationState(r,0),r.keys;TW(r,A,n)},sd.setRsaPublicKey=sd.rsa.setPublicKey=function(e,t){var A={n:e,e:t,encrypt:function(e,t,n){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,A){return EI(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return ka.pkcs1.encode_rsa_oaep(t,e,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw Error('Unsupported encryption scheme: "'+t+'".');return e=t.encode(e,A,!0),sd.rsa.encrypt(e,A,!0)},verify:function(e,t,n,r){return"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),void 0===r&&(r={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in r||(r._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){t=iw(t,A,!0);var n=vb.fromDer(t,{parseAllBytes:r._parseAllDigestBytes});t={};var i=[];if(!vb.validate(n,d3,t,i))throw(e=Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=i,e;if((i=vb.derToOid(t.algorithmIdentifier))!==ka.oids.md2&&i!==ka.oids.md5&&i!==ka.oids.sha1&&i!==ka.oids.sha224&&i!==ka.oids.sha256&&i!==ka.oids.sha384&&i!==ka.oids.sha512&&i!==ka.oids["sha512-224"]&&i!==ka.oids["sha512-256"])throw(e=Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=i,e;if(!(i!==ka.oids.md2&&i!==ka.oids.md5||"parameters"in t))throw Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return e===t.digest}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===(t=iw(t,A,!0))}}),t=sd.rsa.decrypt(t,A,!0,!1),n.verify(e,t,A.n.bitLength())}};return A},sd.setRsaPrivateKey=sd.rsa.setPrivateKey=function(e,t,A,n,r,i,o,a){var s={n:e,e:t,d:A,p:n,q:r,dP:i,dQ:o,qInv:a,decrypt:function(e,t,A){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),e=sd.rsa.decrypt(e,s,!1,!1),"RSAES-PKCS1-V1_5"===t)t={decode:iw};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return ka.pkcs1.decode_rsa_oaep(t,e,A)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(e,s,!1)},sign:function(e,t){var A=!1;return"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:e3},A=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},A=1),t=t.encode(e,s.n.bitLength()),sd.rsa.encrypt(t,s,A)}};return s},sd.wrapRsaPrivateKey=function(e){return vb.create(vb.Class.UNIVERSAL,vb.Type.SEQUENCE,!0,[vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,vb.integerToDer(0).getBytes()),vb.create(vb.Class.UNIVERSAL,vb.Type.SEQUENCE,!0,[vb.create(vb.Class.UNIVERSAL,vb.Type.OID,!1,vb.oidToDer(sd.oids.rsaEncryption).getBytes()),vb.create(vb.Class.UNIVERSAL,vb.Type.NULL,!1,"")]),vb.create(vb.Class.UNIVERSAL,vb.Type.OCTETSTRING,!1,vb.toDer(e).getBytes())])},sd.privateKeyFromAsn1=function(e){var t={},A=[];if(vb.validate(e,$2,t,A)&&(e=vb.fromDer(ka.util.createBuffer(t.privateKey))),t={},A=[],!vb.validate(e,a3,t,A))throw(t=Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.")).errors=A,t;A=ka.util.createBuffer(t.privateKeyModulus).toHex(),e=ka.util.createBuffer(t.privateKeyPublicExponent).toHex();var n=ka.util.createBuffer(t.privateKeyPrivateExponent).toHex(),r=ka.util.createBuffer(t.privateKeyPrime1).toHex(),i=ka.util.createBuffer(t.privateKeyPrime2).toHex(),o=ka.util.createBuffer(t.privateKeyExponent1).toHex(),a=ka.util.createBuffer(t.privateKeyExponent2).toHex();return t=ka.util.createBuffer(t.privateKeyCoefficient).toHex(),sd.setRsaPrivateKey(new fe(A,16),new fe(e,16),new fe(n,16),new fe(r,16),new fe(i,16),new fe(o,16),new fe(a,16),new fe(t,16))},sd.privateKeyToAsn1=sd.privateKeyToRSAPrivateKey=function(e){return vb.create(vb.Class.UNIVERSAL,vb.Type.SEQUENCE,!0,[vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,vb.integerToDer(0).getBytes()),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.n)),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.e)),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.d)),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.p)),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.q)),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.dP)),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.dQ)),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.qInv))])},sd.publicKeyFromAsn1=function(e){var t={},A=[];if(vb.validate(e,c3,t,A)){if((A=vb.derToOid(t.publicKeyOid))!==sd.oids.rsaEncryption)throw(t=Error("Cannot read public key. Unknown OID.")).oid=A,t;e=t.rsaPublicKey}if(A=[],!vb.validate(e,b3,t,A))throw(t=Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=A,t;return A=ka.util.createBuffer(t.publicKeyModulus).toHex(),t=ka.util.createBuffer(t.publicKeyExponent).toHex(),sd.setRsaPublicKey(new fe(A,16),new fe(t,16))},sd.publicKeyToAsn1=sd.publicKeyToSubjectPublicKeyInfo=function(e){return vb.create(vb.Class.UNIVERSAL,vb.Type.SEQUENCE,!0,[vb.create(vb.Class.UNIVERSAL,vb.Type.SEQUENCE,!0,[vb.create(vb.Class.UNIVERSAL,vb.Type.OID,!1,vb.oidToDer(sd.oids.rsaEncryption).getBytes()),vb.create(vb.Class.UNIVERSAL,vb.Type.NULL,!1,"")]),vb.create(vb.Class.UNIVERSAL,vb.Type.BITSTRING,!1,[sd.publicKeyToRSAPublicKey(e)])])},sd.publicKeyToRSAPublicKey=function(e){return vb.create(vb.Class.UNIVERSAL,vb.Type.SEQUENCE,!0,[vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.n)),vb.create(vb.Class.UNIVERSAL,vb.Type.INTEGER,!1,Sk(e.e))])},void 0===f3)var f3=ka.jsbn.BigInteger;var Fb=ka.asn1,zd=ka.pki=ka.pki||{};zd.pbe=ka.pbe=ka.pbe||{};var $o=zd.oids,g3={name:"EncryptedPrivateKeyInfo",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},h3={name:"PBES2Algorithms",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},i3={name:"pkcs-12PbeParams",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Fb.Class.UNIVERSAL,type:Fb.Type.INTEGER,constructed:!1,capture:"iterations"}]};zd.encryptPrivateKeyInfo=function(e,t,A){(A=A||{}).saltSize=A.saltSize||8,A.count=A.count||2048,A.algorithm=A.algorithm||"aes128",A.prfAlgorithm=A.prfAlgorithm||"sha1";var n,r=ka.random.getBytesSync(A.saltSize),i=A.count,o=Fb.integerToDer(i);if(0===A.algorithm.indexOf("aes")||"des"===A.algorithm){switch(A.algorithm){case"aes128":var a=n=16,s=$o["aes128-CBC"],c=ka.aes.createEncryptionCipher;break;case"aes192":n=24,a=16,s=$o["aes192-CBC"],c=ka.aes.createEncryptionCipher;break;case"aes256":n=32,a=16,s=$o["aes256-CBC"],c=ka.aes.createEncryptionCipher;break;case"des":a=n=8,s=$o.desCBC,c=ka.des.createEncryptionCipher;break;default:throw(r=Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=A.algorithm,r}var u=KI(A="hmacWith"+A.prfAlgorithm.toUpperCase());u=ka.pkcs5.pbkdf2(t,r,i,n,u),t=ka.random.getBytesSync(a),(i=c(u)).start(t),i.update(Fb.toDer(e)),i.finish(),e=i.output.getBytes(),r=Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OCTETSTRING,!1,r),Fb.create(Fb.Class.UNIVERSAL,Fb.Type.INTEGER,!1,o.getBytes())]),"hmacWithSHA1"!==A&&r.value.push(Fb.create(Fb.Class.UNIVERSAL,Fb.Type.INTEGER,!1,ka.util.hexToBytes(n.toString(16))),Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OID,!1,Fb.oidToDer(zd.oids[A]).getBytes()),Fb.create(Fb.Class.UNIVERSAL,Fb.Type.NULL,!1,"")])),r=Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OID,!1,Fb.oidToDer($o.pkcs5PBES2).getBytes()),Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OID,!1,Fb.oidToDer($o.pkcs5PBKDF2).getBytes()),r]),Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OID,!1,Fb.oidToDer(s).getBytes()),Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OCTETSTRING,!1,t)])])])}else{if("3des"!==A.algorithm)throw(r=Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=A.algorithm,r;n=24,s=new ka.util.ByteBuffer(r),u=zd.pbe.generatePkcs12Key(t,s,1,i,n),t=zd.pbe.generatePkcs12Key(t,s,2,i,n),(i=ka.des.createEncryptionCipher(u)).start(t),i.update(Fb.toDer(e)),i.finish(),e=i.output.getBytes(),r=Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OID,!1,Fb.oidToDer($o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OCTETSTRING,!1,r),Fb.create(Fb.Class.UNIVERSAL,Fb.Type.INTEGER,!1,o.getBytes())])])}return Fb.create(Fb.Class.UNIVERSAL,Fb.Type.SEQUENCE,!0,[r,Fb.create(Fb.Class.UNIVERSAL,Fb.Type.OCTETSTRING,!1,e)])},zd.decryptPrivateKeyInfo=function(e,t){var A=null,n={},r=[];if(!Fb.validate(e,g3,n,r))throw(A=Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=r,A;return r=Fb.derToOid(n.encryptionOid),t=zd.pbe.getCipher(r,n.encryptionParams,t),n=ka.util.createBuffer(n.encryptedData),t.update(n),t.finish()&&(A=Fb.fromDer(t.output)),A},zd.encryptedPrivateKeyToPem=function(e,t){return e={type:"ENCRYPTED PRIVATE KEY",body:Fb.toDer(e).getBytes()},ka.pem.encode(e,{maxline:t})},zd.encryptedPrivateKeyFromPem=function(e){if("ENCRYPTED PRIVATE KEY"!==(e=ka.pem.decode(e)[0]).type){var t=Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw t.headerType=e.type,t}if(e.procType&&"ENCRYPTED"===e.procType.type)throw Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Fb.fromDer(e.body)},zd.encryptRsaPrivateKey=function(e,t,A){if(!(A=A||{}).legacy)return e=zd.wrapRsaPrivateKey(zd.privateKeyToAsn1(e)),e=zd.encryptPrivateKeyInfo(e,t,A),zd.encryptedPrivateKeyToPem(e);switch(A.algorithm){case"aes128":A="AES-128-CBC";var n=16,r=ka.random.getBytesSync(16),i=ka.aes.createEncryptionCipher;break;case"aes192":A="AES-192-CBC",n=24,r=ka.random.getBytesSync(16),i=ka.aes.createEncryptionCipher;break;case"aes256":A="AES-256-CBC",n=32,r=ka.random.getBytesSync(16),i=ka.aes.createEncryptionCipher;break;case"3des":A="DES-EDE3-CBC",n=24,r=ka.random.getBytesSync(8),i=ka.des.createEncryptionCipher;break;case"des":A="DES-CBC",n=8,r=ka.random.getBytesSync(8),i=ka.des.createEncryptionCipher;break;default:throw(e=Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+A.algorithm+'".')).algorithm=A.algorithm,e}return(t=i(t=ka.pbe.opensslDeriveBytes(t,r.substr(0,8),n))).start(r),t.update(Fb.toDer(zd.privateKeyToAsn1(e))),t.finish(),e={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:A,parameters:ka.util.bytesToHex(r).toUpperCase()},body:t.output.getBytes()},ka.pem.encode(e)},zd.decryptRsaPrivateKey=function(e,t){var A=null;if("ENCRYPTED PRIVATE KEY"!==(e=ka.pem.decode(e)[0]).type&&"PRIVATE KEY"!==e.type&&"RSA PRIVATE KEY"!==e.type)throw(t=Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=t,t;if(e.procType&&"ENCRYPTED"===e.procType.type){switch(e.dekInfo.algorithm){case"DES-CBC":var n=8,r=ka.des.createDecryptionCipher;break;case"DES-EDE3-CBC":n=24,r=ka.des.createDecryptionCipher;break;case"AES-128-CBC":n=16,r=ka.aes.createDecryptionCipher;break;case"AES-192-CBC":n=24,r=ka.aes.createDecryptionCipher;break;case"AES-256-CBC":n=32,r=ka.aes.createDecryptionCipher;break;case"RC2-40-CBC":n=5,r=function(e){return ka.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":n=8,r=function(e){return ka.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":n=16,r=function(e){return ka.rc2.createDecryptionCipher(e,128)};break;default:throw(t=Error('Could not decrypt private key; unsupported encryption algorithm "'+e.dekInfo.algorithm+'".')).algorithm=e.dekInfo.algorithm,t}var i=ka.util.hexToBytes(e.dekInfo.parameters);if((r=r(n=ka.pbe.opensslDeriveBytes(t,i.substr(0,8),n))).start(i),r.update(ka.util.createBuffer(e.body)),!r.finish())return A;A=r.output.getBytes()}else A=e.body;return null!==(A="ENCRYPTED PRIVATE KEY"===e.type?zd.decryptPrivateKeyInfo(Fb.fromDer(A),t):Fb.fromDer(A))&&(A=zd.privateKeyFromAsn1(A)),A},zd.pbe.generatePkcs12Key=function(e,t,A,n,r,i){var o,a;if(null==i){if(!("sha1"in ka.md))throw Error('"sha1" hash algorithm unavailable.');i=ka.md.sha1.create()}var s=i.digestLength,c=i.blockLength,u=new ka.util.ByteBuffer,g=new ka.util.ByteBuffer;if(null!=e){for(a=0;a<e.length;a++)g.putInt16(e.charCodeAt(a));g.putInt16(0)}e=g.length();var I=t.length(),l=new ka.util.ByteBuffer;l.fillWithByte(A,c);var E=c*Math.ceil(I/c);for(A=new ka.util.ByteBuffer,a=0;a<E;a++)A.putByte(t.at(a%I));for(E=c*Math.ceil(e/c),t=new ka.util.ByteBuffer,a=0;a<E;a++)t.putByte(g.at(a%e));for((g=A).putBuffer(t),t=Math.ceil(r/s),A=1;A<=t;A++){for((E=new ka.util.ByteBuffer).putBytes(l.bytes()),E.putBytes(g.bytes()),a=0;a<n;a++)i.start(),i.update(E.getBytes()),E=i.digest();var C=new ka.util.ByteBuffer;for(a=0;a<c;a++)C.putByte(E.at(a%s));var d=Math.ceil(I/c)+Math.ceil(e/c),h=new ka.util.ByteBuffer;for(o=0;o<d;o++){var p=new ka.util.ByteBuffer(g.getBytes(c)),f=511;for(a=C.length()-1;0<=a;a--)f>>=8,f+=C.at(a)+p.at(a),p.setAt(a,255&f);h.putBuffer(p)}g=h,u.putBuffer(E)}return u.truncate(u.length()-r),u},zd.pbe.getCipher=function(e,t,A){switch(e){case zd.oids.pkcs5PBES2:return zd.pbe.getCipherForPBES2(e,t,A);case zd.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case zd.oids["pbewithSHAAnd40BitRC2-CBC"]:return zd.pbe.getCipherForPKCS12PBE(e,t,A);default:throw(t=Error("Cannot read encrypted PBE data block. Unsupported OID.")).oid=e,t.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],t}},zd.pbe.getCipherForPBES2=function(e,t,A){var n={};if(e=[],!Fb.validate(t,h3,n,e)){var r=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw r.errors=e,r}if((e=Fb.derToOid(n.kdfOid))!==zd.oids.pkcs5PBKDF2)throw(r=Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,r.supportedOids=["pkcs5PBKDF2"],r;if((e=Fb.derToOid(n.encOid))!==zd.oids["aes128-CBC"]&&e!==zd.oids["aes192-CBC"]&&e!==zd.oids["aes256-CBC"]&&e!==zd.oids["des-EDE3-CBC"]&&e!==zd.oids.desCBC)throw(r=Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,r.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],r;t=n.kdfSalt;var i=ka.util.createBuffer(n.kdfIterationCount);switch(i=i.getInt(i.length()<<3),zd.oids[e]){case"aes128-CBC":var o=16;r=ka.aes.createDecryptionCipher;break;case"aes192-CBC":o=24,r=ka.aes.createDecryptionCipher;break;case"aes256-CBC":o=32,r=ka.aes.createDecryptionCipher;break;case"des-EDE3-CBC":o=24,r=ka.des.createDecryptionCipher;break;case"desCBC":o=8,r=ka.des.createDecryptionCipher}return e=JI(n.prfOid),A=ka.pkcs5.pbkdf2(A,t,i,o,e),n=n.encIv,(r=r(A)).start(n),r},zd.pbe.getCipherForPKCS12PBE=function(e,t,A){var n={},r=[];if(!Fb.validate(t,i3,n,r))throw(A=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=r,A;switch(r=ka.util.createBuffer(n.salt),t=(t=ka.util.createBuffer(n.iterations)).getInt(t.length()<<3),e){case zd.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:var i=24,o=8;e=ka.des.startDecrypting;break;case zd.oids["pbewithSHAAnd40BitRC2-CBC"]:i=5,o=8,e=function(e,t){return(e=ka.rc2.createDecryptionCipher(e,40)).start(t,null),e};break;default:throw(A=Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,A}return n=JI(n.prfOid),i=zd.pbe.generatePkcs12Key(A,r,1,t,i,n),n.start(),e(i,A=zd.pbe.generatePkcs12Key(A,r,2,t,o,n))},zd.pbe.opensslDeriveBytes=function(e,t,A,n){if(null==n){if(!("md5"in ka.md))throw Error('"md5" hash algorithm unavailable.');n=ka.md.md5.create()}null===t&&(t="");for(var r=[II(n,e+t)],i=16,o=1;i<A;++o,i+=16)r.push(II(n,r[o-1]+e+t));return r.join("").substr(0,A)},$c((function(e){var t=ka.asn1;e=e.exports=ka.pkcs7asn1=ka.pkcs7asn1||{},ka.pkcs7=ka.pkcs7||{},ka.pkcs7.asn1=e;var A={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};e.contentInfoValidator=A;var n={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};e.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(n)},e.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(n)},e.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},A,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},e.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}})),$c((function(e){ka.mgf=ka.mgf||{},(e.exports=ka.mgf.mgf1=ka.mgf1=ka.mgf1||{}).create=function(e){return{generate:function(t,A){for(var n=new ka.util.ByteBuffer,r=Math.ceil(A/e.digestLength),i=0;i<r;i++){var o=new ka.util.ByteBuffer;o.putInt32(i),e.start(),e.update(t+o.getBytes()),n.putBuffer(e.digest())}return n.truncate(n.length()-A),n.getBytes()}}}})),ka.mgf=ka.mgf||{},ka.mgf.mgf1=ka.mgf1,$c((function(e){(e.exports=ka.pss=ka.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,A=e.mgf,n=t.digestLength,r=e.salt||null;if("string"==typeof r&&(r=ka.util.createBuffer(r)),"saltLength"in e)var i=e.saltLength;else{if(null===r)throw Error("Salt length not specified or specific salt not given.");i=r.length()}if(null!==r&&r.length()!==i)throw Error("Given salt length does not match length of given salt.");var o=e.prng||ka.random;return{encode:function(e,a){--a;var s=Math.ceil(a/8);if(e=e.digest().getBytes(),s<n+i+2)throw Error("Message is too long to encrypt.");var c=null===r?o.getBytesSync(i):r.bytes(),u=new ka.util.ByteBuffer;u.fillWithByte(0,8),u.putBytes(e),u.putBytes(c),t.start(),t.update(u.getBytes()),e=t.digest().getBytes(),(u=new ka.util.ByteBuffer).fillWithByte(0,s-i-n-2),u.putByte(1),u.putBytes(c);var g=u.getBytes(),I=s-n-1,l=A.generate(e,I);for(c="",u=0;u<I;u++)c+=String.fromCharCode(g.charCodeAt(u)^l.charCodeAt(u));return a=65280>>8*s-a&255,(c=String.fromCharCode(c.charCodeAt(0)&~a)+c.substr(1))+e+String.fromCharCode(188)},verify:function(e,r,o){var a=o-1;if(o=Math.ceil(a/8),r=r.substr(-o),o<n+i+2)throw Error("Inconsistent parameters to PSS signature verification.");if(188!==r.charCodeAt(o-1))throw Error("Encoded message does not end in 0xBC.");var s=o-n-1,c=r.substr(0,s);r=r.substr(s,n);var u=65280>>8*o-a&255;if(0!=(c.charCodeAt(0)&u))throw Error("Bits beyond keysize not zero as expected.");var g=A.generate(r,s),I="";for(a=0;a<s;a++)I+=String.fromCharCode(c.charCodeAt(a)^g.charCodeAt(a));for(I=String.fromCharCode(I.charCodeAt(0)&~u)+I.substr(1),o=o-n-i-2,a=0;a<o;a++)if(0!==I.charCodeAt(a))throw Error("Leftmost octets not zero as expected");if(1!==I.charCodeAt(o))throw Error("Inconsistent PSS signature, 0x01 marker not found");return o=I.substr(-i),(s=new ka.util.ByteBuffer).fillWithByte(0,8),s.putBytes(e),s.putBytes(o),t.start(),t.update(s.getBytes()),r===(e=t.digest().getBytes())}}}})),$c((function(e){function t(e,t){"string"==typeof t&&(t={shortName:t});for(var A,n=null,r=0;null===n&&r<e.attributes.length;++r)A=e.attributes[r],(t.type&&t.type===A.type||t.name&&t.name===A.name||t.shortName&&t.shortName===A.shortName)&&(n=A);return n}function A(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);e=e.attributes;for(var A=0;A<e.length;++A){var n=e[A],r=n.value,i=a.Type.PRINTABLESTRING;"valueTagClass"in n&&((i=n.valueTagClass)===a.Type.UTF8&&(r=ka.util.encodeUtf8(r))),n=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(n.type).getBytes()),a.create(a.Class.UNIVERSAL,i,!1,r)])]),t.value.push(n)}return t}function n(e){for(var t,A=0;A<e.length;++A){if(void 0===(t=e[A]).name&&(t.type&&t.type in s.oids?t.name=s.oids[t.type]:t.shortName&&t.shortName in u&&(t.name=s.oids[u[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in s.oids))throw(e=Error("Attribute type not specified.")).attribute=t,e;t.type=s.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in u&&(t.shortName=u[t.name]),t.type===c.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=a.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(s.certificateExtensionToAsn1(r(t.extensions[n])))}if(void 0===t.value)throw(e=Error("Attribute value not specified.")).attribute=t,e}}function r(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in s.oids&&(e.name=s.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in s.oids)){var n=Error("Extension ID not specified.");throw n.extension=e,n}e.id=s.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=n=t=0;e.digitalSignature&&(n|=128,t=7),e.nonRepudiation&&(n|=64,t=6),e.keyEncipherment&&(n|=32,t=5),e.dataEncipherment&&(n|=16,t=4),e.keyAgreement&&(n|=8,t=3),e.keyCertSign&&(n|=4,t=2),e.cRLSign&&(n|=2,t=1),e.encipherOnly&&(n|=1,t=0),e.decipherOnly&&(r|=128,t=7),t=String.fromCharCode(t),0!==r?t+=String.fromCharCode(n)+String.fromCharCode(r):0!==n&&(t+=String.fromCharCode(n)),e.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,t)}else if("basicConstraints"===e.name)e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name)for(r in e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),n=e.value.value,e)!0===e[r]&&(r in c?n.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c[r]).getBytes())):-1!==r.indexOf(".")&&n.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(r).getBytes())));else if("nsCertType"===e.name)n=t=0,e.client&&(n|=128,t=7),e.server&&(n|=64,t=6),e.email&&(n|=32,t=5),e.objsign&&(n|=16,t=4),e.reserved&&(n|=8,t=3),e.sslCA&&(n|=4,t=2),e.emailCA&&(n|=2,t=1),e.objCA&&(n|=1,t=0),t=String.fromCharCode(t),0!==n&&(t+=String.fromCharCode(n)),e.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,t);else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);for(var i=0;i<e.altNames.length;++i){if(t=(r=e.altNames[i]).value,7===r.type&&r.ip){if(null===(t=ka.util.bytesFromIP(r.ip)))throw(n=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,n}else 8===r.type&&(t=r.oid?a.oidToDer(a.oidToDer(r.oid)):a.oidToDer(t));e.value.value.push(a.create(a.Class.CONTEXT_SPECIFIC,r.type,!1,t))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||1>e.comment.length||128<e.comment.length)throw Error('Invalid "nsComment" content.');e.value=a.create(a.Class.UNIVERSAL,a.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert)n=t.cert.generateSubjectKeyIdentifier(),e.subjectKeyIdentifier=n.toHex(),e.value=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,n.getBytes());else if("authorityKeyIdentifier"===e.name&&t.cert)e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),n=e.value.value,e.keyIdentifier&&(r=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier,n.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!1,r))),e.authorityCertIssuer&&(r=[a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[A(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])],n.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,r))),e.serialNumber&&(t=ka.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber),n.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!1,t)));else if("cRLDistributionPoints"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),n=e.value.value;var o=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),u=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(i=0;i<e.altNames.length;++i){if(t=(r=e.altNames[i]).value,7===r.type&&r.ip){if(null===(t=ka.util.bytesFromIP(r.ip)))throw(n=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,n}else 8===r.type&&(t=r.oid?a.oidToDer(a.oidToDer(r.oid)):a.oidToDer(t));u.value.push(a.create(a.Class.CONTEXT_SPECIFIC,r.type,!1,t))}o.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[u])),n.push(o)}if(void 0===e.value)throw(n=Error("Extension value not specified.")).extension=e,n;return e}function i(e,t){switch(e){case c["RSASSA-PSS"]:return e=[],void 0!==t.hash.algorithmOid&&e.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&e.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.mgf.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.mgf.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&e.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(t.saltLength).getBytes())])),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,e);default:return a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")}}function o(e){return e>=h&&e<p?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(e)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(e))}var a=ka.asn1,s=e.exports=ka.pki=ka.pki||{},c=s.oids,u={};u.CN=c.commonName,u.commonName="CN",u.C=c.countryName,u.countryName="C",u.L=c.localityName,u.localityName="L",u.ST=c.stateOrProvinceName,u.stateOrProvinceName="ST",u.O=c.organizationName,u.organizationName="O",u.OU=c.organizationalUnitName,u.organizationalUnitName="OU",u.E=c.emailAddress,u.emailAddress="E",e=ka.pki.rsa.publicKeyValidator;var g={name:"Certificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},e,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},I={name:"rsapss",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},l={name:"CertificationRequest",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},e,{name:"CertificationRequestInfo.attributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};s.RDNAttributesAsArray=function(e,t){for(var A,n,r,i=[],o=0;o<e.value.length;++o){A=e.value[o];for(var s=0;s<A.value.length;++s)r={},n=A.value[s],r.type=a.derToOid(n.value[0].value),r.value=n.value[1].value,r.valueTagClass=n.value[1].type,r.type in c&&(r.name=c[r.type],r.name in u&&(r.shortName=u[r.name])),t&&(t.update(r.type),t.update(r.value)),i.push(r)}return i},s.CRIAttributesAsArray=function(e){for(var t=[],A=0;A<e.length;++A){var n=e[A],r=a.derToOid(n.value[0].value);n=n.value[1].value;for(var i=0;i<n.length;++i){var o={};if(o.type=r,o.value=n[i].value,o.valueTagClass=n[i].type,o.type in c&&(o.name=c[o.type],o.name in u&&(o.shortName=u[o.name])),o.type===c.extensionRequest){o.extensions=[];for(var g=0;g<o.value.length;++g)o.extensions.push(s.certificateExtensionFromAsn1(o.value[g]))}t.push(o)}}return t};var E=function(e,t,A){var n={};if(e!==c["RSASSA-PSS"])return n;if(A&&(n={hash:{algorithmOid:c.sha1},mgf:{algorithmOid:c.mgf1,hash:{algorithmOid:c.sha1}},saltLength:20}),A={},e=[],!a.validate(t,I,A,e))throw(t=Error("Cannot read RSASSA-PSS parameter block.")).errors=e,t;return void 0!==A.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=a.derToOid(A.hashOid)),void 0!==A.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=a.derToOid(A.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=a.derToOid(A.maskGenHashOid)),void 0!==A.saltLength&&(n.saltLength=A.saltLength.charCodeAt(0)),n},C=function(e){switch(c[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return ka.md.sha1.create();case"md5WithRSAEncryption":return ka.md.md5.create();case"sha256WithRSAEncryption":return ka.md.sha256.create();case"sha384WithRSAEncryption":return ka.md.sha384.create();case"sha512WithRSAEncryption":return ka.md.sha512.create();case"RSASSA-PSS":return ka.md.sha256.create();default:var t=Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},d=function(e){var t=e.certificate;switch(t.signatureOid){case c["RSASSA-PSS"]:var A=c[t.signatureParameters.mgf.hash.algorithmOid];if(void 0===A||void 0===ka.md[A])throw(e=Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,e.name=A,e;var n=c[t.signatureParameters.mgf.algorithmOid];if(void 0===n||void 0===ka.mgf[n])throw(e=Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,e.name=n,e;if(n=ka.mgf[n].create(ka.md[A].create()),void 0===(A=c[t.signatureParameters.hash.algorithmOid])||void 0===ka.md[A])throw(e=Error("Unsupported RSASSA-PSS hash function.")).oid=t.signatureParameters.hash.algorithmOid,e.name=A,e;A=ka.pss.create(ka.md[A].create(),n,t.signatureParameters.saltLength)}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,A)};s.certificateFromPem=function(e,t,A){if("CERTIFICATE"!==(e=ka.pem.decode(e)[0]).type&&"X509 CERTIFICATE"!==e.type&&"TRUSTED CERTIFICATE"!==e.type)throw(t=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".')).headerType=e.type,t;if(e.procType&&"ENCRYPTED"===e.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");return A=a.fromDer(e.body,A),s.certificateFromAsn1(A,t)},s.certificateToPem=function(e,t){return e={type:"CERTIFICATE",body:a.toDer(s.certificateToAsn1(e)).getBytes()},ka.pem.encode(e,{maxline:t})},s.publicKeyFromPem=function(e){if("PUBLIC KEY"!==(e=ka.pem.decode(e)[0]).type&&"RSA PUBLIC KEY"!==e.type){var t=Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw t.headerType=e.type,t}if(e.procType&&"ENCRYPTED"===e.procType.type)throw Error("Could not convert public key from PEM; PEM is encrypted.");return e=a.fromDer(e.body),s.publicKeyFromAsn1(e)},s.publicKeyToPem=function(e,t){return e={type:"PUBLIC KEY",body:a.toDer(s.publicKeyToAsn1(e)).getBytes()},ka.pem.encode(e,{maxline:t})},s.publicKeyToRSAPublicKeyPem=function(e,t){return e={type:"RSA PUBLIC KEY",body:a.toDer(s.publicKeyToRSAPublicKey(e)).getBytes()},ka.pem.encode(e,{maxline:t})},s.getPublicKeyFingerprint=function(e,t){var A=(t=t||{}).md||ka.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":e=a.toDer(s.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":e=a.toDer(s.publicKeyToAsn1(e)).getBytes();break;default:throw Error('Unknown fingerprint type "'+t.type+'".')}if(A.start(),A.update(e),A=A.digest(),"hex"===t.encoding)return A=A.toHex(),t.delimiter?A.match(/.{2}/g).join(t.delimiter):A;if("binary"===t.encoding)return A.getBytes();if(t.encoding)throw Error('Unknown encoding "'+t.encoding+'".');return A},s.certificationRequestFromPem=function(e,t,A){if("CERTIFICATE REQUEST"!==(e=ka.pem.decode(e)[0]).type)throw(t=Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".')).headerType=e.type,t;if(e.procType&&"ENCRYPTED"===e.procType.type)throw Error("Could not convert certification request from PEM; PEM is encrypted.");return A=a.fromDer(e.body,A),s.certificationRequestFromAsn1(A,t)},s.certificationRequestToPem=function(e,t){return e={type:"CERTIFICATE REQUEST",body:a.toDer(s.certificationRequestToAsn1(e)).getBytes()},ka.pem.encode(e,{maxline:t})},s.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(A){return t(e.issuer,A)},e.issuer.addField=function(t){n([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(A){return t(e.subject,A)},e.subject.addField=function(t){n([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,A){n(t),e.subject.attributes=t,delete e.subject.uniqueId,A&&(e.subject.uniqueId=A),e.subject.hash=null},e.setIssuer=function(t,A){n(t),e.issuer.attributes=t,delete e.issuer.uniqueId,A&&(e.issuer.uniqueId=A),e.issuer.hash=null},e.setExtensions=function(t){for(var A=0;A<t.length;++A)r(t[A],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var A,n=null,r=0;null===n&&r<e.extensions.length;++r)A=e.extensions[r],(t.id&&A.id===t.id||t.name&&A.name===t.name)&&(n=A);return n},e.sign=function(t,A){if(e.md=A||ka.md.sha1.create(),!(A=c[e.md.algorithm+"WithRSAEncryption"]))throw(t=Error("Could not compute certificate digest. Unknown message digest algorithm OID.")).algorithm=e.md.algorithm,t;e.signatureOid=e.siginfo.algorithmOid=A,e.tbsCertificate=s.getTBSCertificate(e),A=a.toDer(e.tbsCertificate),e.md.update(A.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var A=!1;if(!e.issued(t))throw t=t.issuer,(A=Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=e.subject.attributes,A.actualIssuer=t.attributes,A;var n=t.md;if(null===n){n=C({signatureOid:t.signatureOid,type:"certificate"});var r=t.tbsCertificate||s.getTBSCertificate(t);r=a.toDer(r),n.update(r.getBytes())}return null!==n&&(A=d({certificate:e,md:n,signature:t.signature})),A},e.isIssuer=function(t){var A=!1,n=e.issuer;if(t=t.subject,n.hash&&t.hash)A=n.hash===t.hash;else if(n.attributes.length===t.attributes.length){A=!0;for(var r,i,o=0;A&&o<n.attributes.length;++o)r=n.attributes[o],i=t.attributes[o],(r.type!==i.type||r.value!==i.value)&&(A=!1)}return A},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=c.subjectKeyIdentifier,A=0;A<e.extensions.length;++A){var n=e.extensions[A];if(n.id===t)return t=e.generateSubjectKeyIdentifier().getBytes(),ka.util.hexToBytes(n.subjectKeyIdentifier)===t}return!1},e},s.certificateFromAsn1=function(e,A){var r={},i=[];if(!a.validate(e,g,r,i))throw(r=Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=i,r;if(a.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var o=s.createCertificate();if(o.version=r.certVersion?r.certVersion.charCodeAt(0):0,i=ka.util.createBuffer(r.certSerialNumber),o.serialNumber=i.toHex(),o.signatureOid=ka.asn1.derToOid(r.certSignatureOid),o.signatureParameters=E(o.signatureOid,r.certSignatureParams,!0),o.siginfo.algorithmOid=ka.asn1.derToOid(r.certinfoSignatureOid),o.siginfo.parameters=E(o.siginfo.algorithmOid,r.certinfoSignatureParams,!1),o.signature=r.certSignature,i=[],void 0!==r.certValidity1UTCTime&&i.push(a.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&i.push(a.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&i.push(a.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&i.push(a.generalizedTimeToDate(r.certValidity4GeneralizedTime)),2<i.length)throw Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(2>i.length)throw Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");return o.validity.notBefore=i[0],o.validity.notAfter=i[1],o.tbsCertificate=r.tbsCertificate,A&&(o.md=C({signatureOid:o.signatureOid,type:"certificate"}),A=a.toDer(o.tbsCertificate),o.md.update(A.getBytes())),A=ka.md.sha1.create(),i=a.toDer(r.certIssuer),A.update(i.getBytes()),o.issuer.getField=function(e){return t(o.issuer,e)},o.issuer.addField=function(e){n([e]),o.issuer.attributes.push(e)},o.issuer.attributes=s.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(o.issuer.uniqueId=r.certIssuerUniqueId),o.issuer.hash=A.digest().toHex(),A=ka.md.sha1.create(),i=a.toDer(r.certSubject),A.update(i.getBytes()),o.subject.getField=function(e){return t(o.subject,e)},o.subject.addField=function(e){n([e]),o.subject.attributes.push(e)},o.subject.attributes=s.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(o.subject.uniqueId=r.certSubjectUniqueId),o.subject.hash=A.digest().toHex(),o.extensions=r.certExtensions?s.certificateExtensionsFromAsn1(r.certExtensions):[],o.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),o},s.certificateExtensionsFromAsn1=function(e){for(var t=[],A=0;A<e.value.length;++A)for(var n=e.value[A],r=0;r<n.value.length;++r)t.push(s.certificateExtensionFromAsn1(n.value[r]));return t},s.certificateExtensionFromAsn1=function(e){var t={};if(t.id=a.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===a.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in c)if(t.name=c[t.id],"keyUsage"===t.name){var A=0,n=0;1<(e=a.fromDer(t.value)).value.length&&(A=e.value.charCodeAt(1),n=2<e.value.length?e.value.charCodeAt(2):0),t.digitalSignature=128==(128&A),t.nonRepudiation=64==(64&A),t.keyEncipherment=32==(32&A),t.dataEncipherment=16==(16&A),t.keyAgreement=8==(8&A),t.keyCertSign=4==(4&A),t.cRLSign=2==(2&A),t.encipherOnly=1==(1&A),t.decipherOnly=128==(128&n)}else if("basicConstraints"===t.name)e=a.fromDer(t.value),t.cA=0<e.value.length&&e.value[0].type===a.Type.BOOLEAN&&0!==e.value[0].value.charCodeAt(0),A=null,0<e.value.length&&e.value[0].type===a.Type.INTEGER?A=e.value[0].value:1<e.value.length&&(A=e.value[1].value),null!==A&&(t.pathLenConstraint=a.derToInteger(A));else if("extKeyUsage"===t.name)for(e=a.fromDer(t.value),A=0;A<e.value.length;++A)(n=a.derToOid(e.value[A].value))in c?t[c[n]]=!0:t[n]=!0;else if("nsCertType"===t.name)A=0,1<(e=a.fromDer(t.value)).value.length&&(A=e.value.charCodeAt(1)),t.client=128==(128&A),t.server=64==(64&A),t.email=32==(32&A),t.objsign=16==(16&A),t.reserved=8==(8&A),t.sslCA=4==(4&A),t.emailCA=2==(2&A),t.objCA=1==(1&A);else if("subjectAltName"===t.name||"issuerAltName"===t.name)for(t.altNames=[],e=a.fromDer(t.value),n=0;n<e.value.length;++n){var r={type:(A=e.value[n]).type,value:A.value};switch(t.altNames.push(r),A.type){case 7:r.ip=ka.util.bytesToIP(A.value);break;case 8:r.oid=a.derToOid(A.value)}}else"subjectKeyIdentifier"===t.name&&(e=a.fromDer(t.value),t.subjectKeyIdentifier=ka.util.bytesToHex(e.value));return t},s.certificationRequestFromAsn1=function(e,A){var r={},i=[];if(!a.validate(e,l,r,i))throw(r=Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=i,r;if(a.derToOid(r.publicKeyOid)!==s.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var o=s.createCertificationRequest();return o.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,o.signatureOid=ka.asn1.derToOid(r.csrSignatureOid),o.signatureParameters=E(o.signatureOid,r.csrSignatureParams,!0),o.siginfo.algorithmOid=ka.asn1.derToOid(r.csrSignatureOid),o.siginfo.parameters=E(o.siginfo.algorithmOid,r.csrSignatureParams,!1),o.signature=r.csrSignature,o.certificationRequestInfo=r.certificationRequestInfo,A&&(o.md=C({signatureOid:o.signatureOid,type:"certification request"}),i=a.toDer(o.certificationRequestInfo),o.md.update(i.getBytes())),i=ka.md.sha1.create(),o.subject.getField=function(e){return t(o.subject,e)},o.subject.addField=function(e){n([e]),o.subject.attributes.push(e)},o.subject.attributes=s.RDNAttributesAsArray(r.certificationRequestInfoSubject,i),o.subject.hash=i.digest().toHex(),o.publicKey=s.publicKeyFromAsn1(r.subjectPublicKeyInfo),o.getAttribute=function(e){return t(o,e)},o.addAttribute=function(e){n([e]),o.attributes.push(e)},o.attributes=s.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),o},s.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(A){return t(e.subject,A)},e.subject.addField=function(t){n([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(A){return t(e,A)},e.addAttribute=function(t){n([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){n(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){n(t),e.attributes=t},e.sign=function(t,A){if(e.md=A||ka.md.sha1.create(),!(A=c[e.md.algorithm+"WithRSAEncryption"]))throw(t=Error("Could not compute certification request digest. Unknown message digest algorithm OID.")).algorithm=e.md.algorithm,t;e.signatureOid=e.siginfo.algorithmOid=A,e.certificationRequestInfo=s.getCertificationRequestInfo(e),A=a.toDer(e.certificationRequestInfo),e.md.update(A.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,A=e.md;if(null===A){A=C({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||s.getCertificationRequestInfo(e);n=a.toDer(n),A.update(n.getBytes())}return null!==A&&(t=d({certificate:e,md:A,signature:e.signature})),t},e};var h=new Date("1950-01-01T00:00:00Z"),p=new Date("2050-01-01T00:00:00Z");s.getTBSCertificate=function(e){var t=o(e.validity.notBefore),n=o(e.validity.notAfter);return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,ka.util.hexToBytes(e.serialNumber)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.siginfo.algorithmOid).getBytes()),i(e.siginfo.algorithmOid,e.siginfo.parameters)]),A(e.issuer),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,n]),A(e.subject),s.publicKeyToAsn1(e.publicKey)]),e.issuer.uniqueId&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),0<e.extensions.length&&t.value.push(s.certificateExtensionsToAsn1(e.extensions)),t},s.getCertificationRequestInfo=function(e){var t=a,n=t.create,r=a.Class.UNIVERSAL,i=a.Type.SEQUENCE,o=a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),c=A(e.subject),u=s.publicKeyToAsn1(e.publicKey),g=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0!==e.attributes.length){e=e.attributes;for(var I=0;I<e.length;++I){var l=e[I],E=l.value,C=a.Type.UTF8;"valueTagClass"in l&&(C=l.valueTagClass),C===a.Type.UTF8&&(E=ka.util.encodeUtf8(E));var d=!1;"valueConstructed"in l&&(d=l.valueConstructed),l=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(l.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,C,d,E)])]),g.value.push(l)}}return n.call(t,r,i,!0,[o,c,u,g])},s.distinguishedNameToAsn1=function(e){return A(e)},s.certificateToAsn1=function(e){var t=e.tbsCertificate||s.getTBSCertificate(e);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureOid).getBytes()),i(e.signatureOid,e.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.certificateExtensionsToAsn1=function(e){var t=a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[]),A=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);t.value.push(A);for(var n=0;n<e.length;++n)A.value.push(s.certificateExtensionToAsn1(e[n]));return t},s.certificateExtensionToAsn1=function(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.id).getBytes())),e.critical&&t.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,String.fromCharCode(255)));var A=e.value;return"string"!=typeof e.value&&(A=a.toDer(A).getBytes()),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,A)),t},s.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||s.getCertificationRequestInfo(e);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureOid).getBytes()),i(e.signatureOid,e.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.createCaStore=function(e){function t(e){return n(e),r.certs[e.hash]||null}function n(e){if(!e.hash){var t=ka.md.sha1.create();e.attributes=s.RDNAttributesAsArray(A(e),t),e.hash=t.digest().toHex()}}var r={certs:{},getIssuer:function(e){return t(e.issuer)},addCertificate:function(e){if("string"==typeof e&&(e=ka.pki.certificateFromPem(e)),n(e.subject),!r.hasCertificate(e))if(e.subject.hash in r.certs){var t=r.certs[e.subject.hash];ka.util.isArray(t)||(t=[t]),t.push(e),r.certs[e.subject.hash]=t}else r.certs[e.subject.hash]=e},hasCertificate:function(e){"string"==typeof e&&(e=ka.pki.certificateFromPem(e));var A=t(e.subject);if(!A)return!1;ka.util.isArray(A)||(A=[A]),e=a.toDer(s.certificateToAsn1(e)).getBytes();for(var n=0;n<A.length;++n){if(e===a.toDer(s.certificateToAsn1(A[n])).getBytes())return!0}return!1},listAllCertificates:function(){var e,t=[];for(e in r.certs)if(r.certs.hasOwnProperty(e)){var A=r.certs[e];if(ka.util.isArray(A))for(var n=0;n<A.length;++n)t.push(A[n]);else t.push(A)}return t},removeCertificate:function(e){if("string"==typeof e&&(e=ka.pki.certificateFromPem(e)),n(e.subject),!r.hasCertificate(e))return null;var A=t(e.subject);if(!ka.util.isArray(A)){var i=r.certs[e.subject.hash];return delete r.certs[e.subject.hash],i}for(var o=a.toDer(s.certificateToAsn1(e)).getBytes(),c=0;c<A.length;++c){o===a.toDer(s.certificateToAsn1(A[c])).getBytes()&&(i=A[c],A.splice(c,1))}return 0===A.length&&delete r.certs[e.subject.hash],i}};if(e)for(var i=0;i<e.length;++i)r.addCertificate(e[i]);return r},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(e,t,A){"function"==typeof A&&(A={verify:A}),A=A||{};var n=(t=t.slice(0)).slice(0),r=A.validityCheckDate;void 0===r&&(r=new Date);var i=!0,o=null,a=0;do{var c=t.shift(),u=null,g=!1;if(r&&(r<c.validity.notBefore||r>c.validity.notAfter)&&(o={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:r}),null===o){if(null===(u=t[0]||e.getIssuer(c))&&c.isIssuer(c)&&(g=!0,u=c),u){var I=u;ka.util.isArray(I)||(I=[I]);for(var l=!1;!l&&0<I.length;){u=I.shift();try{l=u.verify(c)}catch(e){}}l||(o={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}null!==o||u&&!g||e.hasCertificate(c)||(o={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(null===o&&u&&!c.isIssuer(u)&&(o={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),null===o)for(I={keyUsage:!0,basicConstraints:!0},l=0;null===o&&l<c.extensions.length;++l){var E=c.extensions[l];!E.critical||E.name in I||(o={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(null!==o||i&&(0!==t.length||u&&!g)||(i=c.getExtension("basicConstraints"),null!==(c=c.getExtension("keyUsage"))&&(c.keyCertSign&&null!==i||(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate})),null!==o||null===i||i.cA||(o={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),null===o&&null!==c&&"pathLenConstraint"in i&&a-1>i.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})),c=null===o||o.error,!0!==(i=A.verify?A.verify(c,a,n):c))throw!0===c&&(o={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(i||0===i)&&("object"!==ub(i)||ka.util.isArray(i)?"string"==typeof i&&(o.error=i):(i.message&&(o.message=i.message),i.error&&(o.error=i.error))),o;o=null,i=!1,++a}while(0<t.length);return!0}})),$c((function(e){function t(e,t,A,n){for(var r=[],i=0;i<e.length;i++)for(var o=0;o<e[i].safeBags.length;o++){var a=e[i].safeBags[o];void 0!==n&&a.type!==n||(null===t||void 0!==a.attributes[t]&&0<=a.attributes[t].indexOf(A))&&r.push(a)}return r}function A(e){if(e.composed||e.constructed){for(var t=ka.util.createBuffer(),A=0;A<e.value.length;++A)t.putBytes(e.value[A].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function n(e,t,A){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<e.value.length;a++){var s={},c=[];if(!i.validate(e.value[a],u,s,c))throw(e=Error("Cannot read SafeBag.")).errors=c,e;var g={type:i.derToOid(s.bagId),attributes:r(s.bagAttributes)};n.push(g);var l=s.bagValue.value[0];switch(g.type){case o.oids.pkcs8ShroudedKeyBag:if(null===(l=o.decryptPrivateKeyInfo(l,A)))throw Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case o.oids.keyBag:try{g.key=o.privateKeyFromAsn1(l)}catch(e){g.key=null,g.asn1=l}continue;case o.oids.certBag:var E=I,C=function(){if(i.derToOid(s.certId)!==o.oids.x509Certificate){var e=Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(s.certId),e}e=i.fromDer(s.cert,t);try{g.cert=o.certificateFromAsn1(e,!0)}catch(t){g.cert=null,g.asn1=e}};break;default:throw(e=Error("Unsupported PKCS#12 SafeBag type.")).oid=g.type,e}if(void 0!==E&&!i.validate(l,E,s,c))throw(e=Error("Cannot read PKCS#12 "+E.name)).errors=c,e;C()}return n}function r(e){var t={};if(void 0!==e)for(var A=0;A<e.length;++A){var n={},r=[];if(!i.validate(e[A],g,n,r))throw(e=Error("Cannot read PKCS#12 BagAttribute.")).errors=r,e;if(r=i.derToOid(n.oid),void 0!==o.oids[r]){t[o.oids[r]]=[];for(var a=0;a<n.values.length;++a)t[o.oids[r]].push(n.values[a].value)}}return t}var i=ka.asn1,o=ka.pki,a=e.exports=ka.pkcs12=ka.pkcs12||{},s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},g={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},I={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};a.pkcs12FromAsn1=function(e,r,u){"string"==typeof r?(u=r,r=!0):void 0===r&&(r=!0);var g={};if(!i.validate(e,c,g,[]))throw(r=Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=r,r;var I={version:g.version.charCodeAt(0),safeContents:[],getBags:function(e){var A,n={};return"localKeyId"in e?A=e.localKeyId:"localKeyIdHex"in e&&(A=ka.util.hexToBytes(e.localKeyIdHex)),void 0===A&&!("friendlyName"in e)&&"bagType"in e&&(n[e.bagType]=t(I.safeContents,null,null,e.bagType)),void 0!==A&&(n.localKeyId=t(I.safeContents,"localKeyId",A,e.bagType)),"friendlyName"in e&&(n.friendlyName=t(I.safeContents,"friendlyName",e.friendlyName,e.bagType)),n},getBagsByFriendlyName:function(e,A){return t(I.safeContents,"friendlyName",e,A)},getBagsByLocalKeyId:function(e,A){return t(I.safeContents,"localKeyId",e,A)}};if(3!==g.version.charCodeAt(0))throw(r=Error("PKCS#12 PFX of version other than 3 not supported.")).version=g.version.charCodeAt(0),r;if(i.derToOid(g.contentType)!==o.oids.data)throw(r=Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(g.contentType),r;if((e=g.content.value[0]).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.OCTETSTRING)throw Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(e=A(e),g.mac){var l=null,E=0,C=i.derToOid(g.macAlgorithm);switch(C){case o.oids.sha1:l=ka.md.sha1.create(),E=20;break;case o.oids.sha256:l=ka.md.sha256.create(),E=32;break;case o.oids.sha384:l=ka.md.sha384.create(),E=48;break;case o.oids.sha512:l=ka.md.sha512.create(),E=64;break;case o.oids.md5:l=ka.md.md5.create(),E=16}if(null===l)throw Error("PKCS#12 uses unsupported MAC algorithm: "+C);C=new ka.util.ByteBuffer(g.macSalt);var d="macIterations"in g?parseInt(ka.util.bytesToHex(g.macIterations),16):1;if(E=a.generateKey(u,C,3,d,E,l),(C=ka.hmac.create()).start(l,E),C.update(e.value),C.getMac().getBytes()!==g.macDigest)throw Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,a){if((t=i.fromDer(t,r)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var c=0;c<t.value.length;c++){var u={},g=[];if(!i.validate(t.value[c],s,u,g))throw(e=Error("Cannot read ContentInfo.")).errors=g,e;g={encrypted:!1};var I=u.content.value[0];switch(i.derToOid(u.contentType)){case o.oids.data:if(I.tagClass!==i.Class.UNIVERSAL||I.type!==i.Type.OCTETSTRING)throw Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=A(I).value;break;case o.oids.encryptedData:var l=a;u={};var E=[];if(!i.validate(I,ka.pkcs7.asn1.encryptedDataValidator,u,E))throw(e=Error("Cannot read EncryptedContentInfo.")).errors=E,e;if((I=i.derToOid(u.contentType))!==o.oids.data)throw(e=Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=I,e;if(I=i.derToOid(u.encAlgorithm),I=o.pbe.getCipher(I,u.encParameter,l),u=A(u.encryptedContentAsn1),u=ka.util.createBuffer(u.value),I.update(u),!I.finish())throw Error("Failed to decrypt PKCS#12 SafeContents.");u=I.output.getBytes(),g.encrypted=!0;break;default:throw(e=Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(u.contentType),e}g.safeBags=n(u,r,a),e.safeContents.push(g)}}(I,e.value,r,u),I},a.toPkcs12Asn1=function(e,t,A,n){(n=n||{}).saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var r,s=n.localKeyId;if(null!==s)s=ka.util.hexToBytes(s);else if(n.generateLocalKeyId)if(t){var c=ka.util.isArray(t)?t[0]:t;"string"==typeof c&&(c=o.certificateFromPem(c)),(s=ka.md.sha1.create()).update(i.toDer(o.certificateToAsn1(c)).getBytes()),s=s.digest().getBytes()}else s=ka.random.getBytes(20);c=[],null!==s&&c.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&c.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,n.friendlyName)])])),0<c.length&&(r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,c)),s=[],c=[],null!==t&&(c=ka.util.isArray(t)?t:[t]);for(var u=[],g=0;g<c.length;++g){"string"==typeof(t=c[g])&&(t=o.certificateFromPem(t));var I=0===g?r:void 0;t=o.certificateToAsn1(t),t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(t).getBytes())])])]),I]),u.push(t)}if(0<u.length&&(t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,u),t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(t).getBytes())])]),s.push(t)),null!==e&&(e=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e)),e=null===A?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[e]),r]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[o.encryptPrivateKeyInfo(e,A,n)]),r]),e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e]),e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(e).getBytes())])]),s.push(e)),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,s),n.useMac){s=ka.md.sha1.create();var l=new ka.util.ByteBuffer(ka.random.getBytes(n.saltSize));n=n.count,e=a.generateKey(A,l,3,n,20),(A=ka.hmac.create()).start(s,e),A.update(i.toDer(r).getBytes()),A=A.getMac(),l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,A.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,l.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(n).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(r).getBytes())])]),l])},a.generateKey=ka.pbe.generatePkcs12Key})),$c((function(e){var t=ka.asn1,A=e.exports=ka.pki=ka.pki||{};A.pemToDer=function(e){if((e=ka.pem.decode(e)[0]).procType&&"ENCRYPTED"===e.procType.type)throw Error("Could not convert PEM to DER; PEM is encrypted.");return ka.util.createBuffer(e.body)},A.privateKeyFromPem=function(e){if("PRIVATE KEY"!==(e=ka.pem.decode(e)[0]).type&&"RSA PRIVATE KEY"!==e.type){var n=Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw n.headerType=e.type,n}if(e.procType&&"ENCRYPTED"===e.procType.type)throw Error("Could not convert private key from PEM; PEM is encrypted.");return e=t.fromDer(e.body),A.privateKeyFromAsn1(e)},A.privateKeyToPem=function(e,n){return e={type:"RSA PRIVATE KEY",body:t.toDer(A.privateKeyToAsn1(e)).getBytes()},ka.pem.encode(e,{maxline:n})},A.privateKeyInfoToPem=function(e,A){return e={type:"PRIVATE KEY",body:t.toDer(e).getBytes()},ka.pem.encode(e,{maxline:A})}}));var bu=function(e,t,A,n){var r=ka.util.createBuffer(),i=e.length>>1,o=i+(1&e.length),a=e.substr(0,o);o=e.substr(i,o),e=ka.util.createBuffer(),i=ka.hmac.create(),A=t+A;var s=Math.ceil(n/16);t=Math.ceil(n/20),i.start("MD5",a),a=ka.util.createBuffer(),e.putBytes(A);for(var c=0;c<s;++c)i.start(null,null),i.update(e.getBytes()),e.putBuffer(i.digest()),i.start(null,null),i.update(e.bytes()+A),a.putBuffer(i.digest());for(i.start("SHA1",o),o=ka.util.createBuffer(),e.clear(),e.putBytes(A),c=0;c<t;++c)i.start(null,null),i.update(e.getBytes()),e.putBuffer(i.digest()),i.start(null,null),i.update(e.bytes()+A),o.putBuffer(i.digest());return r.putBytes(ka.util.xorBytes(a.getBytes(),o.getBytes(),n)),r},j3=function(e,t,A){A=!1;try{var n=e.deflate(t.fragment.getBytes());t.fragment=ka.util.createBuffer(n),t.length=n.length,A=!0}catch(e){}return A},k3=function(e,t,A){A=!1;try{var n=e.inflate(t.fragment.getBytes());t.fragment=ka.util.createBuffer(n),t.length=n.length,A=!0}catch(e){}return A},$i=function(e,t){var A=0;switch(t){case 1:A=e.getByte();break;case 2:A=e.getInt16();break;case 3:A=e.getInt24();break;case 4:A=e.getInt32()}return ka.util.createBuffer(e.getBytes(A))},Oj=function(e,t,A){e.putInt(A.length(),t<<3),e.putBuffer(A)},Ea={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};Ea.SupportedVersions=[Ea.Versions.TLS_1_1,Ea.Versions.TLS_1_0],Ea.Version=Ea.SupportedVersions[0],Ea.MaxFragment=15360,Ea.ConnectionEnd={server:0,client:1},Ea.PRFAlgorithm={tls_prf_sha256:0},Ea.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},Ea.CipherType={stream:0,block:1,aead:2},Ea.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},Ea.CompressionMethod={none:0,deflate:1},Ea.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},Ea.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},Ea.Alert={},Ea.Alert.Level={warning:1,fatal:2},Ea.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},Ea.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},Ea.CipherSuites={},Ea.getCipherSuite=function(e){var t,A=null;for(t in Ea.CipherSuites){var n=Ea.CipherSuites[t];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){A=n;break}}return A},Ea.handleUnexpected=function(e,t){(e.open||e.entity!==Ea.ConnectionEnd.client)&&e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.unexpected_message}})},Ea.handleHelloRequest=function(e,t,A){!e.handshaking&&0<e.handshakes&&(Ea.queue(e,Ea.createAlert(e,{level:Ea.Alert.Level.warning,description:Ea.Alert.Description.no_renegotiation})),Ea.flush(e)),e.process()},Ea.parseHelloMessage=function(e,t,A){var n=null,r=e.entity===Ea.ConnectionEnd.client;if(38>A)e.error(e,{message:r?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.illegal_parameter}});else{var i=(t=t.fragment).length();if(n={version:{major:t.getByte(),minor:t.getByte()},random:ka.util.createBuffer(t.getBytes(32)),session_id:$i(t,1),extensions:[]},r?(n.cipher_suite=t.getBytes(2),n.compression_method=t.getByte()):(n.cipher_suites=$i(t,2),n.compression_methods=$i(t,1)),0<(i=A-(i-t.length()))){for(A=$i(t,2);0<A.length();)n.extensions.push({type:[A.getByte(),A.getByte()],data:$i(A,2)});if(!r)for(A=0;A<n.extensions.length;++A)if(0===(t=n.extensions[A]).type[0]&&0===t.type[1])for(t=$i(t.data,2);0<t.length()&&0===t.getByte();)e.session.extensions.server_name.serverNameList.push($i(t,2).getBytes())}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.protocol_version}});if(r)e.session.cipherSuite=Ea.getCipherSuite(n.cipher_suite);else for(A=ka.util.createBuffer(n.cipher_suites.bytes());0<A.length()&&(e.session.cipherSuite=Ea.getCipherSuite(A.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.handshake_failure},cipherSuite:ka.util.bytesToHex(n.cipher_suite)});e.session.compressionMethod=r?n.compression_method:Ea.CompressionMethod.none}return n},Ea.createSecurityParameters=function(e,t){var A=e.entity===Ea.ConnectionEnd.client,n=t.random.bytes();t=A?e.session.sp.client_random:n,A=A?n:Ea.createRandom().getBytes(),e.session.sp={entity:e.entity,prf_algorithm:Ea.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:t,server_random:A}},Ea.handleServerHello=function(e,t,A){if(t=Ea.parseHelloMessage(e,t,A),!e.fail){if(!(t.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.protocol_version}});e.version.minor=t.version.minor,e.session.version=e.version,0<(A=t.session_id.bytes()).length&&A===e.session.id?(e.expect=vO,e.session.resuming=!0,e.session.sp.server_random=t.random.bytes()):(e.expect=l3,e.session.resuming=!1,Ea.createSecurityParameters(e,t)),e.session.id=A,e.process()}},Ea.handleClientHello=function(e,t,A){if(t=Ea.parseHelloMessage(e,t,A),!e.fail){var n=t.session_id.bytes();if(A=null,e.sessionCache&&(null===(A=e.sessionCache.getSession(n))?n="":(A.version.major!==t.version.major||A.version.minor>t.version.minor)&&(A=null,n="")),0===n.length&&(n=ka.random.getBytes(32)),e.session.id=n,e.session.clientHelloVersion=t.version,e.session.sp={},A)e.version=e.session.version=A.version,e.session.sp=A.sp;else{for(n=1;n<Ea.SupportedVersions.length;++n){var r=Ea.SupportedVersions[n];if(r.minor<=t.version.minor)break}e.version={major:r.major,minor:r.minor},e.session.version=e.version}null!==A?(e.expect=YD,e.session.resuming=!0,e.session.sp.client_random=t.random.bytes()):(e.expect=!1!==e.verifyClient?m3:ZD,e.session.resuming=!1,Ea.createSecurityParameters(e,t)),e.open=!0,Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createServerHello(e)})),e.session.resuming?(Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.change_cipher_spec,data:Ea.createChangeCipherSpec()})),e.state.pending=Ea.createConnectionState(e),e.state.current.write=e.state.pending.write,Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createFinished(e)}))):(Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createCertificate(e)})),e.fail||(Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createServerKeyExchange(e)})),!1!==e.verifyClient&&Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createCertificateRequest(e)})),Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createServerHelloDone(e)})))),Ea.flush(e),e.process()}},Ea.handleCertificate=function(e,t,A){if(3>A)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.illegal_parameter}});A=$i(t.fragment,3),t=[];try{for(;0<A.length();){var n=$i(A,3),r=ka.asn1.fromDer(n);n=ka.pki.certificateFromAsn1(r,!0),t.push(n)}}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.bad_certificate}})}!(n=e.entity===Ea.ConnectionEnd.client)&&!0!==e.verifyClient||0!==t.length?0===t.length?e.expect=n?wO:ZD:(n?e.session.serverCertificate=t[0]:e.session.clientCertificate=t[0],Ea.verifyCertificateChain(e,t)&&(e.expect=n?wO:ZD)):e.error(e,{message:n?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.illegal_parameter}}),e.process()},Ea.handleServerKeyExchange=function(e,t,A){if(0<A)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.unsupported_certificate}});e.expect=n3,e.process()},Ea.handleClientKeyExchange=function(e,t,A){if(48>A)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.unsupported_certificate}});if(t=$i(t.fragment,2).getBytes(),A=null,e.getPrivateKey)try{A=e.getPrivateKey(e,e.session.serverCertificate),A=ka.pki.privateKeyFromPem(A)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.internal_error}})}if(null===A)return e.error(e,{message:"No private key set.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.internal_error}});try{var n=e.session.sp;n.pre_master_secret=A.decrypt(t);var r=e.session.clientHelloVersion;if(r.major!==n.pre_master_secret.charCodeAt(0)||r.minor!==n.pre_master_secret.charCodeAt(1))throw Error("TLS version rollback attack detected.")}catch(e){n.pre_master_secret=ka.random.getBytes(48)}e.expect=YD,null!==e.session.clientCertificate&&(e.expect=o3),e.process()},Ea.handleCertificateRequest=function(e,t,A){if(3>A)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.illegal_parameter}});t=t.fragment,t={certificate_types:$i(t,1),certificate_authorities:$i(t,2)},e.session.certificateRequest=t,e.expect=p3,e.process()},Ea.handleCertificateVerify=function(e,t,A){if(2>A)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.illegal_parameter}});(A=t.fragment).read-=4,t=A.bytes(),A.read+=4,A=$i(A,2).getBytes();var n=ka.util.createBuffer();n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest()),n=n.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(n,A,"NONE"))throw Error("CertificateVerify signature does not match.");e.session.md5.update(t),e.session.sha1.update(t)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.handshake_failure}})}e.expect=YD,e.process()},Ea.handleServerHelloDone=function(e,t,A){return 0<A?e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.record_overflow}}):null===e.serverCertificate&&(t={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.insufficient_security}},!0!==(A=e.verify(e,t.alert.description,0,[])))?((A||0===A)&&("object"!==ub(A)||ka.util.isArray(A)?"number"==typeof A&&(t.alert.description=A):(A.message&&(t.message=A.message),A.alert&&(t.alert.description=A.alert))),e.error(e,t)):(null!==e.session.certificateRequest&&(t=Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createCertificate(e)}),Ea.queue(e,t)),t=Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createClientKeyExchange(e)}),Ea.queue(e,t),e.expect=q3,t=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createCertificateVerify(e,t)})),Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.change_cipher_spec,data:Ea.createChangeCipherSpec()})),e.state.pending=Ea.createConnectionState(e),e.state.current.write=e.state.pending.write,Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createFinished(e)})),e.expect=vO,Ea.flush(e),e.process()},null===e.session.certificateRequest||null===e.session.clientCertificate?t(e,null):void Ea.getClientSignature(e,t))},Ea.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.illegal_parameter}});t=e.entity===Ea.ConnectionEnd.client,(e.session.resuming&&t||!e.session.resuming&&!t)&&(e.state.pending=Ea.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&t||e.session.resuming&&!t)&&(e.state.pending=null),e.expect=t?r3:s3,e.process()},Ea.handleFinished=function(e,t,A){(A=t.fragment).read-=4;var n=A.bytes();A.read+=4,t=t.fragment.getBytes(),(A=ka.util.createBuffer()).putBuffer(e.session.md5.digest()),A.putBuffer(e.session.sha1.digest());var r=e.entity===Ea.ConnectionEnd.client;if((A=bu(e.session.sp.master_secret,r?"server finished":"client finished",A.getBytes(),12)).getBytes()!==t)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.decrypt_error}});e.session.md5.update(n),e.session.sha1.update(n),(e.session.resuming&&r||!e.session.resuming&&!r)&&(Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.change_cipher_spec,data:Ea.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.handshake,data:Ea.createFinished(e)}))),e.expect=r?t3:u3,e.handshaking=!1,++e.handshakes,e.peerCertificate=r?e.session.serverCertificate:e.session.clientCertificate,Ea.flush(e),e.isConnected=!0,e.connected(e),e.process()},Ea.handleAlert=function(e,t){switch((t={level:(t=t.fragment).getByte(),description:t.getByte()}).description){case Ea.Alert.Description.close_notify:var A="Connection closed.";break;case Ea.Alert.Description.unexpected_message:A="Unexpected message.";break;case Ea.Alert.Description.bad_record_mac:A="Bad record MAC.";break;case Ea.Alert.Description.decryption_failed:A="Decryption failed.";break;case Ea.Alert.Description.record_overflow:A="Record overflow.";break;case Ea.Alert.Description.decompression_failure:A="Decompression failed.";break;case Ea.Alert.Description.handshake_failure:A="Handshake failure.";break;case Ea.Alert.Description.bad_certificate:A="Bad certificate.";break;case Ea.Alert.Description.unsupported_certificate:A="Unsupported certificate.";break;case Ea.Alert.Description.certificate_revoked:A="Certificate revoked.";break;case Ea.Alert.Description.certificate_expired:A="Certificate expired.";break;case Ea.Alert.Description.certificate_unknown:A="Certificate unknown.";break;case Ea.Alert.Description.illegal_parameter:A="Illegal parameter.";break;case Ea.Alert.Description.unknown_ca:A="Unknown certificate authority.";break;case Ea.Alert.Description.access_denied:A="Access denied.";break;case Ea.Alert.Description.decode_error:A="Decode error.";break;case Ea.Alert.Description.decrypt_error:A="Decrypt error.";break;case Ea.Alert.Description.export_restriction:A="Export restriction.";break;case Ea.Alert.Description.protocol_version:A="Unsupported protocol version.";break;case Ea.Alert.Description.insufficient_security:A="Insufficient security.";break;case Ea.Alert.Description.internal_error:A="Internal error.";break;case Ea.Alert.Description.user_canceled:A="User canceled.";break;case Ea.Alert.Description.no_renegotiation:A="Renegotiation not supported.";break;default:A="Unknown error."}if(t.description===Ea.Alert.Description.close_notify)return e.close();e.error(e,{message:A,send:!1,origin:e.entity===Ea.ConnectionEnd.client?"server":"client",alert:t}),e.process()},Ea.handleHandshake=function(e,t){var A=t.fragment,n=A.getByte(),r=A.getInt24();if(r>A.length())return e.fragmented=t,t.fragment=ka.util.createBuffer(),A.read-=4,e.process();e.fragmented=null,A.read-=4;var i=A.bytes(r+4);A.read+=4,n in Hx[e.entity][e.expect]?(e.entity!==Ea.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:ka.md.md5.create(),sha1:ka.md.sha1.create()}),n!==Ea.HandshakeType.hello_request&&n!==Ea.HandshakeType.certificate_verify&&n!==Ea.HandshakeType.finished&&(e.session.md5.update(i),e.session.sha1.update(i)),Hx[e.entity][e.expect][n](e,t,r)):Ea.handleUnexpected(e,t)},Ea.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},Ea.handleHeartbeat=function(e,t){var A=t.fragment;t=A.getByte();var n=A.getInt16();if(A=A.getBytes(n),t===Ea.HeartbeatMessageType.heartbeat_request){if(e.handshaking||n>A.length)return e.process();Ea.queue(e,Ea.createRecord(e,{type:Ea.ContentType.heartbeat,data:Ea.createHeartbeat(Ea.HeartbeatMessageType.heartbeat_response,A)})),Ea.flush(e)}else if(t===Ea.HeartbeatMessageType.heartbeat_response){if(A!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,ka.util.createBuffer(A))}e.process()};var l3=1,wO=2,n3=3,p3=4,vO=5,r3=6,t3=7,q3=8,m3=1,ZD=2,o3=3,YD=4,s3=5,u3=6,Ca=Ea.handleUnexpected,xO=Ea.handleChangeCipherSpec,dh=Ea.handleAlert,Th=Ea.handleHandshake,yO=Ea.handleApplicationData,eh=Ea.handleHeartbeat,$D=[];$D[Ea.ConnectionEnd.client]=[[Ca,dh,Th,Ca,eh],[Ca,dh,Th,Ca,eh],[Ca,dh,Th,Ca,eh],[Ca,dh,Th,Ca,eh],[Ca,dh,Th,Ca,eh],[xO,dh,Ca,Ca,eh],[Ca,dh,Th,Ca,eh],[Ca,dh,Th,yO,eh],[Ca,dh,Th,Ca,eh]],$D[Ea.ConnectionEnd.server]=[[Ca,dh,Th,Ca,eh],[Ca,dh,Th,Ca,eh],[Ca,dh,Th,Ca,eh],[Ca,dh,Th,Ca,eh],[xO,dh,Ca,Ca,eh],[Ca,dh,Th,Ca,eh],[Ca,dh,Th,yO,eh],[Ca,dh,Th,Ca,eh]];var mn=Ea.handleHelloRequest,zO=Ea.handleCertificate,AO=Ea.handleServerKeyExchange,aE=Ea.handleCertificateRequest,Ix=Ea.handleServerHelloDone,BO=Ea.handleFinished,Hx=[];Hx[Ea.ConnectionEnd.client]=[[Ca,Ca,Ea.handleServerHello,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca],[mn,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,zO,AO,aE,Ix,Ca,Ca,Ca,Ca,Ca,Ca],[mn,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,AO,aE,Ix,Ca,Ca,Ca,Ca,Ca,Ca],[mn,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,aE,Ix,Ca,Ca,Ca,Ca,Ca,Ca],[mn,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ix,Ca,Ca,Ca,Ca,Ca,Ca],[mn,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca],[mn,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,BO],[mn,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca],[mn,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca]],Hx[Ea.ConnectionEnd.server]=[[Ca,Ea.handleClientHello,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca],[Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,zO,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca],[Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ea.handleClientKeyExchange,Ca,Ca,Ca,Ca],[Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ea.handleCertificateVerify,Ca,Ca,Ca,Ca,Ca],[Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca],[Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,BO],[Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca],[Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca,Ca]],Ea.generateKeys=function(e,t){var A=t.client_random+t.server_random;e.session.resuming||(t.master_secret=bu(t.pre_master_secret,"master secret",A,48).bytes(),t.pre_master_secret=null),A=t.server_random+t.client_random;var n=2*t.mac_key_length+2*t.enc_key_length;return(e=e.version.major===Ea.Versions.TLS_1_0.major&&e.version.minor===Ea.Versions.TLS_1_0.minor)&&(n+=2*t.fixed_iv_length),n={client_write_MAC_key:(A=bu(t.master_secret,"key expansion",A,n)).getBytes(t.mac_key_length),server_write_MAC_key:A.getBytes(t.mac_key_length),client_write_key:A.getBytes(t.enc_key_length),server_write_key:A.getBytes(t.enc_key_length)},e&&(n.client_write_IV=A.getBytes(t.fixed_iv_length),n.server_write_IV=A.getBytes(t.fixed_iv_length)),n},Ea.createConnectionState=function(e){var t=e.entity===Ea.ConnectionEnd.client,A=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:A(),write:A()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.internal_error}}),!e.fail},e.session)switch(A=e.session.sp,e.session.cipherSuite.initSecurityParameters(A),A.keys=Ea.generateKeys(e,A),n.read.macKey=t?A.keys.server_write_MAC_key:A.keys.client_write_MAC_key,n.write.macKey=t?A.keys.client_write_MAC_key:A.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,A),A.compression_algorithm){case Ea.CompressionMethod.none:break;case Ea.CompressionMethod.deflate:n.read.compressFunction=k3,n.write.compressFunction=j3;break;default:throw Error("Unsupported compression algorithm.")}return n},Ea.createRandom=function(){var e=new Date;e=+e+6e4*e.getTimezoneOffset();var t=ka.util.createBuffer();return t.putInt32(e),t.putBytes(ka.random.getBytes(28)),t},Ea.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},Ea.createAlert=function(e,t){var A=ka.util.createBuffer();return A.putByte(t.level),A.putByte(t.description),Ea.createRecord(e,{type:Ea.ContentType.alert,data:A})},Ea.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=ka.util.createBuffer(),A=0;A<e.cipherSuites.length;++A){var n=e.cipherSuites[A];t.putByte(n.id[0]),t.putByte(n.id[1])}var r=t.length();(A=ka.util.createBuffer()).putByte(Ea.CompressionMethod.none);var i=A.length();if(n=ka.util.createBuffer(),e.virtualHost){var o=ka.util.createBuffer();o.putByte(0),o.putByte(0);var a=ka.util.createBuffer();a.putByte(0),Oj(a,2,ka.util.createBuffer(e.virtualHost));var s=ka.util.createBuffer();Oj(s,2,a),Oj(o,2,s),n.putBuffer(o)}return 0<(o=n.length())&&(o+=2),r=(a=e.session.id).length+1+2+4+28+2+r+1+i+o,(i=ka.util.createBuffer()).putByte(Ea.HandshakeType.client_hello),i.putInt24(r),i.putByte(e.version.major),i.putByte(e.version.minor),i.putBytes(e.session.sp.client_random),Oj(i,1,ka.util.createBuffer(a)),Oj(i,2,t),Oj(i,1,A),0<o&&Oj(i,2,n),i},Ea.createServerHello=function(e){var t=e.session.id,A=t.length+1+2+4+28+2+1,n=ka.util.createBuffer();return n.putByte(Ea.HandshakeType.server_hello),n.putInt24(A),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Oj(n,1,ka.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n},Ea.createCertificate=function(e){var t=e.entity===Ea.ConnectionEnd.client,A=null;e.getCertificate&&(A=e.getCertificate(e,t?e.session.certificateRequest:e.session.extensions.server_name.serverNameList));var n=ka.util.createBuffer();if(null!==A)try{ka.util.isArray(A)||(A=[A]);for(var r=null,i=0;i<A.length;++i){var o=ka.pem.decode(A[i])[0];if("CERTIFICATE"!==o.type&&"X509 CERTIFICATE"!==o.type&&"TRUSTED CERTIFICATE"!==o.type){var a=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");var s=ka.util.createBuffer(o.body);null===r&&(r=ka.asn1.fromDer(s.bytes(),!1));var c=ka.util.createBuffer();Oj(c,3,s),n.putBuffer(c)}A=ka.pki.certificateFromAsn1(r),t?e.session.clientCertificate=A:e.session.serverCertificate=A}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.bad_certificate}})}return e=3+n.length(),(t=ka.util.createBuffer()).putByte(Ea.HandshakeType.certificate),t.putInt24(e),Oj(t,3,n),t},Ea.createClientKeyExchange=function(e){var t=ka.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(ka.random.getBytes(46));var A=e.session.sp;return A.pre_master_secret=t.getBytes(),t=e.session.serverCertificate.publicKey.encrypt(A.pre_master_secret),e=t.length+2,(A=ka.util.createBuffer()).putByte(Ea.HandshakeType.client_key_exchange),A.putInt24(e),A.putInt16(t.length),A.putBytes(t),A},Ea.createServerKeyExchange=function(e){return ka.util.createBuffer()},Ea.getClientSignature=function(e,t){var A=ka.util.createBuffer();A.putBuffer(e.session.md5.digest()),A.putBuffer(e.session.sha1.digest()),A=A.getBytes(),e.getSignature=e.getSignature||function(e,t,A){var n=null;if(e.getPrivateKey)try{n=e.getPrivateKey(e,e.session.clientCertificate),n=ka.pki.privateKeyFromPem(n)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.internal_error}})}null===n?e.error(e,{message:"No private key set.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.internal_error}}):t=n.sign(t,null),A(e,t)},e.getSignature(e,A,t)},Ea.createCertificateVerify=function(e,t){e=t.length+2;var A=ka.util.createBuffer();return A.putByte(Ea.HandshakeType.certificate_verify),A.putInt24(e),A.putInt16(t.length),A.putBytes(t),A},Ea.createCertificateRequest=function(e){var t=ka.util.createBuffer();t.putByte(1);var A=ka.util.createBuffer();for(r in e.caStore.certs){var n=ka.pki.distinguishedNameToAsn1(e.caStore.certs[r].subject);n=ka.asn1.toDer(n),A.putInt16(n.length()),A.putBuffer(n)}e=1+t.length()+2+A.length();var r=ka.util.createBuffer();return r.putByte(Ea.HandshakeType.certificate_request),r.putInt24(e),Oj(r,1,t),Oj(r,2,A),r},Ea.createServerHelloDone=function(e){return(e=ka.util.createBuffer()).putByte(Ea.HandshakeType.server_hello_done),e.putInt24(0),e},Ea.createChangeCipherSpec=function(){var e=ka.util.createBuffer();return e.putByte(1),e},Ea.createFinished=function(e){var t=ka.util.createBuffer();return t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest()),t=bu(e.session.sp.master_secret,e.entity===Ea.ConnectionEnd.client?"client finished":"server finished",t.getBytes(),12),(e=ka.util.createBuffer()).putByte(Ea.HandshakeType.finished),e.putInt24(t.length()),e.putBuffer(t),e},Ea.createHeartbeat=function(e,t,A){void 0===A&&(A=t.length);var n=ka.util.createBuffer();return n.putByte(e),n.putInt16(A),n.putBytes(t),e=n.length(),n.putBytes(ka.random.getBytes(Math.max(16,e-A-3))),n},Ea.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==Ea.ContentType.handshake&&t.type!==Ea.ContentType.alert&&t.type!==Ea.ContentType.change_cipher_spec)){if(t.type===Ea.ContentType.handshake){var A=t.fragment.bytes();e.session.md5.update(A),e.session.sha1.update(A)}if(t.fragment.length()<=Ea.MaxFragment)A=[t];else{A=[];for(var n=t.fragment.bytes();n.length>Ea.MaxFragment;)A.push(Ea.createRecord(e,{type:t.type,data:ka.util.createBuffer(n.slice(0,Ea.MaxFragment))})),n=n.slice(Ea.MaxFragment);0<n.length&&A.push(Ea.createRecord(e,{type:t.type,data:ka.util.createBuffer(n)}))}for(t=0;t<A.length&&!e.fail;++t)n=A[t],e.state.current.write.update(e,n)&&e.records.push(n)}},Ea.flush=function(e){for(var t=0;t<e.records.length;++t){var A=e.records[t];e.tlsData.putByte(A.type),e.tlsData.putByte(A.version.major),e.tlsData.putByte(A.version.minor),e.tlsData.putInt16(A.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var bE=function(e){switch(e){case!0:return!0;case ka.pki.certificateError.bad_certificate:return Ea.Alert.Description.bad_certificate;case ka.pki.certificateError.unsupported_certificate:return Ea.Alert.Description.unsupported_certificate;case ka.pki.certificateError.certificate_revoked:return Ea.Alert.Description.certificate_revoked;case ka.pki.certificateError.certificate_expired:return Ea.Alert.Description.certificate_expired;case ka.pki.certificateError.certificate_unknown:return Ea.Alert.Description.certificate_unknown;case ka.pki.certificateError.unknown_ca:return Ea.Alert.Description.unknown_ca;default:return Ea.Alert.Description.bad_certificate}},v3=function(e){switch(e){case!0:return!0;case Ea.Alert.Description.bad_certificate:return ka.pki.certificateError.bad_certificate;case Ea.Alert.Description.unsupported_certificate:return ka.pki.certificateError.unsupported_certificate;case Ea.Alert.Description.certificate_revoked:return ka.pki.certificateError.certificate_revoked;case Ea.Alert.Description.certificate_expired:return ka.pki.certificateError.certificate_expired;case Ea.Alert.Description.certificate_unknown:return ka.pki.certificateError.certificate_unknown;case Ea.Alert.Description.unknown_ca:return ka.pki.certificateError.unknown_ca;default:return ka.pki.certificateError.bad_certificate}};for(var cE in Ea.verifyCertificateChain=function(e,t){try{var A,n={};for(A in e.verifyOptions)n[A]=e.verifyOptions[A];n.verify=function(t,A,n){if(bE(t),!0!==(A=e.verify(e,t,A,n))){if("object"===ub(A)&&!ka.util.isArray(A))throw(t=Error("The application rejected the certificate.")).send=!0,t.alert={level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.bad_certificate},A.message&&(t.message=A.message),A.alert&&(t.alert.description=A.alert),t;A!==t&&(A=v3(A))}return A},ka.pki.verifyCertificateChain(e.caStore,t,n)}catch(A){("object"!==ub(t=A)||ka.util.isArray(t))&&(t={send:!0,alert:{level:Ea.Alert.Level.fatal,description:bE(A)}}),"send"in t||(t.send=!0),"alert"in t||(t.alert={level:Ea.Alert.Level.fatal,description:bE(t.error)}),e.error(e,t)}return!e.fail},Ea.createSessionCache=function(e,t){var A=null;if(e&&e.getSession&&e.setSession&&e.order)A=e;else{for(var n in(A={}).cache=e||{},A.capacity=Math.max(t||100,1),A.order=[],e)A.order.length<=t?A.order.push(n):delete e[n];A.getSession=function(e){var t=null,n=null;if(e?n=ka.util.bytesToHex(e):0<A.order.length&&(n=A.order[0]),null!==n&&n in A.cache)for(var r in t=A.cache[n],delete A.cache[n],A.order)if(A.order[r]===n){A.order.splice(r,1);break}return t},A.setSession=function(e,t){if(A.order.length===A.capacity){var n=A.order.shift();delete A.cache[n]}n=ka.util.bytesToHex(e),A.order.push(n),A.cache[n]=t}}return A},Ea.createConnection=function(e){var t;t=e.caStore?ka.util.isArray(e.caStore)?ka.pki.createCaStore(e.caStore):e.caStore:ka.pki.createCaStore();var A=e.cipherSuites||null;if(null===A)for(var n in A=[],Ea.CipherSuites)A.push(Ea.CipherSuites[n]);n=e.server?Ea.ConnectionEnd.server:Ea.ConnectionEnd.client;var r=e.sessionCache?Ea.createSessionCache(e.sessionCache):null,i={version:{major:Ea.Version.major,minor:Ea.Version.minor},entity:n,sessionId:e.sessionId,caStore:t,sessionCache:r,cipherSuites:A,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,A,n){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:ka.util.createBuffer(),tlsData:ka.util.createBuffer(),data:ka.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,A){A.origin=A.origin||(t.entity===Ea.ConnectionEnd.client?"client":"server"),A.send&&(Ea.queue(t,Ea.createAlert(t,A.alert)),Ea.flush(t));var n=!1!==A.fatal;n&&(t.fail=!0),e.error(t,A),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){i.version={major:Ea.Version.major,minor:Ea.Version.minor},i.record=null,i.session=null,i.peerCertificate=null,i.state={pending:null,current:null},i.expect=0,i.fragmented=null,i.records=[],i.open=!1,i.handshakes=0,i.handshaking=!1,i.isConnected=!1,i.fail=!(e||void 0===e),i.input.clear(),i.tlsData.clear(),i.data.clear(),i.state.current=Ea.createConnectionState(i)}};return i.reset(),i.handshake=function(e){if(i.entity!==Ea.ConnectionEnd.client)i.error(i,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(i.handshaking)i.error(i,{message:"Handshake already in progress.",fatal:!1});else{i.fail&&!i.open&&0===i.handshakes&&(i.fail=!1),i.handshaking=!0;var t=null;0<(e=e||"").length&&(i.sessionCache&&(t=i.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&i.sessionCache&&(null!==(t=i.sessionCache.getSession())&&(e=t.id)),i.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:ka.md.md5.create(),sha1:ka.md.sha1.create()},t&&(i.version=t.version,i.session.sp=t.sp),i.session.sp.client_random=Ea.createRandom().getBytes(),i.open=!0,Ea.queue(i,Ea.createRecord(i,{type:Ea.ContentType.handshake,data:Ea.createClientHello(i)})),Ea.flush(i)}},i.process=function(e){var t=0;if(e&&i.input.putBytes(e),!i.fail){if(null!==i.record&&i.record.ready&&i.record.fragment.isEmpty()&&(i.record=null),null===i.record){t=0;var A=(e=i.input).length();5>A?t=5-A:(i.record={type:e.getByte(),version:{major:e.getByte(),minor:e.getByte()},length:e.getInt16(),fragment:ka.util.createBuffer(),ready:!1},(e=i.record.version.major===i.version.major)&&i.session&&i.session.version&&(e=i.record.version.minor===i.version.minor),e||i.error(i,{message:"Incompatible TLS version.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.protocol_version}}))}if(!i.fail&&null!==i.record&&!i.record.ready){e=0;var n=(A=(t=i).input).length();n<t.record.length?e=t.record.length-n:(t.record.fragment.putBytes(A.getBytes(t.record.length)),A.compact(),t.state.current.read.update(t,t.record)&&(null!==t.fragmented&&(t.fragmented.type===t.record.type?(t.fragmented.fragment.putBuffer(t.record.fragment),t.record=t.fragmented):t.error(t,{message:"Invalid fragmented record.",send:!0,alert:{level:Ea.Alert.Level.fatal,description:Ea.Alert.Description.unexpected_message}})),t.record.ready=!0)),t=e}!i.fail&&null!==i.record&&i.record.ready&&((A=(e=i.record).type-Ea.ContentType.change_cipher_spec)in(n=$D[i.entity][i.expect])?n[A](i,e):Ea.handleUnexpected(i,e))}return t},i.prepare=function(e){return Ea.queue(i,Ea.createRecord(i,{type:Ea.ContentType.application_data,data:ka.util.createBuffer(e)})),Ea.flush(i)},i.prepareHeartbeatRequest=function(e,t){return e instanceof ka.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),i.expectedHeartbeatPayload=e,Ea.queue(i,Ea.createRecord(i,{type:Ea.ContentType.heartbeat,data:Ea.createHeartbeat(Ea.HeartbeatMessageType.heartbeat_request,e,t)})),Ea.flush(i)},i.close=function(e){if(!i.fail&&i.sessionCache&&i.session){var t={id:i.session.id,version:i.session.version,sp:i.session.sp};t.sp.keys=null,i.sessionCache.setSession(t.id,t)}i.open&&(i.open=!1,i.input.clear(),(i.isConnected||i.handshaking)&&(i.isConnected=i.handshaking=!1,Ea.queue(i,Ea.createAlert(i,{level:Ea.Alert.Level.warning,description:Ea.Alert.Description.close_notify})),Ea.flush(i)),i.closed(i)),i.reset(e)},i},ka.tls=ka.tls||{},Ea)"function"!=typeof Ea[cE]&&(ka.tls[cE]=Ea[cE]);ka.tls.prf_tls1=bu,ka.tls.hmac_sha1=function(e,t,A){var n=ka.hmac.create();return n.start("SHA1",e),(e=ka.util.createBuffer()).putInt32(t[0]),e.putInt32(t[1]),e.putByte(A.type),e.putByte(A.version.major),e.putByte(A.version.minor),e.putInt16(A.length),e.putBytes(A.fragment.bytes()),n.update(e.getBytes()),n.digest().getBytes()},ka.tls.createSessionCache=Ea.createSessionCache,ka.tls.createConnection=Ea.createConnection,$c((function(e){function t(e,t,n){t=t.entity===ka.tls.ConnectionEnd.client,e.read.cipherState={init:!1,cipher:ka.cipher.createDecipher("AES-CBC",t?n.keys.server_write_key:n.keys.client_write_key),iv:t?n.keys.server_write_IV:n.keys.client_write_IV},e.write.cipherState={init:!1,cipher:ka.cipher.createCipher("AES-CBC",t?n.keys.client_write_key:n.keys.server_write_key),iv:t?n.keys.client_write_IV:n.keys.server_write_IV},e.read.cipherFunction=i,e.write.cipherFunction=A,e.read.macLength=e.write.macLength=n.mac_length,e.read.macFunction=e.write.macFunction=o.hmac_sha1}function A(e,t){var A=!1,r=t.macFunction(t.macKey,t.sequenceNumber,e);return e.fragment.putBytes(r),t.updateSequenceNumber(),r=e.version.minor===o.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:ka.random.getBytesSync(16),t.cipherState.init=!0,(t=t.cipherState.cipher).start({iv:r}),e.version.minor>=o.Versions.TLS_1_1.minor&&t.output.putBytes(r),t.update(e.fragment),t.finish(n)&&(e.fragment=t.output,e.length=e.fragment.length(),A=!0),A}function n(e,t,A){return A||(e-=t.length()%e,t.fillWithByte(e-1,e)),!0}function r(e,t,A){if(e=!0,A){A=t.length();for(var n=t.last(),r=A-1-n;r<A-1;++r)e=e&&t.at(r)==n;e&&t.truncate(n+1)}return e}function i(e,t){var A=e.version.minor===o.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16);t.cipherState.init=!0;var n=t.cipherState.cipher;n.start({iv:A}),n.update(e.fragment),A=n.finish(r);var i=t.macLength,a=ka.random.getBytesSync(i),s=n.output.length();return s>=i?(e.fragment=n.output.getBytes(s-i),a=n.output.getBytes(i)):e.fragment=n.output.getBytes(),e.fragment=ka.util.createBuffer(e.fragment),e.length=e.fragment.length(),e=t.macFunction(t.macKey,t.sequenceNumber,e),t.updateSequenceNumber(),t=t.macKey,(n=ka.hmac.create()).start("SHA1",t),n.update(a),a=n.digest().getBytes(),n.start(null,null),n.update(e),a===(e=n.digest().getBytes())&&A}var o=e.exports=ka.tls;o.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=o.BulkCipherAlgorithm.aes,e.cipher_type=o.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=o.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:t},o.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=o.BulkCipherAlgorithm.aes,e.cipher_type=o.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=o.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:t}})),hn("Float64",(function(e){return function(t,A,n){return e(this,t,A,n)}})),$c((function(e){function t(e,t,A){for(var n,r,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S=A.length();128<=S;){for(R=0;16>R;++R)t[R][0]=A.getInt32()>>>0,t[R][1]=A.getInt32()>>>0;for(;80>R;++R)n=(((g=(s=t[R-2])[0])>>>19|(s=s[1])<<13)^(s>>>29|g<<3)^g>>>6)>>>0,r=((g<<13|s>>>19)^(s<<3|g>>>29)^(g<<26|s>>>6))>>>0,o=(((g=(s=t[R-15])[0])>>>1|(s=s[1])<<31)^(g>>>8|s<<24)^g>>>7)>>>0,a=((g<<31|s>>>1)^(g<<24|s>>>8)^(g<<25|s>>>7))>>>0,g=t[R-7],I=t[R-16],s=r+g[1]+a+I[1],t[R][0]=n+g[0]+o+I[0]+(s/4294967296>>>0)>>>0,t[R][1]=s>>>0;for(g=e[0][0],I=e[0][1],l=e[1][0],E=e[1][1],C=e[2][0],d=e[2][1],h=e[3][0],p=e[3][1],f=e[4][0],B=e[4][1],Q=e[5][0],y=e[5][1],v=e[6][0],m=e[6][1],_=e[7][0],b=e[7][1],R=0;80>R;++R)n=((f>>>14|B<<18)^(f>>>18|B<<14)^(B>>>9|f<<23))>>>0,r=(v^f&(Q^v))>>>0,o=((g>>>28|I<<4)^(I>>>2|g<<30)^(I>>>7|g<<25))>>>0,a=((g<<4|I>>>28)^(I<<30|g>>>2)^(I<<25|g>>>7))>>>0,c=(g&l|C&(g^l))>>>0,u=(I&E|d&(I^E))>>>0,s=b+(s=((f<<18|B>>>14)^(f<<14|B>>>18)^(B<<23|f>>>9))>>>0)+((m^B&(y^m))>>>0)+i[R][1]+t[R][1],n=_+n+r+i[R][0]+t[R][0]+(s/4294967296>>>0)>>>0,r=s>>>0,o=o+c+((s=a+u)/4294967296>>>0)>>>0,a=s>>>0,_=v,b=m,v=Q,m=y,Q=f,y=B,f=h+n+((s=p+r)/4294967296>>>0)>>>0,B=s>>>0,h=C,p=d,C=l,d=E,l=g,E=I,g=n+o+((s=r+a)/4294967296>>>0)>>>0,I=s>>>0;s=e[0][1]+I,e[0][0]=e[0][0]+g+(s/4294967296>>>0)>>>0,e[0][1]=s>>>0,s=e[1][1]+E,e[1][0]=e[1][0]+l+(s/4294967296>>>0)>>>0,e[1][1]=s>>>0,s=e[2][1]+d,e[2][0]=e[2][0]+C+(s/4294967296>>>0)>>>0,e[2][1]=s>>>0,s=e[3][1]+p,e[3][0]=e[3][0]+h+(s/4294967296>>>0)>>>0,e[3][1]=s>>>0,s=e[4][1]+B,e[4][0]=e[4][0]+f+(s/4294967296>>>0)>>>0,e[4][1]=s>>>0,s=e[5][1]+y,e[5][0]=e[5][0]+Q+(s/4294967296>>>0)>>>0,e[5][1]=s>>>0,s=e[6][1]+m,e[6][0]=e[6][0]+v+(s/4294967296>>>0)>>>0,e[6][1]=s>>>0,s=e[7][1]+b,e[7][0]=e[7][0]+_+(s/4294967296>>>0)>>>0,e[7][1]=s>>>0,S-=128}}var A=e.exports=ka.sha512=ka.sha512||{};ka.md.sha512=ka.md.algorithms.sha512=A,(e=ka.sha384=ka.sha512.sha384=ka.sha512.sha384||{}).create=function(){return A.create("SHA-384")},ka.md.sha384=ka.md.algorithms.sha384=e,ka.sha512.sha256=ka.sha512.sha256||{create:function(){return A.create("SHA-512/256")}},ka.md["sha512/256"]=ka.md.algorithms["sha512/256"]=ka.sha512.sha256,ka.sha512.sha224=ka.sha512.sha224||{create:function(){return A.create("SHA-512/224")}},ka.md["sha512/224"]=ka.md.algorithms["sha512/224"]=ka.sha512.sha224,A.create=function(e){if(r||(n=String.fromCharCode(128),n+=ka.util.fillString(String.fromCharCode(0),128),i=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],o={"SHA-512":[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],"SHA-384":[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],"SHA-512/256":[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],"SHA-512/224":[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]]},r=!0),void 0===e&&(e="SHA-512"),!(e in o))throw Error("Invalid SHA-512 algorithm: "+e);for(var A=o[e],a=null,s=ka.util.createBuffer(),c=Array(80),u=0;80>u;++u)c[u]=Array(2);switch(u=64,e){case"SHA-384":u=48;break;case"SHA-512/256":u=32;break;case"SHA-512/224":u=28}var g={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:u,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){g.messageLength=0,g.fullMessageLength=g.messageLength128=[];for(var e=g.messageLengthSize/4,t=0;t<e;++t)g.fullMessageLength.push(0);for(s=ka.util.createBuffer(),a=Array(A.length),t=0;t<A.length;++t)a[t]=A[t].slice(0);return g}};return g.start(),g.update=function(e,A){"utf8"===A&&(e=ka.util.encodeUtf8(e)),A=e.length,g.messageLength+=A,A=[A/4294967296>>>0,A>>>0];for(var n=g.fullMessageLength.length-1;0<=n;--n)g.fullMessageLength[n]+=A[1],A[1]=A[0]+(g.fullMessageLength[n]/4294967296>>>0),g.fullMessageLength[n]>>>=0,A[0]=A[1]/4294967296>>>0;return s.putBytes(e),t(a,c,s),(2048<s.read||0===s.length())&&s.compact(),g},g.digest=function(){var A=ka.util.createBuffer();A.putBytes(s.bytes()),A.putBytes(n.substr(0,g.blockLength-(g.fullMessageLength[g.fullMessageLength.length-1]+g.messageLengthSize&g.blockLength-1)));for(var r,i,o=8*g.fullMessageLength[0],u=0;u<g.fullMessageLength.length-1;++u)o+=i=(r=8*g.fullMessageLength[u+1])/4294967296>>>0,A.putInt32(o>>>0),o=r>>>0;for(A.putInt32(o),r=Array(a.length),u=0;u<a.length;++u)r[u]=a[u].slice(0);for(t(r,c,A),A=ka.util.createBuffer(),i="SHA-512"===e?r.length:"SHA-384"===e?r.length-2:r.length-4,u=0;u<i;++u)A.putInt32(r[u][0]),u===i-1&&"SHA-512/224"===e||A.putInt32(r[u][1]);return A},g};var n=null,r=!1,i=null,o=null}));var Ig=ka.asn1,w3={name:"SubjectPublicKeyInfo",tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},x3={name:"PrivateKeyInfo",tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Ig.Class.UNIVERSAL,type:Ig.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};if(void 0===y3)var y3=ka.jsbn.BigInteger;var PA=ka.util.ByteBuffer,qi="undefined"==typeof Buffer?Uint8Array:Buffer;ka.pki=ka.pki||{},ka.pki.ed25519=ka.ed25519=ka.ed25519||{};var Qd=ka.ed25519;Qd.constants={},Qd.constants.PUBLIC_KEY_BYTE_LENGTH=32,Qd.constants.PRIVATE_KEY_BYTE_LENGTH=64,Qd.constants.SEED_BYTE_LENGTH=32,Qd.constants.SIGN_BYTE_LENGTH=64,Qd.constants.HASH_BYTE_LENGTH=64,Qd.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=ka.random.getBytesSync(Qd.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==Qd.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Qd.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Nl({message:t,encoding:"binary"}),e=new qi(Qd.constants.PUBLIC_KEY_BYTE_LENGTH);for(var A=new qi(Qd.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;32>n;++n)A[n]=t[n];for(t=[ad(),ad(),ad(),ad()],(n=Xs(A,32))[0]&=248,n[31]&=127,n[31]|=64,XA(t,n),TA(e,t),t=0;32>t;++t)A[t+32]=e[t];return{publicKey:e,privateKey:A}},Qd.privateKeyFromAsn1=function(e){var t={},A=[];if(!ka.asn1.validate(e,x3,t,A))throw(t=Error("Invalid Key.")).errors=A,t;if((A=ka.asn1.derToOid(t.privateKeyOid))!==(e=ka.oids.EdDSA25519))throw Error('Invalid OID "'+A+'"; OID must be "'+e+'".');return{privateKeyBytes:Nl({message:ka.asn1.fromDer(t.privateKey).value,encoding:"binary"})}},Qd.publicKeyFromAsn1=function(e){var t={},A=[];if(!ka.asn1.validate(e,w3,t,A))throw(t=Error("Invalid Key.")).errors=A,t;if((A=ka.asn1.derToOid(t.publicKeyOid))!==(e=ka.oids.EdDSA25519))throw Error('Invalid OID "'+A+'"; OID must be "'+e+'".');if((t=t.ed25519PublicKey).length!==Qd.constants.PUBLIC_KEY_BYTE_LENGTH)throw Error("Key length is invalid.");return Nl({message:t,encoding:"binary"})},Qd.publicKeyFromPrivateKey=function(e){if((e=Nl({message:(e=e||{}).privateKey,encoding:"binary"})).length!==Qd.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Qd.constants.PRIVATE_KEY_BYTE_LENGTH);for(var t=new qi(Qd.constants.PUBLIC_KEY_BYTE_LENGTH),A=0;A<t.length;++A)t[A]=e[32+A];return t},Qd.sign=function(e){var t=Nl(e=e||{}),A=Nl({message:e.privateKey,encoding:"binary"});if(A.length===Qd.constants.SEED_BYTE_LENGTH)A=Qd.generateKeyPair({seed:A}).privateKey;else if(A.length!==Qd.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Qd.constants.SEED_BYTE_LENGTH+" or "+Qd.constants.PRIVATE_KEY_BYTE_LENGTH);e=new qi(Qd.constants.SIGN_BYTE_LENGTH+t.length);var n=t.length,r=A,i=new Float64Array(64),o=[ad(),ad(),ad(),ad()],a=Xs(r,32);for(a[0]&=248,a[31]&=127,a[31]|=64,A=0;A<n;++A)e[64+A]=t[A];for(A=0;32>A;++A)e[32+A]=a[32+A];for(RA(t=Xs(e.subarray(32),n+32)),XA(o,t),TA(e,o),A=32;64>A;++A)e[A]=r[A];for(RA(n=Xs(e,n+64)),A=32;64>A;++A)i[A]=0;for(A=0;32>A;++A)i[A]=t[A];for(A=0;32>A;++A)for(t=0;32>t;t++)i[A+t]+=n[A]*a[t];for(LI(e.subarray(32),i),A=new qi(Qd.constants.SIGN_BYTE_LENGTH),i=0;i<A.length;++i)A[i]=e[i];return A},Qd.verify=function(e){var t=Nl(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var A=Nl({message:e.signature,encoding:"binary"});if(A.length!==Qd.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Qd.constants.SIGN_BYTE_LENGTH);var n=Nl({message:e.publicKey,encoding:"binary"});if(n.length!==Qd.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Qd.constants.PUBLIC_KEY_BYTE_LENGTH);e=new qi(Qd.constants.SIGN_BYTE_LENGTH+t.length);var r,i=new qi(Qd.constants.SIGN_BYTE_LENGTH+t.length);for(r=0;r<Qd.constants.SIGN_BYTE_LENGTH;++r)e[r]=A[r];for(r=0;r<t.length;++r)e[r+Qd.constants.SIGN_BYTE_LENGTH]=t[r];t=e.length,A=new qi(32),r=[ad(),ad(),ad(),ad()];var o=[ad(),ad(),ad(),ad()];if(64>t)e=-1;else{var a=ad(),s=ad(),c=ad(),u=ad(),g=ad(),I=ad(),l=ad();Qm(o[2],kw);var E,C=o[1];for(E=0;16>E;++E)C[E]=n[2*E]+(n[2*E+1]<<8);for(C[15]&=32767,ge(c,C=o[1],C),ge(u,c,z3),oq(c,c,o[2]),pq(u,o[2],u),ge(g,u,u),ge(I,g,g),ge(l,I,g),ge(a,l,c),ge(a,a,u),g=ad(),I=0;16>I;++I)g[I]=a[I];for(I=250;0<=I;--I)ge(g,g,g),1!==I&&ge(g,g,a);for(I=0;16>I;++I)a[I]=g[I];if(ge(a,a,c),ge(a,a,u),ge(a,a,u),ge(o[0],a,u),ge(s,a=o[0],a),ge(s,s,u),NI(s,c)&&ge(o[0],o[0],A3),ge(s,a=o[0],a),ge(s,s,u),NI(s,c)?s=-1:(MI(o[0])===n[31]>>7&&oq(o[0],WA,o[0]),ge(o[3],o[0],o[1]),s=0),s)e=-1;else{for(s=0;s<t;++s)i[s]=e[s];for(s=0;32>s;++s)i[s+32]=n[s];if(RA(n=Xs(i,t)),PI(r,o,n),XA(o,e.subarray(32)),SA(r,o),TA(A,r),t-=64,OI(e,0,A,0)){for(s=0;s<t;++s)i[s]=0;e=-1}else{for(s=0;s<t;++s)i[s]=e[s+64];e=t}}}return 0<=e};var WA=ad(),kw=ad([1]),z3=ad([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),VW=ad([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),QI=ad([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),RI=ad([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),QA=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),A3=ad([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);ka.kem=ka.kem||{};var CO=ka.jsbn.BigInteger;ka.kem.rsa={},ka.kem.rsa.create=function(e,t){var A=(t=t||{}).prng||ka.random;return{encrypt:function(t,n){var r=Math.ceil(t.n.bitLength()/8);do{var i=new CO(ka.util.bytesToHex(A.getBytesSync(r)),16).mod(t.n)}while(0>=i.compareTo(CO.ONE));return 0<(r-=(i=ka.util.hexToBytes(i.toString(16))).length)&&(i=ka.util.fillString(String.fromCharCode(0),r)+i),{encapsulation:t=t.encrypt(i,"NONE"),key:n=e.generate(i,n)}},decrypt:function(t,A,n){return t=t.decrypt(A,"NONE"),e.generate(t,n)}}},ka.kem.kdf1=function(e,t){SI(this,e,0,t||e.digestLength)},ka.kem.kdf2=function(e,t){SI(this,e,1,t||e.digestLength)},Nd&&("g"!=/./g.flags||rk)&&Uf.f(RegExp.prototype,"flags",{configurable:!0,get:Rw}),ka.log=ka.log||{},ka.log.levels="none error warning info debug verbose max".split(" ");var Jx={},dE=[],cu=null;ka.log.LEVEL_LOCKED=2,ka.log.NO_LEVEL_CHECK=4,ka.log.INTERPOLATE=8;for(var nn=0;nn<ka.log.levels.length;++nn){var DO=ka.log.levels[nn];Jx[DO]={index:nn,name:DO.toUpperCase()}}ka.log.logMessage=function(e){for(var t=Jx[e.level].index,A=0;A<dE.length;++A){var n=dE[A];n.flags&ka.log.NO_LEVEL_CHECK?n.f(e):t<=Jx[n.level].index&&n.f(n,e)}},ka.log.prepareStandard=function(e){"standard"in e||(e.standard=Jx[e.level].name+" ["+e.category+"] "+e.message)},ka.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=ka.util.format.apply(this,t)}},ka.log.prepareStandardFull=function(e){"standardFull"in e||(ka.log.prepareStandard(e),e.standardFull=e.standard)};var EO=["error","warning","info","debug","verbose"];for(nn=0;nn<EO.length;++nn)!function(e){ka.log[e]=function(t,A){var n=Array.prototype.slice.call(arguments).slice(2);ka.log.logMessage({timestamp:new Date,level:e,category:t,message:A,arguments:n})}}(EO[nn]);if(ka.log.makeLogger=function(e){return e={flags:0,f:e},ka.log.setLevel(e,"none"),e},ka.log.setLevel=function(e,t){var A=!1;if(e&&!(e.flags&ka.log.LEVEL_LOCKED))for(var n=0;n<ka.log.levels.length;++n)if(t==ka.log.levels[n]){e.level=t,A=!0;break}return A},ka.log.lock=function(e,t){e.flags=void 0===t||t?e.flags|ka.log.LEVEL_LOCKED:e.flags&~ka.log.LEVEL_LOCKED},ka.log.addLogger=function(e){dE.push(e)},"undefined"!=typeof console&&"log"in console){if(console.error&&console.warn&&console.info&&console.debug)var B3={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},FO=function(e,t){ka.log.prepareStandard(t),e=B3[t.level];var A=[t.standard];A=A.concat(t.arguments.slice()),e.apply(console,A)};else FO=function(e,t){ka.log.prepareStandardFull(t),console.log(t.standardFull)};var eE=ka.log.makeLogger(FO);ka.log.setLevel(eE,"debug"),ka.log.addLogger(eE),cu=eE}else console={log:function(){}};if(null!==cu&&"undefined"!=typeof window&&window.location){var Kx=new URL(window.location.href).searchParams;Kx.has("console.level")&&ka.log.setLevel(cu,Kx.get("console.level").slice(-1)[0]),Kx.has("console.lock")&&"true"==Kx.get("console.lock").slice(-1)[0]&&ka.log.lock(cu)}ka.log.consoleLogger=cu,$c((function(e){function t(e){if(e.type===ka.pki.oids.contentType)var t=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(e.value).getBytes());else if(e.type===ka.pki.oids.messageDigest)t=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===ka.pki.oids.signingTime){t=new Date("1950-01-01T00:00:00Z");var A=new Date("2050-01-01T00:00:00Z"),n=e.value;if("string"==typeof n){var i=Date.parse(n);n=isNaN(i)?13===n.length?r.utcTimeToDate(n):r.generalizedTimeToDate(n):new Date(i)}t=n>=t&&n<A?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(n)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(n))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(e.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[t])])}function A(e,t,A){var n={};if(!r.validate(t,A,n,[]))throw(e=Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.")).errors=e,e;if(r.derToOid(n.contentType)!==ka.pki.oids.data)throw Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){if(t="",ka.util.isArray(n.encryptedContent))for(A=0;A<n.encryptedContent.length;++A){if(n.encryptedContent[A].type!==r.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");t+=n.encryptedContent[A].value}else t=n.encryptedContent;e.encryptedContent={algorithm:r.derToOid(n.encAlgorithm),parameter:ka.util.createBuffer(n.encParameter.value),content:ka.util.createBuffer(t)}}if(n.content){if(t="",ka.util.isArray(n.content))for(A=0;A<n.content.length;++A){if(n.content[A].type!==r.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");t+=n.content[A].value}else t=n.content;e.content=ka.util.createBuffer(t)}return e.version=n.version.charCodeAt(0),e.rawCapture=n}function n(e){if(void 0===e.encryptedContent.key)throw Error("Symmetric key not available.");if(void 0===e.content){switch(e.encryptedContent.algorithm){case ka.pki.oids["aes128-CBC"]:case ka.pki.oids["aes192-CBC"]:case ka.pki.oids["aes256-CBC"]:var t=ka.aes.createDecryptionCipher(e.encryptedContent.key);break;case ka.pki.oids.desCBC:case ka.pki.oids["des-EDE3-CBC"]:t=ka.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw Error("Symmetric decryption failed.");e.content=t.output}}var r=ka.asn1,i=e.exports=ka.pkcs7=ka.pkcs7||{};i.messageFromPem=function(e){if("PKCS7"!==(e=ka.pem.decode(e)[0]).type){var t=Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw t.headerType=e.type,t}if(e.procType&&"ENCRYPTED"===e.procType.type)throw Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");return e=r.fromDer(e.body),i.messageFromAsn1(e)},i.messageToPem=function(e,t){return e={type:"PKCS7",body:r.toDer(e.toAsn1()).getBytes()},ka.pem.encode(e,{maxline:t})},i.messageFromAsn1=function(e){var t={},A=[];if(!r.validate(e,i.asn1.contentInfoValidator,t,A))throw(t=Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.")).errors=A,t;switch(A=r.derToOid(t.contentType)){case ka.pki.oids.envelopedData:A=i.createEnvelopedData();break;case ka.pki.oids.encryptedData:A=i.createEncryptedData();break;case ka.pki.oids.signedData:A=i.createSignedData();break;default:throw Error("Cannot read PKCS#7 message. ContentType with OID "+A+" is not (yet) supported.")}return A.fromAsn1(t.content.value[0]),A},i.createSignedData=function(){var e=null;return e={type:ka.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(A(e,t,i.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates){t=e.rawCapture.certificates.value;for(var n=0;n<t.length;++n)e.certificates.push(ka.pki.certificateFromAsn1(t[n]))}},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],A=0;A<e.certificates.length;++A)t.push(ka.pki.certificateToAsn1(e.certificates[A]));A=[];var n=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(e.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return 0<t.length&&n.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,t)),0<A.length&&n.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,A)),n.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,e.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(e.type).getBytes()),n])},addSigner:function(t){var A=t.issuer,n=t.serialNumber;t.certificate&&("string"==typeof(n=t.certificate)&&(n=ka.pki.certificateFromPem(n)),A=n.issuer.attributes,n=n.serialNumber);var r=t.key;if(!r)throw Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof r&&(r=ka.pki.privateKeyFromPem(r));var i=t.digestAlgorithm||ka.pki.oids.sha1;switch(i){case ka.pki.oids.sha1:case ka.pki.oids.sha256:case ka.pki.oids.sha384:case ka.pki.oids.sha512:case ka.pki.oids.md5:break;default:throw Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+i)}if(0<(t=t.authenticatedAttributes||[]).length){for(var o=!1,a=!1,s=0;s<t.length;++s){var c=t[s];if(o||c.type!==ka.pki.oids.contentType){if(!a&&c.type===ka.pki.oids.messageDigest&&(a=!0,o))break}else if(o=!0,a)break}if(!o||!a)throw Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:r,version:1,issuer:A,serialNumber:n,digestAlgorithm:i,signatureAlgorithm:ka.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:t,unauthenticatedAttributes:[]})},sign:function(A){var n;(A=A||{},"object"===ub(e.content)&&null!==e.contentInfo||(e.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(ka.pki.oids.data).getBytes())]),!("content"in e)))||(e.content instanceof ka.util.ByteBuffer?n=e.content.bytes():"string"==typeof e.content&&(n=ka.util.encodeUtf8(e.content)),A.detached?e.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,n):e.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,n)])));if(0!==e.signers.length){for(A={},n=0;n<e.signers.length;++n){var i=e.signers[n],o=i.digestAlgorithm;o in A||(A[o]=ka.md[ka.pki.oids[o]].create()),i.md=0===i.authenticatedAttributes.length?A[o]:ka.md[ka.pki.oids[o]].create()}for(o in e.digestAlgorithmIdentifiers=[],A)e.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(o).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));if(e.detachedContent?n=e.detachedContent:n=(n=e.contentInfo.value[1]).value[0],!n)throw Error("Could not sign PKCS#7 message; there is no content to sign.");o=r.derToOid(e.contentInfo.value[0].value);var a=r.toDer(n);for(var s in a.getByte(),r.getBerValueLength(a),a=a.getBytes(),A)A[s].start().update(a);for(s=new Date,n=0;n<e.signers.length;++n){if(0===(i=e.signers[n]).authenticatedAttributes.length){if(o!==ka.pki.oids.data)throw Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{i.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]),a=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]);for(var c=0;c<i.authenticatedAttributes.length;++c){var u=i.authenticatedAttributes[c];u.type===ka.pki.oids.messageDigest?u.value=A[i.digestAlgorithm].digest():u.type!==ka.pki.oids.signingTime||u.value||(u.value=s),a.value.push(t(u)),i.authenticatedAttributesAsn1.value.push(t(u))}a=r.toDer(a).getBytes(),i.md.start().update(a)}i.signature=i.key.sign(i.md,"RSASSA-PKCS1-V1_5")}for(A=e,o=e.signers,s=[],n=0;n<o.length;++n){if(a=(i=s).push,c=o[n],u=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(c.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[ka.pki.distinguishedNameToAsn1({attributes:c.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,ka.util.hexToBytes(c.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(c.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]),c.authenticatedAttributesAsn1&&u.value.push(c.authenticatedAttributesAsn1),u.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(c.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),u.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,c.signature)),0<c.unauthenticatedAttributes.length){for(var g=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),I=0;I<c.unauthenticatedAttributes.length;++I)g.values.push(t(c.unauthenticatedAttributes[I]));u.value.push(g)}a.call(i,u)}A.signerInfos=s}},verify:function(){throw Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=ka.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw Error("PKCS#7 CRL support not yet implemented.")}}},i.createEncryptedData=function(){var e=null;return e={type:ka.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:ka.pki.oids["aes256-CBC"]},fromAsn1:function(t){A(e,t,i.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),n(e)}}},i.createEnvelopedData=function(){var e=null;return e={type:ka.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:ka.pki.oids["aes256-CBC"]},fromAsn1:function(t){var n=A(e,t,i.asn1.envelopedDataValidator);t=e,n=n.recipientInfos.value;for(var o=[],a=0;a<n.length;++a){var s=o,c=s.push,u={},g=[];if(!r.validate(n[a],i.asn1.recipientInfoValidator,u,g))throw(t=Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.")).errors=g,t;g={version:u.version.charCodeAt(0),issuer:ka.pki.RDNAttributesAsArray(u.issuer),serialNumber:ka.util.createBuffer(u.serial).toHex(),encryptedContent:{algorithm:r.derToOid(u.encAlgorithm),parameter:u.encParameter?u.encParameter.value:void 0,content:u.encKey}},c.call(s,g)}t.recipients=o},toAsn1:function(){for(var t=r,A=t.create,n=r.Class.UNIVERSAL,i=r.Type.SEQUENCE,o=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(e.type).getBytes()),a=r,s=a.create,c=r.Class.CONTEXT_SPECIFIC,u=r,g=u.create,I=r.Class.UNIVERSAL,l=r.Type.SEQUENCE,E=r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(e.version).getBytes()),C=r,d=C.create,h=r.Class.UNIVERSAL,p=r.Type.SET,f=e.recipients,B=[],Q=0;Q<f.length;++Q){var y=B,v=y.push,m=f[Q];m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(m.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[ka.pki.distinguishedNameToAsn1({attributes:m.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,ka.util.hexToBytes(m.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,m.encryptedContent.content)]),v.call(y,m)}return C=d.call(C,h,p,!0,B),h=(d=r).create,p=r.Class.UNIVERSAL,f=r.Type.SEQUENCE,B=e.encryptedContent,B=[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(ka.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(B.algorithm).getBytes()),B.parameter?r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,B.parameter.getBytes()):void 0]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,B.content.getBytes())])],A.call(t,n,i,!0,[o,s.call(a,c,0,!0,[g.call(u,I,l,!0,[E,C,h.call(d,p,f,!0,B)])])])},findRecipient:function(t){for(var A=t.issuer.attributes,n=0;n<e.recipients.length;++n){var r=e.recipients[n],i=r.issuer;if(r.serialNumber===t.serialNumber&&i.length===A.length){for(var o=!0,a=0;a<A.length;++a)if(i[a].type!==A[a].type||i[a].value!==A[a].value){o=!1;break}if(o)return r}}return null},decrypt:function(t,A){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==A)switch(t.encryptedContent.algorithm){case ka.pki.oids.rsaEncryption:case ka.pki.oids.desCBC:t=A.decrypt(t.encryptedContent.content),e.encryptedContent.key=ka.util.createBuffer(t);break;default:throw Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}n(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:ka.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,A){if(void 0===e.encryptedContent.content){var n;switch(A=A||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,A){case ka.pki.oids["aes128-CBC"]:var r=n=16,i=ka.aes.createEncryptionCipher;break;case ka.pki.oids["aes192-CBC"]:n=24,r=16,i=ka.aes.createEncryptionCipher;break;case ka.pki.oids["aes256-CBC"]:n=32,r=16,i=ka.aes.createEncryptionCipher;break;case ka.pki.oids["des-EDE3-CBC"]:n=24,r=8,i=ka.des.createEncryptionCipher;break;default:throw Error("Unsupported symmetric cipher, OID "+A)}if(void 0===t)t=ka.util.createBuffer(ka.random.getBytes(n));else if(t.length()!=n)throw Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");if(e.encryptedContent.algorithm=A,e.encryptedContent.key=t,e.encryptedContent.parameter=ka.util.createBuffer(ka.random.getBytes(r)),(t=i(t)).start(e.encryptedContent.parameter.copy()),t.update(e.content),!t.finish())throw Error("Symmetric encryption failed.");e.encryptedContent.content=t.output}for(t=0;t<e.recipients.length;++t)if(void 0===(A=e.recipients[t]).encryptedContent.content)switch(A.encryptedContent.algorithm){case ka.pki.oids.rsaEncryption:A.encryptedContent.content=A.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw Error("Unsupported asymmetric cipher, OID "+A.encryptedContent.algorithm)}}}}})),$c((function(e){function t(e,t){"8"<=(t=t.toString(16))[0]&&(t="00"+t),t=ka.util.hexToBytes(t),e.putInt32(t.length),e.putBytes(t)}function A(e,t){e.putInt32(t.length),e.putString(t)}function n(){for(var e=ka.md.sha1.create(),t=arguments.length,A=0;A<t;++A)e.update(arguments[A]);return e.digest()}(e=e.exports=ka.ssh=ka.ssh||{}).privateKeyToPutty=function(e,r,i){var o=""===(r=r||"")?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: ssh-rsa\r\nEncryption: "+o+"\r\nComment: "+(i=i||"")+"\r\n",s=ka.util.createBuffer();A(s,"ssh-rsa"),t(s,e.e),t(s,e.n);var c=ka.util.encode64(s.bytes(),64),u=Math.floor(c.length/66)+1;return a+="Public-Lines: "+u+"\r\n",a+=c,t(c=ka.util.createBuffer(),e.d),t(c,e.p),t(c,e.q),t(c,e.qInv),r?(u=c.length()+16-1,u-=u%16,(e=n(c.bytes())).truncate(e.length()-u+c.length()),c.putBuffer(e),(u=ka.util.createBuffer()).putBuffer(n("\0\0\0\0",r)),u.putBuffer(n("\0\0\0",r)),(u=ka.aes.createEncryptionCipher(u.truncate(8),"CBC")).start(ka.util.createBuffer().fillWithByte(0,16)),u.update(c.copy()),u.finish(),(u=u.output).truncate(16),e=ka.util.encode64(u.bytes(),64)):e=ka.util.encode64(c.bytes(),64),a+="\r\nPrivate-Lines: "+(u=Math.floor(e.length/66)+1)+"\r\n",a+=e,r=n("putty-private-key-file-mac-key",r),A(u=ka.util.createBuffer(),"ssh-rsa"),A(u,o),A(u,i),u.putInt32(s.length()),u.putBuffer(s),u.putInt32(c.length()),u.putBuffer(c),(i=ka.hmac.create()).start("sha1",r),i.update(u.bytes()),a+"\r\nPrivate-MAC: "+i.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(e,n){n=n||"";var r=ka.util.createBuffer();return A(r,"ssh-rsa"),t(r,e.e),t(r,e.n),"ssh-rsa "+ka.util.encode64(r.bytes())+" "+n},e.privateKeyToOpenSSH=function(e,t){return t?ka.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):ka.pki.privateKeyToPem(e)},e.getPublicKeyFingerprint=function(e,n){var r=(n=n||{}).md||ka.md.md5.create(),i=ka.util.createBuffer();if(A(i,"ssh-rsa"),t(i,e.e),t(i,e.n),r.start(),r.update(i.getBytes()),e=r.digest(),"hex"===n.encoding)return e=e.toHex(),n.delimiter?e.match(/.{2}/g).join(n.delimiter):e;if("binary"===n.encoding)return e.getBytes();if(n.encoding)throw Error('Unknown encoding "'+n.encoding+'".');return e}}));var jk=ka,Aa;!function(e){e[e.RTM_ERROR_OK=0]="RTM_ERROR_OK",e[e.RTM_ERROR_NOT_INITIALIZED=-10001]="RTM_ERROR_NOT_INITIALIZED",e[e.RTM_ERROR_NOT_LOGIN=-10002]="RTM_ERROR_NOT_LOGIN",e[e.RTM_ERROR_INVALID_APP_ID=-10003]="RTM_ERROR_INVALID_APP_ID",e[e.RTM_ERROR_INVALID_EVENT_HANDLER=-10004]="RTM_ERROR_INVALID_EVENT_HANDLER",e[e.RTM_ERROR_INVALID_TOKEN=-10005]="RTM_ERROR_INVALID_TOKEN",e[e.RTM_ERROR_INVALID_USER_ID=-10006]="RTM_ERROR_INVALID_USER_ID",e[e.RTM_ERROR_INIT_SERVICE_FAILED=-10007]="RTM_ERROR_INIT_SERVICE_FAILED",e[e.RTM_ERROR_INVALID_CHANNEL_NAME=-10008]="RTM_ERROR_INVALID_CHANNEL_NAME",e[e.RTM_ERROR_TOKEN_EXPIRED=-10009]="RTM_ERROR_TOKEN_EXPIRED",e[e.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES=-10010]="RTM_ERROR_LOGIN_NO_SERVER_RESOURCES",e[e.RTM_ERROR_LOGIN_TIMEOUT=-10011]="RTM_ERROR_LOGIN_TIMEOUT",e[e.RTM_ERROR_LOGIN_REJECTED=-10012]="RTM_ERROR_LOGIN_REJECTED",e[e.RTM_ERROR_LOGIN_ABORTED=-10013]="RTM_ERROR_LOGIN_ABORTED",e[e.RTM_ERROR_INVALID_PARAMETER=-10014]="RTM_ERROR_INVALID_PARAMETER",e[e.RTM_ERROR_LOGIN_NOT_AUTHORIZED=-10015]="RTM_ERROR_LOGIN_NOT_AUTHORIZED",e[e.RTM_ERROR_INCONSISTENT_APPID=-10016]="RTM_ERROR_INCONSISTENT_APPID",e[e.RTM_ERROR_DUPLICATE_OPERATION=-10017]="RTM_ERROR_DUPLICATE_OPERATION",e[e.RTM_ERROR_INSTANCE_ALREADY_RELEASED=-10018]="RTM_ERROR_INSTANCE_ALREADY_RELEASED",e[e.RTM_ERROR_INVALID_CHANNEL_TYPE=-10019]="RTM_ERROR_INVALID_CHANNEL_TYPE",e[e.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER=-10020]="RTM_ERROR_INVALID_ENCRYPTION_PARAMETER",e[e.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION=-10021]="RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION",e[e.RTM_ERROR_CHANNEL_NOT_JOINED=-11001]="RTM_ERROR_CHANNEL_NOT_JOINED",e[e.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED=-11002]="RTM_ERROR_CHANNEL_NOT_SUBSCRIBED",e[e.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION=-11003]="RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION",e[e.RTM_ERROR_CHANNEL_IN_REUSE=-11004]="RTM_ERROR_CHANNEL_IN_REUSE",e[e.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION=-11005]="RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION",e[e.RTM_ERROR_CHANNEL_IN_ERROR_STATE=-11006]="RTM_ERROR_CHANNEL_IN_ERROR_STATE",e[e.RTM_ERROR_CHANNEL_JOIN_FAILED=-11007]="RTM_ERROR_CHANNEL_JOIN_FAILED",e[e.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME=-11008]="RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME",e[e.RTM_ERROR_CHANNEL_INVALID_MESSAGE=-11009]="RTM_ERROR_CHANNEL_INVALID_MESSAGE",e[e.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION=-11010]="RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION",e[e.RTM_ERROR_CHANNEL_INVALID_USER_LIST=-11011]="RTM_ERROR_CHANNEL_INVALID_USER_LIST",e[e.RTM_ERROR_CHANNEL_NOT_AVAILABLE=-11012]="RTM_ERROR_CHANNEL_NOT_AVAILABLE",e[e.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED=-11013]="RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED",e[e.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION=-11014]="RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION",e[e.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED=-11015]="RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED",e[e.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED=-11016]="RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED",e[e.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST=-11017]="RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST",e[e.RTM_ERROR_CHANNEL_INVALID_TOPIC_META=-11018]="RTM_ERROR_CHANNEL_INVALID_TOPIC_META",e[e.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT=-11019]="RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT",e[e.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT=-11020]="RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT",e[e.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED=-11021]="RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED",e[e.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED=-11022]="RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED",e[e.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED=-11023]="RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED",e[e.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED=-11024]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED",e[e.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT=-11025]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT",e[e.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT=-11026]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT",e[e.RTM_ERROR_CHANNEL_NOT_CONNECTED=-11027]="RTM_ERROR_CHANNEL_NOT_CONNECTED",e[e.RTM_ERROR_CHANNEL_LEAVE_FAILED=-11028]="RTM_ERROR_CHANNEL_LEAVE_FAILED",e[e.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW=-11029]="RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW",e[e.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE=-11030]="RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE",e[e.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE=-11031]="RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE",e[e.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY=-11032]="RTM_ERROR_CHANNEL_PRESENCE_NOT_READY",e[e.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE=-11033]="RTM_ERROR_CHANNEL_RECEIVER_OFFLINE",e[e.RTM_ERROR_STORAGE_OPERATION_FAILED=-12001]="RTM_ERROR_STORAGE_OPERATION_FAILED",e[e.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION=-12002]="RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION",e[e.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM=-12003]="RTM_ERROR_STORAGE_INVALID_METADATA_ITEM",e[e.RTM_ERROR_STORAGE_INVALID_ARGUMENT=-12004]="RTM_ERROR_STORAGE_INVALID_ARGUMENT",e[e.RTM_ERROR_STORAGE_INVALID_REVISION=-12005]="RTM_ERROR_STORAGE_INVALID_REVISION",e[e.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW=-12006]="RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW",e[e.RTM_ERROR_STORAGE_INVALID_LOCK_NAME=-12007]="RTM_ERROR_STORAGE_INVALID_LOCK_NAME",e[e.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED=-12008]="RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED",e[e.RTM_ERROR_STORAGE_INVALID_KEY=-12009]="RTM_ERROR_STORAGE_INVALID_KEY",e[e.RTM_ERROR_STORAGE_INVALID_VALUE=-12010]="RTM_ERROR_STORAGE_INVALID_VALUE",e[e.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW=-12011]="RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW",e[e.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW=-12012]="RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW",e[e.RTM_ERROR_STORAGE_DUPLICATE_KEY=-12013]="RTM_ERROR_STORAGE_DUPLICATE_KEY",e[e.RTM_ERROR_STORAGE_OUTDATED_REVISION=-12014]="RTM_ERROR_STORAGE_OUTDATED_REVISION",e[e.RTM_ERROR_STORAGE_NOT_SUBSCRIBE=-12015]="RTM_ERROR_STORAGE_NOT_SUBSCRIBE",e[e.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE=-12016]="RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE",e[e.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION=-12017]="RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION",e[e.RTM_ERROR_STORAGE_OPERATION_TIMEOUT=-12018]="RTM_ERROR_STORAGE_OPERATION_TIMEOUT",e[e.RTM_ERROR_STORAGE_NOT_AVAILABLE=-12019]="RTM_ERROR_STORAGE_NOT_AVAILABLE",e[e.RTM_ERROR_PRESENCE_NOT_CONNECTED=-13001]="RTM_ERROR_PRESENCE_NOT_CONNECTED",e[e.RTM_ERROR_PRESENCE_NOT_WRITABLE=-13002]="RTM_ERROR_PRESENCE_NOT_WRITABLE",e[e.RTM_ERROR_PRESENCE_INVALID_ARGUMENT=-13003]="RTM_ERROR_PRESENCE_INVALID_ARGUMENT",e[e.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES=-13004]="RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES",e[e.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW=-13005]="RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW",e[e.RTM_ERROR_PRESENCE_INVALID_STATE_KEY=-13006]="RTM_ERROR_PRESENCE_INVALID_STATE_KEY",e[e.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE=-13007]="RTM_ERROR_PRESENCE_INVALID_STATE_VALUE",e[e.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW=-13008]="RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW",e[e.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW=-13009]="RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW",e[e.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY=-13010]="RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY",e[e.RTM_ERROR_PRESENCE_USER_NOT_EXIST=-13011]="RTM_ERROR_PRESENCE_USER_NOT_EXIST",e[e.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT=-13012]="RTM_ERROR_PRESENCE_OPERATION_TIMEOUT",e[e.RTM_ERROR_PRESENCE_OPERATION_FAILED=-13013]="RTM_ERROR_PRESENCE_OPERATION_FAILED",e[e.RTM_ERROR_LOCK_OPERATION_FAILED=-14001]="RTM_ERROR_LOCK_OPERATION_FAILED",e[e.RTM_ERROR_LOCK_OPERATION_TIMEOUT=-14002]="RTM_ERROR_LOCK_OPERATION_TIMEOUT",e[e.RTM_ERROR_LOCK_OPERATION_PERFORMING=-14003]="RTM_ERROR_LOCK_OPERATION_PERFORMING",e[e.RTM_ERROR_LOCK_ALREADY_EXIST=-14004]="RTM_ERROR_LOCK_ALREADY_EXIST",e[e.RTM_ERROR_LOCK_INVALID_NAME=-14005]="RTM_ERROR_LOCK_INVALID_NAME",e[e.RTM_ERROR_LOCK_NOT_ACQUIRED=-14006]="RTM_ERROR_LOCK_NOT_ACQUIRED",e[e.RTM_ERROR_LOCK_ACQUIRE_FAILED=-14007]="RTM_ERROR_LOCK_ACQUIRE_FAILED",e[e.RTM_ERROR_LOCK_NOT_EXIST=-14008]="RTM_ERROR_LOCK_NOT_EXIST",e[e.RTM_ERROR_LOCK_NOT_AVAILABLE=-14009]="RTM_ERROR_LOCK_NOT_AVAILABLE"}(Aa||(Aa={}));var dc,aX=(dc={},na(dc,Aa.RTM_ERROR_OK,"No error."),na(dc,Aa.RTM_ERROR_NOT_INITIALIZED,"Preform operation without initialize."),na(dc,Aa.RTM_ERROR_NOT_LOGIN,"Preform operation without login RTM service."),na(dc,Aa.RTM_ERROR_INVALID_APP_ID,"Invalid App id. ".concat("illegal symbol or too long.")),na(dc,Aa.RTM_ERROR_INVALID_EVENT_HANDLER,"Invalid event handler."),na(dc,Aa.RTM_ERROR_INVALID_TOKEN,"Invalid token."),na(dc,Aa.RTM_ERROR_INVALID_USER_ID,"Invalid user id. ".concat("illegal symbol or too long.")),na(dc,Aa.RTM_ERROR_INIT_SERVICE_FAILED,"Initialize agora service failed."),na(dc,Aa.RTM_ERROR_INVALID_CHANNEL_NAME,"Invalid channel name. ".concat("illegal symbol or too long.")),na(dc,Aa.RTM_ERROR_TOKEN_EXPIRED,"Token is expired."),na(dc,Aa.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES,"No server resources."),na(dc,Aa.RTM_ERROR_LOGIN_TIMEOUT,"Login RTM service timeout."),na(dc,Aa.RTM_ERROR_LOGIN_REJECTED,"Login RTM service was rejected due to server error."),na(dc,Aa.RTM_ERROR_LOGIN_ABORTED,"Login RTM service was aborted due to unrecoverable error."),na(dc,Aa.RTM_ERROR_INVALID_PARAMETER,"Invalid parameter."),na(dc,Aa.RTM_ERROR_LOGIN_NOT_AUTHORIZED,"The login operation is not authorized, should grant from console."),na(dc,Aa.RTM_ERROR_INCONSISTENT_APPID,"The appid is not consistent."),na(dc,Aa.RTM_ERROR_DUPLICATE_OPERATION,"Same subscribe, join or login request"),na(dc,Aa.RTM_ERROR_INSTANCE_ALREADY_RELEASED,"Instance already released or destroyed, need to create new one"),na(dc,Aa.RTM_ERROR_INVALID_CHANNEL_TYPE,"Invalid channel type, some api not support set channel type as user."),na(dc,Aa.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER,"Invalid encryption parameter."),na(dc,Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION,"The operation rate exceeds limitation."),na(dc,Aa.RTM_ERROR_CHANNEL_NOT_JOINED,"Perform operation without join stream channel."),na(dc,Aa.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED,"Perform operation without subscribe message channel."),na(dc,Aa.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION,"Subscribe failed due to exceed topic user limitation in stream channel."),na(dc,Aa.RTM_ERROR_CHANNEL_IN_REUSE,"Release a stream channel which was reused in RTC channel."),na(dc,Aa.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION,"Join or subscribe too many channels and have reach limitation."),na(dc,Aa.RTM_ERROR_CHANNEL_IN_ERROR_STATE,"Perform channel operation failed since channel state is incorrect."),na(dc,Aa.RTM_ERROR_CHANNEL_JOIN_FAILED,"Join stream channel failed."),na(dc,Aa.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME,"Perform topic operation with invalid name.".concat("illegal symbol or too long.")),na(dc,Aa.RTM_ERROR_CHANNEL_INVALID_MESSAGE,"Publish invalid message."),na(dc,Aa.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION,"Publish too long message."),na(dc,Aa.RTM_ERROR_CHANNEL_INVALID_USER_LIST,"Perform topic operation with invalid user list."),na(dc,Aa.RTM_ERROR_CHANNEL_NOT_AVAILABLE,"Stream channel not available for this app id."),na(dc,Aa.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED,"Perform topic operation without subscribe."),na(dc,Aa.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION,"Have subscribe or joined too many topics."),na(dc,Aa.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED,"Join topic failed."),na(dc,Aa.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED,"Perform topic operation without join."),na(dc,Aa.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST,"Topic does not exist."),na(dc,Aa.RTM_ERROR_CHANNEL_INVALID_TOPIC_META,"Topic meta is invalid."),na(dc,Aa.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT,"Subscribe message channel timeout."),na(dc,Aa.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT,"Subscribe message channel too frequently."),na(dc,Aa.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED,"Subscribe message channel failed."),na(dc,Aa.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED,"Unsubscribe message channel failed."),na(dc,Aa.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED,"Encrypt message failed."),na(dc,Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED,"Publish message failed."),na(dc,Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT,"Publish message too frequently."),na(dc,Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT,"Publish message timeout."),na(dc,Aa.RTM_ERROR_CHANNEL_NOT_CONNECTED,"Perform operation failed due to connection closed."),na(dc,Aa.RTM_ERROR_CHANNEL_LEAVE_FAILED,"Leave channel failed."),na(dc,Aa.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW,"The length of custom type overflow."),na(dc,Aa.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE,"Send message with invalid custom type."),na(dc,Aa.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE,"Send message with unsupported message type."),na(dc,Aa.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY,"Join or subscribe channel failed due to presence service not ready."),na(dc,Aa.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE,"Publish a message to user now is offline."),na(dc,Aa.RTM_ERROR_STORAGE_OPERATION_FAILED,"Storage operation failed."),na(dc,Aa.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION,"Metadata item size exceeds limitation."),na(dc,Aa.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM,"Metadata item is invalid."),na(dc,Aa.RTM_ERROR_STORAGE_INVALID_ARGUMENT,"Server reject operation due to invalid argument."),na(dc,Aa.RTM_ERROR_STORAGE_INVALID_REVISION,"Metadata item with invalid revision."),na(dc,Aa.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW,"The length of metadata items overflow."),na(dc,Aa.RTM_ERROR_STORAGE_INVALID_LOCK_NAME,"Storage operation with invalid lock name. ".concat("illegal symbol or too long.")),na(dc,Aa.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED,"Storage operation with lock not acquired."),na(dc,Aa.RTM_ERROR_STORAGE_INVALID_KEY,"Storage operation with invalid key."),na(dc,Aa.RTM_ERROR_STORAGE_INVALID_VALUE,"Storage operation with invalid value."),na(dc,Aa.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW,"Storage operation with key length overflow."),na(dc,Aa.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW,"Storage operation with value length overflow."),na(dc,Aa.RTM_ERROR_STORAGE_DUPLICATE_KEY,"Storage operation with duplicate key."),na(dc,Aa.RTM_ERROR_STORAGE_OUTDATED_REVISION,"Storage operation with outdated revision."),na(dc,Aa.RTM_ERROR_STORAGE_NOT_SUBSCRIBE,"Storage operation without subscribe."),na(dc,Aa.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE,"Metadata instance is invalid."),na(dc,Aa.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION,"Subscribe user metadata exceeds limitation."),na(dc,Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT,"Storage operation timeout."),na(dc,Aa.RTM_ERROR_STORAGE_NOT_AVAILABLE,"Storage service is not available."),na(dc,Aa.RTM_ERROR_PRESENCE_NOT_CONNECTED,"Presence service not connected."),na(dc,Aa.RTM_ERROR_PRESENCE_NOT_WRITABLE,"Operation failed since presence document is not writable, try later."),na(dc,Aa.RTM_ERROR_PRESENCE_INVALID_ARGUMENT,"Presence operation failed due to invalid argument."),na(dc,Aa.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES,"Exceed presence cache limitation."),na(dc,Aa.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW,"Exceed presence state count limitation."),na(dc,Aa.RTM_ERROR_PRESENCE_INVALID_STATE_KEY,"Invalid presence state key."),na(dc,Aa.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE,"Invalid presence state value."),na(dc,Aa.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW,"Presence state key length is too long."),na(dc,Aa.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW,"Presence state value length is too long."),na(dc,Aa.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY,"Presence operation failed since including duplicate key."),na(dc,Aa.RTM_ERROR_PRESENCE_USER_NOT_EXIST,"Presence operation failed due to inexistent user."),na(dc,Aa.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT,"Presence operation timeout."),na(dc,Aa.RTM_ERROR_PRESENCE_OPERATION_FAILED,"Presence operation failed."),na(dc,Aa.RTM_ERROR_LOCK_OPERATION_FAILED,"Lock operation failed."),na(dc,Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT,"Lock operation timeout."),na(dc,Aa.RTM_ERROR_LOCK_OPERATION_PERFORMING,"Lock operation is performing, try later."),na(dc,Aa.RTM_ERROR_LOCK_ALREADY_EXIST,"Lock already exist."),na(dc,Aa.RTM_ERROR_LOCK_INVALID_NAME,"Lock operation with invalid name. ".concat("illegal symbol or too long.")),na(dc,Aa.RTM_ERROR_LOCK_NOT_ACQUIRED,"Lock not acquired."),na(dc,Aa.RTM_ERROR_LOCK_ACQUIRE_FAILED,"Lock acquire failed."),na(dc,Aa.RTM_ERROR_LOCK_NOT_EXIST,"Lock not exist."),na(dc,Aa.RTM_ERROR_LOCK_NOT_AVAILABLE,"Lock service is not available."),dc),Ab={};"object"==("undefined"==typeof module?"undefined":ub(module))&&(module.exports=Ab),Ab.parse=function(e,t){var A,n=Ab.bin.readUshort,r=Ab.bin.readUint,i={};for(A=(e=new Uint8Array(e)).length-4;101010256!=r(e,A);)A--;var o=n(e,A=A+4+4);n(e,A+=2),r(e,A+=2),A=r(e,A+=4);for(var a=0;a<o;a++){r(e,A),A+=4,A+=4,A+=4,r(e,A+=4);var s=r(e,A+=4),c=r(e,A+=4),u=n(e,A+=4),g=n(e,A+2),I=n(e,A+4);A+=6;var l=r(e,A+=8);A+=4,A+=u+g+I,Ab._readLocal(e,l,i,s,c,t)}return i},Ab._readLocal=function(e,t,A,n,r,i){var o=Ab.bin.readUshort,a=Ab.bin.readUint;a(e,t),o(e,t+=4),o(e,t+=2);var s=o(e,t+=2);a(e,t+=2),a(e,t+=4),a=o(e,t=t+4+8);var c=o(e,t+=2);if(t+=2,o=Ab.bin.readUTF8(e,t,a),t=t+a+c,i)A[o]={size:r,csize:n};else if(e=new Uint8Array(e.buffer,t),0==s)A[o]=new Uint8Array(e.buffer.slice(t,t+n));else{if(8!=s)throw"unknown compression method: "+s;t=new Uint8Array(r),Ab.inflateRaw(e,t),A[o]=t}},Ab.inflateRaw=function(e,t){return Ab.F.inflate(e,t)},Ab.inflate=function(e,t){return e[0],e[1],Ab.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-2),t)},Ab.deflate=function(e,t){null==t&&(t={level:6});var A=0,n=new Uint8Array(50+Math.floor(1.1*e.length));return n[A]=120,n[A+1]=156,A=Ab.F.deflateRaw(e,n,A+2,t.level),e=Ab.adler(e,0,e.length),n[A+0]=e>>>24&255,n[A+1]=e>>>16&255,n[A+2]=e>>>8&255,n[A+3]=e>>>0&255,new Uint8Array(n.buffer,0,A+4)},Ab.deflateRaw=function(e,t){null==t&&(t={level:6});var A=new Uint8Array(50+Math.floor(1.1*e.length)),n=Ab.F.deflateRaw(e,A,n,t.level);return new Uint8Array(A.buffer,0,n)},Ab.encode=function(e,t){null==t&&(t=!1);var A,n=0,r=Ab.bin.writeUint,i=Ab.bin.writeUshort,o={};for(A in e){var a=!Ab._noNeed(A)&&!t,s=e[A],c=Ab.crc.crc(s,0,s.length);o[A]={cpr:a,usize:s.length,crc:c,file:a?Ab.deflateRaw(s):s}}for(A in o)n+=o[A].file.length+30+46+2*Ab.bin.sizeUTF8(A);for(A in e=new Uint8Array(n+22),t=0,s=[],o)c=o[A],s.push(t),t=Ab._writeHeader(e,t,A,c,0);for(A in n=0,a=t,o)c=o[A],s.push(t),t=Ab._writeHeader(e,t,A,c,1,s[n++]);return o=t-a,r(e,t,101010256),i(e,t=t+4+4,n),i(e,t+=2,n),r(e,t+=2,o),r(e,t+4,a),e.buffer},Ab._noNeed=function(e){return e=e.split(".").pop().toLowerCase(),-1!="png,jpg,jpeg,zip".indexOf(e)},Ab._writeHeader=function(e,t,A,n,r,i){var o=Ab.bin.writeUint,a=Ab.bin.writeUshort,s=n.file;return o(e,t,0==r?67324752:33639248),t+=4,1==r&&(t+=2),a(e,t,20),a(e,t+=2,0),a(e,t+=2,n.cpr?8:0),o(e,t+=2,0),o(e,t+=4,n.crc),o(e,t+=4,s.length),o(e,t+=4,n.usize),a(e,t+=4,Ab.bin.sizeUTF8(A)),a(e,t+=2,0),t+=2,1==r&&(o(e,t=t+2+2+6,i),t+=4),t+=A=Ab.bin.writeUTF8(e,t,A),0==r&&(e.set(s,t),t+=s.length),t},Ab.crc={table:function(){for(var e=new Uint32Array(256),t=0;256>t;t++){for(var A=t,n=0;8>n;n++)A=1&A?3988292384^A>>>1:A>>>1;e[t]=A}return e}(),update:function(e,t,A,n){for(var r=0;r<n;r++)e=Ab.crc.table[255&(e^t[A+r])]^e>>>8;return e},crc:function(e,t,A){return 4294967295^Ab.crc.update(4294967295,e,t,A)}},Ab.adler=function(e,t,A){var n=1,r=0,i=t;for(t+=A;i<t;){for(A=Math.min(i+5552,t);i<A;)r+=n+=e[i++];n%=65521,r%=65521}return r<<16|n},Ab.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,A){e[t]=255&A,e[t+1]=A>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,A){e[t]=255&A,e[t+1]=A>>8&255,e[t+2]=A>>16&255,e[t+3]=A>>24&255},readASCII:function(e,t,A){for(var n="",r=0;r<A;r++)n+=String.fromCharCode(e[t+r]);return n},writeASCII:function(e,t,A){for(var n=0;n<A.length;n++)e[t+n]=A.charCodeAt(n)},pad:function(e){return 2>e.length?"0"+e:e},readUTF8:function(e,t,A){for(var n,r="",i=0;i<A;i++)r+="%"+Ab.bin.pad(e[t+i].toString(16));try{n=decodeURIComponent(r)}catch(n){return Ab.bin.readASCII(e,t,A)}return n},writeUTF8:function(e,t,A){for(var n=A.length,r=0,i=0;i<n;i++){var o=A.charCodeAt(i);if(0==(4294967168&o))e[t+r]=o,r++;else if(0==(4294965248&o))e[t+r]=192|o>>6,e[t+r+1]=128|o>>0&63,r+=2;else if(0==(4294901760&o))e[t+r]=224|o>>12,e[t+r+1]=128|o>>6&63,e[t+r+2]=128|o>>0&63,r+=3;else{if(0!=(4292870144&o))throw"e";e[t+r]=240|o>>18,e[t+r+1]=128|o>>12&63,e[t+r+2]=128|o>>6&63,e[t+r+3]=128|o>>0&63,r+=4}}return r},sizeUTF8:function(e){for(var t=e.length,A=0,n=0;n<t;n++){var r=e.charCodeAt(n);if(0==(4294967168&r))A++;else if(0==(4294965248&r))A+=2;else if(0==(4294901760&r))A+=3;else{if(0!=(4292870144&r))throw"e";A+=4}}return A}},Ab.F={},Ab.F.deflateRaw=function(e,t,A,n){var r=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][n],i=Ab.F.U,o=Ab.F._goodIndex;Ab.F._hash;var a=Ab.F._putsE,s=0;A<<=3;var c=0,u=e.length;if(0==n){for(;s<u;){var g=Math.min(65535,u-s);a(t,A,s+g==u?1:0),A=Ab.F._copyExact(e,s,g,t,A+8),s+=g}return A>>>3}a=i.lits,n=i.strt;var I=i.prev,l=0,E=0,C=0,d=0,h=0;for(2<u&&(n[h=Ab.F._hash(e,0)]=0),s=0;s<u;s++){if(g=h,s+1<u-2){h=Ab.F._hash(e,s+1);var p=s+1&32767;I[p]=n[h],n[h]=p}if(c<=s){if((14e3<l||26697<E)&&100<u-s&&(c<s&&(a[l]=s-c,l+=2,c=s),A=Ab.F._writeBlock(s==u-1||c==u?1:0,a,l,d,e,C,s-C,t,A),l=E=d=0,C=s),p=0,s<u-2&&(p=Ab.F._bestMatch(e,s,I,g,Math.min(r[2],u-s),r[3])),0!=p){g=p>>>16,p&=65535;var f=o(g,i.of0);i.lhst[257+f]++;var B=o(p,i.df0);i.dhst[B]++,d+=i.exb[f]+i.dxb[B],a[l]=g<<23|s-c,a[l+1]=p<<16|f<<8|B,l+=2,c=s+g}else i.lhst[e[s]]++;E++}}for(C==s&&0!=e.length||(c<s&&(a[l]=s-c,l+=2),A=Ab.F._writeBlock(1,a,l,d,e,C,s-C,t,A));0!=(7&A);)A++;return A>>>3},Ab.F._bestMatch=function(e,t,A,n,r,i){var o=32767&t,a=A[o],s=o-a+32768&32767;if(a==o||n!=Ab.F._hash(e,t-s))return 0;for(var c=n=0,u=Math.min(32767,t);s<=u&&0!=--i&&a!=o;){if((0==n||e[t+n]==e[t+n-s])&&(o=Ab.F._howLong(e,t,s))>n){if(c=s,(n=o)>=r)break;s+2<o&&(o=s+2);for(var g=0,I=0;I<o-2;I++){var l=t-s+I+32768&32767,E=l-A[l]+32768&32767;E>g&&(g=E,a=l)}}s+=(o=a)-(a=A[o])+32768&32767}return n<<16|c},Ab.F._howLong=function(e,t,A){if(e[t]!=e[t-A]||e[t+1]!=e[t+1-A]||e[t+2]!=e[t+2-A])return 0;var n=t,r=Math.min(e.length,t+258);for(t+=3;t<r&&e[t]==e[t-A];)t++;return t-n},Ab.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},Ab.saved=0,Ab.F._writeBlock=function(e,t,A,n,r,i,o,a,s){var c=Ab.F.U,u=Ab.F._putsF,g=Ab.F._putsE;c.lhst[256]++;var I=Ab.F.getTrees(),l=I[0],E=I[1],C=I[2],d=I[3],h=I[4],p=I[5],f=I[6];I=I[7];var B=32+(0==(s+3&7)?0:8-(s+3&7))+(o<<3),Q=n+Ab.F.contSize(c.fltree,c.lhst)+Ab.F.contSize(c.fdtree,c.dhst);n=n+Ab.F.contSize(c.ltree,c.lhst)+Ab.F.contSize(c.dtree,c.dhst),n+=14+3*p+Ab.F.contSize(c.itree,c.ihst)+(2*c.ihst[16]+3*c.ihst[17]+7*c.ihst[18]);for(var y=0;286>y;y++)c.lhst[y]=0;for(y=0;30>y;y++)c.dhst[y]=0;for(y=0;19>y;y++)c.ihst[y]=0;if(B=B<Q&&B<n?0:Q<n?1:2,u(a,s,e),u(a,s+1,B),s+=3,0==B){for(;0!=(7&s);)s++;s=Ab.F._copyExact(r,i,o,a,s)}else{if(1==B)var v=c.fltree,m=c.fdtree;if(2==B){for(Ab.F.makeCodes(c.ltree,l),Ab.F.revCodes(c.ltree,l),Ab.F.makeCodes(c.dtree,E),Ab.F.revCodes(c.dtree,E),Ab.F.makeCodes(c.itree,C),Ab.F.revCodes(c.itree,C),v=c.ltree,m=c.dtree,g(a,s,d-257),g(a,s+=5,h-1),g(a,s+=5,p-4),s+=4,e=0;e<p;e++)g(a,s+3*e,c.itree[1+(c.ordr[e]<<1)]);s=Ab.F._codeTiny(f,c.itree,a,s+3*p),s=Ab.F._codeTiny(I,c.itree,a,s)}for(p=0;p<A;p+=2){for(f=(e=t[p])>>>23,e=i+(8388607&e);i<e;)s=Ab.F._writeLit(r[i++],v,a,s);0!=f&&(e=(l=t[p+1])>>16,o=l>>8&255,l&=255,g(a,s=Ab.F._writeLit(257+o,v,a,s),f-c.of0[o]),s+=c.exb[o],u(a,s=Ab.F._writeLit(l,m,a,s),e-c.df0[l]),s+=c.dxb[l],i+=f)}s=Ab.F._writeLit(256,v,a,s)}return s},Ab.F._copyExact=function(e,t,A,n,r){var i=r>>>3;return n[i]=A,n[i+1]=A>>>8,n[i+2]=255-n[i],n[i+3]=255-n[i+1],i+=4,n.set(new Uint8Array(e.buffer,t,A),i),r+(A+4<<3)},Ab.F.getTrees=function(){for(var e=Ab.F.U,t=Ab.F._hufTree(e.lhst,e.ltree,15),A=Ab.F._hufTree(e.dhst,e.dtree,15),n=[],r=Ab.F._lenCodes(e.ltree,n),i=[],o=Ab.F._lenCodes(e.dtree,i),a=0;a<n.length;a+=2)e.ihst[n[a]]++;for(a=0;a<i.length;a+=2)e.ihst[i[a]]++;a=Ab.F._hufTree(e.ihst,e.itree,7);for(var s=19;4<s&&0==e.itree[1+(e.ordr[s-1]<<1)];)s--;return[t,A,a,r,o,s,n,i]},Ab.F.getSecond=function(e){for(var t=[],A=0;A<e.length;A+=2)t.push(e[A+1]);return t},Ab.F.nonZero=function(e){for(var t="",A=0;A<e.length;A+=2)0!=e[A+1]&&(t+=(A>>1)+",");return t},Ab.F.contSize=function(e,t){for(var A=0,n=0;n<t.length;n++)A+=t[n]*e[1+(n<<1)];return A},Ab.F._codeTiny=function(e,t,A,n){for(var r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];n=Ab.F._writeLit(i,t,A,n);var a=16==i?2:17==i?3:7;15<i&&(Ab.F._putsE(A,n,o,a),n+=a)}return n},Ab.F._lenCodes=function(e,t){for(var A=e.length;2!=A&&0==e[A-1];)A-=2;for(var n=0;n<A;n+=2){var r=e[n+1],i=n+3<A?e[n+3]:-1,o=n+5<A?e[n+5]:-1,a=0==n?-1:e[n-1];if(0==r&&i==r&&o==r){for(i=n+5;i+2<A&&e[i+2]==r;)i+=2;11>(r=Math.min(i+1-n>>>1,138))?t.push(17,r-3):t.push(18,r-11),n+=2*r-2}else if(r==a&&i==r&&o==r){for(i=n+5;i+2<A&&e[i+2]==r;)i+=2;r=Math.min(i+1-n>>>1,6),t.push(16,r-3),n+=2*r-2}else t.push(r,0)}return A>>>1},Ab.F._hufTree=function(e,t,A){var n=[],r=e.length,i=t.length,o=0;for(o=0;o<i;o+=2)t[o]=0,t[o+1]=0;for(o=0;o<r;o++)0!=e[o]&&n.push({lit:o,f:e[o]});if(e=n.length,r=n.slice(0),0==e)return 0;if(1==e)return t[1+((A=n[0].lit)<<1)]=1,t[1+((0==A?1:0)<<1)]=1;n.sort((function(e,t){return e.f-t.f})),o=n[0],i=n[1];var a=0,s=1,c=2;for(n[0]={lit:-1,f:o.f+i.f,l:o,r:i,d:0};s!=e-1;)o=a!=s&&(c==e||n[a].f<n[c].f)?n[a++]:n[c++],i=a!=s&&(c==e||n[a].f<n[c].f)?n[a++]:n[c++],n[s++]={lit:-1,f:o.f+i.f,l:o,r:i};for((n=Ab.F.setDepth(n[s-1],0))>A&&(Ab.F.restrictDepth(r,A,n),n=A),o=0;o<e;o++)t[1+(r[o].lit<<1)]=r[o].d;return n},Ab.F.setDepth=function(e,t){return-1!=e.lit?e.d=t:Math.max(Ab.F.setDepth(e.l,t+1),Ab.F.setDepth(e.r,t+1))},Ab.F.restrictDepth=function(e,t,A){var n=0,r=1<<A-t,i=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),n=0;n<e.length&&e[n].d>t;n++){var o=e[n].d;e[n].d=t,i+=r-(1<<A-o)}for(i>>>=A-t;0<i;)(o=e[n].d)<t?(e[n].d++,i-=1<<t-o-1):n++;for(;0<=n;n--)e[n].d==t&&0>i&&(e[n].d--,i++);0!=i&&console.log("debt left")},Ab.F._goodIndex=function(e,t){var A=0;return t[16|A]<=e&&(A|=16),t[8|A]<=e&&(A|=8),t[4|A]<=e&&(A|=4),t[2|A]<=e&&(A|=2),t[1|A]<=e&&(A|=1),A},Ab.F._writeLit=function(e,t,A,n){return Ab.F._putsF(A,n,t[e<<1]),n+t[1+(e<<1)]},Ab.F.inflate=function(e,t){var A=Uint8Array;if(3==e[0]&&0==e[1])return t||new A(0);var n=Ab.F,r=n._bitsF,i=n._bitsE,o=n._decodeTiny,a=n.makeCodes,s=n.codes2map,c=n._get17,u=n.U,g=null==t;g&&(t=new A(e.length>>>2<<3));for(var I,l,E,C,d=0,h=0,p=l=0,f=0;0==d;)if(d=r(e,f,1),I=r(e,f+1,2),f+=3,0==I)0!=(7&f)&&(f+=8-(7&f)),I=e[(f=4+(f>>>3))-4]|e[f-3]<<8,g&&(t=Ab.F._check(t,p+I)),t.set(new A(e.buffer,e.byteOffset+f,I),p),f=f+I<<3,p+=I;else{if(g&&(t=Ab.F._check(t,p+131072)),1==I&&(E=u.flmap,C=u.fdmap,h=511,l=31),2==I){for(l=i(e,f,5)+257,I=i(e,f+5,5)+1,E=i(e,f+10,4)+4,f+=14,C=0;38>C;C+=2)u.itree[C]=0,u.itree[C+1]=0;for(h=1,C=0;C<E;C++){var B=i(e,f+3*C,3);u.itree[1+(u.ordr[C]<<1)]=B,B>h&&(h=B)}f+=3*E,a(u.itree,h),s(u.itree,h,u.imap),E=u.lmap,C=u.dmap,f=o(u.imap,(1<<h)-1,l+I,e,f,u.ttree),h=(1<<(B=n._copyOut(u.ttree,0,l,u.ltree)))-1,l=(1<<(I=n._copyOut(u.ttree,l,I,u.dtree)))-1,a(u.ltree,B),s(u.ltree,B,E),a(u.dtree,I),s(u.dtree,I,C)}for(;;)if(f+=15&(I=E[c(e,f)&h]),0==(B=I>>>4)>>>8)t[p++]=B;else{if(256==B)break;I=p+B-254,264<B&&(I=p+((B=u.ldef[B-257])>>>3)+i(e,f,7&B),f+=7&B),f+=15&(B=C[c(e,f)&l]);var Q=((B=u.ddef[B>>>4])>>>4)+r(e,f,15&B);for(f+=15&B,g&&(t=Ab.F._check(t,p+131072));p<I;)t[p]=t[p++-Q],t[p]=t[p++-Q],t[p]=t[p++-Q],t[p]=t[p++-Q];p=I}}return t.length==p?t:t.slice(0,p)},Ab.F._check=function(e,t){var A=e.length;return t<=A?e:((t=new Uint8Array(Math.max(A<<1,t))).set(e,0),t)},Ab.F._decodeTiny=function(e,t,A,n,r,i){for(var o=Ab.F._bitsE,a=Ab.F._get17,s=0;s<A;){var c=e[a(n,r)&t];r+=15&c;var u=c>>>4;if(15>=u)i[s]=u,s++;else{var g=c=0;for(16==u?(g=3+o(n,r,2),r+=2,c=i[s-1]):17==u?(g=3+o(n,r,3),r+=3):18==u&&(g=11+o(n,r,7),r+=7),u=s+g;s<u;)i[s]=c,s++}}return r},Ab.F._copyOut=function(e,t,A,n){for(var r=0,i=0,o=n.length>>>1;i<A;){var a=e[i+t];n[i<<1]=0,n[1+(i<<1)]=a,a>r&&(r=a),i++}for(;i<o;)n[i<<1]=0,n[1+(i<<1)]=0,i++;return r},Ab.F.makeCodes=function(e,t){var A,n,r=Ab.F.U,i=e.length,o=r.bl_count;for(A=0;A<=t;A++)o[A]=0;for(A=1;A<i;A+=2)o[e[A]]++;for(r=r.next_code,A=0,o[0]=0,n=1;n<=t;n++)A=A+o[n-1]<<1,r[n]=A;for(t=0;t<i;t+=2)0!=(o=e[t+1])&&(e[t]=r[o],r[o]++)},Ab.F.codes2map=function(e,t,A){for(var n=e.length,r=Ab.F.U.rev15,i=0;i<n;i+=2)if(0!=e[i+1]){var o=e[i+1],a=i>>1<<4|o,s=t-o;for(s=(o=e[i]<<s)+(1<<s);o!=s;)A[r[o]>>>15-t]=a,o++}},Ab.F.revCodes=function(e,t){for(var A=Ab.F.U.rev15,n=15-t,r=0;r<e.length;r+=2)e[r]=A[e[r]<<t-e[r+1]]>>>n},Ab.F._putsE=function(e,t,A){A<<=7&t,e[t>>>=3]|=A,e[t+1]|=A>>>8},Ab.F._putsF=function(e,t,A){A<<=7&t,e[t>>>=3]|=A,e[t+1]|=A>>>8,e[t+2]|=A>>>16},Ab.F._bitsE=function(e,t,A){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<A)-1},Ab.F._bitsF=function(e,t,A){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<A)-1},Ab.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},Ab.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},Ab.F.U=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}(),function(){function e(e,t,A){for(;0!=t--;)e.push(0,A)}for(var t=Ab.F.U,A=0;32768>A;A++){var n=A;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,t.rev15[A]=(n>>>16|n<<16)>>>17}for(A=0;32>A;A++)t.ldef[A]=t.of0[A]<<3|t.exb[A],t.ddef[A]=t.df0[A]<<4|t.dxb[A];e(t.fltree,144,8),e(t.fltree,112,9),e(t.fltree,24,7),e(t.fltree,8,8),Ab.F.makeCodes(t.fltree,9),Ab.F.codes2map(t.fltree,9,t.flmap),Ab.F.revCodes(t.fltree,9),e(t.fdtree,32,5),Ab.F.makeCodes(t.fdtree,5),Ab.F.codes2map(t.fdtree,5,t.fdmap),Ab.F.revCodes(t.fdtree,5),e(t.itree,19,0),e(t.ltree,286,0),e(t.dtree,30,0),e(t.ttree,320,0)}();var cX=Ab.inflate,VI=new Map,fE=function(){var e=new Date;return"".concat(e.toISOString().split("T")[1].replace(/\..+/,""),".").concat(e.getMilliseconds())},ow=Object.keys,mw=Object.entries.bind(Object),Wb={initRTM:"initRTM",login:"login",logout:"logout",renewToken:"renewToken",updateConfig:"updateConfig",publish:"publish",subscribe:"subscribe",unsubscribe:"unsubscribe",createStreamChannel:"createStreamChannel",leave:"leave",joinTopic:"joinTopic",join:"join",publishTopicMessage:"publishTopicMessage",leaveTopic:"leaveTopic",subscribeTopic:"subscribeTopic",unsubscribeTopic:"unsubscribeTopic",getSubscribedUserList:"getSubscribedUserList",setChannelMetadata:"setChannelMetadata",getChannelMetadata:"getChannelMetadata",removeChannelMetadata:"removeChannelMetadata",updateChannelMetadata:"updateChannelMetadata",setUserMetadata:"setUserMetadata",getUserMetadata:"getUserMetadata",removeUserMetadata:"removeUserMetadata",updateUserMetadata:"updateUserMetadata",subscribeUserMetadata:"subscribeUserMetadata",unsubscribeUserMetadata:"unsubscribeUserMetadata",setLock:"setLock",removeLock:"removeLock",acquireLock:"acquireLock",releaseLock:"releaseLock",revokeLock:"revokeLock",getLock:"getLock",rtm:"rtm",presenceSetState:"presenceSetState",whereNow:"whereNow",whoNow:"whoNow",presenceGetState:"presenceGetState",presenceRemoveState:"presenceRemoveState",storage:"storage"},dX=function(){function e(t){zb(this,e),na(this,"view",void 0),na(this,"offset",void 0),this.view=new DataView(t),this.offset=0}return Ib(e,[{key:"getString",value:function(){var e=this.view.getUint16(this.offset,!0);this.offset+=2;var t=new Uint8Array(this.view.buffer,this.offset,e);return this.offset+=e,(new TextDecoder).decode(t)}},{key:"getUint32",value:function(){var e=this.view.getUint32(this.offset,!0);return this.offset+=4,e}},{key:"getUint16",value:function(){var e=this.view.getUint16(this.offset,!0);return this.offset+=2,e}},{key:"pack",value:function(){return this.view.buffer.slice(this.offset)}}]),e}(),Jg;!function(e){e[e.kOk=0]="kOk",e[e.kFail=1]="kFail",e[e.kTimestampExpired=2]="kTimestampExpired",e[e.kChannelPermissionInvalid=3]="kChannelPermissionInvalid",e[e.kCertificateInvalid=4]="kCertificateInvalid",e[e.kChannelNameEmpty=5]="kChannelNameEmpty",e[e.kChannelNotFound=6]="kChannelNotFound",e[e.kTicketInvalid=7]="kTicketInvalid",e[e.kChannelConflicted=8]="kChannelConflicted",e[e.kServiceNotReady=9]="kServiceNotReady",e[e.kServiceTooHeavy=10]="kServiceTooHeavy",e[e.kRejoined=11]="kRejoined",e[e.kNoNeedToChange=13]="kNoNeedToChange",e[e.kUidBanned=14]="kUidBanned",e[e.kIpBanned=15]="kIpBanned",e[e.kChannelBanned=16]="kChannelBanned",e[e.kTicketParseError=17]="kTicketParseError",e[e.kTicketIllegalLength=18]="kTicketIllegalLength",e[e.kTicketNotAuth=19]="kTicketNotAuth",e[e.kTicketUnknownVersion=20]="kTicketUnknownVersion",e[e.kLoginedFromRemote=21]="kLoginedFromRemote",e[e.kGwychFailed=23]="kGwychFailed",e[e.kTooManyBroadcasters=24]="kTooManyBroadcasters",e[e.kServerDown=25]="kServerDown",e[e.kResourceHeldByOther=26]="kResourceHeldByOther",e[e.kRtm2GwychFailed=27]="kRtm2GwychFailed",e[e.kAutoRebalance=28]="kAutoRebalance",e[e.kBannedForExceedingQuota=101]="kBannedForExceedingQuota",e[e.kRequestPending=65535]="kRequestPending",e[e.kVoid=1e4]="kVoid",e[e.kConnectionTimeout=10001]="kConnectionTimeout",e[e.kInvalidPacket=10002]="kInvalidPacket",e[e.kAlreadyJoined=10003]="kAlreadyJoined",e[e.kJoinTimeout=10004]="kJoinTimeout",e[e.kRejoinFailed=10005]="kRejoinFailed",e[e.kJoinTooFrequently=10006]="kJoinTooFrequently",e[e.kCompressionMethodUnrecognized=10007]="kCompressionMethodUnrecognized",e[e.kUserNotFound=10008]="kUserNotFound",e[e.kUserInstanceConflict=10009]="kUserInstanceConflict",e[e.kContentOversized=10010]="kContentOversized",e[e.kRequestTooFrequently=10011]="kRequestTooFrequently",e[e.kDamagedPacket=10012]="kDamagedPacket",e[e.kInvalidRequestParameters=10013]="kInvalidRequestParameters",e[e.kServerInternalError=10014]="kServerInternalError",e[e.kContentNotFound=10015]="kContentNotFound",e[e.kIncompatible=10016]="kIncompatible",e[e.kEdgeInDegradation=10017]="kEdgeInDegradation",e[e.kUserBannedByRule=10018]="kUserBannedByRule",e[e.kUserBannedByAuth=10019]="kUserBannedByAuth",e[e.kGroupUserBannedByAuth=10020]="kGroupUserBannedByAuth",e[e.kConsoleConfigNotFound=10021]="kConsoleConfigNotFound",e[e.kUserRejectedByConsoleConfig=10022]="kUserRejectedByConsoleConfig",e[e.kTest1=11001]="kTest1",e[e.kTest2=11002]="kTest2",e[e.kTest3=11003]="kTest3"}(Jg||(Jg={}));var GO=Gj,C3=Sc((function(){GO(1)}));qc({target:"Object",stat:!0,forced:!Nd||C3,sham:!Nd},{getOwnPropertyDescriptor:function(e,t){return GO(Rh(e),t)}});var gE=nk("Reflect","apply"),D3=Function.apply,E3=!Sc((function(){gE((function(){}))}));qc({target:"Reflect",stat:!0,forced:E3},{apply:function(e,t,A){return pk(e),Pe(A),gE?gE(e,t,A):D3.call(e,t,A)}});var F3=Math.ceil,G3=Math.floor;qc({target:"Math",stat:!0},{trunc:function(e){return(0<e?G3:F3)(e)}}),qc({target:"Object",stat:!0,forced:Object.assign!==Vt},{assign:Vt});var H3=!!Xl&&Sc((function(){Xl.prototype.finally.call({then:function(){}},(function(){}))}));if(qc({target:"Promise",proto:!0,real:!0,forced:H3},{finally:function(e){var t=en(this,nk("Promise")),A="function"==typeof e;return this.then(A?function(A){return TC(t,e()).then((function(){return A}))}:e,A?function(A){return TC(t,e()).then((function(){throw A}))}:e)}}),"function"==typeof Xl){var HO=nk("Promise").prototype.finally;Xl.prototype.finally!==HO&&mf(Xl.prototype,"finally",HO,{unsafe:!0})}var hE=function(e){return Sc((function(){return!!"\t\n\v\f\r \u2028\u2029\ufeff"[e]()||""!=""[e]()||"\t\n\v\f\r \u2028\u2029\ufeff"[e].name!==e}))};qc({target:"String",proto:!0,forced:hE("trim")},{trim:function(){return Uw(this)}});var I3=Sc((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));qc({target:"Date",proto:!0,forced:I3},{toJSON:function(e){e=Tf(this);var t=Zk(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}}),qc({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}}),qc({target:"String",proto:!0,forced:cM},{padStart:function(e){return P_(this,e,1<arguments.length?arguments[1]:void 0)}}),qc({target:"Object",stat:!0,sham:!Nd},{getOwnPropertyDescriptors:function(e){e=Rh(e);for(var t,A,n=Gj,r=VB(e),i={},o=0;r.length>o;)void 0!==(A=n(e,t=r[o++]))&&Po(i,t,A);return i}}),qc({target:"Array",proto:!0},{fill:aD}),Xm("fill"),qc({target:"ArrayBuffer",stat:!0,forced:!Tq},{isView:function(e){return!!Hd(e)&&("DataView"===(e=Oo(e))||Kc(vk,e)||Kc(zM,e))}});var IO=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};Tw("search",1,(function(e,t,A){return[function(t){var A=Qh(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,A):new RegExp(t)[e](String(A))},function(e){var n=A(t,e,this);if(n.done)return n.value;e=Pe(e);var r=String(this);return n=e.lastIndex,IO(n,0)||(e.lastIndex=0),r=Nq(e,r),IO(e.lastIndex,n)||(e.lastIndex=n),null===r?-1:r.index}]}));var JO=!0;"findIndex"in[]&&Array(1).findIndex((function(){JO=!1})),qc({target:"Array",proto:!0,forced:JO},{findIndex:function(e){return fC(this,e,1<arguments.length?arguments[1]:void 0)}}),Xm("findIndex"),qc({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),hn("Float32",(function(e){return function(t,A,n){return e(this,t,A,n)}}));var J3=Math.log,K3=Math.LOG10E;qc({target:"Math",stat:!0},{log10:function(e){return J3(e)*K3}}),BM("from",gD,fD),hn("Int32",(function(e){return function(t,A,n){return e(this,t,A,n)}})),qc({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var L3=ec.isFinite;qc({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&L3(e)}});var M3=Math.floor;qc({target:"Number",stat:!0},{isInteger:function(e){return!Hd(e)&&isFinite(e)&&M3(e)===e}});var Lh=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}($c((function(e,t){e.exports=function(){function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(A){if("default"!==A&&!(A in e)){var n=Object.getOwnPropertyDescriptor(t,A);Object.defineProperty(e,A,n.get?n:{enumerable:!0,get:function(){return t[A]}})}}))})),Object.freeze(e)}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function A(e,t,A){return(e=e.match(t))&&e.length>=A&&parseInt(e[A],10)}function n(e,t,A){if(e.RTCPeerConnection){var n=(e=e.RTCPeerConnection.prototype).addEventListener;e.addEventListener=function(e,r){if(e!==t)return n.apply(this,arguments);var i=function(e){(e=A(e))&&(r.handleEvent?r.handleEvent(e):r(e))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,i),n.apply(this,[e,i])};var r=e.removeEventListener;e.removeEventListener=function(e,A){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(A))return r.apply(this,arguments);var n=this._eventMap[t].get(A);return this._eventMap[t].delete(A),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,r.apply(this,[e,n])},Object.defineProperty(e,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function r(e){return"boolean"!=typeof e?Error("Argument type: "+ub(e)+". Please use a boolean."):(zs=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function i(e){return"boolean"!=typeof e?Error("Argument type: "+ub(e)+". Please use a boolean."):(Zs=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function o(){"object"!=("undefined"==typeof window?"undefined":ub(window))||zs||"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}function a(e,t){Zs&&console.warn(e+" is deprecated, please use "+t+" instead.")}function s(e){return"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).reduce((function(t,A){var n="[object Object]"===Object.prototype.toString.call(e[A]),r=n?s(e[A]):e[A];return n=n&&!Object.keys(r).length,void 0===r||n?t:Object.assign(t,na({},A,r))}),{}):e}function c(e,t,A){t&&!A.has(t.id)&&(A.set(t.id,t),Object.keys(t).forEach((function(n){n.endsWith("Id")?c(e,e.get(t[n]),A):n.endsWith("Ids")&&t[n].forEach((function(t){c(e,e.get(t),A)}))})))}function u(e,t,A){var n=A?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;var i=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((function(t){e.forEach((function(A){A.type===n&&A.trackId===t.id&&c(e,A,r)}))})),r}function g(e,t){var A=e&&e.navigator;if(A.mediaDevices){var n=function(e){if("object"!=ub(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(A){if("require"!==A&&"advanced"!==A&&"mediaSource"!==A){var n="object"==ub(e[A])?e[A]:{ideal:e[A]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var i={};"number"==typeof n.ideal?(i[r("min",A)]=n.ideal,t.optional.push(i),(i={})[r("max",A)]=n.ideal,t.optional.push(i)):(i[r("",A)]=n.ideal,t.optional.push(i))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",A)]=n.exact):["min","max"].forEach((function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,A)]=n[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(61<=t.version)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==ub(e.audio)){var i=function(e,t,A){t in e&&!(A in e)&&(e[A]=e[t],delete e[t])};i((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),i(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==ub(e.video)){var o,a=e.video.facingMode;if(a=a&&("object"==ub(a)?a:{ideal:a}),i=66>t.version,!(!a||"user"!==a.exact&&"environment"!==a.exact&&"user"!==a.ideal&&"environment"!==a.ideal||A.mediaDevices.getSupportedConstraints&&A.mediaDevices.getSupportedConstraints().facingMode&&!i)&&(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?o=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(o=["front"]),o))return A.mediaDevices.enumerateDevices().then((function(t){var A=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return o.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!A&&t.length&&o.includes("back")&&(A=t[t.length-1]),A&&(e.video.deviceId=a.exact?{exact:A.deviceId}:{ideal:A.deviceId}),e.video=n(e.video),$s("chrome: "+JSON.stringify(e)),r(e)}));e.video=n(e.video)}return $s("chrome: "+JSON.stringify(e)),r(e)},i=function(e){return 64<=t.version?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(A.getUserMedia=function(e,t,n){r(e,(function(e){A.webkitGetUserMedia(e,t,(function(e){n&&n(i(e))}))}))}.bind(A),A.mediaDevices.getUserMedia){var o=A.mediaDevices.getUserMedia.bind(A.mediaDevices);A.mediaDevices.getUserMedia=function(e){return r(e,(function(e){return o(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(i(e))}))}))}}}}function I(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function l(e){if("object"!=ub(e)||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)n(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var A=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(n){var r=e.RTCPeerConnection.prototype.getReceivers?A.getReceivers().find((function(e){return e.track&&e.track.id===n.track.id})):{track:n.track},i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],A.dispatchEvent(i)})),t.stream.getTracks().forEach((function(n){var r=e.RTCPeerConnection.prototype.getReceivers?A.getReceivers().find((function(e){return e.track&&e.track.id===n.id})):{track:n},i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],A.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function E(e){if("object"==ub(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var A=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var r=A.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var A=this;this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((function(e){A._senders.push(t(A,e))}))};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){var A=t._senders.find((function(t){return t.track===e}));A&&t._senders.splice(t._senders.indexOf(A),1)}))}}else if("object"==ub(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function C(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,A=Array.prototype.slice.call(arguments),n=A[0],r=A[1];if(A=A[2],0<arguments.length&&"function"==typeof n)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof n))return t.apply(this,[]);var i=function(e){var t={};return e.result().forEach((function(e){var A={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){A[t]=e.stat(t)})),t[A.id]=A})),t},o=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return 2<=arguments.length?t.apply(this,[function(e){r(o(i(e)))},n]):new Promise((function(A,n){t.apply(e,[function(e){A(o(i(e)))},n])})).then(r,A)}}}function d(e){if("object"==ub(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,A=t.apply(this,[]);return A.forEach((function(t){return t._pc=e})),A});var A=e.RTCPeerConnection.prototype.addTrack;A&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=A.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return u(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),n(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return u(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(0<arguments.length&&arguments[0]instanceof e.MediaStreamTrack){var t,A,n,r=arguments[0];return this.getSenders().forEach((function(e){e.track===r&&(t?n=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===r&&(A?n=!0:A=e),e.track===r})),n||t&&A?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():A?A.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function h(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,A){if(!A)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[A.id]?-1===this._shimmedLocalStreams[A.id].indexOf(n)&&this._shimmedLocalStreams[A.id].push(n):this._shimmedLocalStreams[A.id]=[A,n],n};var A=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=this.getSenders();A.apply(this,arguments);var r=this.getSenders().filter((function(e){return-1===n.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(r)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(A){var n=t._shimmedLocalStreams[A].indexOf(e);-1!==n&&t._shimmedLocalStreams[A].splice(n,1),1===t._shimmedLocalStreams[A].length&&delete t._shimmedLocalStreams[A]})),r.apply(this,arguments)}}function p(e,t){function A(e,t){var A=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){t=e._reverseStreams[t],A=A.replace(new RegExp(e._streams[t.id].id,"g"),t.id)})),new RTCSessionDescription({type:t.type,sdp:A})}if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&65<=t.version)return h(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var A=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(A.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,A){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");return this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},(r=this._streams[A.id])?(r.addTrack(t),Promise.resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}))):(r=new e.MediaStream([t]),this._streams[A.id]=r,this._reverseStreams[r.id]=A,this.addStream(r)),this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=na({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){n=A(e,n),t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return A(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,A=(t=arguments[0]).sdp,Object.keys(e._reverseStreams||[]).forEach((function(t){t=e._reverseStreams[t],A=A.replace(new RegExp(t.id,"g"),e._streams[t.id].id)})),new RTCSessionDescription({type:t.type,sdp:A})),o.apply(this,arguments)):o.apply(this,arguments);var e,t,A};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:A(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,A=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(n){A._streams[n].getTracks().find((function(t){return e.track===t}))&&(t=A._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}}function f(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&53>t.version&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var A=e.RTCPeerConnection.prototype[t],n=na({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),A.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}))}function B(e,t){n(e,"negotiationneeded",(function(e){var A=e.target;if(!(72>t.version||A.getConfiguration&&"plan-b"===A.getConfiguration().sdpSemantics)||"stable"===A.signalingState)return e}))}function Q(e,t){var A=e&&e.navigator;if(e=e&&e.MediaStreamTrack,A.getUserMedia=function(e,t,n){a("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),A.mediaDevices.getUserMedia(e).then(t,n)},!(55<t.version&&"autoGainControl"in A.mediaDevices.getSupportedConstraints())){var n=function(e,t,A){t in e&&!(A in e)&&(e[A]=e[t],delete e[t])},r=A.mediaDevices.getUserMedia.bind(A.mediaDevices);if(A.mediaDevices.getUserMedia=function(e){return"object"==ub(e)&&"object"==ub(e.audio)&&(e=JSON.parse(JSON.stringify(e)),n(e.audio,"autoGainControl","mozAutoGainControl"),n(e.audio,"noiseSuppression","mozNoiseSuppression")),r(e)},e&&e.prototype.getSettings){var i=e.prototype.getSettings;e.prototype.getSettings=function(){var e=i.apply(this,arguments);return n(e,"mozAutoGainControl","autoGainControl"),n(e,"mozNoiseSuppression","noiseSuppression"),e}}if(e&&e.prototype.applyConstraints){var o=e.prototype.applyConstraints;e.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==ub(e)&&(e=JSON.parse(JSON.stringify(e)),n(e,"autoGainControl","mozAutoGainControl"),n(e,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[e])}}}}function y(e){"object"==ub(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function v(e,t){if("object"==ub(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),53>t.version&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var A=e.RTCPeerConnection.prototype[t],n=na({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),A.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=n[t]}));var A={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),r=e[1],i=e[2];return n.apply(this,[e[0]||null]).then((function(e){if(53>t.version&&!r)try{e.forEach((function(e){e.type=A[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:A[t.type]||t.type}))}))}return e})).then(r,i)}}}function m(e){if("object"==ub(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,A=t.apply(this,[]);return A.forEach((function(t){return t._pc=e})),A});var A=e.RTCPeerConnection.prototype.addTrack;A&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=A.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function _(e){if("object"==ub(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,A=t.apply(this,[]);return A.forEach((function(t){return t._pc=e})),A}),n(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function b(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;a("removeStream","removeTrack"),this.getSenders().forEach((function(A){A.track&&e.getTracks().includes(A.track)&&t.removeTrack(A)}))})}function R(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function S(e){if("object"==ub(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);var A=0<(e=rb(e)).length;A&&e.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(1<=parseFloat(e.scaleResolutionDownBy)))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(0<=parseFloat(e.maxFramerate)))throw new RangeError("max_framerate must be >= 0.0")}));var n=t.apply(this,arguments);if(A){var r=n.sender;"encodings"in(A=r.getParameters())&&(1!==A.encodings.length||0!==Object.keys(A.encodings[0]).length)||(A.encodings=e,r.sendEncodings=e,this.setParametersPromises.push(r.setParameters(A).then((function(){delete r.sendEncodings})).catch((function(){delete r.sendEncodings}))))}return n})}}function w(e){if("object"==ub(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function D(e){if("object"==ub(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,A=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(A,e)})).finally((function(){A.setParametersPromises=[]})):t.apply(this,arguments)}}}function k(e){if("object"==ub(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,A=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(A,e)})).finally((function(){A.setParametersPromises=[]})):t.apply(this,arguments)}}}function N(e){if("object"==ub(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var A=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(n){return t.call(A,n,e)})),e.getVideoTracks().forEach((function(n){return t.call(A,n,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var A=this,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((function(e){A._localStreams?A._localStreams.includes(e)||A._localStreams.push(e):A._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var A=this._localStreams.indexOf(e);if(-1!==A){this._localStreams.splice(A,1);var n=e.getTracks();this.getSenders().forEach((function(e){n.includes(e.track)&&t.removeTrack(e)}))}})}}function T(e){if("object"==ub(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var A=new Event("addstream");A.stream=e,t.dispatchEvent(A)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(0<=e._remoteStreams.indexOf(t))){e._remoteStreams.push(t);var A=new Event("addstream");A.stream=t,e.dispatchEvent(A)}}))}),t.apply(e,arguments)}}}function L(e){if("object"==ub(e)&&e.RTCPeerConnection){var t=(e=e.RTCPeerConnection.prototype).createOffer,A=e.createAnswer,n=e.setLocalDescription,r=e.setRemoteDescription,i=e.addIceCandidate;e.createOffer=function(e,A){var n=t.apply(this,[2<=arguments.length?arguments[2]:arguments[0]]);return A?(n.then(e,A),Promise.resolve()):n},e.createAnswer=function(e,t){var n=A.apply(this,[2<=arguments.length?arguments[2]:arguments[0]]);return t?(n.then(e,t),Promise.resolve()):n};var o=function(e,t,A){return e=n.apply(this,[e]),A?(e.then(t,A),Promise.resolve()):e};e.setLocalDescription=o,o=function(e,t,A){return e=r.apply(this,[e]),A?(e.then(t,A),Promise.resolve()):e},e.setRemoteDescription=o,o=function(e,t,A){return e=i.apply(this,[e]),A?(e.then(t,A),Promise.resolve()):e},e.addIceCandidate=o}}function M(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var A=(e=t.mediaDevices).getUserMedia.bind(e);t.mediaDevices.getUserMedia=function(e){return A(U(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,A,n){t.mediaDevices.getUserMedia(e).then(A,n)}.bind(t))}function U(e){return e&&void 0!==e.video?Object.assign({},e,{video:s(e.video)}):e}function x(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,A){if(e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var i=e.iceServers[r];!i.hasOwnProperty("urls")&&i.hasOwnProperty("url")?(a("RTCIceServer.url","RTCIceServer.urls"),(i=JSON.parse(JSON.stringify(i))).urls=i.url,delete i.url,n.push(i)):n.push(e.iceServers[r])}e.iceServers=n}return new t(e,A)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function P(e){"object"==ub(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function G(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var A=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&A?"sendrecv"===A.direction?A.setDirection?A.setDirection("sendonly"):A.direction="sendonly":"recvonly"===A.direction&&(A.setDirection?A.setDirection("inactive"):A.direction="inactive"):!0!==e.offerToReceiveAudio||A||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo),A=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind})),!1===e.offerToReceiveVideo&&A?"sendrecv"===A.direction?A.setDirection?A.setDirection("sendonly"):A.direction="sendonly":"recvonly"===A.direction&&(A.setDirection?A.setDirection("inactive"):A.direction="inactive"):!0!==e.offerToReceiveVideo||A||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function F(e){"object"!=ub(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}function K(e){if(e.RTCIceCandidate&&(!e.RTCIceCandidate||!("foundation"in e.RTCIceCandidate.prototype))){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==ub(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var A=new t(e);e=ic.parseCandidate(e.candidate);var n=Object.assign(A,e);return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,n(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function Y(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||n(e,"icecandidate",(function(e){if(e.candidate){var t=ic.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function J(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var A=function(e){return!(!e||!e.sdp)&&((e=ic.splitSections(e.sdp)).shift(),e.some((function(e){return(e=ic.parseMLine(e))&&"application"===e.kind&&-1!==e.protocol.indexOf("SCTP")})))},n=function(e){return null===(e=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/))||2>e.length||(e=parseInt(e[1],10))!=e?-1:e},r=function(e){var A=65536;return"firefox"===t.browser&&(A=57>t.version?-1===e?16384:2147483637:60>t.version?57===t.version?65535:65536:2147483637),A},i=function(e,A){var n=65536;return"firefox"===t.browser&&57===t.version&&(n=65535),0<(e=ic.matchPrefix(e.sdp,"a=max-message-size:")).length?n=parseInt(e[0].substr(19),10):"firefox"===t.browser&&-1!==A&&(n=2147483637),n},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&76<=t.version&&"plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}),A(arguments[0])){var e=n(arguments[0]),a=r(e);e=i(arguments[0],e);var s=0===a&&0===e?Number.POSITIVE_INFINITY:0===a||0===e?Math.max(a,e):Math.min(a,e);a={},Object.defineProperty(a,"maxMessageSize",{get:function(){return s}}),this._sctp=a}return o.apply(this,arguments)}}}function q(e){function t(e,t){var A=e.send;e.send=function(){var n=arguments[0];if(n=n.length||n.size||n.byteLength,"open"===e.readyState&&t.sctp&&n>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return A.apply(e,arguments)}}if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var A=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=A.apply(this,arguments);return t(e,this),e},n(e,"datachannel",(function(e){return t(e.channel,e.target),e}))}}function H(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var A=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var A=new Event("connectionstatechange",e);t.dispatchEvent(A)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),A.apply(this,arguments)}}))}}function j(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&71<=t.version||"safari"===t.browser&&605<=t.version)){var A=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var n=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return A.apply(this,arguments)}}}function W(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var A=e.RTCPeerConnection.prototype.addIceCandidate;A&&0!==A.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&78>t.version||"firefox"===t.browser&&68>t.version||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():A.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}function X(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var A=e.RTCPeerConnection.prototype.setLocalDescription;A&&0!==A.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this,t=arguments[0]||{};if("object"!=ub(t)||t.type&&t.sdp)return A.apply(this,arguments);if(!(t={type:t.type,sdp:t.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer"}return t.sdp||"offer"!==t.type&&"answer"!==t.type?A.apply(this,[t]):("offer"===t.type?this.createOffer:this.createAnswer).apply(this).then((function(t){return A.apply(e,[t])}))})}}function z(e){return(z="function"==typeof pI&&"symbol"==ub(RI)?function(e){return ub(e)}:function(e){return e&&"function"==typeof pI&&e.constructor===pI&&e!==pI.prototype?"symbol":ub(e)})(e)}function Z(e,t,A){var n=t;e:if("object"===z(n)&&null!==n){var r=n[SI];if(void 0!==r){if("object"!==z(n=r.call(n,"string")))break e;throw new TypeError("@@toPrimitive must return a primitive value.")}n=String(n)}return(t="symbol"===z(n)?n:String(n))in e?Ic(e,t,{value:A,enumerable:!0,configurable:!0,writable:!0}):e[t]=A,e}function $(){var e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:lC};return e.promise=new IC((function(t,A){e.resolve=function(A){e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(A),e.value=A)},e.reject=function(t){e.isFinished||(e.isRejected=!0,e.isFinished=!0,A(t))}})),e}function ee(e){if(!QC){e&&fC.setUA(e),e=function(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return uC.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return uC.CHROME;case"Safari":case"Mobile Safari":return uC.SAFARI;case"Edge":return uC.EDGE;case"Firefox":return uC.FIREFOX;case"QQBrowser":return uC.QQ;case"Opera":return uC.OPERA;case"WeChat":return uC.WECHAT;default:return e.browser.name||""}}(BC=fC.getResult());var t=("Blink"===BC.engine.name?BC.engine.version||"":BC.browser.version||"").split(".")[0],A="Windows"===BC.os.name?BC.os.version?BC.os.name+" "+BC.os.version:BC.os.name:BC.os.name||"",n=BC.os.version;if(!(e&&t&&A&&n))return{name:e,version:t,os:A,osVersion:n};QC={name:e,version:t,os:A,osVersion:n}}return QC}function te(){var e=ee();return"".concat(e.os," ").concat(e.osVersion)}function Ae(){var e=ee();return!!("WebKit"===BC.engine.name&&e.os===cC.MAC_OS&&navigator.maxTouchPoints&&0<navigator.maxTouchPoints&&e.name!==uC.SAFARI||ae()&&e.name!==uC.SAFARI)}function ne(){var e=ee();return!(!Ae()||!(e.os===cC.MAC_OS||e.os===cC.IOS&&((e=BC.os.version&&BC.os.version.split("."))&&14===Number(e[0])&&e[1]&&3<=Number(e[1])||e&&14<Number(e[0]))))}function re(){return ee().name===uC.CHROME}function ie(){return ee().name===uC.SAFARI}function oe(){return ee().name===uC.FIREFOX}function ae(){return ee().os===cC.IOS}function se(e){var t=ee();return!(t.name!==uC.CHROME||!t.osVersion)&&Number(t.version)>=e}function ce(e){var t=ee();return!(t.name!==uC.EDGE||!t.osVersion)&&Number(t.version)>=e}function ue(e){var t=ee();return!(t.name!==uC.OPERA||!t.osVersion)&&Number(t.version)>=e}function ge(){var e=ee();return!(e.name!==uC.CHROME||!e.osVersion)&&90>=Number(e.version)}function Ie(){var e=ee();return!(e.os!==cC.IOS||!e.osVersion)&&(e=e.osVersion.split("."),14>Number(e[0])||14===Number(e[0])&&6>=Number(e[1]))}function le(){var e=ee();return!(e.os!==cC.IOS||!e.osVersion)&&(e=e.osVersion.split("."),15===Number(e[0]))}function Ee(){var e=ee();return!(e.os!==cC.IOS||!e.osVersion)&&(e=e.osVersion.split("."),16===Number(e[0]))}function de(){var e=ee();return!(e.os!==cC.IOS||!e.osVersion)&&(e=e.osVersion.split("."),15===Number(e[0])&&1<=Number(e[1]))}function he(){return ie()&&0<navigator.maxTouchPoints}function pe(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&35>=window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]}function fe(){var e=ee();return e.name!==uC.EDGE&&e.name!==uC.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function Be(){var e=ee();return ee().os===cC.ANDROID&&(e.name===uC.CHROME||e.name===uC.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function Qe(e,t){if("boolean"!=typeof e)throw new mC(pC.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function ye(e,t,A){if(!Xs(A).call(A,e))throw new mC(pC.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(A)))}function ve(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1e4;if(e<A||e>n||!(4<arguments.length&&void 0!==arguments[4]&&!arguments[4]||"number"==typeof e&&0==e%1))throw new mC(pC.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(A,", ").concat(n,"]. integer only"))}function me(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new mC(pC.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&ve(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&ve(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&ve(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&ve(e.ideal,"".concat(t,".ideal"),1,1/0)}else ve(e,t,1,1/0)}function _e(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:255,r=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];if(null==e)throw new mC(pC.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!Re(e,A,n,r))throw new mC(pC.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(A,",").concat(n,"].").concat(r?" ASCII characters only.":""))}function be(e,t){if(!Array.isArray(e))throw new mC(pC.INVALID_PARAMS,"".concat(t," should be an array"))}function Re(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255,n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if(t="string"==typeof e&&e.length<=A&&e.length>=t){if(!(n=!n))e:if("string"!=typeof e)n=!1;else{for(n=0;n<e.length;n+=1)if(0>(t=e.charCodeAt(n))||255<t){n=!1;break e}n=!0}t=n}return t}function Se(e,t,A){if("getBigUint64"in DataView.prototype)return e.getBigUint64(t,A);var n=e.getUint32(t,A);return e=e.getUint32(t+4,A),t=Number(!!A),A=Number(!A),BigInt(n*A+e*t)<<BigInt(32)|BigInt(n*t+e*A)}function we(e,t,A,n){if("setBigUint64"in DataView.prototype)return e.setBigUint64(t,A,n);var r=Number(A>>BigInt(32));A=Number(A&BigInt(4294967295)),n?(e.setUint32(t+4,r,n),e.setUint32(t,A,n)):(e.setUint32(t,r,n),e.setUint32(t+4,A,n))}function De(e){return(new TextEncoder).encode(e)}function ke(){if(xC)return xC;if(window.electron)return xC=window.electron;if(!window.require)return null;try{return xC=window.require("electron")}catch(e){return null}}function Ne(e){return ve(e.timeout,"config.timeout",0,1e5),ve(e.timeoutFactor,"config.timeoutFactor",0,100,!1),ve(e.maxRetryCount,"config.maxRetryConfig",0,1/0),ve(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function Te(e){if(!Array.isArray(e)||1>e.length)return!1;try{e.forEach((function(e){if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function Oe(e){return _e(e.turnServerURL,"turnServerURL"),_e(e.username,"username"),_e(e.password,"password"),e.udpport&&ve(e.udpport,"udpport",1,99999,!0),e.forceturn&&Qe(e.forceturn,"forceturn"),e.security&&Qe(e.security,"security"),e.tcpport&&ve(e.tcpport,"tcpport",1,99999,!0),!0}function Le(e){return void 0!==e.level&&ye(e.level,"level",[1,2,3]),void 0!==e.delay&&ve(e.delay,"delay",0,3e3,!0),!0}function Me(e,t){for(var A=arguments.length,n=Array(2<A?A-2:0),r=2;r<A;r++)n[r-2]=arguments[r];return 0===e.getListeners(t).length?IC.reject(new mC(pC.UNEXPECTED_ERROR,"can not emit promise")):new IC((function(A,r){e.emit.apply(e,[t].concat(n,[A,r]))}))}function Ue(e,t){if(0===e.getListeners(t).length)return IC.resolve();for(var A=arguments.length,n=Array(2<A?A-2:0),r=2;r<A;r++)n[r-2]=arguments[r];return Me.apply(void 0,[e,t].concat(n))}function xe(e,t){if(0===e.getListeners(t).length)return null;for(var A=arguments.length,n=Array(2<A?A-2:0),r=2;r<A;r++)n[r-2]=arguments[r];return Pe.apply(void 0,[e,t].concat(n))}function Pe(e,t){for(var A=null,n=null,r=arguments.length,i=Array(2<r?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(e.emit.apply(e,[t].concat(i,[function(e){A=e},function(e){n=e}])),null!==n)throw n;if(null===A)throw new mC(pC.UNEXPECTED_ERROR,"handler is not sync");return A}function Ge(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Fe(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Ge(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Ke(e,t){-1!==(t=e.indexOf(t))&&e.splice(t,1)}function Ve(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}function Ye(e){void 0!==IC?IC.resolve().then(e):setTimeout(e,0)}function Je(e){return JSON.parse(JSON.stringify(e))}function qe(e){try{return Je(e)}catch(t){return e}}function He(e,t){jC[t]||(jC[t]=!0,e())}function We(e){e=window.atob(e);for(var t=new Uint8Array(new ArrayBuffer(e.length)),A=0;A<e.length;A+=1)t[A]=e.charCodeAt(A);return t}function Xe(e){for(var t="",A=0;A<e.length;A+=1)t+=String.fromCharCode(e[A]);return window.btoa(t)}function ze(){for(var e=arguments.length,t=Array(e),A=0;A<e;A++)t[A]=arguments[A];e=HC(t).call(t,(function(e,t){return e+t.length}),0);var n=new Uint8Array(new ArrayBuffer(e)),r=0;return t.forEach((function(e){n.set(e,r),r+=e.length})),n}function Ze(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function $e(e){var t=0;return/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((function(e){t+="string"==typeof e?Ze(e):e.size})),t+138}function et(e){var t=new mC(pC.TIMEOUT,"timeout");return new IC((function(A,n){window.setTimeout((function(){return n(t)}),e)}))}function tt(e){return new IC((function(t){window.setTimeout(t,e)}))}function At(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:7,t=1<arguments.length?arguments[1]:void 0,A=Math.random().toString(16).substr(2,e).toLowerCase();return A.length===e?"".concat(t).concat(A):"".concat(t).concat(A)+At(e-A.length,"")}function nt(e){return"object"==ub(e)&&null!==e&&!(e instanceof RegExp)}function rt(e,t){if(!nt(e)||!nt(t)||Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){for(var A=rb(e),n=0;n<t.length;n++)A[n]=rt(e[n],t[n]);return A}for(n in A=Fe({},e),t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)?A[n]=rt(e[n],t[n]):A[n]=t[n]);return A}function it(e,t){var A=[0];if(t&&(A=Array(t).fill(0)),0===e)return A;for(var n=0;0<e&&(A[n]=255&e,e>>=8,n++,!t||n!==t););return A}function ot(e,t){return function(A,n,r){var i=r.value;if("function"!=typeof i)throw Error("Cannot use mutex on object property.");return r.value=pa(O.mark((function A(){var r,o,a,s,c,u=arguments;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(r=this[t]){A.next=3;break}throw Error("mutex property key ".concat(t," doesn't exist on ").concat(e));case 3:return A.next=5,r.lock("From ".concat(e,".").concat(n));case 5:for(o=A.sent,A.prev=6,a=u.length,s=Array(a),c=0;c<a;c++)s[c]=u[c];return A.next=10,i.apply(this,s);case 10:return A.abrupt("return",A.sent);case 11:return A.prev=11,o(),A.finish(11);case 14:case"end":return A.stop()}}),A,this,[[6,,11,14]])}))),r}}function at(e,t){return Math.min(t.maxRetryTimeout,Math.floor(t.timeout*Math.pow(t.timeoutFactor,e)))}function st(e,t,A,n){var r,i=Object.assign({},td,n),o=i.timeout,a=(r=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return new IC((function(t){window.setTimeout(t,e)}))}(o);case 2:o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o);case 4:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),s=!1;return(n=new IC(function(){var n=pa(O.mark((function n(r,o){var c,u;return O.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=t||function(){return!1},A=A||function(){return!0},c=0;case 2:if(!(c<i.maxRetryCount)){n.next=28;break}if(!s){n.next=5;break}return n.abrupt("return",o(new mC(pC.OPERATION_ABORTED)));case 5:return n.prev=5,n.next=8,e();case 8:if(u=n.sent,t(u,c)){n.next=11;break}return n.abrupt("return",r(u));case 11:if(c+1!==i.maxRetryCount){n.next=13;break}return n.abrupt("return",r(u));case 13:return n.next=15,a();case 15:n.next=25;break;case 17:if(n.prev=17,n.t0=n.catch(5),A(n.t0,c)){n.next=21;break}return n.abrupt("return",o(n.t0));case 21:if(c+1!==i.maxRetryCount){n.next=23;break}return n.abrupt("return",o(n.t0));case 23:return n.next=25,a();case 25:c+=1,n.next=2;break;case 28:case"end":return n.stop()}}),n,null,[[5,17]])})));return function(e,t){return n.apply(this,arguments)}}())).cancel=function(){return s=!0},n}function ct(e){return e=e.toLowerCase(),function(t){return od(t)===e}}function ut(e){return Array.isArray(e)}function gt(e){return void 0===e}function It(e){return null!==e&&"object"==ub(e)}function lt(e){return"object"===od(e)&&(null===(e=Object.getPrototypeOf(e))||e===Object.prototype)}function Et(e){return"[object Function]"===id.call(e)}function Ct(e,t){if(null!=e)if("object"!=ub(e)&&(e=[e]),ut(e))for(var A=0,n=e.length;A<n;A++)t.call(null,e[A],A,e);else for(A in e)Object.prototype.hasOwnProperty.call(e,A)&&t.call(null,e[A],A,e)}function dt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ht(){this.handlers=[]}function pt(){function e(e,t,A,n,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),A&&(this.config=A),n&&(this.request=n),r&&(this.response=r)}if(fd)return pd;fd=1;var t=Ed;t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var A=e.prototype,n={};return"ERR_BAD_OPTION_VALUE ERR_BAD_OPTION ECONNABORTED ETIMEDOUT ERR_NETWORK ERR_FR_TOO_MANY_REDIRECTS ERR_DEPRECATED ERR_BAD_RESPONSE ERR_BAD_REQUEST ERR_CANCELED".split(" ").forEach((function(e){n[e]={value:e}})),Object.defineProperties(e,n),Object.defineProperty(A,"isAxiosError",{value:!0}),e.from=function(n,r,i,o,a,s){var c=Object.create(A);return t.toFlatObject(n,c,(function(e){return e!==Error.prototype})),e.call(c,n.message,r,i,o,a),c.name=n.name,s&&Object.assign(c,s),c},pd=e}function ft(){if(Qd)return Bd;Qd=1;var e=Ed;return Bd=function(t,A){function n(t){return null===t?"":e.isDate(t)?t.toISOString():e.isArrayBuffer(t)||e.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}A=A||new FormData;var r=[];return function t(i,o){if(e.isPlainObject(i)||e.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+o);r.push(i),e.forEach(i,(function(r,i){if(!e.isUndefined(r)){var a,s=o?o+"."+i:i;if(r&&!o&&"object"==ub(r))if(e.endsWith(i,"{}"))r=JSON.stringify(r);else if(e.endsWith(i,"[]")&&(a=e.toArray(r)))return void a.forEach((function(t){!e.isUndefined(t)&&A.append(s,n(t))}));t(r,s)}})),r.pop()}else A.append(o,n(i))}(t),A}}function Bt(){if(vd)return yd;vd=1;var e=pt();return yd=function(t,A,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?A(new e("Request failed with status code "+n.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}}function Qt(){if(_d)return md;_d=1;var e=Ed;return md=e.isStandardBrowserEnv()?{write:function(t,A,n,r,i,o){var a=[];a.push(t+"="+encodeURIComponent(A)),e.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),e.isString(r)&&a.push("path="+r),e.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){return(e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)")))?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}function yt(){if(Rd)return bd;Rd=1;var e=Ed,t="age authorization content-length content-type etag expires from host if-modified-since if-unmodified-since last-modified location max-forwards proxy-authorization referer retry-after user-agent".split(" ");return bd=function(A){var n,r,i,o={};return A?(e.forEach(A.split("\n"),(function(A){i=A.indexOf(":"),n=e.trim(A.substr(0,i)).toLowerCase(),r=e.trim(A.substr(i+1)),!n||o[n]&&0<=t.indexOf(n)||(o[n]="set-cookie"===n?(o[n]?o[n]:[]).concat([r]):o[n]?o[n]+", "+r:r)})),o):o}}function vt(){if(wd)return Sd;wd=1;var e=Ed;return Sd=e.isStandardBrowserEnv()?function(){function t(e){return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var A,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return A=t(window.location.href),function(n){return(n=e.isString(n)?t(n):n).protocol===A.protocol&&n.host===A.host}}():function(){return!0}}function mt(){function e(e){t.call(this,null==e?"canceled":e,t.ERR_CANCELED),this.name="CanceledError"}if(kd)return Dd;kd=1;var t=pt();return Ed.inherits(e,t,{__CANCEL__:!0}),Dd=e}function _t(){return Td||(Td=1,Nd=function(e){return(e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e))&&e[1]||""}),Nd}function bt(){if(Ld)return Od;Ld=1;var e=Ed,t=Bt(),A=Qt(),n=dd,r=Fd,i=yt(),o=vt(),a=Gd,s=pt(),c=mt(),u=_t();return Od=function(g){return new Promise((function(I,l){function E(){g.cancelToken&&g.cancelToken.unsubscribe(d),g.signal&&g.signal.removeEventListener("abort",d)}function C(){if(B){var e="getAllResponseHeaders"in B?i(B.getAllResponseHeaders()):null;t((function(e){I(e),E()}),(function(e){l(e),E()}),{data:f&&"text"!==f&&"json"!==f?B.response:B.responseText,status:B.status,statusText:B.statusText,headers:e,config:g,request:B}),B=null}}var d,h=g.data,p=g.headers,f=g.responseType;e.isFormData(h)&&e.isStandardBrowserEnv()&&delete p["Content-Type"];var B=new XMLHttpRequest;if(g.auth){var Q=g.auth.username||"",y=g.auth.password?unescape(encodeURIComponent(g.auth.password)):"";p.Authorization="Basic "+btoa(Q+":"+y)}Q=r(g.baseURL,g.url),B.open(g.method.toUpperCase(),n(Q,g.params,g.paramsSerializer),!0),B.timeout=g.timeout,"onloadend"in B?B.onloadend=C:B.onreadystatechange=function(){B&&4===B.readyState&&(0!==B.status||B.responseURL&&0===B.responseURL.indexOf("file:"))&&setTimeout(C)},B.onabort=function(){B&&(l(new s("Request aborted",s.ECONNABORTED,g,B)),B=null)},B.onerror=function(){l(new s("Network Error",s.ERR_NETWORK,g,B,B)),B=null},B.ontimeout=function(){var e=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded",t=g.transitional||a;g.timeoutErrorMessage&&(e=g.timeoutErrorMessage),l(new s(e,t.clarifyTimeoutError?s.ETIMEDOUT:s.ECONNABORTED,g,B)),B=null},e.isStandardBrowserEnv()&&(y=(g.withCredentials||o(Q))&&g.xsrfCookieName?A.read(g.xsrfCookieName):void 0)&&(p[g.xsrfHeaderName]=y),"setRequestHeader"in B&&e.forEach(p,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete p[t]:B.setRequestHeader(t,e)})),e.isUndefined(g.withCredentials)||(B.withCredentials=!!g.withCredentials),f&&"json"!==f&&(B.responseType=g.responseType),"function"==typeof g.onDownloadProgress&&B.addEventListener("progress",g.onDownloadProgress),"function"==typeof g.onUploadProgress&&B.upload&&B.upload.addEventListener("progress",g.onUploadProgress),(g.cancelToken||g.signal)&&(d=function(e){B&&(l(!e||e&&e.type?new c:e),B.abort(),B=null)},g.cancelToken&&g.cancelToken.subscribe(d),g.signal&&(g.signal.aborted?d():g.signal.addEventListener("abort",d))),h||(h=null),(Q=u(Q))&&-1===["http","https","file"].indexOf(Q)?l(new s("Unsupported protocol "+Q+":",s.ERR_BAD_REQUEST,g)):B.send(h)}))}}function Rt(e,t){!Kd.isUndefined(e)&&Kd.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function St(){return Xd?Wd:(Xd=1,Wd=function(e){return!(!e||!e.__CANCEL__)})}function wt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rh}function Dt(){return Zd?zd:(Zd=1,zd={version:"0.27.2"})}function kt(e){this.defaults=e,this.interceptors={request:new fh,response:new fh}}function Nt(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Tt(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Nt(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Ot(e,t,A,n){return new IC((function(r,i){t.responseType=t.responseType||"json",t.data&&!A?(t.data=JSON.stringify(t.data),Ze(t.data)):A&&(t.data.size?t.data.size:t.data instanceof FormData?$e(t.data):Ze(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,wh.request(t).then((function(e){"string"==typeof e.data?Ze(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?e.data.byteLength:Ze(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((function(e){wh.isCancel(e)?i(new mC(pC.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?i(new mC(pC.NETWORK_TIMEOUT,e.message)):e.response?i(new mC(pC.NETWORK_RESPONSE_ERROR,e.response.status)):i(new mC(pC.NETWORK_ERROR,e.message))}))}))}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Blob([A.data],{type:"buffer"}),e.next=3,Ot(t,Tt(Tt({},A),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e,t,A){var n,r;Xs(n=Object.keys(Th)).call(n,e)&&(!A&&Xs(r=Object.keys(Oh)).call(r,e)||(Th[e]=t,"ENABLE_VIDEO_SEI"===e&&!0===t&&(Th.ENABLE_ENCODED_TRANSFORM=!0)))}function xt(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Pt(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):xt(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Gt(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function Ft(){var e=new Date,t=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+":"+e.getUTCMilliseconds():e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function Kt(e){return _e(e.reportId,"params.reportId",0,100,!1),_e(e.category,"params.category",0,100,!1),_e(e.event,"params.event",0,100,!1),_e(e.label,"params.label",0,100,!1),ve(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}function Vt(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Yt(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Vt(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Jt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t,A,n){var r=n.value;if("function"==typeof r){var i=e.className||t.__className__||("AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name);n.value=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];if(t=n,e.argsMap)try{t=e.argsMap.apply(e,[this].concat(n))}catch(e){qh.warning(e),t=[]}try{JSON.stringify(t)}catch(e){qh.warning("arguments for method ".concat(i,".").concat(String(A)," not serializable for apiInvoke.")),t=[]}var a=(e.report||$h).reportApiInvoke(this._sessionId||null,{name:"".concat(i,".").concat(String(A)),options:t,tag:bC.TRACER,reportResult:e.reportResult},e.throttleTime);try{var s=r.apply(this,n);return s instanceof IC?s.then((function(t){return a.onSuccess(e.reportResult&&t),t})).catch((function(e){throw a.onError(e),e})):(a.onSuccess(e.reportResult&&s),s)}catch(e){throw a.onError(e),e}}}return n}}function qt(e,t){return!!t&&np.some((function(A){return A.uid===e&&A.channelName===t}))}function Ht(e,t,A,n){var r,i=arguments.length,o=3>i?t:null===n?n=Object.getOwnPropertyDescriptor(t,A):n;if("object"==("undefined"==typeof Reflect?"undefined":ub(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,A,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(o=(3>i?r(o):3<i?r(t,A,o):r(t,A))||o);return 3<i&&o&&Object.defineProperty(t,A,o),o}function jt(e,t){if("object"==("undefined"==typeof Reflect?"undefined":ub(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function Wt(e){if("string"!=typeof e||!/^[a-zA-Z0-9 !#\$%&\(\)\+\-:;<=\.>\?@\[\]\^_\{\}\|~,]{1,64}$/.test(e))throw qh.error("Invalid Channel Name ".concat(e)),new _p(pC.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function Xt(e){if(!("number"==typeof(t=e)&&Math.floor(t)===t&&0<=t&&4294967295>=t||Re(e,1,255)))throw new _p(pC.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var t;"string"==typeof e&&qh.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}function zt(e,t){_e(e.url,"".concat(t,".url"),1,1e3,!1),null==e.x||ve(e.x,"".concat(t,".x"),0,1e4),null==e.y||ve(e.y,"".concat(t,".y"),0,1e4),null==e.width||ve(e.width,"".concat(t,".width"),0,1e4),null==e.height||ve(e.height,"".concat(t,".height"),0,1e4),null==e.zOrder||ve(e.zOrder,"".concat(t,".zOrder"),0,255),null==e.alpha||ve(e.alpha,"".concat(t,".alpha"),0,1,!1)}function Zt(e){if(!e.channelName)throw new _p(pC.INVALID_PARAMS,"invalid channelName in info");if("number"!=typeof e.uid)throw new _p(pC.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&_e(e.token,"info.token",1,2047),Xt(e.uid),Wt(e.channelName),!0}function $t(e){var t=Bf[Math.floor(e/1e4)];if(!t)return{desc:"unkonw error",retry:!1};if(!(t=t[e%1e4])){if(Math.floor(e/1e4)===op.ACCESS_POINT){if("1"===(t=e%1e4).toString()[0])return{desc:e.toString(),retry:!1};if("2"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unkonw error",retry:!1}}return t}function eA(e){return Qf[e]||{desc:"UNKNOW_ERROR_".concat(e),action:"failed"}}function tA(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function AA(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):tA(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function nA(e){return e.every((function(e){return e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING}))}function rA(e,t){if("string"==typeof e)return e;var A=e.proxy,n=e.host;return e=e.port,t?443===(t=Th.JOIN_GATEWAY_FALLBACK_PORT||443)?"wss://".concat(n,"/ws/?p=").concat(Number(e)+150):"wss://".concat(n,":").concat(t,"/ws/?p=").concat(Number(e)+150):A?"wss://".concat(A,"/ws/?h=").concat(n,"&p=").concat(e):"wss://".concat(n,":").concat(e)}function iA(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function oA(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function aA(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?oA(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):oA(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function sA(e){return e.match(/^[\.:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(Th.TURN_DOMAIN):(qh.info("Unidentified as ip: ".concat(e,", use as host")),e)}function cA(e,t){e.addresses||(e.addresses=[]),t=function(e,t){if(Th.CONNECT_GATEWAY_WITHOUT_DOMAIN)return e.map((function(e){var t=e.port;return{address:"".concat(e.ip,":").concat(t)}}));var A=Th.GATEWAY_DOMAINS,n=A[1]&&Xs(t).call(t,A[1])?1:0;return e.map((function(e){var t=e.domain_prefix,r=e.port;if(e=e.ip,t)return{address:"".concat(t,".").concat(A[n++%A.length],":").concat(r)};var i=(t=/^[\.:\d]+$/.test(e))?"".concat(e.replace(/[^\d]/g,"-"),".").concat(A[n++%A.length],":").concat(r):"".concat(e,":").concat(r);return t||qh.info("Unidentified as ip: ".concat(e,", use as host")),{ip:e,port:r,address:i}}))}(e.addresses,t);var A=Array.isArray(e.detail)&&e.detail[18];if(A&&"string"==typeof A){A=A.split(";");for(var n=0;n<A.length;n++){var r,i=Ff(r=A[n]).call(r);t[n]&&i&&(t[n].ip6=i)}}return{gatewayAddrs:t,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function uA(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function gA(e){if(!(e=e._encoderConfig))return{};var t={resolution:e.width&&e.height?"".concat(uA(e.width),"x").concat(uA(e.height)):void 0,maxVideoBW:e.bitrateMax,minVideoBW:e.bitrateMin};return"number"==typeof e.frameRate?(t.maxFrameRate=e.frameRate,t.minFrameRate=e.frameRate):e.frameRate&&(t.maxFrameRate=e.frameRate.max||e.frameRate.ideal||e.frameRate.exact||e.frameRate.min,t.minFrameRate=e.frameRate.min||e.frameRate.ideal||e.frameRate.exact||e.frameRate.max),t}function IA(e){return 0<=e&&.17>e?1:.17<=e&&.36>e?2:.36<=e&&.59>e?3:.59<=e&&1>=e?4:1<e?5:0}function lA(e,t){var A;switch(t){case Uf.CHOOSE_SERVER:var n=4096;t="choose server";break;case Uf.CLOUD_PROXY:n=1048576,t="proxy";break;case Uf.CLOUD_PROXY_5:n=4194304,t="proxy5";break;case Uf.CLOUD_PROXY_FALLBACK:n=4194310,t="proxy fallback";break;default:throw new _p(pC.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((function(t){t.buffer&&t.buffer.flag===n&&(A={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((function(e){return aA(aA({},e),{},{ticket:t.buffer.cert})})),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:aA(aA({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!A)throw new _p(pC.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(t," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return A}function EA(e,t){return CA.apply(this,arguments)}function CA(){return(CA=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IC.all(t.addresses.map(function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=sA(t.ip),e.t1=t.port,e.t2=t.port,e.t3=A&&Th.ENCRYPT_PROXY_USERNAME_AND_PSW&&window.isSecureContext?A.toString():tp.username,!(A&&Th.ENCRYPT_PROXY_USERNAME_AND_PSW&&window.isSecureContext)){e.next=10;break}return e.next=7,MC(A.toString());case 7:e.t4=e.sent,e.next=11;break;case 10:e.t4=tp.password;case 11:return e.t5=e.t4,e.abrupt("return",{address:e.t0,tcpport:e.t1,udpport:e.t2,username:e.t3,password:e.t5});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dA(e,t){return(t=t._videoHeight||t.getMediaStreamTrack(!0).getSettings().height)?Math.max(t/uA(e.height),1):(qh.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function hA(e){var t=e.candidateType,A=e.relayProtocol,n=e.address,r=e.port,i=e.protocol;return"local-candidate"===e.type?{candidateType:t,relayProtocol:A,protocol:i}:{candidateType:t,relayProtocol:A,address:n,port:r,protocol:i}}function pA(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function fA(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function BA(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?fA(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):fA(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function QA(e,t,A,n){return new IC((function(r,i){t.timeout=t.timeout||Th.HTTP_CONNECT_TIMEOUT,t.responseType=t.responseType||"json",t.data&&!A?(t.data=JSON.stringify(t.data),Ze(t.data)):A&&(t.data.size?t.data.size:t.data instanceof FormData?$e(t.data):Ze(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,wh.request(t).then((function(e){"string"==typeof e.data?Ze(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?e.data.byteLength:Ze(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((function(e){wh.isCancel(e)?i(new _p(pC.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?i(new _p(pC.NETWORK_TIMEOUT,e.message)):e.response?i(new _p(pC.NETWORK_RESPONSE_ERROR,e.response.status)):i(new _p(pC.NETWORK_ERROR,e.message))}))}))}function yA(e){var t,A;if(!e&&Xs(t=Th.AREAS).call(t,Pp.EXTENSIONS))return qh.debug("update area from ap : reset"),void vA(ep,!0);if(Xs(A=Th.AREAS).call(A,Pp.GLOBAL)&&e){var n=hf.EXTENSIONS;n&&(n={CODE:Zf(Pp.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(e,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(e,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(e,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(e,".agora.io"),"cds-ap-web-2-".concat(e,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(e,".agora.io"),"sua-ap-web-2-".concat(e,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(e,".agora.io"),"uap-ap-web-2-".concat(e,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(e,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(e,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(e,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(e,".agora.io")]},qh.debug("update area from ap success: ".concat(e,",config is "),n),Ut("AREAS",[Pp.EXTENSIONS],!0),Object.keys(n).map((function(e){Ut(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?n[e][0]:n[e])})))}}function vA(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],A=$h.reportApiInvoke(null,{name:_C.SET_AREA,options:e,tag:bC.TRACER});try{var n=[];if("string"==typeof e&&(n=[e]),Array.isArray(e)&&(e.forEach((function(e){if(!Xs(Jp).call(Jp,e))throw new _p(pC.INVALID_PARAMS,"invalid area code")})),n=e),"[object Object]"===Object.prototype.toString.call(e)){var r=e.areaCode,i=e.excludedArea;if(!r)throw new _p(pC.INVALID_PARAMS,"area code is needed");var o=r;"string"==typeof r&&(o=[r]),n=i?nB(o,i):o}if(!t){if(Oh.AREAS){var a=new _p(pC.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return A.onError(a),void qh.warning("setArea is prohibited because of config-distribute")}if(Xs(n).call(n,Pp.GLOBAL)&&Th.AREAS===Pp.EXTENSIONS){var s=new _p(pC.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return A.onError(s),void qh.warning("setArea is prohibited because of ap extensions")}}Ut("AREAS",n,t);var c=$f(n);Object.keys(c).map((function(e){Ut(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?c[e][0]:c[e])})),qh.debug("set area success:",n.join(","))}catch(e){throw A.onError(e),e}A.onSuccess()}function mA(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function _A(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?mA(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):mA(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function bA(e,t,A,n,r){rB+=1;var i,o,a={sid:A.sid,command:"convergeAllocateEdge",uid:"666",appId:A.appId,ts:Math.floor(Date.now()/1e3),seq:rB,requestId:rB,version:Dh,cname:A.cname},s={service_name:t,json_body:JSON.stringify(a)},c=e[0];return st(pa(O.mark((function e(){var A,r,a,u,g,I;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now(),e.next=3,QA(c,{data:s,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});case 3:if(A=e.sent,o=Date.now()-i,0===A.code){e.next=7;break}throw r=new _p(pC.UNEXPECTED_RESPONSE,"live streaming ap error, code"+A.code,{retry:!0,responseTime:o}),qh.error(r.toString()),r;case 7:if(200===(a=JSON.parse(A.json_body)).code){e.next=11;break}throw u=new _p(pC.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(a.code,", reason: ").concat(a.reason),{code:a.code,responseTime:o}),qh.error(u.toString()),u;case 11:if(a.servers&&0!==a.servers.length){e.next=14;break}throw g=new _p(pC.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:a.code,responseTime:o}),qh.error(g.toString()),g;case 14:return I=function(e,t){return{addressList:e.servers.map((function(e){return"wss://".concat(e.address.replace(/\./g,"-"),".").concat(Th.WORKER_DOMAIN,":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(t))})),workerToken:e.workerToken,vid:e.vid}}(a,t),e.abrupt("return",(Th.LIVE_STREAMING_ADDRESS&&(I.addressList=Th.LIVE_STREAMING_ADDRESS instanceof Array?Th.LIVE_STREAMING_ADDRESS:[Th.LIVE_STREAMING_ADDRESS]),_A(_A({},I),{},{responseTime:o})));case 16:case"end":return e.stop()}}),e)}))),(function(n,r){return $h.apworkerEvent(A.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(n.addressList),firstSuccess:0===r,responseTime:o,serverIp:e[r%e.length]}),!1}),(function(n,r){return $h.apworkerEvent(A.sid,{success:!1,sc:n.data&&n.data.code||200,serviceName:t,responseTime:o,serverIp:e[r%e.length]}),!!(n.code!==pC.OPERATION_ABORTED&&n.code!==pC.UNEXPECTED_RESPONSE||n.data&&n.data.retry)&&(c=e[(r+1)%e.length],!0)}),r)}function RA(e,t,A,n){var r=e.url;e=e.areaCode;var i,o=Date.now(),a=(e=Lb(e=sB(t,e,[Uf.CHOOSE_SERVER]),2))[0],s=e[1],c=PC.networkState;return st(pa(O.mark((function e(){var s,u,g,I;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=c&&PC.networkState===kC.OFFLINE&&PC.onlineWaiter,!e.t0){e.next=4;break}return e.next=4,IC.race([PC.onlineWaiter,tt(n&&n.maxRetryTimeout||td.maxRetryTimeout)]);case 4:return c=PC.networkState,e.next=7,QA(r,{data:a,cancelToken:A,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);case 7:return s=e.sent,u=s.data,g=s.headers,i="1"===g.http3?1:-1,$h.reportResourceTiming(r,t.sid),oB(u,r,t,o,[Uf.CHOOSE_SERVER],i),I=lA(u,Uf.CHOOSE_SERVER),e.abrupt("return",(aB(I),cA(I,r)));case 13:case"end":return e.stop()}}),e)}))),(function(e){return e&&$h.joinChooseServer(t.sid,{lts:o,succ:!0,csAddr:r,opid:s,serverList:e.gatewayAddrs.map((function(e){return e.address})),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[Uf.CHOOSE_SERVER].toString(),isHttp3:i}),!1}),(function(e){return e.code!==pC.OPERATION_ABORTED&&(e.code===pC.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:($h.joinChooseServer(t.sid,{lts:o,succ:!1,csAddr:r,serverList:null,opid:s,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[Uf.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:c}),isHttp3:i}),qh.warning("[".concat(t.clientId,"] Choose server network error, retry"),e),!0))}),n)}function SA(e,t,A,n){var r,i,o=e.url,a=e.areaCode,s=e.serviceIds,c=Date.now(),u=(e=Lb(e=sB(t,a,s),2))[0],g=e[1];return st(pa(O.mark((function e(){var a,g,I,l,E;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i&&PC.networkState===kC.OFFLINE&&PC.onlineWaiter,!e.t0){e.next=4;break}return e.next=4,IC.race([PC.onlineWaiter,tt(n&&n.maxRetryTimeout||td.maxRetryTimeout)]);case 4:return i=PC.networkState,e.next=7,QA(o,{data:u,cancelToken:A,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);case 7:return a=e.sent,g=a.data,I=a.headers,r="1"===I.http3?1:-1,$h.reportResourceTiming(o,t.sid),oB(g,o,t,c,s,r),l=lA(g,Uf.CHOOSE_SERVER),E=lA(g,"proxy5"===t.cloudProxyServer?Uf.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?Uf.CLOUD_PROXY:Uf.CLOUD_PROXY_FALLBACK),e.abrupt("return",(aB(l),{gatewayInfo:cA(l,o),proxyInfo:E,url:o}));case 13:case"end":return e.stop()}}),e)}))),(function(e){return e.gatewayInfo&&$h.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map((function(e){return e.address})),ec:null,opid:g,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:s.toString(),isHttp3:r}),e.proxyInfo&&$h.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map((function(e){return e.ip})).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:s.toString()}),!1}),(function(e){return e.code!==pC.OPERATION_ABORTED&&(e.code===pC.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:($h.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:s.toString(),extend:JSON.stringify({networkState:i})}),qh.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),!0))}),n)}function wA(e){return IC.all(e.map((function(e){return e.then((function(e){throw e}),(function(e){return e}))}))).then((function(e){throw e}),(function(e){return e}))}function DA(e,t,A,n){return kA.apply(this,arguments)}function kA(){return(kA=pa(O.mark((function e(t,A,n,r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,o=[],a=function(){var e=pa(O.mark((function e(){var i,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Th.WEBCS_DOMAIN.slice(0,Th.AJAX_REQUEST_CONCURRENT).map((function(e){return{url:t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:zf()}})),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((function(e){return e.url}))}),e.next=4,gB({fragementLength:Th.FRAGEMENT_LENGTH,referenceList:i,asyncMapHandler:function(e){return qh.debug("[".concat(t.clientId,"] Connect to choose_server:"),e.url),RA(e,t,A,n)},allFailedhandler:function(e){throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:o});case 4:return s=e.sent,e.abrupt("return",(r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),s));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=pa(O.mark((function e(){var a,s,c;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(1e3);case 2:if(null===i){e.next=4;break}return e.abrupt("return",i);case 4:return a=Th.WEBCS_DOMAIN_BACKUP_LIST.map((function(e){return{url:t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:zf()}})),s=r.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:a.map((function(e){return e.url}))}),e.next=8,gB({fragementLength:Th.FRAGEMENT_LENGTH,referenceList:a,asyncMapHandler:function(e){return qh.debug("[".concat(t.clientId,"] Connect to backup choose_server:"),e.url),RA(e,t,A,n)},allFailedhandler:function(e){throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:o});case 8:return c=e.sent,e.abrupt("return",(r.recordJoinChannelService({endTs:Date.now(),status:"success"},s),c));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,wA([a(),s()]);case 5:return i=e.sent,o.length&&o.forEach((function(e){return e.cancel&&"function"==typeof e.cancel&&e.cancel()})),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0[0];case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()(t,A,n,r),e.next=3,i;case 3:return e.t0=e.sent,e.abrupt("return",{gatewayInfo:e.t0});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NA(e,t,A,n,r){return TA.apply(this,arguments)}function TA(){return(TA=pa(O.mark((function e(t,A,n,r,i){var o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disabled"!==(o=t.cloudProxyServer)){e.next=29;break}if(r){e.next=4;break}return e.abrupt("return");case 4:if(!t.useLocalAccessPoint){e.next=8;break}return e.next=7,DA(t,A,n,i);case 7:return e.abrupt("return",e.sent);case 8:if(!Th.JOIN_WITH_FALLBACK_MEDIA_PROXY){e.next=26;break}return e.next=11,xA(t,A,n,i);case 11:if(a=e.sent,s=a.gatewayInfo,c=a.proxyInfo,!t.turnServer||"auto"===t.turnServer.mode){e.next=16;break}return e.abrupt("return",{gatewayInfo:s});case 16:if(u=c.map((function(e){return{turnServerURL:e.address,tcpport:e.tcpport||tp.tcpport,udpport:e.udpport||tp.udpport,username:e.username||tp.username,password:e.password||tp.password,forceturn:!1,security:!0}})),!i.useP2P){e.next=25;break}return I=null!==(g=t.uid)&&void 0!==g?g:s.uid,l="glb:".concat(I.toString()),e.next=22,MC(l);case 22:E=e.sent,C=c.map((function(e){return{turnServerURL:e.address,tcpport:e.tcpport||tp.tcpport,udpport:e.udpport||tp.udpport,username:l,password:E,forceturn:!1,security:!0}})),u.push.apply(u,rb(C));case 25:return e.abrupt("return",(t.turnServer={mode:"manual",servers:u},{gatewayInfo:s}));case 26:return e.next=28,DA(t,A,n,i);case 28:return e.abrupt("return",e.sent);case 29:return e.next=31,xA(t,A,n,i);case 31:if(d=e.sent,h=d.proxyInfo,p=d.gatewayInfo,f={gatewayInfo:p},B=h.map((function(e){return{turnServerURL:e.address,tcpport:"proxy3"===o?void 0:e.tcpport?e.tcpport:tp.tcpport,udpport:"proxy4"===o?void 0:e.udpport?e.udpport:tp.udpport,username:e.username||tp.username,password:e.password||tp.password,forceturn:"proxy4"!==o,security:"proxy5"===o}})),!i.useP2P){e.next=44;break}return y=null!==(Q=t.uid)&&void 0!==Q?Q:p.uid,v="glb:".concat(y.toString()),e.next=41,MC(v);case 41:m=e.sent,_=h.map((function(e){return{turnServerURL:e.address,tcpport:"proxy3"===o?void 0:e.tcpport||tp.tcpport,udpport:"proxy4"===o?void 0:e.udpport||tp.udpport,username:v,password:m,forceturn:"proxy4"!==o,security:"proxy5"===o}})),B.push.apply(B,rb(_));case 44:return e.abrupt("return",(t.turnServer={mode:"manual",servers:B},qh.debug("[".concat(t.clientId,"] set proxy server: ").concat(t.proxyServer,", mode: ").concat(o)),f));case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OA(e,t,A,n,r){return LA.apply(this,arguments)}function LA(){return(LA=pa(O.mark((function e(t,A,n,r,i){var o,a,s,c;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Th.ACCOUNT_REGISTER.slice(0,Th.AJAX_REQUEST_CONCURRENT),a=[],a=A.proxyServer?o.map((function(e){return"https://".concat(A.proxyServer,"/ap/?url=").concat(e+"/api/v1")})):o.map((function(e){return"https://".concat(e,"/api/v1")})),s=null==i?void 0:i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:a}),e.prev=4,e.next=7,function(){var e=pa(O.mark((function e(t,A,n,r,i){var o,a,s,c,u;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Date.now(),a={sid:n.sid,opid:10,appid:n.appId,string_uid:A},s=t[0],e.next=4,st((function(){return QA(s+"".concat(-1===s.indexOf("?")?"?":"&","action=stringuid"),{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})}),(function(e,n){if(0===e.code){if(0>=e.uid||e.uid>=Math.pow(2,32))throw qh.error("Invalid Uint Uid ".concat(A," => ").concat(e.uid),e),$h.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:e.uid,errorCode:pC.INVALID_UINT_UID_FROM_STRING_UID,extend:a}),new _p(pC.INVALID_UINT_UID_FROM_STRING_UID);return $h.reqUserAccount(a.sid,{lts:o,success:!0,serverAddr:s,stringUid:a.string_uid,uid:e.uid,errorCode:null,extend:a}),!1}var r=$t(e.code);return r.retry&&(s=t[(n+1)%t.length]),$h.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:e.uid,errorCode:r.desc,extend:a}),r.retry}),(function(e,A){return e.code!==pC.OPERATION_ABORTED&&($h.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:null,errorCode:e.code,extend:a}),s=t[(A+1)%t.length],!0)}),i);case 4:if(0===(c=e.sent).code){e.next=8;break}throw u=$t(c.code),new _p(pC.UNEXPECTED_RESPONSE,u.desc);case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,A,n,r,i){return e.apply(this,arguments)}}()(a,t,A,n,r);case 7:return c=e.sent,e.abrupt("return",(null==i||i.recordJoinChannelService({status:"success",endTs:Date.now()},s),c.uid));case 11:throw e.prev=11,e.t0=e.catch(4),null==i||i.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[e.t0]},s),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function MA(e,t,A){return UA.apply(this,arguments)}function UA(){return(UA=pa(O.mark((function e(t,A,n){var r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Th.CDS_AP.slice(0,Th.AJAX_REQUEST_CONCURRENT).map((function(e){return t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"):"https://".concat(e,"/api/v1?action=config")})),i=r.map((function(e){return r=e,i=t,o=A,a=n,s=ee(),c={flag:64,cipher_method:0,features:{device:s.name,system:s.os,system_general:navigator.userAgent,vendor:i.appId,version:Dh,cname:i.cname,sid:i.sid,session_id:i.sid,detail:"",proxyServer:i.proxyServer}},st((function(){return QA(r,{data:c,timeout:1e3,cancelToken:o,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})}),void 0,(function(e){return e.code!==pC.OPERATION_ABORTED}),a);var r,i,o,a,s,c})),a=o=null,s={},e.prev=2,e.next=5,wA(i);case 5:o=e.sent,e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.code!==pC.OPERATION_ABORTED){e.next=12;break}throw e.t0;case 12:a=e.t0;case 13:if(i.forEach((function(e){return e.cancel()})),$h.reportApiInvoke(t.sid,{name:_C.REQUEST_CONFIG_DISTRIBUTE,options:{error:a,res:o}}).onSuccess(),o&&o.test_tags)try{s=function(e){if(!e.test_tags)return{};var t=e.test_tags,A={};return Object.keys(t).forEach((function(e){var n,r=Ff(n=e.slice(4)).call(n);e=JSON.parse(t[e])[1],A[r]=e})),A}(o)}catch(e){}return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function xA(e,t,A,n){return PA.apply(this,arguments)}function PA(){return(PA=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E,C;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Th.PROXY_SERVER_TYPE3,o=function(e,t,A){return A=A||i,Array.isArray(A)&&(A=0==t%2?i[1]:i[0]),"https://".concat(A,"/ap/?url=").concat(e)},a=null,s=[],c=function(){var e=pa(O.mark((function e(){var i,a,c;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Th.WEBCS_DOMAIN.slice(0,Th.AJAX_REQUEST_CONCURRENT).map((function(e,A){return{url:"disabled"===t.cloudProxyServer&&t.proxyServer?o("".concat(e,"/api/v2/transpond/webrtc?v=2"),A,t.proxyServer):"disabled"===t.cloudProxyServer||"fallback"===t.cloudProxyServer?"https://".concat(e,"/api/v2/transpond/webrtc?v=2"):o("".concat(e,"/api/v2/transpond/webrtc?v=2"),A),areaCode:zf(),serviceIds:[Uf.CHOOSE_SERVER,"proxy5"===t.cloudProxyServer?Uf.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?Uf.CLOUD_PROXY:Uf.CLOUD_PROXY_FALLBACK]}})),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((function(e){return e.url}))}),e.next=4,gB({fragementLength:Th.FRAGEMENT_LENGTH,referenceList:i,asyncMapHandler:function(e){return qh.debug("[".concat(t.clientId,"] Connect to choose_server:"),e.url),SA(e,t,A,n)},allFailedhandler:function(e){throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:s});case 4:return c=e.sent,e.abrupt("return",(r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),c));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=pa(O.mark((function e(){var i,c,u;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(1e3);case 2:if(null===a){e.next=4;break}return e.abrupt("return",a);case 4:return i=Th.WEBCS_DOMAIN_BACKUP_LIST.map((function(e,A){return{url:"disabled"===t.cloudProxyServer&&t.proxyServer?o("".concat(e,"/api/v2/transpond/webrtc?v=2"),A,t.proxyServer):"disabled"===t.cloudProxyServer||"fallback"===t.cloudProxyServer?"https://".concat(e,"/api/v2/transpond/webrtc?v=2"):o("".concat(e,"/api/v2/transpond/webrtc?v=2"),A),areaCode:zf(),serviceIds:[Uf.CHOOSE_SERVER,"proxy5"===t.cloudProxyServer?Uf.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?Uf.CLOUD_PROXY:Uf.CLOUD_PROXY_FALLBACK]}})),c=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((function(e){return e.url}))}),e.next=8,gB({fragementLength:Th.FRAGEMENT_LENGTH,referenceList:i,asyncMapHandler:function(e){return qh.debug("[".concat(t.clientId,"] Connect to backup choose_server:"),e.url),SA(e,t,A,n)},allFailedhandler:function(e){throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},c),e[0]},promisesCollector:s});case 8:return u=e.sent,e.abrupt("return",(r.recordJoinChannelService({endTs:Date.now(),status:"success"},c),u));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=3,e.next=6,wA([c(),u()]);case 6:E=e.sent,g=E.gatewayInfo,I=E.proxyInfo,l=E.url,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(3),e.t0[0];case 15:if(s.length&&s.forEach((function(e){return e.cancel&&"function"==typeof e.cancel&&e.cancel()})),g&&I){e.next=17;break}throw new _p(pC.UNEXPECTED_ERROR,"missing gateway or proxy response").print();case 17:return t.apUrl=l,"disabled"!==t.cloudProxyServer&&Array.isArray(i)&&l&&(C=/^https?:\/\/(.+?)(\/.*)?$/.exec(l)[1],Xs(i).call(i,C)&&(t.proxyServer=C,qh.setProxyServer(C),$h.setProxyServer(C))),e.t1=g,e.next=21,EA(I,g.uid);case 21:return e.t2=e.sent,a={gatewayInfo:e.t1,proxyInfo:e.t2},e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function GA(e,t,A,n){return FA.apply(this,arguments)}function FA(){return(FA=pa(O.mark((function e(t,A,n,r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Th.UAP_AP.slice(0,Th.AJAX_REQUEST_CONCURRENT).map((function(e){return A.proxyServer?"https://".concat(A.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")})),e.next=3,bA(i,t,A,n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KA(e,t,A){return VA.apply(this,arguments)}function VA(){return(VA=pa(O.mark((function e(t,A,n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Th.UAP_AP.slice(0,Th.AJAX_REQUEST_CONCURRENT).map((function(e){return t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")})),i=r.map((function(e){return function(e,t,A,n){t={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:Dh,cname:t.cname,uid:t.uid.toString(),requestId:iB,seq:iB},iB+=1;var r={service_name:"tele_channel",json_body:JSON.stringify(t)};return st(pa(O.mark((function t(){var n,i,o,a,s;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,QA(e,{data:r,cancelToken:A,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});case 2:if(0===(n=t.sent).code){t.next=6;break}throw i=new _p(pC.UNEXPECTED_RESPONSE,"cross channel ap error, code"+n.code,{retry:!0}),qh.error(i.toString()),i;case 6:if(200===(o=JSON.parse(n.json_body)).code){t.next=10;break}throw a=new _p(pC.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(o.code,", reason: ").concat(o.reason)),qh.error(a.toString()),a;case 10:if(o.servers&&0!==o.servers.length){t.next=13;break}throw s=new _p(pC.UNEXPECTED_RESPONSE,"cross channel app center empty server"),qh.error(s.toString()),s;case 13:return t.abrupt("return",{vid:o.vid,workerToken:o.workerToken,addressList:(Th.CHANNEL_MEDIA_RELAY_SERVERS||o.servers).map((function(e){return"wss://".concat(e.address.replace(/\./g,"-"),".").concat(Th.WORKER_DOMAIN,":").concat(e.wss)}))});case 14:case"end":return t.stop()}}),t)}))),void 0,(function(e){return!!(e.code!==pC.OPERATION_ABORTED&&e.code!==pC.UNEXPECTED_RESPONSE||e.data&&e.data.retry)}),n)}(e,t,A,n)})),e.prev=1,e.next=4,wA(i);case 4:return o=e.sent,e.abrupt("return",(i.forEach((function(e){return e.cancel()})),o));case 8:throw e.prev=8,e.t0=e.catch(1),e.t0[0];case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function YA(e,t,A){return JA.apply(this,arguments)}function JA(){return(JA=pa(O.mark((function e(t,A,n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,i=[],o=function(){var e=pa(O.mark((function e(o){var a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Th[o?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN"].map((function(e){return t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2")})),e.t0=o,!e.t0){e.next=6;break}return e.next=5,tt(1e3);case 5:e.t0=null!==r;case 6:if(!e.t0){e.next=10;break}e.t1=r,e.next=13;break;case 10:return e.next=12,gB({fragementLength:Th.FRAGEMENT_LENGTH,referenceList:a,asyncMapHandler:function(e){return qh.debug("[".concat(t.clientId,"] update ticket, Connect to ").concat(o?"backup":""," choose_server:"),e),r=e,a=A,s=n,c=Lb(cB(i=t,[Uf.CHOOSE_SERVER]),1)[0],u=PC.networkState,st(pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=u&&PC.networkState===kC.OFFLINE&&PC.onlineWaiter,!e.t0){e.next=4;break}return e.next=4,IC.race([PC.onlineWaiter,tt(s&&s.maxRetryTimeout||td.maxRetryTimeout)]);case 4:return u=PC.networkState,e.next=7,QA(r,{data:c,cancelToken:a,headers:{"Content-Type":"multipart/form-data;"}},!0);case 7:t=e.sent;var A=e.abrupt,n=r;if(!t.response_body||!t.response_body.length)throw qh.debug("update ticket request received ap response without response body:",n),new _p(pC.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1});if(0!==(n=t.response_body[0]).buffer.code)throw e=$t(n.buffer.code),new _p(pC.UPDATE_TICKET_FAILED,"[".concat(n.buffer.code,"]: ").concat(e.desc),{retry:e.retry});return n=n.buffer.ticket,A.call(e,"return",n);case 9:case"end":return e.stop()}}),e)}))),(function(){return!1}),(function(e){return e.code!==pC.OPERATION_ABORTED&&(e.code===pC.UPDATE_TICKET_FAILED?e.data.retry:(qh.warning("[".concat(i.clientId,"] update ticket network error, retry"),e),!0))}),s);var r,i,a,s,c,u},allFailedhandler:function(e){throw e[0]},promisesCollector:i});case 12:e.t1=e.sent;case 13:return e.abrupt("return",e.t1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,wA([o(!1),o(!0)]);case 5:return r=e.sent,i.length&&i.forEach((function(e){return e.cancel&&"function"==typeof e.cancel&&e.cancel()})),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0[0];case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function qA(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function HA(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?qA(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):qA(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function jA(e,t,A){return{sampleRate:e,stereo:t,bitrate:A}}function WA(e,t,A,n,r){return{width:e,height:t,frameRate:A,bitrateMin:n,bitrateMax:r}}function XA(e,t,A,n,r){return{width:{max:e},height:{max:t},frameRate:A,bitrateMin:n,bitrateMax:r}}function zA(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}function ZA(e){return e||(e="480p_1"),"string"==typeof e?Object.assign({},mB[e]):e}function $A(e){return"string"==typeof e?Object.assign({},bB[e]):e}function en(e){return"string"==typeof e?Object.assign({},RB[e]):e}function tn(e){return"string"==typeof e?Object.assign({},SB[e]):e}function An(e){return ye(e,"mediaSource",["screen","window","application"]),!0}function nn(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function rn(){if(JB){qh.info("create audio context");var e,t=function(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):nn(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}({},Th.WEBAUDIO_INIT_OPTIONS);qh.debug("audio context init option:",JSON.stringify(t)),qB=new JB(t),HB.curState=qB.state,qB.onstatechange=function(){HB.prevState=HB.curState,HB.curState=qB?qB.state:void 0;var e=HB.prevState,t=HB.curState,A="running"===t,n="interrupted"===t,r="running"===e,i="suspended"===e,o="interrupted"===e,a=ee().osVersion;(ae()||he())&&r&&n&&(qh.info("ios".concat(a,"-interruption-start")),HB.emit(Xf.IOS_INTERRUPTION_START)),(ae()||he())&&(i||o)&&A&&(qh.info("ios".concat(a,"-interruption-end")),HB.emit(Xf.IOS_INTERRUPTION_END)),e!==t&&HB.emit(Xf.STATE_CHANGE,t,e)},setInterval((function(){var e,t=null===(e=qB)||void 0===e?void 0:e.currentTime;HB.currentTime!==t?(HB.currentTimeStuckAt&&(qh.debug("AudioContext current time resume at ".concat(t)),HB.currentTimeStuckAt=void 0),HB.currentTime=t):(t!==HB.currentTimeStuckAt&&($h.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:t},tag:bC.TRACER}).onSuccess(),qh.warning("AudioContext current time stuck at ".concat(t))),HB.currentTimeStuckAt=t)}),5e3),(e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C=function(){I(!0)},E=function(){n.removeEventListener("playing",E),n.removeEventListener("abort",E),n.removeEventListener("error",E),o=!1,I(!1)},l=function(e){if(i!==e){i=e;for(var t=0,n=A;t<n.length;t++){var r=n[t];e?window.addEventListener(r,C,{capture:!0,passive:!0}):window.removeEventListener(r,C,{capture:!0,passive:!0})}}},I=function(e){if(!o)if(n.paused)if(e){var t;l(!1),o=!0;try{(t=n.play())?t.then(E,E):(n.addEventListener("playing",E),n.addEventListener("abort",E),n.addEventListener("error",E))}catch(e){E()}}else l(!0);else l(!1)},g=function(){a(!0)},u=function(){a(!1)},c=function(){a(!0)},s=function(e){if(r!==e){r=e;for(var t=0,n=A;t<n.length;t+=1){var i=n[t];e?window.addEventListener(i,g,{capture:!0,passive:!0}):window.removeEventListener(i,g,{capture:!0,passive:!0})}}},a=function(e){"running"===t.state?s(!1):ae()||he()?"suspended"===t.state&&(s(!0),e&&t.resume().then(u,u)):"closed"!==t.state&&(s(!0),e&&t.resume().then(u,u))},A="click contextmenu auxclick dblclick mousedown mouseup touchend keydown keyup".split(" "),o=i=r=!1,ae()&&(d=t.createMediaStreamDestination(),(h=document.createElement("div")).innerHTML="<audio x-webkit-airplay='deny'></audio>",(n=h.children.item(0)).controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=d.stream,I(!0)),HB.on(Xf.STATE_CHANGE,c),a(!1);case 13:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})(qB)}else qh.error("your browser is not support web audio")}function on(){if(!qB&&(rn(),!qB))throw new mC(pC.NOT_SUPPORTED,"can not create audio context");return qB}function an(e){if(!function(){if(null!==jB)return jB;var e=on(),t=e.createBufferSource(),A=e.createGain();e=e.createGain(),t.connect(A),t.connect(e),t.disconnect(A),e=!1;try{t.disconnect(A)}catch(t){e=!0}return t.disconnect(),jB=e,e}()){var t=e.connect,A=e.disconnect;e.connect=function(A,n,r){var i;return e._inputNodes||(e._inputNodes=[]),Xs(i=e._inputNodes).call(i,A)||(A instanceof AudioNode?(e._inputNodes.push(A),t.call(e,A,n,r)):t.call(e,A,n)),e},e.disconnect=function(n,r,i){for(A.call(e),n?Ke(e._inputNodes,n):e._inputNodes=[],n=0,r=e._inputNodes;n<r.length;n++)t.call(e,r[n])}}}function sn(e,t){var A=!1,n=1/t;if(Th.DISABLE_WEBAUDIO)var r=window.setInterval((function(){A?window.clearInterval(r):e(performance.now()/1e3)}),1e3*n);else{var i=on(),o=i.createGain();o.gain.value=0,o.connect(i.destination),function t(){if(A)o=null;else{var r=i.createOscillator();r.onended=t,r.connect(o),r.start(0),r.stop(i.currentTime+n),e(i.currentTime)}}()}return function(){A=!0}}function cn(e,t,A){return un.apply(this,arguments)}function un(){return(un=pa(O.mark((function e(t,A,n){var r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={audio:!!n&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxHeight:(r=function(e,t){return e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t})(A.height,1080),maxWidth:r(A.width,1920)}}},A.frameRate&&"number"!=typeof A.frameRate?(i.video.mandatory.maxFrameRate=A.frameRate.max,i.video.mandatory.minFrameRate=A.frameRate.min):"number"==typeof A.frameRate&&(i.video.mandatory.maxFrameRate=A.frameRate),e.next=4,navigator.mediaDevices.getUserMedia(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t){return In.apply(this,arguments)}function In(){return(In=pa(O.mark((function e(t,A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln(t.mediaSource);case 2:return n=e.sent,e.next=5,function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new IC((function(A,n){var r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");var i=document.createElement("div");i.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");var o=document.createElement("div");o.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",o.setAttribute("style","height: 12%;");var a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");var s=document.createElement("div");s.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");var c=document.createElement("button");c.innerHTML="cancel",c.setAttribute("style","width: 85px;"),c.onclick=function(){document.body.removeChild(E);var e=Error("NotAllowedError");e.name="NotAllowedError",n(e)};var u=t,g=document.createElement("div");if(t){var I=document.createElement("input");I.setAttribute("type","checkbox");var l=document.createElement("span");I.setAttribute("style","margin-right: 6px;"),l.innerText="Share audio",I.checked=u,I.onchange=function(){u=I.checked},g.appendChild(I),g.appendChild(l)}s.appendChild(g),s.appendChild(c),i.appendChild(o),i.appendChild(a),i.appendChild(s);var E=document.createElement("div");E.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),E.appendChild(r),E.appendChild(i),document.body.appendChild(E),e.map((function(e){if(e.id){var t=document.createElement("div");t.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");var n=e.thumbnail;try{1920<n.getSize().width&&(n=n.resize({width:1920}))}catch(e){throw e&&e.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),e}t.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+n.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",t.onclick=function(){document.body.removeChild(E),A({sourceId:e.id,audio:u})},a.appendChild(t)}}))}))}(n,A);case 5:return r=e.sent,i=r.sourceId,o=r.audio,e.next=10,cn(i,t,o);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e){return En.apply(this,arguments)}function En(){return(En=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=["window","screen"],"application"!==t&&"window"!==t||(A=["window"]),"screen"===t&&(A=["screen"]),n=ke()){e.next=5;break}throw console.error("failed to fetch electron, please mount it to window"),new mC(pC.ELECTRON_IS_NULL);case 5:r=null;try{r=(null===(i=n.desktopCapturer)||void 0===i?void 0:i.getSources({types:A}))||n.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:A})}catch(e){r=null}return r&&r.then||(r=new IC((function(e,t){n.desktopCapturer.getSources({types:A},(function(A,n){A?t(A):e(n)}))}))),e.prev=8,e.next=11,r;case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(8),new mC(pC.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.t0.toString());case 17:case"end":return e.stop()}}),e,null,[[8,14]])})))).apply(this,arguments)}function Cn(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function dn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=null;case 1:if(!(2>n)){e.next=23;break}return e.prev=2,e.next=5,pn(t,A,0<n);case 5:return r=e.sent,e.abrupt("break",23);case 9:if(e.prev=9,e.t0=e.catch(2),!(e.t0 instanceof mC)){e.next=13;break}throw qh.error("[".concat(A,"] ").concat(e.t0.toString())),e.t0;case 13:if((i=Bn(e.t0.name||e.t0.code||e.t0,e.t0.message)).code!==pC.MEDIA_OPTION_INVALID){e.next=20;break}return qh.debug("[".concat(A,"] detect media option invalid, retry")),n+=1,e.next=19,tt(500);case 19:return e.abrupt("continue",21);case 20:throw qh.error("[".concat(A,"] ").concat(i.toString())),i;case 21:e.next=1;break;case 23:if(r){e.next=25;break}throw new mC(pC.UNEXPECTED_ERROR,"can not find stream after getUserMedia");case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function pn(e,t,A){return fn.apply(this,arguments)}function fn(){return(fn=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new mC(pC.NOT_SUPPORTED,"can not find getUserMedia");case 2:if(n&&(t.video&&(delete t.video.width,delete t.video.height),t.screen&&(delete t.screen.width,delete t.screen.height)),r=lB,i=new MediaStream,t.audioSource&&i.addTrack(t.audioSource),t.videoSource&&i.addTrack(t.videoSource),t.audio||t.video||t.screen){e.next=6;break}return e.abrupt("return",(qh.debug("Using Video Source/ Audio Source"),i));case 6:if(!t.screen){e.next=62;break}if(!ke()){e.next=25;break}if(!t.screen.sourceId){e.next=17;break}return e.t0=Qn,e.t1=i,e.next=13,cn(t.screen.sourceId,t.screen,t.screenAudio);case 13:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=23;break;case 17:return e.t3=Qn,e.t4=i,e.next=21,gn(t.screen,t.screenAudio);case 21:e.t5=e.sent,(0,e.t3)(e.t4,e.t5);case 23:e.next=62;break;case 25:if(!(re()&&t.screen.extensionId&&t.screen.mandatory)){e.next=41;break}if(r.getStreamFromExtension){e.next=28;break}throw new mC(pC.NOT_SUPPORTED,"This browser does not support screen sharing");case 28:return qh.debug("[".concat(A,'] Screen access on chrome stable, looking for extension"')),e.next=31,d=t.screen.extensionId,h=A,new IC((function(e,t){try{chrome.runtime.sendMessage(d,{getStream:!0},(function(A){if(!A||!A.streamId)return qh.error("[".concat(h,"] No response from Chrome Plugin. Plugin not installed properly"),A),void t(new mC(pC.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(A.streamId)}))}catch(e){qh.error("[".concat(h,"] AgoraRTC screensharing plugin is not accessible(").concat(d,")"),e.toString()),t(new mC(pC.CHROME_PLUGIN_NOT_INSTALL))}}));case 31:return o=e.sent,t.screen.mandatory.chromeMediaSourceId=o,e.t6=Qn,e.t7=i,e.next=37,navigator.mediaDevices.getUserMedia({video:{mandatory:t.screen.mandatory}});case 37:e.t8=e.sent,(0,e.t6)(e.t7,e.t8),e.next=62;break;case 41:if(!r.getDisplayMedia){e.next=51;break}return t.screen.mediaSource&&An(t.screen.mediaSource),s={width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate,displaySurface:null!==(a=t.screen.displaySurface)&&void 0!==a?a:"screen"===t.screen.mediaSource?"monitor":t.screen.mediaSource},c=t.screen,u=c.selfBrowserSurface,g=c.surfaceSwitching,I=c.systemAudio,l={selfBrowserSurface:u,surfaceSwitching:g,systemAudio:I},!u&&delete l.selfBrowserSurface,!g&&delete l.surfaceSwitching,!I&&delete l.systemAudio,qh.debug("[".concat(A,"] getDisplayMedia:"),JSON.stringify({video:s,audio:!!t.screenAudio,controls:l})),e.next=47,navigator.mediaDevices.getDisplayMedia(function(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Cn(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}({video:s,audio:!!t.screenAudio},l));case 47:E=e.sent,Qn(i,E),e.next=62;break;case 51:if(oe()){e.next=53;break}throw qh.error("[".concat(A,"] This browser does not support screenSharing")),new mC(pC.NOT_SUPPORTED,"This browser does not support screen sharing");case 53:return t.screen.mediaSource&&An(t.screen.mediaSource),C={video:{mediaSource:t.screen.mediaSource,width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate}},qh.debug("[".concat(A,"] getUserMedia: ").concat(JSON.stringify(C))),e.t9=Qn,e.t10=i,e.next=60,navigator.mediaDevices.getUserMedia(C);case 60:e.t11=e.sent,(0,e.t9)(e.t10,e.t11);case 62:if(t.video||t.audio){e.next=64;break}return e.abrupt("return",i);case 64:if(p={video:t.video,audio:t.audio},f=Th.MEDIA_DEVICE_CONSTRAINTS)try{"string"==typeof f&&(f=JSON.parse(f)),p=rt(p,f)}catch(e){}if(qh.debug("[".concat(A,"] GetUserMedia"),JSON.stringify(p)),ee(),Q=null,e.t12=ie()||ae()||Ae(),!e.t12){e.next=73;break}return e.next=72,ZB.lock();case 72:Q=e.sent;case 73:return e.prev=73,e.next=76,navigator.mediaDevices.getUserMedia(p);case 76:B=e.sent,e.next=82;break;case 79:throw e.prev=79,e.t13=e.catch(73),Q&&Q(),e.t13;case 82:return e.abrupt("return",(p.audio&&($B=!0),p.video&&(eQ=!0),Qn(i,B),Q&&Q(),i));case 83:case"end":return e.stop()}}),e,null,[[73,79]])})))).apply(this,arguments)}function Bn(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new mC(pC.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new mC(pC.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new mC(pC.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new mC(pC.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new mC(pC.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new mC(pC.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return qh.error("getUserMedia unexpected error",e),new mC(pC.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function Qn(e,t){var A=e.getVideoTracks()[0],n=e.getAudioTracks()[0],r=t.getVideoTracks()[0];(t=t.getAudioTracks()[0])&&(n&&e.removeTrack(n),e.addTrack(t)),r&&(A&&e.removeTrack(A),e.addTrack(r))}function yn(){if(ee(),!AQ){var e=function e(t){t.preventDefault(),AQ=!1,Be()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};AQ=!0,Be()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),qh.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),nQ.onAutoplayFailed?nQ.onAutoplayFailed():nQ.onAudioAutoplayFailed?qh.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):qh.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),nQ.emit("autoplay-failed")}}function vn(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function mn(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):vn(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function _n(e,t,A,n){if(e&&(e=$h.getBaseInfoBySessionId(e))){var r=e.info,i=Date.now();t=mn(mn({},r),{},{vid:void 0===r.vid?0:Number(r.vid),lts:i,elapse:i-e.startTime,cbRegistered:nQ.onAutoplayFailed||nQ.onAudioAutoplayFailed?1:-1,errorMsg:A,mediaType:t,trackId:n,extend:void 0}),$h.send({type:jh.AUTOPLAY_FAILED,data:t},!0)}}function bn(){return function(e,t,A){var n=A.value;return"function"==typeof n&&(A.value=function(){this._isClosed&&new mC(pC.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",qh);for(var e=arguments.length,t=Array(e),A=0;A<e;A++)t[A]=arguments[A];var r=n.apply(this,t);return r instanceof IC?new IC((function(e,t){r.then(e).catch(t)})):r}),A}}function Rn(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Sn(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Rn(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function wn(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Dn(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):wn(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function kn(e){var t={};return e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId}),null!=(e=ZA(e.encoderConfig)).width&&(t.width=e.width),null!=e.height&&(t.height=e.height),!pe()&&e.frameRate&&(t.frameRate=e.frameRate),ee().name===uC.EDGE&&"object"==ub(t.frameRate)&&(t.frameRate.max=60),oe()&&(t.frameRate={ideal:30,max:30}),t}function Nn(e){var t={};if(pe()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,re()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){var A=tn(e.encoderConfig);t.channelCount=A.stereo?2:1,t.sampleRate=A.sampleRate,t.sampleSize=A.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),ee().os===cC.ANDROID&&(t.sampleRate=void 0),t}function Tn(e,t){return On.apply(this,arguments)}function On(){return(On=pa(O.mark((function e(t,A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,"string"!=typeof t){e.next=16;break}if(!(r=hQ.get(t))){e.next=5;break}return e.abrupt("return",(qh.debug("use cached audio resource: ",t),r));case 5:return e.prev=5,e.next=8,st((function(){return wh.get(t,{responseType:"arraybuffer"})}),void 0,void 0,{maxRetryCount:3});case 8:n=e.sent.data,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new mC(pC.FETCH_AUDIO_FILE_FAILED,e.t0.toString());case 14:e.next=20;break;case 16:return i=new IC((function(e,A){var n=new FileReader;n.onload=function(t){t.target?e(t.target.result):A(new mC(pC.READ_LOCAL_AUDIO_FILE_ERROR))},n.onerror=function(){A(new mC(pC.READ_LOCAL_AUDIO_FILE_ERROR))},n.readAsArrayBuffer(t)})),e.next=19,i;case 19:n=e.sent;case 20:return e.next=22,function(e){var t=on();return new IC((function(A,n){t.decodeAudioData(e,(function(e){A(e)}),(function(e){n(new mC(pC.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(n);case 22:return o=e.sent,e.abrupt("return",("string"==typeof t&&A&&hQ.set(t,o),o));case 24:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function Ln(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Mn(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Ln(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Un(e){return new IC((function(t,A){var n=!1,r=document.createElement("video");r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.muted=!0,r.autoplay=!0,r.setAttribute("playsinline",""),r.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(r),A=ae()?"canplay":"playing",r.addEventListener(A,(function(){var e=r.videoWidth,A=r.videoHeight;!e&&oe()||(n=!0,r.srcObject=null,r.remove(),t([e,A]))})),r.srcObject=new MediaStream([e]),r.play().catch(WC),setTimeout((function(){n||(r.srcObject=null,r.remove(),t([r.videoWidth,r.videoHeight]))}),4e3)}))}function xn(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Pn(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):xn(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Gn(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Fn(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Gn(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Kn(e,t,A,n){A.optimizationMode&&(n&&n.width&&n.height?(A.encoderConfig=Fn(Fn({},n),{},{bitrateMin:n.bitrateMin,bitrateMax:n.bitrateMax}),"motion"!==A.optimizationMode&&"detail"!==A.optimizationMode||(t.contentHint=A.optimizationMode,t.contentHint===A.optimizationMode?qh.debug("[".concat(e,"] set content hint to"),A.optimizationMode):qh.debug("[".concat(e,"] set content hint failed")))):qh.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")))}function Vn(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Yn(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Vn(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Jn(e){for(var t=e.length;0<=--t;)e[t]=0}function qn(e,t,A,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=A,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function Hn(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function jn(e,t,A,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=A,this.max_chain=n,this.func=r}function Wn(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ly(this.dyn_ltree),ly(this.dyn_dtree),ly(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ly(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),ly(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.sym_end=this.sym_next=this.lit_bufsize=this.sym_buf=0}function Xn(e){(e=this.options=ky.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0},e||{})).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&16>e.windowBits&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ly,this.strm.avail_out=0;var t=Dy.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==t)throw Error(sy[t]);if(e.header&&Dy.deflateSetHeader(this.strm,e.header),e.dictionary){var A;if(A="string"==typeof e.dictionary?Oy.string2buf(e.dictionary):"[object ArrayBuffer]"===My.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(t=Dy.deflateSetDictionary(this.strm,A)))throw Error(sy[t]);this._dict_set=!0}}function zn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function Zn(e){var t=this.options=ky.assign({chunkSize:65536,windowBits:15,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ly,this.strm.avail_out=0,0!==(e=$y.inflateInit2(this.strm,t.windowBits)))throw Error(sy[e]);if(this.header=new ev,$y.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Oy.string2buf(t.dictionary):"[object ArrayBuffer]"===tv.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&0!==(e=$y.inflateSetDictionary(this.strm,t.dictionary))))throw Error(sy[e])}function $n(){var e=new Blob([atob("ZnVuY3Rpb24gZShlKXtjb25zdCB0PW5ldyBEYXRhVmlldyhlLmRhdGEpO2lmKDA9PT10LmdldFVpbnQ4KDApJiYwPT09dC5nZXRVaW50OCgxKSYmMD09PXQuZ2V0VWludDgoMikmJjE9PT10LmdldFVpbnQ4KDMpJiY2PT09dC5nZXRVaW50OCg0KSl7bGV0IG49NixyPTAsbz0wO2Zvcig7MjU1PT09KG89dC5nZXRVaW50OChuKyspKTspcis9MjU1O3IrPW87Y29uc3QgYT1mdW5jdGlvbihlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLG89W10sYT0wO2Zvcig7YTxuOylhKzM8biYmMD09PXJbYV0mJjA9PT1yW2ErMV0mJjM9PT1yW2ErMl0mJigwPT09clthKzNdfHwxPT09clthKzNdfHwyPT09clthKzNdfHwzPT09clthKzNdKT8oby5wdXNoKHJbYV0sclthKzFdLHJbYSszXSksYSs9NCk6KG8ucHVzaChyW2FdKSxhKyspO3JldHVybiBuZXcgVWludDhBcnJheShvKX0oZS5kYXRhLG4scik7cmV0dXJuIG5ldyBVaW50OEFycmF5KGEpfXJldHVybiBudWxsfWZ1bmN0aW9uIHQoZSx0KXtjb25zdCBuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5sZW5ndGg7bGV0IG49W10scj0wO2Zvcig7cjx0OylyKzI8dCYmMD09PWVbcl0mJjA9PT1lW3IrMV0mJigwPT09ZVtyKzJdfHwxPT09ZVtyKzJdfHwyPT09ZVtyKzJdfHwzPT09ZVtyKzJdKT8obi5wdXNoKGVbcl0sZVtyKzFdLDMsZVtyKzJdKSxyKz0zKToobi5wdXNoKGVbcl0pLHIrKyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG4pfSh0KSxyPW4ubGVuZ3RoLG89TWF0aC5mbG9vcihyLzI1NSksYT1yJTI1NSxzPW5ldyBVaW50OEFycmF5KDYrbysxK3IrZS5ieXRlTGVuZ3RoKTtzWzBdPTAsc1sxXT0wLHNbMl09MCxzWzNdPTEsc1s0XT02LHNbNV09MTAxO2xldCBpPTA7Zm9yKDtpPG87KXNbNitpXT0yNTUsaSsrO3JldHVybiBzWzYraV09YSxpKysscy5zZXQobiw2K2kpLHMuc2V0KG5ldyBVaW50OEFycmF5KGUpLDYraStyKSxzLmJ1ZmZlcn1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlNhZmFyaSIpPi0xJiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQ2hyb21lIikmJihzZWxmLm9ucnRjdHJhbnNmb3JtPW49Pntjb25zdCByPW4udHJhbnNmb3JtZXI7bGV0IG89W107ci5vcHRpb25zLnBvcnQub25tZXNzYWdlPWU9PntlLmRhdGEuc2VpJiZvLnB1c2goZS5kYXRhLnNlaSl9LHNlbGYucG9zdE1lc3NhZ2UoInN0YXJ0ZWQiKTtjb25zdCBhPXIucmVhZGFibGUuZ2V0UmVhZGVyKCkscz1yLndyaXRhYmxlLmdldFdyaXRlcigpOyJyeCI9PT1yLm9wdGlvbnMubmFtZT9mdW5jdGlvbiB0KG4pe2EucmVhZCgpLnRoZW4oKHI9PntpZighci5kb25lKXtpZihyLnZhbHVlIGluc3RhbmNlb2YgUlRDRW5jb2RlZFZpZGVvRnJhbWUpe2NvbnN0IHQ9ZShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7YS5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1vLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==")],{type:"text/javascript"});return setTimeout((function(){return S_.revokeObjectURL(e)}),0),new Worker(S_.createObjectURL(e))}function er(e){return tr.apply(this,arguments)}function tr(){return(tr=pa(O.mark((function e(t){var A,n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){t.track.removeEventListener("ended",s);var e=D_.get(t);if(e){D_.delete(t);try{var A,n;null===(A=e.controller)||void 0===A||A.terminate(),null===(n=e.worker)||void 0===n||n.terminate()}catch(e){qh.warning(e&&e.message)}}},lB.supportWebRTCEncodedTransform){e.next=3;break}return e.abrupt("return",void qh.warning("browser not support audio encoded transform"));case 3:if(!D_.has(t)){e.next=5;break}return e.abrupt("return");case 5:if(A={track:t.track},!re()){e.next=21;break}if(t.createEncodedStreams){e.next=9;break}return e.abrupt("return",void qh.warning("browser not support createEncodedStreams() API"));case 9:n=null,e.prev=10,n=t.createEncodedStreams(),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(10),e.abrupt("return",void qh.error("create audio-encoded-streams error",e.t0&&e.t0.message));case 17:r=new TransformStream({transform:function(e,n){A.controller||(A.controller=n),t.track&&t.track.id!==A.track.id&&(qh.debug("audio track changed: ".concat(A.track.id," => ").concat(t.track.id)),A.track.removeEventListener("ended",s),A.track=t.track,A.track.addEventListener("ended",s)),n.enqueue(e)}}),n.readable.pipeThrough(r).pipeTo(n.writable),e.next=33;break;case 21:if(!ie()){e.next=33;break}if("undefined"!=typeof RTCRtpScriptTransform){e.next=24;break}return e.abrupt("return",void qh.warning("browser not support RTCRtpScriptTransform"));case 24:return i=$n(),o=new MessageChannel,e.next=27,new IC((function(e){return i.onmessage=function(t){"registered"===t.data&&e(void 0)}}));case 27:return a=new RTCRtpScriptTransform(i,{name:"rx",port:o.port2},[o.port2]),t.transform=a,e.next=31,new IC((function(e){return i.onmessage=function(t){"started"===t.data&&e(void 0)}}));case 31:o.port1.onmessage=function(e){var n;e.data.transformed&&t.track&&(null===(n=t.track)||void 0===n?void 0:n.id)!==A.track.id&&(qh.debug("audio track changed: ".concat(A.track.id," => ").concat(t.track.id)),A.track.removeEventListener("ended",s),A.track=t.track,A.track.addEventListener("ended",s))},A.worker=i;case 33:D_.set(t,A),t.track.addEventListener("ended",s);case 34:case"end":return e.stop()}}),e,null,[[10,14]])})))).apply(this,arguments)}function Ar(e){return nr.apply(this,arguments)}function nr(){return(nr=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener("ended",u)}var e=t,A=N_.get(e);if(A){N_.delete(e);try{var n,r;null===(n=A.controller)||void 0===n||n.terminate(),null===(r=A.worker)||void 0===r||r.terminate()}catch(e){qh.warning(e&&e.message)}}},A=1<g.length&&void 0!==g[1]?g[1]:{},lB.supportWebRTCEncodedTransform){e.next=4;break}return e.abrupt("return",void qh.warning("browser not support video encoded transform"));case 4:if(t.track){e.next=6;break}return e.abrupt("return");case 6:if(!N_.has(t)){e.next=9;break}return n=N_.get(t),e.abrupt("return",void(n&&(n.onSei=A.onSei)));case 9:if(r={track:t.track,onSei:A.onSei},!re()){e.next=25;break}if(t.createEncodedStreams){e.next=13;break}return e.abrupt("return",void qh.warning("browser not support createEncodedStreams() API"));case 13:i=null,e.prev=14,i=t.createEncodedStreams(),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(14),e.abrupt("return",void qh.error("create video-encoded-streams error",e.t0&&e.t0.message));case 21:o=new TransformStream({transform:function(e,A){r.controller||(r.controller=A),t.track&&t.track.id!==r.track.id&&(qh.debug("video track changed: ".concat(r.track.id," => ").concat(t.track.id)),r.track.removeEventListener("ended",u),r.track=t.track,r.track.addEventListener("ended",u));var n=new DataView(e.data);if(0===n.getUint8(0)&&0===n.getUint8(1)&&0===n.getUint8(2)&&1===n.getUint8(3)&&6===n.getUint8(4)){for(var i,o=6,a=0;255===(i=n.getUint8(o++));)a+=255;for(n=a+i,o=new Uint8Array(e.data,o,n),a=[],i=0;i<n;)i+3<n&&0===o[i]&&0===o[i+1]&&3===o[i+2]&&(0===o[i+3]||1===o[i+3]||2===o[i+3]||3===o[i+3])?(a.push(o[i],o[i+1],o[i+3]),i+=4):(a.push(o[i]),i++);o=new Uint8Array(a),o=new Uint8Array(o)}else o=null;o&&r.onSei&&r.onSei(o),A.enqueue(e)}}),i.readable.pipeThrough(o).pipeTo(i.writable),e.next=37;break;case 25:if(!ie()){e.next=37;break}if("undefined"!=typeof RTCRtpScriptTransform){e.next=28;break}return e.abrupt("return",void qh.warning("browser not support RTCRtpScriptTransform"));case 28:return a=$n(),s=new MessageChannel,e.next=31,new IC((function(e){return a.onmessage=function(t){"registered"===t.data&&e(void 0)}}));case 31:return c=new RTCRtpScriptTransform(a,{name:"rx",port:s.port2},[s.port2]),t.transform=c,e.next=35,new IC((function(e){return a.onmessage=function(t){"started"===t.data&&e(void 0)}}));case 35:s.port1.onmessage=function(e){var A;e.data.transformed&&t.track&&(null===(A=t.track)||void 0===A?void 0:A.id)!==r.track.id?(qh.debug("video track changed: ".concat(r.track.id," => ").concat(t.track.id)),r.track.removeEventListener("ended",u),r.track=t.track,r.track.addEventListener("ended",u)):e.data.sei&&r.onSei&&r.onSei(e.data.sei)},r.worker=a;case 37:N_.set(t,r),t.track.addEventListener("ended",u);case 38:case"end":return e.stop()}}),e,null,[[14,18]])})))).apply(this,arguments)}function rr(e,t){this.v=e,this.k=t}function ir(e){return new rr(e,0)}function or(e){function t(n,r){try{var i=e[n](r),o=i.value,a=o instanceof rr;M_.resolve(a?o.v:o).then((function(r){if(a){var s="return"===n?"return":"next";if(!o.k||r.done)return t(s,r);r=e[s](r).value}A(i.done?"return":"normal",r)}),(function(e){t("throw",e)}))}catch(e){A("throw",e)}}function A(e,A){switch(e){case"return":n.resolve({value:A,done:!0});break;case"throw":n.reject(A);break;default:n.resolve({value:A,done:!1})}(n=n.next)?t(n.key,n.arg):r=null}var n,r;this._invoke=function(e,A){return new M_((function(i,o){i={key:e,arg:A,resolve:i,reject:o,next:null},r?r=r.next=i:(n=r=i,t(e,A))}))},"function"!=typeof e.return&&(this.return=void 0)}function ar(e){return function(){return new or(e.apply(this,arguments))}}function sr(e,t){if(null==e)return{};var A;if(null==e)var n={};else{n={};var r=J_(e);for(A=0;A<r.length;A++){var i=r[A];0<=Y_(t).call(t,i)||(n[i]=e[i])}}if(P_)for(r=P_(e),A=0;A<r.length;A++)i=r[A],0<=Y_(t).call(t,i)||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i]);return n}function cr(e){if(Array.isArray(e))return e.map((function(e){return e}));if(!ur(e))return e;var t,A={};for(t in e){var n=e[t];ur(n)||Array.isArray(n)?A[t]=cr(n):A[t]=n}return A}function ur(e){return!("object"!=ub(e)||Array.isArray(e)||!e)}function gr(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Ir(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):gr(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function lr(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Er(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):lr(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Cr(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function dr(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Cr(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function hr(e){var t,A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:500,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1e4;return(t=(t=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i))&&t[0]?Number(t[0].split("/")[1]):null)?76>t?new db(e,{updateInterval:A,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new hb(e,{updateInterval:A,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):window.RTCStatsReport&&e.getStats()instanceof IC?new hb(e,{updateInterval:A,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new pb(e,{updateInterval:A,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i})}function pr(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function fr(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):pr(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Br(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},A=3<arguments.length?arguments[3]:void 0,n=t.filterRTX,r=t.filterVideoFec,i=t.filterAudioFec,o=t.filterAudioCodec,a=t.filterVideoCodec,s=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).useXR,c=[],u=[],g=[],I=[],l=!1,E=!1;if(ib.parse(e).mediaDescriptions.forEach((function(e){A&&A!==e.attributes.direction||("video"!==e.media.mediaType||l||(u=e.attributes.payloads,I=e.attributes.extmaps,l=!0),"audio"!==e.media.mediaType||E||(c=e.attributes.payloads,g=e.attributes.extmaps,E=!0))})),!I||0===u.length)throw Error("Cannot get video capabilities from SDP.");if(!g||0===c.length)throw Error("Cannot get audio capabilities from SDP.");u.forEach((function(e){var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),s&&e.rtcpFeedbacks.push({type:"rrtr"})})),c.forEach((function(e){var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),s&&e.rtcpFeedbacks.push({type:"rrtr"})})),n&&(c=c.filter((function(e){var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),u=u.filter((function(e){var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),r&&(u=u.filter((function(e){var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),i&&(c=c.filter((function(e){var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),o&&0<(null==o?void 0:o.length)&&(c=c.filter((function(e){var t;return Xs(o).call(o,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),a&&0<(null==a?void 0:a.length)&&(u=u.filter((function(e){var t;return Xs(a).call(a,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")})));var C=Th.UNSUPPORTED_VIDEO_CODEC;return C&&0<C.length&&(u=u.filter((function(e){return!(e.rtpMap&&Xs(C).call(C,e.rtpMap.encodingName.toLowerCase()))}))),{audioCodecs:c,videoCodecs:u,audioExtensions:g,videoExtensions:I}}function Qr(e){for(var t,A,n=0,r=(e=ib.parse(e)).mediaDescriptions;n<r.length;n++){var i=r[n];if(!t){t=i.attributes.iceUfrag;var o=i.attributes.icePwd;if(!t||!o)throw Error("Cannot get iceUfrag or icePwd from SDP.");t={iceUfrag:t,icePwd:o}}A||0<(i=i.attributes.fingerprints).length&&(A={fingerprints:i})}if(!A&&0<e.attributes.fingerprints.length&&(A={fingerprints:e.attributes.fingerprints}),!A||!t)throw Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:t,dtlsParameters:A}}function yr(e,t){var A=[],n=e.attributes.ssrcGroups.filter((function(e){return"FID"===e.semantic})),r=e.attributes.ssrcGroups.find((function(e){return"SIM"===e.semantic}));if(e=e.attributes.ssrcs,r)r.ssrcIds.forEach((function(e){var r,i=null===(r=n.find((function(t){return t.ssrcIds[0]===e})))||void 0===r?void 0:r.ssrcIds[1];A.push({ssrcId:e,rtx:t?i:void 0})}));else if(0<n.length)r=n[0].ssrcIds[1],A.push({ssrcId:n[0].ssrcIds[0],rtx:t?r:void 0});else{if(0===e.length)throw Error("No ssrcs found on local media description.");A.push({ssrcId:e[0].ssrcId})}return A}function vr(e,t){var A,n=e.cname;t&&t.ip&&"number"==typeof t.port?(A=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],qh.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(A.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}),qh.debug("Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)))):A=e.iceParameters.candidates.map((function(e){return{foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}})),t={fingerprints:e.dtlsParameters.fingerprints.map((function(e){return{hashFunction:e.algorithm,fingerprint:e.fingerprint}}))};var r={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};switch(e.dtlsParameters.role){case"server":var i="passive";break;case"client":i="active";break;case"auto":i="actpass"}return{dtlsParameters:t,iceParameters:r,candidates:A,rtpCapabilities:Lr(e.rtpCapabilities),setup:i,cname:n}}function mr(e,t,A){var n=[],r=[];return e.forEach((function(e){var i=e.ssrcId;e=e.rtx;var o=At(8,"track-"),a={ssrcId:i,attributes:fr({label:o,mslabel:A=A||At(10,""),msid:"".concat(A," ").concat(o)},t&&{cname:t})};n.push(a),void 0!==e&&(o={ssrcId:e,attributes:fr({label:o,mslabel:A,msid:"".concat(A," ").concat(o)},t&&{cname:t})},n.push(o),r.push({semantic:"FID",ssrcIds:[i,e]}))})),1<e.length&&r.push({semantic:"SIM",ssrcIds:e.map((function(e){return e.ssrcId}))}),{ssrcs:n,ssrcGroups:r}}function _r(e,t){t instanceof IQ&&e.attributes.payloads.forEach((function(e){var A,n=null===(A=e.rtpMap)||void 0===A?void 0:A.encodingName.toLowerCase();n&&-1!==["opus","pcmu","pcma","g722"].indexOf(n)&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1",(A=t._encoderConfig)&&"pcmu"!==n&&"pcma"!==n&&"g722"!==n&&(A.bitrate&&!oe()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*A.bitrate))),A.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(A.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(A.sampleRate)),A.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1")))}))}function br(e){var t=e.attributes.unrecognized.findIndex((function(e){return"x-google-flag"===e.attField&&"conference"===e.attValue}));-1!==t&&e.attributes.unrecognized.splice(t,1)}function Rr(e,t){var A;if(t instanceof _Q&&t._encoderConfig&&-1===t._hints.indexOf(CB.SCREEN_TRACK)){var n=t._encoderConfig;lB.supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((function(e){var t,A;Xs(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(A=e.rtpMap)||void 0===A?void 0:A.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(n.bitrateMin))})),lB.supportMinBitrate&&!Xs(A=t._hints).call(A,CB.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((function(e){var t,A;Xs(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(A=e.rtpMap)||void 0===A?void 0:A.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(Th.X_GOOGLE_START_BITRATE||Math.floor(n.bitrateMax)))}))}}function Sr(e){if("video"===e.media.mediaType){var t=ee();t.name!==uC.SAFARI&&t.os!==cC.IOS||-1!==(t=e.attributes.extmaps.findIndex((function(e){return/video-orientation/g.test(e.extensionName)})))&&e.attributes.extmaps.splice(t,1)}}function wr(e,t,A){var n,r,i,o;t&&("video"===e.media.mediaType?(n=A.videoExtensions,r=A.videoCodecs):(n=A.audioExtensions,r=A.audioCodecs),!0===t.twcc?(A=n.find((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName})))&&(e.attributes.extmaps.find((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName}))||e.attributes.extmaps.push({entry:A.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"}),(i=r,o=e.attributes.payloads,o.filter((function(e){return!!i.find((function(t){return t.payloadType===e.payloadType&&!!t.rtcpFeedbacks.find((function(e){return"transport-cc"===e.type}))}))}))).forEach((function(e){e.rtcpFeedbacks.find((function(e){return"transport-cc"===e.type}))||e.rtcpFeedbacks.push({type:"transport-cc"})}))):!1===t.twcc&&(-1!==(A=e.attributes.extmaps.findIndex((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName})))&&e.attributes.extmaps.splice(A,1),e.attributes.payloads.forEach((function(e){var t=e.rtcpFeedbacks.findIndex((function(e){return"transport-cc"===e.type}));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))),!0===t.remb?(t=n.find((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName})))&&(e.attributes.extmaps.find((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName}))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}),function(e,t){return t.filter((function(t){return!!e.find((function(e){return e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((function(e){return"goog-remb"===e.type}))}))}))}(r,e.attributes.payloads).forEach((function(e){e.rtcpFeedbacks.find((function(e){return"goog-remb"===e.type}))||e.rtcpFeedbacks.push({type:"goog-remb"})}))):!1===t.remb&&(-1!==(r=e.attributes.extmaps.findIndex((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName})))&&e.attributes.extmaps.splice(r,1),e.attributes.payloads.forEach((function(e){var t=e.rtcpFeedbacks.findIndex((function(e){return"goog-remb"===e.type}));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))))}function Dr(e,t,A){if(!oe()&&"video"===e.media.mediaType&&t instanceof _Q&&!("vp9"!==A&&"vp8"!==A||"vp8"===A&&!Th.SIMULCAST||void 0===t._scalabilityMode||1>=t._scalabilityMode.numSpatialLayers)){t="vp8"===A?2:t._scalabilityMode.numSpatialLayers;var n=e.attributes.ssrcs[0];A=e.attributes.ssrcGroups.find((function(e){return"FID"===e.semantic&&e.ssrcIds[0]===n.ssrcId}));for(var r={semantic:"SIM",ssrcIds:[n.ssrcId]},i=1;i<t;i++)e.attributes.ssrcs.push({ssrcId:n.ssrcId+i,attributes:Je(n.attributes)}),r.ssrcIds.push(n.ssrcId+i),A&&(e.attributes.ssrcs.push({ssrcId:A.ssrcIds[1]+i,attributes:Je(n.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[n.ssrcId+i,A.ssrcIds[1]+i]}));e.attributes.ssrcGroups.unshift(r)}}function kr(){return Nr.apply(this,arguments)}function Nr(){return(Nr=pa(O.mark((function e(){var t,A,n,r,i,o,a,s,c=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<c.length&&void 0!==c[0]?c[0]:{},A=1<c.length&&void 0!==c[1]?c[1]:{},(n=new RTCPeerConnection).addTransceiver("video",{direction:"sendonly"}),n.addTransceiver("audio",{direction:"sendonly"}),n.addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"}),e.next=5,n.createOffer();case 5:r=e.sent.sdp,i=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},A=2<arguments.length?arguments[2]:void 0,n=Br(A,e,t,"sendonly"),r=Br(A,e,t,"recvonly");if(Or(n,r,"videoExtensions",e={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},t={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},A={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]}),Or(n,r,"videoCodecs",e,t,A),Or(n,r,"audioExtensions",e,t,A),Or(n,r,"audioCodecs",e,t,A),Th.RAISE_H264_BASELINE_PRIORITY&&-1!==(n=A.videoCodecs.findIndex((function(e){var t,A;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"===(null===(A=e.fmtp)||void 0===A?void 0:A.parameters["profile-level-id"])})))){if((r=A.videoCodecs.findIndex((function(e){var t;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())})))<n){qh.debug("raising H264 baseline profile priority");var i=A.videoCodecs[n];A.videoCodecs.splice(n,1),A.videoCodecs.splice(r,0,i)}-1!==r&&(t.videoCodecs=t.videoCodecs.filter((function(e){var t,A;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(A=e.fmtp)||void 0===A?void 0:A.parameters["profile-level-id"]))}))),-1!==r&&Th.FILTER_SEND_H264_BASELINE&&(e.videoCodecs=e.videoCodecs.filter((function(e){var t,A;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(A=e.fmtp)||void 0===A?void 0:A.parameters["profile-level-id"]))})))}return{send:e,recv:t,sendrecv:A}}(t,A,r),o=i.send,a=i.recv,s=i.sendrecv;try{n.close()}catch(e){}return e.abrupt("return",{send:o,recv:a,sendrecv:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tr(){var e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=Br(2<arguments.length?arguments[2]:void 0,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},"recvonly"),A={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Or(e,t,"videoExtensions",A,n,r),Or(e,t,"videoCodecs",A,n,r),Or(e,t,"audioExtensions",A,n,r),Or(e,t,"audioCodecs",A,n,r),Th.RAISE_H264_BASELINE_PRIORITY&&-1!==(e=r.videoCodecs.findIndex((function(e){return e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]})))){if((t=r.videoCodecs.findIndex((function(e){return e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()})))<e){qh.debug("raising H264 baseline profile priority");var i=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,i)}-1!==t&&(n.videoCodecs=n.videoCodecs.filter((function(e){return!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"])})))}return{send:A,recv:n,sendrecv:r}}function Or(e,t,A,n,r,i){if("videoExtensions"===A||"audioExtensions"===A){var o=[];return e[A].forEach((function(e){t[A].some((function(t,A){if(e.entry===t.entry&&e.extensionName===t.extensionName)return o.push(A),!0}))?i[A].push(e):n[A].push(e)})),void t[A].forEach((function(e,t){-1===o.indexOf(t)&&r[A].push(e)}))}if("videoCodecs"===A||"audioCodecs"===A){var a=[];return e[A].forEach((function(e){t[A].some((function(t,A){if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return a.push(A),!0}))?i[A].push(e):n[A].push(e)})),void t[A].forEach((function(e,t){-1===a.indexOf(t)&&r[A].push(e)}))}}function Lr(e){var t,A,n=e.send,r=e.recv;if(!(e=e.sendrecv)){if(!n||!r)throw Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:n,recv:r}}return n?((t={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]}).audioCodecs=[].concat(rb(n.audioCodecs),rb(e.audioCodecs)),t.videoCodecs=[].concat(rb(n.videoCodecs),rb(e.videoCodecs)),t.audioExtensions=[].concat(rb(n.audioExtensions),rb(e.audioExtensions)),t.videoExtensions=[].concat(rb(n.videoExtensions),rb(e.videoExtensions))):t=e,r?((A={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]}).audioCodecs=[].concat(rb(r.audioCodecs),rb(e.audioCodecs)),A.videoCodecs=[].concat(rb(r.videoCodecs),rb(e.videoCodecs)),A.audioExtensions=[].concat(rb(r.audioExtensions),rb(e.audioExtensions)),A.videoExtensions=[].concat(rb(r.videoExtensions),rb(e.videoExtensions))):A=e,{send:t,recv:A}}function Mr(e){"audio"===e.media.mediaType&&e.attributes.payloads.filter((function(e){var t;return"opus"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((function(e){e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"}))}function Ur(e){e.mediaDescriptions.forEach((function(e){"video"!==e.media.mediaType&&"audio"!==e.media.mediaType||e.attributes.payloads.forEach((function(e){-1===e.rtcpFeedbacks.findIndex((function(e){return"rrtr"===e.type}))&&e.rtcpFeedbacks.push({type:"rrtr"})}))}))}function xr(e,t,A,n){var r=[];if(e===jp.VIDEO){if(Th.H264_PROFILE_LEVEL_ID&&"h264"===n&&(r=t.videoCodecs.filter((function(e){var t;return Xs(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,n)&&e&&e.fmtp&&e.fmtp.parameters["profile-level-id"]===Th.H264_PROFILE_LEVEL_ID}))),!Array.isArray(r)||0===r.length){var i=[],o=[],a=[];A.videoCodecs.forEach((function(e){var t,A,r;Xs(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,n)&&i.push(e),Xs(A=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(A,"vp8")&&o.push(e),Xs(r=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(r,"h264")&&a.push(e)})),0===i.length&&(0!==o.length?(i=o,qh.warning("codec ".concat(n," not included in rtpCapabilities, fallback to default payloads: vp8"))):0!==a.length&&(i=a,qh.warning("codec ".concat(n," not included in rtpCapabilities, fallback to default payloads: h264")))),0!==i.length&&(r=t.videoCodecs.filter((function(e){return i.some((function(t){return t.payloadType===e.payloadType}))})))}if(Th.USE_PUB_RTX){var s=r.map((function(e){return e.payloadType.toString()}));e=t.videoCodecs.filter((function(e){return e.rtpMap&&"rtx"===e.rtpMap.encodingName&&Xs(s).call(s,e.fmtp&&e.fmtp.parameters.apt||"")})),r=[].concat(rb(r),rb(e))}0===r.length&&(qh.warning("codec ".concat(n," not included in rtpCapabilities, fallback to default payloads: ").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),r=t.videoCodecs)}else 0===(r=t.audioCodecs.filter((function(e){var t;return Xs(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,n)}))).length&&(qh.warning("codec ".concat(n," not included in rtpCapabilities, fallback to opus")),r=t.audioCodecs.filter((function(e){var t;return Xs(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,"opus")})));return r}function Pr(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Gr(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Pr(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Fr(e,t,A){var n=e[t];if("function"!=typeof n)throw Error("Cannot use mutex on object property.");return A.value=pa(O.mark((function e(){var A,r,i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=this.mutex,e.next=3,A.lock("From P2PConnection.".concat(t));case 3:for(r=e.sent,e.prev=4,i=s.length,o=Array(i),a=0;a<i;a++)o[a]=s[a];return e.next=8,n.apply(this,o);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,r(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),A}function Kr(e,t){var A=document.createElement("video"),n=document.createElement("canvas");A.setAttribute("style","display:none"),n.setAttribute("style","display:none"),A.setAttribute("muted",""),A.muted=!0,A.setAttribute("autoplay",""),A.autoplay=!0,A.setAttribute("playsinline",""),n.width=uA(t.width),n.height=uA(t.height),t=uA(t.framerate||15),document.body.append(A),document.body.append(n);var r=e._mediaStreamTrack;A.srcObject=new MediaStream([r]),A.play();var i=n.getContext("2d");if(!i)throw new _p(pC.UNEXPECTED_ERROR,"can not get canvas context");var o=n.captureStream(lB.supportRequestFrame?0:t).getVideoTracks()[0];o.canvas||(o.canvas=n),n.startCapture=function(){if(!A)return n.stopCapture&&n.stopCapture();if(A.paused&&A.play(),2<A.videoHeight&&2<A.videoWidth){var t=A.videoHeight/A.videoWidth*n.width;2<=Math.abs(t-n.height)&&(qh.debug("adjust low stream resolution","".concat(n.width,"x").concat(n.height," -> ").concat(n.width,"x").concat(t)),n.height=t)}i.drawImage(A,0,0,n.width,n.height),o.requestFrame&&o.requestFrame(),r!==e._mediaStreamTrack&&(r=e._mediaStreamTrack,A.srcObject=new MediaStream([r]))},n.stopCapture=sn((function(){return n.startCapture&&n.startCapture()}),t);var a=o.stop;return o.stop=function(){a.call(o),A&&(A.remove(),A.srcObject=null,A=null),n&&(n.width=0,n.remove(),n.stopCapture&&n.stopCapture(),n.startCapture=void 0,n.stopCapture=void 0,n=null),qh.debug("clean low stream renderer")},o}function Vr(e,t,A){null!=A&&Number.isFinite(A)&&(e[t]=Math.round(Math.max(0,A)))}function Yr(e){var t,A=(na(t={},nb.CONN_TYPE,0),na(t,nb.RTT,e.rtt),t);switch(e.selectedCandidatePair.localCandidate.candidateType){case"relay":"udp"===(e=e.selectedCandidatePair.localCandidate.relayProtocol)&&(A[nb.CONN_TYPE]=1),"tcp"===e&&(A[nb.CONN_TYPE]=3),"tls"===e&&(A[nb.CONN_TYPE]=4);break;case"srflx":A[nb.CONN_TYPE]=2}return A}function Jr(e){var t=lB;if(e.some((function(e){return e._bypassWebAudio})))throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");if(!t.webAudioMediaStreamDest)throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks because your browser does not support audio mixing")}function qr(e,t){Jr(e);var A=t||new CQ;return e.forEach((function(e){return A.addAudioTrack(e)})),A}function Hr(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function jr(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Hr(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Wr(e){return function(t,A,n){var r=t[A];if("function"!=typeof r)throw Error("Cannot use mutex on object property.");return n.value=pa(O.mark((function t(){var n,i,o,a,s,c,u,g=arguments;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=g.length,i=Array(n),o=0;o<n;o++)i[o]=g[o];t.t0=e,t.next=t.t0===yb.SEND_ONLY?4:t.t0===yb.RECEIVE_ONLY?14:24;break;case 4:return t.next=6,this.sendMutex.lock("From P2PChannel2.".concat(A));case 6:return a=t.sent,t.prev=7,t.next=10,r.apply(this,i);case 10:return t.abrupt("return",t.sent);case 11:return t.prev=11,a(),t.finish(11);case 14:return t.next=16,this.recvMutex.lock("From P2PChannel2.".concat(A));case 16:return s=t.sent,t.prev=17,t.next=20,r.apply(this,i);case 20:return t.abrupt("return",t.sent);case 21:return t.prev=21,s(),t.finish(21);case 24:return t.next=26,this.sendMutex.lock("From P2PChannel2.".concat(A));case 26:return c=t.sent,t.next=29,this.recvMutex.lock("From P2PChannel2.".concat(A));case 29:return u=t.sent,t.prev=30,t.next=33,r.apply(this,i);case 33:return t.abrupt("return",t.sent);case 34:return t.prev=34,c(),u(),t.finish(34);case 37:case"end":return t.stop()}}),t,this,[[7,,11,14],[17,,21,24],[30,,34,37]])}))),n}}function Xr(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function zr(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Xr(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Zr(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function $r(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Zr(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function ei(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function ti(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):ei(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Ai(e){if(!(e instanceof wb))return new _p(pC.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();var t=e.getSrcChannelMediaInfo();return e=e.getDestChannelMediaInfo(),t?0===e.size?new _p(pC.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new _p(pC.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}function ni(e){function t(t,A){return n=!0,{done:!1,value:new rr(A=new M_((function(n){n(e[t](A))})),1)}}var A={},n=!1;return A[void 0!==pI&&RI||"@@iterator"]=function(){return this},A.next=function(e){return n?(n=!1,e):t("next",e)},"function"==typeof e.throw&&(A.throw=function(e){if(n)throw n=!1,e;return t("throw",e)}),"function"==typeof e.return&&(A.return=function(e){return n?(n=!1,e):t("return",e)}),A}function ri(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function ii(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):ri(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function oi(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function ai(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):oi(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function si(e,t,A){var n=e[t];if("function"!=typeof n)throw Error("Cannot use mutex on object property.");return A.value=pa(O.mark((function e(){var A,r,i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=this.mutex,e.next=3,A.lock("Locking from P2PConnection.".concat(t));case 3:for(r=e.sent,e.prev=4,i=s.length,o=Array(i),a=0;a<i;a++)o[a]=s[a];return e.next=8,n.apply(this,o);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,r(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),A}function ci(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function ui(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):ci(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function gi(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Ii(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):gi(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function li(e,t,A){var n=e[t];if("function"!=typeof n)throw Error("Cannot use mutex on object property.");return A.value=pa(O.mark((function e(){var A,r,i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=this.mutex,e.next=3,A.lock("From P2PConnection.".concat(t));case 3:for(r=e.sent,e.prev=4,i=s.length,o=Array(i),a=0;a<i;a++)o[a]=s[a];return e.next=8,n.apply(this,o);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,r(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),A}function Ei(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Ci(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Ei(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function di(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function hi(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?di(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):di(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function pi(e,t,A){var n=e[t];if("function"!=typeof n)throw Error("Cannot use mutex on object property.");return A.value=pa(O.mark((function e(){var A,r,i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=this.mutex,e.next=3,A.lock("From NVExtentionsConnection.".concat(t));case 3:for(r=e.sent,e.prev=4,i=s.length,o=Array(i),a=0;a<i;a++)o[a]=s[a];return e.next=8,n.apply(this,o);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,r(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),A}function fi(e){var t,A,n,r=2;for("undefined"!=typeof Symbol&&(A=Nb,n=Symbol.iterator);r--;){if(A&&null!=(t=e[A]))return t.call(e);if(n&&null!=(t=e[n]))return new Bi(t.call(e));A="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Bi(e){function t(e){if(Object(e)!==e)return IC.reject(new TypeError(e+" is not an object."));var t=e.done;return IC.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(Bi=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var A=this.s.return;return void 0===A?IC.resolve({value:e,done:!0}):t(A.apply(this.s,arguments))},throw:function(e){var A=this.s.return;return void 0===A?IC.reject(e):t(A.apply(this.s,arguments))}},new Bi(e)}function Qi(e,t,A){var n=e[t];if("function"!=typeof n)throw Error("Cannot use mutex on object property.");return A.value=pa(O.mark((function e(){var A,r,i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=this.mutex,e.next=3,A.lock("From DataChannelConnection.".concat(t));case 3:for(r=e.sent,e.prev=4,i=s.length,o=Array(i),a=0;a<i;a++)o[a]=s[a];return e.next=8,n.apply(this,o);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,r(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),A}function yi(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function vi(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):yi(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function mi(e){var t,A,n,r=2;for("undefined"!=typeof Symbol&&(A=Nb,n=Symbol.iterator);r--;){if(A&&null!=(t=e[A]))return t.call(e);if(n&&null!=(t=e[n]))return new _i(t.call(e));A="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function _i(e){function t(e){if(Object(e)!==e)return IC.reject(new TypeError(e+" is not an object."));var t=e.done;return IC.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(_i=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var A=this.s.return;return void 0===A?IC.resolve({value:e,done:!0}):t(A.apply(this.s,arguments))},throw:function(e){var A=this.s.return;return void 0===A?IC.reject(e):t(A.apply(this.s,arguments))}},new _i(e)}function bi(e,t,A){var n=e[t];if("function"!=typeof n)throw Error("Cannot use mutex on object property.");return A.value=pa(O.mark((function e(){var A,r,i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=this.mutex,e.next=3,A.lock("From P2PChannel.".concat(t));case 3:for(r=e.sent,e.prev=4,i=s.length,o=Array(i),a=0;a<i;a++)o[a]=s[a];return e.next=8,n.apply(this,o);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,r(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),A}function Ri(e){var t,A,n=ki();return function(e,t){var A=e.appId;if(void 0!==A&&(Gi(t,10),Mi(t,A)),void 0!==(A=e.cid)&&(Gi(t,16),Gi(t,A)),void 0!==(A=e.cname)&&(Gi(t,26),Mi(t,A)),void 0!==(A=e.deviceId)&&(Gi(t,34),Mi(t,A)),void 0!==(A=e.elapse)&&(Gi(t,40),Fi(t,A)),void 0!==(A=e.fileSize)&&(Gi(t,48),Fi(t,Di(A))),void 0!==(A=e.height)&&(Gi(t,56),Fi(t,Di(A))),void 0!==(A=e.jpg)){Gi(t,66),Gi(t,A.length);var n=Ti(t,A.length);t.bytes.set(A,n)}if(void 0!==(A=e.networkType)&&(Gi(t,72),Fi(t,Di(A))),void 0!==(A=e.osType)&&(Gi(t,80),Fi(t,Di(A))),void 0!==(A=e.requestId)&&(Gi(t,90),Mi(t,A)),void 0!==(A=e.sdkVersion)&&(Gi(t,98),Mi(t,A)),void 0!==(A=e.sequence)&&(Gi(t,104),Fi(t,Di(A))),void 0!==(A=e.sid)&&(Gi(t,114),Mi(t,A)),void 0!==(A=e.timestamp)&&(Gi(t,120),Fi(t,A)),void 0!==(A=e.uid)&&(Gi(t,128),Gi(t,A)),void 0!==(A=e.vid)&&(Gi(t,136),Gi(t,A)),void 0!==(A=e.width)&&(Gi(t,144),Fi(t,Di(A))),void 0!==(A=e.service)&&(Gi(t,152),Gi(t,A)),void 0!==(A=e.callbackData)&&(Gi(t,162),Mi(t,A)),void 0!==(A=e.jpgEncryption)&&(Gi(t,168),Gi(t,A)),void 0!==(A=e.requestType)&&(Gi(t,176),Gi(t,A)),void 0!==(A=e.scorePorn)&&(Gi(t,185),xi(t,A)),void 0!==(A=e.scoreSexy)&&(Gi(t,193),xi(t,A)),void 0!==(A=e.scoreNeutral)&&(Gi(t,201),xi(t,A)),void 0!==(A=e.scene)&&(Gi(t,208),Gi(t,A)),void 0!==(A=e.ossFilePrefix)&&(Gi(t,218),Mi(t,A)),void 0!==(e=e.serviceVendor))for(A=0;A<e.length;A++){var r=e[A];Gi(t,226);var i=r;r=n=ki();var o=i.service;void 0!==o&&(Gi(r,8),Gi(r,o)),void 0!==(o=i.vendor)&&(Gi(r,16),Gi(r,o)),void 0!==(o=i.token)&&(Gi(r,26),Mi(r,o)),void 0!==(i=i.callbackUrl)&&(Gi(r,34),Mi(r,i)),Gi(t,n.limit),r=Ti(o=t,(i=n).limit),o=o.bytes;var a=i.bytes,s=0;for(i=i.limit;s<i;s++)o[s+r]=a[s];Vb.push(n)}}(e,n),A=(t=n).bytes,t=t.limit,A.length===t?A:A.subarray(0,t)}function Si(e){e={bytes:i=e,offset:0,limit:i.length},i={};e:for(;!(e.offset>=e.limit);){var t=Pi(e);switch(t>>>3){case 0:break e;case 1:i.code=Pi(e);break;case 2:i.msg=Li(e,Pi(e));break;case 3:var A=Pi(t=e),n=t.limit;t.limit=t.offset+A,t=n,A=e,n={};t:for(;!(A.offset>=A.limit);){var r=Pi(A);switch(r>>>3){case 0:break t;case 1:n.requestId=Li(A,Pi(A));break;case 2:n.requestType=Pi(A)>>>0;break;case 3:n.scorePorn=Ui(A);break;case 4:n.scoreSexy=Ui(A);break;case 5:n.scoreNeutral=Ui(A);break;case 6:n.requestScene=Pi(A)>>>0;break;case 7:n.scene=Pi(A)>>>0;break;default:wi(A,7&r)}}i.data=n,e.limit=t;break;default:wi(e,7&t)}}return i;var i}function wi(e,t){switch(t){case 0:for(;128&e.bytes[Oi(e,1)];);break;case 2:Ni(e,Pi(e));break;case 5:Ni(e,4);break;case 1:Ni(e,8);break;default:throw Error("Unimplemented type: "+t)}}function Di(e){return{low:e|=0,high:e>>31,unsigned:0<=e}}function ki(){var e=Vb.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function Ni(e,t){if(e.offset+t>e.limit)throw Error("Skip past limit");e.offset+=t}function Ti(e,t){var A=e.bytes,n=e.offset,r=e.limit;if((t=n+t)>A.length){var i=new Uint8Array(2*t);i.set(A),e.bytes=i}return e.offset=t,t>r&&(e.limit=t),n}function Oi(e,t){var A=e.offset;if(A+t>e.limit)throw Error("Read past limit");return e.offset+=t,A}function Li(e,t){var A=Oi(e,t),n=String.fromCharCode;e=e.bytes;for(var r="",i=0;i<t;i++){var o=void 0,a=void 0,s=void 0,c=void 0,u=e[i+A];0==(128&u)?r+=n(u):192==(224&u)?i+1>=t||128!=(192&(o=e[i+A+1]))||128>(c=(31&u)<<6|63&o)?r+="":(r+=n(c),i++):224==(240&u)?i+2>=t||32896!=(49344&((o=e[i+A+1])|(a=e[i+A+2])<<8))||2048>(c=(15&u)<<12|(63&o)<<6|63&a)||55296<=c&&57343>=c?r+="":(r+=n(c),i+=2):240==(248&u)?i+3>=t||8421504!=(12632256&((o=e[i+A+1])|(a=e[i+A+2])<<8|(s=e[i+A+3])<<16))||65536>(c=(7&u)<<18|(63&o)<<12|(63&a)<<6|63&s)||1114111<c?r+="":(r+=n(55296+((c-=65536)>>10),56320+(1023&c)),i+=3):r+=""}return r}function Mi(e,t){for(var A=t.length,n=0,r=0;r<A;r++){var i=t.charCodeAt(r);55296<=i&&56319>=i&&r+1<A&&(i=(i<<10)+t.charCodeAt(++r)-56613888),n+=128>i?1:2048>i?2:65536>i?3:4}for(Gi(e,n),n=Ti(e,n),e=e.bytes,r=0;r<A;r++)55296<=(i=t.charCodeAt(r))&&56319>=i&&r+1<A&&(i=(i<<10)+t.charCodeAt(++r)-56613888),128>i?e[n++]=i:(2048>i?e[n++]=i>>6&31|192:(65536>i?e[n++]=i>>12&15|224:(e[n++]=i>>18&7|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}function Ui(e){var t=Oi(e,8);return e=e.bytes,Kb[0]=e[t++],Kb[1]=e[t++],Kb[2]=e[t++],Kb[3]=e[t++],Kb[4]=e[t++],Kb[5]=e[t++],Kb[6]=e[t++],Kb[7]=e[t++],Fb[0]}function xi(e,t){var A=Ti(e,8);e=e.bytes,Fb[0]=t,e[A++]=Kb[0],e[A++]=Kb[1],e[A++]=Kb[2],e[A++]=Kb[3],e[A++]=Kb[4],e[A++]=Kb[5],e[A++]=Kb[6],e[A++]=Kb[7]}function Pi(e){var t=0,A=0;do{var n=e.bytes[Oi(e,1)];32>t&&(A|=(127&n)<<t),t+=7}while(128&n);return A}function Gi(e,t){for(t>>>=0;128<=t;){var A=e,n=127&t|128,r=Ti(A,1);A.bytes[r]=n,t>>>=7}A=Ti(e,1),e.bytes[A]=t}function Fi(e,t){var A=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=0==(t=t.high>>>24)?0===n?16384>A?128>A?1:2:2097152>A?3:4:16384>n?128>n?5:6:2097152>n?7:8:128>t?9:10,i=Ti(e,r);switch(e=e.bytes,r){case 10:e[i+9]=t>>>7&1;case 9:e[i+8]=9!==r?128|t:127&t;case 8:e[i+7]=8!==r?n>>>21|128:n>>>21&127;case 7:e[i+6]=7!==r?n>>>14|128:n>>>14&127;case 6:e[i+5]=6!==r?n>>>7|128:n>>>7&127;case 5:e[i+4]=5!==r?128|n:127&n;case 4:e[i+3]=4!==r?A>>>21|128:A>>>21&127;case 3:e[i+2]=3!==r?A>>>14|128:A>>>14&127;case 2:e[i+1]=2!==r?A>>>7|128:A>>>7&127;case 1:e[i]=1!==r?128|A:127&A}}function Ki(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Vi(e){var t,A=(t=qb.pop())?(t.offset=t.limit=0,t):{bytes:new Uint8Array(64),offset:0,limit:0};return function(e,t){var A=e.appId;if(void 0!==A&&($i(t,10),Xi(t,A)),void 0!==(A=e.cid)&&($i(t,16),$i(t,A)),void 0!==(A=e.cname)&&($i(t,26),Xi(t,A)),void 0!==(A=e.deviceId)&&($i(t,34),Xi(t,A)),void 0!==(A=e.elapse)&&($i(t,40),eo(t,A)),void 0!==(A=e.fileSize)&&($i(t,48),eo(t,Ji(A))),void 0!==(A=e.height)&&($i(t,56),eo(t,Ji(A))),void 0!==(A=e.jpg)){$i(t,66),$i(t,A.length);var n=Hi(t,A.length);t.bytes.set(A,n)}void 0!==(A=e.networkType)&&($i(t,72),eo(t,Ji(A))),void 0!==(A=e.osType)&&($i(t,80),eo(t,Ji(A))),void 0!==(A=e.requestId)&&($i(t,90),Xi(t,A)),void 0!==(A=e.sdkVersion)&&($i(t,98),Xi(t,A)),void 0!==(A=e.sequence)&&($i(t,104),eo(t,Ji(A))),void 0!==(A=e.sid)&&($i(t,114),Xi(t,A)),void 0!==(A=e.timestamp)&&($i(t,120),eo(t,A)),void 0!==(A=e.uid)&&($i(t,128),$i(t,A)),void 0!==(A=e.vid)&&($i(t,136),$i(t,A)),void 0!==(A=e.width)&&($i(t,144),eo(t,Ji(A))),void 0!==(A=e.service)&&($i(t,152),$i(t,A)),void 0!==(A=e.callbackData)&&($i(t,162),$i(t,A.length),n=Hi(t,A.length),t.bytes.set(A,n)),void 0!==(A=e.ticket)&&($i(t,170),Xi(t,A)),void 0!==(e=e.vendorConfigs)&&($i(t,178),Xi(t,e))}(e,A),function(e){var t=e.bytes;return e=e.limit,t.length===e?t:t.subarray(0,e)}(A)}function Yi(e){e={bytes:o=e,offset:0,limit:o.length},o={};e:for(;!(e.offset>=e.limit);){var t=Zi(e);switch(t>>>3){case 0:break e;case 1:o.code=Zi(e);break;case 2:o.msg=Wi(e,Zi(e));break;case 3:o.requestId=Wi(e,Zi(e));break;case 4:var A=void 0,n=e,r=t=0,i=0;t=127&(A=zi(n)),128&A&&(t|=(127&(A=zi(n)))<<7,128&A&&(t|=(127&(A=zi(n)))<<14,128&A&&(t|=(127&(A=zi(n)))<<21,128&A&&(r=127&(A=zi(n)),128&A&&(r|=(127&(A=zi(n)))<<7,128&A&&(r|=(127&(A=zi(n)))<<14,128&A&&(r|=(127&(A=zi(n)))<<21,128&A&&(i=127&(A=zi(n)),128&A&&(i|=(127&(A=zi(n)))<<7))))))))),n={low:t|r<<28,high:r>>>4|i<<24,unsigned:!1},o.timestamp=n;break;default:switch(A=e,t&=7){case 0:for(;128&zi(A););break;case 2:qi(A,Zi(A));break;case 5:qi(A,4);break;case 1:qi(A,8);break;default:throw Error("Unimplemented type: "+t)}}}return o;var o}function Ji(e){return{low:e|=0,high:e>>31,unsigned:0<=e}}function qi(e,t){if(e.offset+t>e.limit)throw Error("Skip past limit");e.offset+=t}function Hi(e,t){var A=e.bytes,n=e.offset,r=e.limit;if((t=n+t)>A.length){var i=new Uint8Array(2*t);i.set(A),e.bytes=i}return e.offset=t,t>r&&(e.limit=t),n}function ji(e,t){var A=e.offset;if(A+t>e.limit)throw Error("Read past limit");return e.offset+=t,A}function Wi(e,t){var A=ji(e,t),n=String.fromCharCode;e=e.bytes;for(var r="",i=0;i<t;i++){var o=void 0,a=void 0,s=void 0,c=void 0,u=e[i+A];0==(128&u)?r+=n(u):192==(224&u)?i+1>=t||128!=(192&(o=e[i+A+1]))||128>(c=(31&u)<<6|63&o)?r+="":(r+=n(c),i++):224==(240&u)?i+2>=t||32896!=(49344&((o=e[i+A+1])|(a=e[i+A+2])<<8))||2048>(c=(15&u)<<12|(63&o)<<6|63&a)||55296<=c&&57343>=c?r+="":(r+=n(c),i+=2):240==(248&u)?i+3>=t||8421504!=(12632256&((o=e[i+A+1])|(a=e[i+A+2])<<8|(s=e[i+A+3])<<16))||65536>(c=(7&u)<<18|(63&o)<<12|(63&a)<<6|63&s)||1114111<c?r+="":(r+=n(55296+((c-=65536)>>10),56320+(1023&c)),i+=3):r+=""}return r}function Xi(e,t){for(var A=t.length,n=0,r=0;r<A;r++){var i=t.charCodeAt(r);55296<=i&&56319>=i&&r+1<A&&(i=(i<<10)+t.charCodeAt(++r)-56613888),n+=128>i?1:2048>i?2:65536>i?3:4}for($i(e,n),n=Hi(e,n),e=e.bytes,r=0;r<A;r++)55296<=(i=t.charCodeAt(r))&&56319>=i&&r+1<A&&(i=(i<<10)+t.charCodeAt(++r)-56613888),128>i?e[n++]=i:(2048>i?e[n++]=i>>6&31|192:(65536>i?e[n++]=i>>12&15|224:(e[n++]=i>>18&7|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}function zi(e){return e.bytes[ji(e,1)]}function Zi(e){var t=0,A=0;do{var n=zi(e);32>t&&(A|=(127&n)<<t),t+=7}while(128&n);return A}function $i(e,t){for(t>>>=0;128<=t;){var A=e,n=127&t|128,r=Hi(A,1);A.bytes[r]=n,t>>>=7}A=Hi(e,1),e.bytes[A]=t}function eo(e,t){var A=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=0==(t=t.high>>>24)?0===n?16384>A?128>A?1:2:2097152>A?3:4:16384>n?128>n?5:6:2097152>n?7:8:128>t?9:10,i=Hi(e,r);switch(e=e.bytes,r){case 10:e[i+9]=t>>>7&1;case 9:e[i+8]=9!==r?128|t:127&t;case 8:e[i+7]=8!==r?n>>>21|128:n>>>21&127;case 7:e[i+6]=7!==r?n>>>14|128:n>>>14&127;case 6:e[i+5]=6!==r?n>>>7|128:n>>>7&127;case 5:e[i+4]=5!==r?128|n:127&n;case 4:e[i+3]=4!==r?A>>>21|128:A>>>21&127;case 3:e[i+2]=3!==r?A>>>14|128:A>>>14&127;case 2:e[i+1]=2!==r?A>>>7|128:A>>>7&127;case 1:e[i]=1!==r?128|A:127&A}}function to(e,t){var A,n,r;return t?(r=0<=(e>>>=0)&&256>e)&&(n=jb[e])?n:(A=Ao(e,0,!0),r&&(jb[e]=A),A):(r=-128<=(e|=0)&&128>e)&&(n=Hb[e])?n:(A=Ao(e,0>e?-1:0,!1),r&&(Hb[e]=A),A)}function Ao(e,t,A){return{low:0|e,high:0|t,unsigned:!!A}}function no(e,t){if(isNaN(e))return t?tR:AR;if(t){if(0>e)return tR;if(e>=Wb)return iR}else{if(e<=-eR)return nR;if(e+1>=eR)return rR}return 0>e?t?tR:AR:Ao(e%4294967296|0,e/4294967296|0,t)}function ro(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function io(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function oo(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?io(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):io(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function ao(e){return so.apply(this,arguments)}function so(){return(so=pa(O.mark((function e(t){var A,n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=sR.get(t),n=Array.isArray(A)&&A[A.length-1],r=cR.get(t),n){e.next=3;break}return e.abrupt("return",void(r.isSyncing=!1));case 3:i={uid:n.uid,payload:n.payload},0===r.firstRecvTs&&(r.firstRecvTs=n.recvTs,r.firstSendTs=n.sendTs),o=n.sendTs-r.firstSendTs,0<(a=o-(Date.now()-r.firstRecvTs))&&(r.firstRecvTs=Date.now()-o),0>=(s=n.mediaDelay+a)?(A.pop(),co(n.context,i),s=0):s=Math.min(s,20),setTimeout((function(){return A.length&&ao(t)}),s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e,t){e.safeEmit(wC.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function uo(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,A=2<arguments.length?arguments[2]:void 0;if(!e.syncWithAudio)return co(A,{uid:e.uid,payload:e.payload});var n,r="".concat(A.id,"-").concat(e.uid),i=sR.get(r)||[],o=i.findIndex((function(t){return e.sendTs>=t.sendTs}));t=oo(oo({},e),{},{context:A,mediaDelay:t,recvTs:Date.now()}),-1===o?i.push(t):i.splice(o,0,t),sR.set(r,i),i=!1,cR.has(r)?i=!(null===(n=cR.get(r))||void 0===n||!n.isSyncing):cR.set(r,{isSyncing:i,firstRecvTs:0,firstSendTs:0}),i||ao(r)}function go(){return e=16,t=0,A=!0,!((n=ee()).os===cC.IOS&&n.osVersion&&(n=n.osVersion.split("."),A?t&&Number(n[0])===e&&Number(n[1])<t||Number(n[0])<e:t?Number(n[0])===e&&Number(n[1])<=t||Number(n[0])<e:Number(n[0])<=e)||function(e,t,A){var n=ee();return!(n.name!==uC.SAFARI||!n.osVersion)&&(n=n.version.split("."),A?t&&Number(n[0])===e&&Number(n[1])<t||Number(n[0])<e:t?Number(n[0])===e&&Number(n[1])<=t||Number(n[0])<e:Number(n[0])<=e)}(16,0,!0));var e,t,A,n}function Io(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function lo(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Io(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function Eo(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function Co(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Eo(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function ho(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(dR){var A=pR._cspEventHandlerPointer;if(A&&t)return void console.error(A,t);var n=function(e){if(e&&e.blockedURI&&(pR.onSecurityPolicyViolation||0<pR.getListeners(af.SECURITY_POLICY_VIOLATION).length)){var t=e.blockedURI;Th.CSP_DETECTED_HOSTNAME_LIST.some((function(e){return Xs(t).call(t,e)}))&&(pR.onSecurityPolicyViolation&&"function"==typeof pR.onSecurityPolicyViolation&&pR.onSecurityPolicyViolation(e),0<pR.getListeners(af.SECURITY_POLICY_VIOLATION).length&&pR.safeEmit(af.SECURITY_POLICY_VIOLATION,e))}};A&&dR.removeEventListener("securitypolicyviolation",A),(t||e&&"function"==typeof e||0<pR.getListeners(af.SECURITY_POLICY_VIOLATION).length)&&dR.addEventListener("securitypolicyviolation",n),pR._cspEventHandlerPointer=n}}var po,fo,Bo,Qo,yo,vo,mo,_o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==Xb?Xb:"undefined"!=typeof self?self:{},bo=function(e){try{return!!e()}catch(e){return!0}},Ro=!bo((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),So=Function.prototype,wo=So.call,Do=Ro&&So.bind.bind(wo,wo),ko=Ro?Do:function(e){return function(){return wo.apply(e,arguments)}},No=ko({}.isPrototypeOf),To=function(e){return e&&e.Math==Math&&e},Oo=To("object"==("undefined"==typeof globalThis?"undefined":ub(globalThis))&&globalThis)||To("object"==("undefined"==typeof window?"undefined":ub(window))&&window)||To("object"==("undefined"==typeof self?"undefined":ub(self))&&self)||To("object"==ub(_o)&&_o)||function(){return this}()||_o||Function("return this")(),Lo=Function.prototype,Mo=Lo.apply,Uo=Lo.call,xo="object"==("undefined"==typeof Reflect?"undefined":ub(Reflect))&&Reflect.apply||(Ro?Uo.bind(Mo):function(){return Uo.apply(Mo,arguments)}),Po=ko({}.toString),Go=ko("".slice),Fo=function(e){return Go(Po(e),8,-1)},Ko=function(e){if("Function"===Fo(e))return ko(e)},Vo="object"==("undefined"==typeof document?"undefined":ub(document))&&document.all,Yo=void 0===Vo&&void 0!==Vo,Jo=Yo?function(e){return"function"==typeof e||e===Vo}:function(e){return"function"==typeof e},qo=!bo((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ho=Function.prototype.call,jo=Ro?Ho.bind(Ho):function(){return Ho.apply(Ho,arguments)},Wo={}.propertyIsEnumerable,Xo=Object.getOwnPropertyDescriptor,zo=Xo&&!Wo.call({1:2},1)?function(e){return!!(e=Xo(this,e))&&e.enumerable}:Wo,Zo=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},$o=Object,ea=ko("".split),ta=bo((function(){return!$o("z").propertyIsEnumerable(0)}))?function(e){return"String"==Fo(e)?ea(e,""):$o(e)}:$o,Aa=TypeError,ra=function(e){if(null==e)throw Aa("Can't call method on "+e);return e},ia=function(e){return ta(ra(e))},oa=Yo?function(e){return"object"==ub(e)?null!==e:Jo(e)||e===Vo}:function(e){return"object"==ub(e)?null!==e:Jo(e)},aa={},sa=function(e){return Jo(e)?e:void 0},ca=function(e,t){return 2>arguments.length?sa(aa[e])||sa(Oo[e]):aa[e]&&aa[e][t]||Oo[e]&&Oo[e][t]},ua="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ga=Oo.process,Ia=Oo.Deno,la=ga&&ga.versions||Ia&&Ia.version,Ea=la&&la.v8;Ea&&(mo=0<(vo=Ea.split("."))[0]&&4>vo[0]?1:+(vo[0]+vo[1])),!mo&&ua&&(!(vo=ua.match(/Edge\/(\d+)/))||74<=vo[1])&&(vo=ua.match(/Chrome\/(\d+)/))&&(mo=+vo[1]);var Ca=mo,da=Oo.String,ha=!!Object.getOwnPropertySymbols&&!bo((function(){var e=Symbol();return!da(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ca&&41>Ca})),fa=ha&&!Symbol.sham&&"symbol"==ub(Symbol.iterator),Ba=Object,Qa=fa?function(e){return"symbol"==ub(e)}:function(e){var t=ca("Symbol");return Jo(t)&&No(t.prototype,Ba(e))},ya=String,va=function(e){try{return ya(e)}catch(e){return"Object"}},ma=TypeError,_a=function(e){if(Jo(e))return e;throw ma(va(e)+" is not a function")},ba=function(e,t){return null==(e=e[t])?void 0:_a(e)},Ra=TypeError,Sa={},wa=Object.defineProperty,Da=function(e,t){try{wa(Oo,e,{value:t,configurable:!0,writable:!0})}catch(A){Oo[e]=t}return t},ka=Oo["__core-js_shared__"]||Da("__core-js_shared__",{});(Sa=function(e,t){return ka[e]||(ka[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Na=Sa,Ta=Object,Oa=function(e){return Ta(ra(e))},La=ko({}.hasOwnProperty),Ma=Object.hasOwn||function(e,t){return La(Oa(e),t)},Ua=0,xa=Math.random(),Pa=ko(1..toString),Ga=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Pa(++Ua+xa,36)},Fa=Oo.Symbol,Ka=Na("wks"),Va=fa?Fa.for||Fa:Fa&&Fa.withoutSetter||Ga,Ya=function(e){return Ma(Ka,e)||(Ka[e]=ha&&Ma(Fa,e)?Fa[e]:Va("Symbol."+e)),Ka[e]},Ja=TypeError,qa=Ya("toPrimitive"),Ha=function(e){e:{var t="string";if(oa(e)&&!Qa(e)){var A,n,r,i=ba(e,qa);if(i){if(void 0===t&&(t="default"),A=jo(i,e,t),!oa(A)||Qa(A)){e=A;break e}throw Ja("Can't convert object to primitive value")}if(void 0===t&&(t="number"),!("string"===t&&Jo(n=e.toString)&&!oa(r=jo(n,e))||Jo(n=e.valueOf)&&!oa(r=jo(n,e))||"string"!==t&&Jo(n=e.toString)&&!oa(r=jo(n,e))))throw Ra("Can't convert object to primitive value");e=r}}return Qa(e)?e:e+""},ja=Oo.document,Wa=oa(ja)&&oa(ja.createElement),Xa=!qo&&!bo((function(){return 7!=Object.defineProperty(Wa?ja.createElement("div"):{},"a",{get:function(){return 7}}).a})),za=Object.getOwnPropertyDescriptor,Za=qo?za:function(e,t){if(e=ia(e),t=Ha(t),Xa)try{return za(e,t)}catch(e){}if(Ma(e,t))return Zo(!jo(zo,e,t),e[t])},$a=/#|\.prototype\./,es=function(e,t){return(e=As[ts(e)])==rs||e!=ns&&(Jo(t)?bo(t):!!t)},ts=es.normalize=function(e){return String(e).replace($a,".").toLowerCase()},As=es.data={},ns=es.NATIVE="N",rs=es.POLYFILL="P",is=Ko(Ko.bind),os=function(e,t){return _a(e),void 0===t?e:Ro?is(e,t):function(){return e.apply(t,arguments)}},as={},ss=qo&&bo((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),cs=String,us=TypeError,gs=function(e){if(oa(e))return e;throw us(cs(e)+" is not an object")},Is=TypeError,ls=Object.defineProperty,Es=Object.getOwnPropertyDescriptor;as.f=qo?ss?function(e,t,A){if(gs(e),t=Ha(t),gs(A),"function"==typeof e&&"prototype"===t&&"value"in A&&"writable"in A&&!A.writable){var n=Es(e,t);n&&n.writable&&(e[t]=A.value,A={configurable:"configurable"in A?A.configurable:n.configurable,enumerable:"enumerable"in A?A.enumerable:n.enumerable,writable:!1})}return ls(e,t,A)}:ls:function(e,t,A){if(gs(e),t=Ha(t),gs(A),Xa)try{return ls(e,t,A)}catch(e){}if("get"in A||"set"in A)throw Is("Accessors not supported");return"value"in A&&(e[t]=A.value),e};var Cs=qo?function(e,t,A){return as.f(e,t,Zo(1,A))}:function(e,t,A){return e[t]=A,e},ds=Za,hs=function(e){var t=function t(A,n,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(A);case 2:return new e(A,n)}return new e(A,n,r)}return xo(e,this,arguments)};return t.prototype=e.prototype,t},ps=function(e,t){var A,n,r,i,o,a,s=e.target,c=e.global,u=e.stat,g=e.proto,I=c?Oo:u?Oo[s]:(Oo[s]||{}).prototype,l=c?aa:aa[s]||Cs(aa,s,{})[s],E=l.prototype;for(r in t){var C=!(A=es(c?r:s+(u?".":"#")+r,e.forced))&&I&&Ma(I,r),d=l[r];C&&(i=e.dontCallGetSet?(a=ds(I,r))&&a.value:I[r]);var h=C&&i?i:t[r];C&&ub(d)==ub(h)||(o=e.bind&&C?os(h,Oo):e.wrap&&C?hs(h):g&&Jo(h)?Ko(h):h,(e.sham||h&&h.sham||d&&d.sham)&&Cs(o,"sham",!0),Cs(l,r,o),g&&(Ma(aa,n=s+"Prototype")||Cs(aa,n,{}),Cs(aa[n],r,h),e.real&&E&&(A||!E[r])&&Cs(E,r,h)))}},fs=Math.ceil,Bs=Math.floor,Qs=Math.trunc||function(e){return(0<(e=+e)?Bs:fs)(e)},ys=function(e){return(e=+e)!=e||0===e?0:Qs(e)},vs=Math.max,ms=Math.min,_s=function(e,t){return 0>(e=ys(e))?vs(e+t,0):ms(e,t)},bs=Math.min,Rs=function(e){return 0<(e=e.length)?bs(ys(e),9007199254740991):0},Ss=function(e){return function(t,A,n){var r;t=ia(t);var i=Rs(t);if(n=_s(n,i),e&&A!=A){for(;i>n;)if((r=t[n++])!=r)return!0}else for(;i>n;n++)if((e||n in t)&&t[n]===A)return e||n||0;return!e&&-1}},ws=Ss(!0),Ds=Ss(!1);ps({target:"Array",proto:!0,forced:bo((function(){return!Array(1).includes()}))},{includes:function(e){return ws(this,e,1<arguments.length?arguments[1]:void 0)}});var ks=function(e){return aa[e+"Prototype"]},Ns=ks("Array").includes,Ts=Ya("match"),Os=TypeError,Ls={};Ls[Ya("toStringTag")]="z";var Ms="[object z]"===String(Ls),Us=Ya("toStringTag"),xs=Object,Ps="Arguments"==Fo(function(){return arguments}()),Gs=Ms?Fo:function(e){var t;if(void 0===e)var A="Undefined";else{if(null===e)var n="Null";else{e:{var r=e=xs(e);try{n=r[Us];break e}catch(e){}n=void 0}n="string"==typeof(A=n)?A:Ps?Fo(e):"Object"==(t=Fo(e))&&Jo(e.callee)?"Arguments":t}A=n}return A},Fs=String,Ks=function(e){if("Symbol"===Gs(e))throw TypeError("Cannot convert a Symbol value to a string");return Fs(e)},Vs=Ya("match"),Ys=ko("".indexOf);ps({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(A){try{return t[Vs]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){var t,A=Ks(ra(this));if(oa(e)&&(void 0!==(t=e[Ts])?t:"RegExp"==Fo(e)))throw Os("The method doesn't accept regular expressions");return!!~Ys(A,Ks(e),1<arguments.length?arguments[1]:void 0)}});var Js,qs,Hs=ks("String").includes,js=Array.prototype,Ws=String.prototype,Xs=t((function(e){var t=e.includes;return e===js||No(js,e)&&t===js.includes?Ns:"string"==typeof e||e===Ws||No(Ws,e)&&t===Ws.includes?Hs:t})),zs=!0,Zs=!0,$s=o,ec=Object.freeze({__proto__:null,fixNegotiationNeeded:B,shimAddTrackRemoveTrack:p,shimAddTrackRemoveTrackWithNative:h,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(A){return t(A).then((function(t){var n=A.video&&A.video.width,r=A.video&&A.video.height;return A.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:A.video&&A.video.frameRate||3}},n&&(A.video.mandatory.maxWidth=n),r&&(A.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(A)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:E,shimGetStats:C,shimGetUserMedia:g,shimMediaStream:I,shimOnTrack:l,shimPeerConnection:f,shimSenderReceiverGetStats:d}),tc=Object.freeze({__proto__:null,shimAddTransceiver:S,shimCreateAnswer:k,shimCreateOffer:D,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(A){return A&&A.video?(!0===A.video?A.video={mediaSource:t}:A.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(A)):((A=new DOMException("getDisplayMedia without video constraints is undefined")).name="NotFoundError",A.code=8,Promise.reject(A))})},shimGetParameters:w,shimGetUserMedia:Q,shimOnTrack:y,shimPeerConnection:v,shimRTCDataChannel:R,shimReceiverGetStats:_,shimRemoveStream:b,shimSenderGetStats:m}),Ac=Object.freeze({__proto__:null,shimAudioContext:F,shimCallbacksAPI:L,shimConstraints:U,shimCreateOfferLegacy:G,shimGetUserMedia:M,shimLocalStreamsAPI:N,shimRTCIceServerUrls:x,shimRemoteStreamsAPI:T,shimTrackEventTransceiver:P}),nc={exports:{}};Js=nc,(qs={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}}).localCName=qs.generateIdentifier(),qs.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},qs.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(0<t?"m="+e:e).trim()+"\r\n"}))},qs.getDescription=function(e){return(e=qs.splitSections(e))&&e[0]},qs.getMediaSections=function(e){return(e=qs.splitSections(e)).shift(),e},qs.matchPrefix=function(e,t){return qs.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},qs.parseCandidate=function(e){for(var t={foundation:(e=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[e[1]]||e[1],protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},A=8;A<e.length;A+=2)switch(e[A]){case"raddr":t.relatedAddress=e[A+1];break;case"rport":t.relatedPort=parseInt(e[A+1],10);break;case"tcptype":t.tcpType=e[A+1];break;case"ufrag":t.ufrag=e[A+1],t.usernameFragment=e[A+1];break;default:void 0===t[e[A]]&&(t[e[A]]=e[A+1])}return t},qs.writeCandidate=function(e){var t=[];t.push(e.foundation);var A=e.component;return"rtp"===A?t.push(1):"rtcp"===A?t.push(2):t.push(A),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port),A=e.type,t.push("typ"),t.push(A),"host"!==A&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},qs.parseIceOptions=function(e){return e.substring(14).split(" ")},qs.parseRtpMap=function(e){e=e.substring(9).split(" ");var t={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),t.name=e[0],t.clockRate=parseInt(e[1],10),t.channels=3===e.length?parseInt(e[2],10):1,t.numChannels=t.channels,t},qs.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var A=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==A?"/"+A:"")+"\r\n"},qs.parseExtmap=function(e){return e=e.substring(9).split(" "),{id:parseInt(e[0],10),direction:0<e[0].indexOf("/")?e[0].split("/")[1]:"sendrecv",uri:e[1],attributes:e.slice(2).join(" ")}},qs.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},qs.parseFmtp=function(e){for(var t={},A=e.substring(e.indexOf(" ")+1).split(";"),n=0;n<A.length;n++)t[(e=A[n].trim().split("="))[0].trim()]=e[1];return t},qs.writeFmtp=function(e){var t="",A=e.payloadType;if(void 0!==e.preferredPayloadType&&(A=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+A+" "+n.join(";")+"\r\n"}return t},qs.parseRtcpFb=function(e){return{type:(e=e.substring(e.indexOf(" ")+1).split(" ")).shift(),parameter:e.join(" ")}},qs.writeRtcpFb=function(e){var t="",A=e.payloadType;return void 0!==e.preferredPayloadType&&(A=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+A+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},qs.parseSsrcMedia=function(e){var t=e.indexOf(" "),A={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return-1<n?(A.attribute=e.substring(t+1,n),A.value=e.substring(n+1)):A.attribute=e.substring(t+1),A},qs.parseSsrcGroup=function(e){return{semantics:(e=e.substring(13).split(" ")).shift(),ssrcs:e.map((function(e){return parseInt(e,10)}))}},qs.getMid=function(e){if(e=qs.matchPrefix(e,"a=mid:")[0])return e.substring(6)},qs.parseFingerprint=function(e){return{algorithm:(e=e.substring(14).split(" "))[0].toLowerCase(),value:e[1].toUpperCase()}},qs.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:qs.matchPrefix(e+t,"a=fingerprint:").map(qs.parseFingerprint)}},qs.writeDtlsParameters=function(e,t){var A="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){A+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),A},qs.parseCryptoLine=function(e){return e=e.substring(9).split(" "),{tag:parseInt(e[0],10),cryptoSuite:e[1],keyParams:e[2],sessionParams:e.slice(3)}},qs.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==ub(e.keyParams)?qs.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},qs.parseCryptoKeyParams=function(e){return 0!==e.indexOf("inline:")?null:{keyMethod:"inline",keySalt:(e=e.substring(7).split("|"))[0],lifeTime:e[1],mkiValue:e[2]?e[2].split(":")[0]:void 0,mkiLength:e[2]?e[2].split(":")[1]:void 0}},qs.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},qs.getCryptoParameters=function(e,t){return qs.matchPrefix(e+t,"a=crypto:").map(qs.parseCryptoLine)},qs.getIceParameters=function(e,t){var A=qs.matchPrefix(e+t,"a=ice-ufrag:")[0];return e=qs.matchPrefix(e+t,"a=ice-pwd:")[0],A&&e?{usernameFragment:A.substring(12),password:e.substring(10)}:null},qs.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},qs.parseRtpParameters=function(e){var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},A=qs.splitLines(e)[0].split(" ");t.profile=A[2];for(var n=3;n<A.length;n++){var r=A[n],i=qs.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(i){i=qs.parseRtpMap(i);var o=qs.matchPrefix(e,"a=fmtp:"+r+" ");switch(i.parameters=o.length?qs.parseFmtp(o[0]):{},i.rtcpFeedback=qs.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(qs.parseRtcpFb),t.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(i.name.toUpperCase())}}}qs.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(qs.parseExtmap(e))}));var a=qs.matchPrefix(e,"a=rtcp-fb:* ").map(qs.parseRtcpFb);return t.codecs.forEach((function(e){a.forEach((function(t){e.rtcpFeedback.find((function(e){return e.type===t.type&&e.parameter===t.parameter}))||e.rtcpFeedback.push(t)}))})),t},qs.writeRtpDescription=function(e,t){var A="";A+="m="+e+" ",A+=0<t.codecs.length?"9":"0",A+=" "+(t.profile||"UDP/TLS/RTP/SAVPF")+" ",A+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",A+="c=IN IP4 0.0.0.0\r\n",A+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){A+=qs.writeRtpMap(e),A+=qs.writeFmtp(e),A+=qs.writeRtcpFb(e)}));var n=0;return t.codecs.forEach((function(e){e.maxptime>n&&(n=e.maxptime)})),0<n&&(A+="a=maxptime:"+n+"\r\n"),t.headerExtensions&&t.headerExtensions.forEach((function(e){A+=qs.writeExtmap(e)})),A},qs.parseRtpEncodingParameters=function(e){var t,A=[],n=qs.parseRtpParameters(e),r=-1!==n.fecMechanisms.indexOf("RED"),i=-1!==n.fecMechanisms.indexOf("ULPFEC"),o=qs.matchPrefix(e,"a=ssrc:").map((function(e){return qs.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),a=0<o.length&&o[0].ssrc;0<(o=qs.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substring(17).split(" ").map((function(e){return parseInt(e,10)}))}))).length&&1<o[0].length&&o[0][0]===a&&(t=o[0][1]),n.codecs.forEach((function(e){"RTX"===e.name.toUpperCase()&&e.parameters.apt&&(e={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)},a&&t&&(e.rtx={ssrc:t}),A.push(e),r&&((e=JSON.parse(JSON.stringify(e))).fec={ssrc:a,mechanism:i?"red+ulpfec":"red"},A.push(e)))})),0===A.length&&a&&A.push({ssrc:a});var s=qs.matchPrefix(e,"b=");return s.length&&(s=0===s[0].indexOf("b=TIAS:")?parseInt(s[0].substring(7),10):0===s[0].indexOf("b=AS:")?950*parseInt(s[0].substring(5),10)-16e3:void 0,A.forEach((function(e){e.maxBitrate=s}))),A},qs.parseRtcpParameters=function(e){var t={},A=qs.matchPrefix(e,"a=ssrc:").map((function(e){return qs.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];return A&&(t.cname=A.value,t.ssrc=A.ssrc),A=qs.matchPrefix(e,"a=rtcp-rsize"),t.reducedSize=0<A.length,t.compound=0===A.length,e=qs.matchPrefix(e,"a=rtcp-mux"),t.mux=0<e.length,t},qs.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},qs.parseMsid=function(e){var t,A=qs.matchPrefix(e,"a=msid:");return 1===A.length?{stream:(t=A[0].substring(7).split(" "))[0],track:t[1]}:0<(e=qs.matchPrefix(e,"a=ssrc:").map((function(e){return qs.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}))).length?{stream:(t=e[0].value.split(" "))[0],track:t[1]}:void 0},qs.parseSctpDescription=function(e){var t,A=qs.parseMLine(e),n=qs.matchPrefix(e,"a=max-message-size:");return 0<n.length&&(t=parseInt(n[0].substring(19),10)),isNaN(t)&&(t=65536),0<(n=qs.matchPrefix(e,"a=sctp-port:")).length?{port:parseInt(n[0].substring(12),10),protocol:A.fmt,maxMessageSize:t}:0<(e=qs.matchPrefix(e,"a=sctpmap:")).length?(e=e[0].substring(10).split(" "),{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:t}):void 0},qs.writeSctpDescription=function(e,t){var A=[];return A="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&A.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),A.join("")},qs.generateSessionId=function(){return Math.random().toString().substr(2,22)},qs.writeSessionBoilerplate=function(e,t,A){return t=void 0!==t?t:2,"v=0\r\no="+(A||"thisisadapterortc")+" "+(e=e||qs.generateSessionId())+" "+t+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},qs.getDirection=function(e,t){e=qs.splitLines(e);for(var A=0;A<e.length;A++)switch(e[A]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return e[A].substring(2)}return t?qs.getDirection(t):"sendrecv"},qs.getKind=function(e){return qs.splitLines(e)[0].split(" ")[0].substring(2)},qs.isRejected=function(e){return"0"===e.split(" ",2)[1]},qs.parseMLine=function(e){return{kind:(e=qs.splitLines(e)[0].substring(2).split(" "))[0],port:parseInt(e[1],10),protocol:e[2],fmt:e.slice(3).join(" ")}},qs.parseOLine=function(e){return{username:(e=qs.matchPrefix(e,"o=")[0].substring(2).split(" "))[0],sessionId:e[1],sessionVersion:parseInt(e[2],10),netType:e[3],addressType:e[4],address:e[5]}},qs.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;e=qs.splitLines(e);for(var t=0;t<e.length;t++)if(2>e[t].length||"="!==e[t].charAt(1))return!1;return!0},Js.exports=qs;var rc=nc.exports,ic=t(rc),oc=e({__proto__:null,default:ic},[rc]),ac=Object.freeze({__proto__:null,removeExtmapAllowMixed:j,shimAddIceCandidateNullOrEmpty:W,shimConnectionState:H,shimMaxMessageSize:J,shimParameterlessSetLocalDescription:X,shimRTCIceCandidate:K,shimRTCIceCandidateRelayProtocol:Y,shimSendThrowTypeError:q});!function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).window,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n={browser:null,version:null};if(void 0!==e&&e.navigator){var a=e.navigator;a.mozGetUserMedia?(n.browser="firefox",n.version=A(a.userAgent,/Firefox\/(\d+)\./,1)):a.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(n.browser="chrome",n.version=A(a.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&a.userAgent.match(/AppleWebKit\/(\d+)\./)?(n.browser="safari",n.version=A(a.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):(n.browser="Not a supported browser.",n=n)}else n.browser="Not a browser.",n=n;switch(a={browserDetails:n,commonShim:ac,extractVersion:A,disableLog:r,disableWarnings:i,sdp:oc},n.browser){case"chrome":if(!ec||!f||!t.shimChrome)return o("Chrome shim is not included in this adapter release."),a;if(null===n.version)return o("Chrome shim can not determine version, not shimming."),a;o("adapter.js shimming chrome."),a.browserShim=ec,W(e,n),X(e),g(e,n),I(e),f(e,n),l(e),p(e,n),E(e),C(e),d(e),B(e,n),K(e),Y(e),H(e),J(e,n),q(e),j(e,n);break;case"firefox":if(!tc||!v||!t.shimFirefox)return o("Firefox shim is not included in this adapter release."),a;o("adapter.js shimming firefox."),a.browserShim=tc,W(e,n),X(e),Q(e,n),v(e,n),y(e),b(e),m(e),_(e),R(e),S(e),w(e),D(e),k(e),K(e),H(e),J(e,n),q(e);break;case"safari":if(!Ac||!t.shimSafari)return o("Safari shim is not included in this adapter release."),a;o("adapter.js shimming safari."),a.browserShim=Ac,W(e,n),X(e),x(e),G(e),L(e),N(e),T(e),P(e),M(e),F(e),K(e),Y(e),J(e,n),q(e),j(e,n);break;default:o("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var sc={},cc=as.f;ps({target:"Object",stat:!0,forced:Object.defineProperty!==cc,sham:!qo},{defineProperty:cc});var uc=aa.Object,gc=sc=function(e,t,A){return uc.defineProperty(e,t,A)};uc.defineProperty.sham&&(gc.sham=!0);var Ic=t(sc),lc=Array.isArray||function(e){return"Array"==Fo(e)},Ec=TypeError,Cc=function(e,t,A){(t=Ha(t))in e?as.f(e,t,Zo(0,A)):e[t]=A},dc=ko(Function.toString);Jo(ka.inspectSource)||(ka.inspectSource=function(e){return dc(e)});var hc=ka.inspectSource,pc=function(){},fc=[],Bc=ca("Reflect","construct"),Qc=/^\s*(?:class|function)\b/,yc=ko(Qc.exec),vc=!Qc.exec(pc),mc=function(e){if(!Jo(e))return!1;try{return Bc(pc,fc,e),!0}catch(e){return!1}},_c=function(e){if(!Jo(e))return!1;switch(Gs(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return vc||!!yc(Qc,hc(e))}catch(e){return!0}};_c.sham=!0;var bc=!Bc||bo((function(){var e;return mc(mc.call)||!mc(Object)||!mc((function(){e=!0}))||e}))?_c:mc,Rc=Ya("species"),Sc=Array,wc=function(e,t){var A;return new(lc(e)&&(A=e.constructor,(bc(A)&&(A===Sc||lc(A.prototype))||oa(A)&&null===(A=A[Rc]))&&(A=void 0)),void 0===A?Sc:A)(0===t?0:t)},Dc=Ya("species"),kc=function(e){if(9007199254740991<e)throw Ec("Maximum allowed index exceeded");return e},Nc=function(e){return 51<=Ca||!bo((function(){var t=[];return(t.constructor={})[Dc]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Tc=Ya("isConcatSpreadable"),Oc=51<=Ca||!bo((function(){var e=[];return e[Tc]=!1,e.concat()[0]!==e}));ps({target:"Array",proto:!0,arity:1,forced:!Oc||!Nc("concat")},{concat:function(e){var t,A,n=Oa(this),r=wc(n,0),i=0,o=-1;for(t=arguments.length;o<t;o++){var a=A=-1===o?n:arguments[o];if(oa(a)){var s=a[Tc];a=void 0!==s?!!s:lc(a)}else a=!1;if(a)for(s=Rs(A),kc(i+s),a=0;a<s;a++,i++)a in A&&Cc(r,i,A[a]);else kc(i+1),Cc(r,i++,A)}return r.length=i,r}});var Lc={},Mc={},Uc=ko([].push),xc=function(e,t){var A;e=ia(e);var n=0,r=[];for(A in e)!Ma(Mc,A)&&Ma(e,A)&&Uc(r,A);for(;t.length>n;)Ma(e,A=t[n++])&&(~Ds(r,A)||Uc(r,A));return r},Pc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Gc=Object.keys||function(e){return xc(e,Pc)};Lc.f=qo&&!ss?Object.defineProperties:function(e,t){gs(e);for(var A,n=ia(t),r=(t=Gc(t)).length,i=0;r>i;)as.f(e,A=t[i++],n[A]);return e};var Fc,Kc=ca("document","documentElement"),Vc=Na("keys"),Yc=function(e){return Vc[e]||(Vc[e]=Ga(e))},Jc=Yc("IE_PROTO"),qc=function(){},Hc=function(e){return e.write("<script><\/script>"),e.close(),e.parentWindow.Object},jc=function(){try{Fc=new ActiveXObject("htmlfile")}catch(e){}var e,t;for(jc="undefined"!=typeof document?document.domain&&Fc?Hc(Fc):((t=Wa?ja.createElement("iframe"):{}).style.display="none",Kc.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),e.F):Hc(Fc),e=Pc.length;e--;)delete jc.prototype[Pc[e]];return jc()};Mc[Jc]=!0;var Wc=Object.create||function(e,t){var A;return null!==e?(qc.prototype=gs(e),A=new qc,qc.prototype=null,A[Jc]=e):A=jc(),void 0===t?A:Lc.f(A,t)},Xc={},zc=Pc.concat("length","prototype");Xc.f=Object.getOwnPropertyNames||function(e){return xc(e,zc)};var Zc=Array,$c=Math.max,eu=function(e,t,A){var n=Rs(e);t=_s(t,n),A=_s(void 0===A?n:A,n),n=Zc($c(A-t,0));for(var r=0;t<A;t++,r++)Cc(n,r,e[t]);return n.length=r,n},tu=Xc.f,Au="object"==("undefined"==typeof window?"undefined":ub(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],nu=function(e){if(Au&&"Window"==Fo(e))try{var t=tu(e)}catch(e){t=eu(Au)}else t=tu(ia(e));return t},ru={};ru.f=Object.getOwnPropertySymbols;var iu=function(e,t,A,n){return n&&n.enumerable?e[t]=A:Cs(e,t,A),e},ou=function(e,t,A){return as.f(e,t,A)},au={};au.f=Ya;var su=as.f,cu=function(e){var t=aa.Symbol||(aa.Symbol={});Ma(t,e)||su(t,e,{value:au.f(e)})},uu=function(){var e=ca("Symbol"),t=(e=e&&e.prototype)&&e.valueOf,A=Ya("toPrimitive");e&&!e[A]&&iu(e,A,(function(e){return jo(t,this)}),{arity:1})},gu=as.f,Iu=Ms?{}.toString:function(){return"[object "+Gs(this)+"]"},lu=Ya("toStringTag"),Eu=function(e,t,A,n){e&&(e=A?e:e.prototype,Ma(e,lu)||gu(e,lu,{configurable:!0,value:t}),n&&!Ms&&Cs(e,"toString",Iu))},Cu=Oo.WeakMap,du=Jo(Cu)&&/native code/.test(String(Cu)),hu=Oo.TypeError,pu=Oo.WeakMap;if(du||ka.state){var fu=ka.state||(ka.state=new pu);fu.get=fu.get,fu.has=fu.has,fu.set=fu.set;var Bu=function(e,t){if(fu.has(e))throw hu("Object already initialized");return t.facade=e,fu.set(e,t),t},Qu=function(e){return fu.get(e)||{}},yu=function(e){return fu.has(e)}}else{var vu=Yc("state");Mc[vu]=!0,Bu=function(e,t){if(Ma(e,vu))throw hu("Object already initialized");return t.facade=e,Cs(e,vu,t),t},Qu=function(e){return Ma(e,vu)?e[vu]:{}},yu=function(e){return Ma(e,vu)}}var mu={set:Bu,get:Qu,has:yu,enforce:function(e){return yu(e)?Qu(e):Bu(e,{})},getterFor:function(e){return function(t){var A;if(!oa(t)||(A=Qu(t)).type!==e)throw hu("Incompatible receiver, "+e+" required");return A}}},_u=ko([].push),bu=function(e){var t=1==e,A=2==e,n=3==e,r=4==e,i=6==e,o=7==e,a=5==e||i;return function(s,c,u,g){var I,l,E=Oa(s),C=ta(E);c=os(c,u),u=Rs(C);var d=0;for(g=g||wc,s=t?g(s,u):A||o?g(s,0):void 0;u>d;d++)if((a||d in C)&&(l=c(I=C[d],d,E),e))if(t)s[d]=l;else if(l)switch(e){case 3:return!0;case 5:return I;case 6:return d;case 2:_u(s,I)}else switch(e){case 4:return!1;case 7:_u(s,I)}return i?-1:n||r?r:s}},Ru=[bu(0),bu(1),bu(2),bu(3),bu(4),bu(5),bu(6),bu(7)][0],Su=Yc("hidden"),wu=mu.set,Du=mu.getterFor("Symbol"),ku=Object.prototype,Nu=Oo.Symbol,Tu=Nu&&Nu.prototype,Ou=Oo.TypeError,Lu=Oo.QObject,Mu=Za,Uu=as.f,xu=nu,Pu=zo,Gu=ko([].push),Fu=Na("symbols"),Ku=Na("op-symbols"),Vu=Na("wks"),Yu=!Lu||!Lu.prototype||!Lu.prototype.findChild,Ju=qo&&bo((function(){return 7!=Wc(Uu({},"a",{get:function(){return Uu(this,"a",{value:7}).a}})).a}))?function(e,t,A){var n=Mu(ku,t);n&&delete ku[t],Uu(e,t,A),n&&e!==ku&&Uu(ku,t,n)}:Uu,qu=function(e,t){var A=Fu[e]=Wc(Tu);return wu(A,{type:"Symbol",tag:e,description:t}),qo||(A.description=t),A},Hu=function e(t,A,n){return t===ku&&e(Ku,A,n),gs(t),A=Ha(A),gs(n),Ma(Fu,A)?(n.enumerable?(Ma(t,Su)&&t[Su][A]&&(t[Su][A]=!1),n=Wc(n,{enumerable:Zo(0,!1)})):(Ma(t,Su)||Uu(t,Su,Zo(1,{})),t[Su][A]=!0),Ju(t,A,n)):Uu(t,A,n)},ju=function(e,t){gs(e);var A=ia(t);return t=Gc(A).concat(Zu(A)),Ru(t,(function(t){qo&&!jo(Wu,A,t)||Hu(e,t,A[t])})),e},Wu=function(e){e=Ha(e);var t=jo(Pu,this,e);return!(this===ku&&Ma(Fu,e)&&!Ma(Ku,e))&&(!(t||!Ma(this,e)||!Ma(Fu,e)||Ma(this,Su)&&this[Su][e])||t)},Xu=function(e,t){if(e=ia(e),t=Ha(t),e!==ku||!Ma(Fu,t)||Ma(Ku,t)){var A=Mu(e,t);return!A||!Ma(Fu,t)||Ma(e,Su)&&e[Su][t]||(A.enumerable=!0),A}},zu=function(e){e=xu(ia(e));var t=[];return Ru(e,(function(e){Ma(Fu,e)||Ma(Mc,e)||Gu(t,e)})),t},Zu=function(e){var t=e===ku;e=xu(t?Ku:ia(e));var A=[];return Ru(e,(function(e){!Ma(Fu,e)||t&&!Ma(ku,e)||Gu(A,Fu[e])})),A};ha||(iu(Tu=(Nu=function(){if(No(Tu,this))throw Ou("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?Ks(arguments[0]):void 0,t=Ga(e),A=function e(A){this===ku&&jo(e,Ku,A),Ma(this,Su)&&Ma(this[Su],t)&&(this[Su][t]=!1),Ju(this,t,Zo(1,A))};return qo&&Yu&&Ju(ku,t,{configurable:!0,set:A}),qu(t,e)}).prototype,"toString",(function(){return Du(this).tag})),iu(Nu,"withoutSetter",(function(e){return qu(Ga(e),e)})),zo=Wu,as.f=Hu,Lc.f=ju,Za=Xu,Xc.f=nu=zu,ru.f=Zu,au.f=function(e){return qu(Ya(e),e)},qo&&ou(Tu,"description",{configurable:!0,get:function(){return Du(this).description}})),ps({global:!0,constructor:!0,wrap:!0,forced:!ha,sham:!ha},{Symbol:Nu}),Ru(Gc(Vu),(function(e){cu(e)})),ps({target:"Symbol",stat:!0,forced:!ha},{useSetter:function(){Yu=!0},useSimple:function(){Yu=!1}}),ps({target:"Object",stat:!0,forced:!ha,sham:!qo},{create:function(e,t){return void 0===t?Wc(e):ju(Wc(e),t)},defineProperty:Hu,defineProperties:ju,getOwnPropertyDescriptor:Xu}),ps({target:"Object",stat:!0,forced:!ha},{getOwnPropertyNames:zu}),uu(),Eu(Nu,"Symbol"),Mc[Su]=!0;var $u=ha&&!!Symbol.for&&!!Symbol.keyFor,eg=Na("string-to-symbol-registry"),tg=Na("symbol-to-string-registry");ps({target:"Symbol",stat:!0,forced:!$u},{for:function(e){if(e=Ks(e),Ma(eg,e))return eg[e];var t=ca("Symbol")(e);return eg[e]=t,tg[t]=e,t}});var Ag=Na("symbol-to-string-registry");ps({target:"Symbol",stat:!0,forced:!$u},{keyFor:function(e){if(!Qa(e))throw TypeError(va(e)+" is not a symbol");if(Ma(Ag,e))return Ag[e]}});var ng=ko([].slice),rg=ko([].push),ig=function(e){if(Jo(e))return e;if(lc(e)){for(var t=e.length,A=[],n=0;n<t;n++){var r=e[n];"string"==typeof r?rg(A,r):"number"!=typeof r&&"Number"!=Fo(r)&&"String"!=Fo(r)||rg(A,Ks(r))}var i=A.length,o=!0;return function(e,t){if(o)return o=!1,t;if(lc(this))return t;for(var n=0;n<i;n++)if(A[n]===e)return t}}},og=String,ag=ca("JSON","stringify"),sg=ko(/./.exec),cg=ko("".charAt),ug=ko("".charCodeAt),gg=ko("".replace),Ig=ko(1..toString),lg=/[\uD800-\uDFFF]/g,Eg=/^[\uD800-\uDBFF]$/,Cg=/^[\uDC00-\uDFFF]$/,dg=!ha||bo((function(){var e=ca("Symbol")();return"[null]"!=ag([e])||"{}"!=ag({a:e})||"{}"!=ag(Object(e))})),hg=bo((function(){return'"\\udf06\\ud834"'!==ag("\udf06\ud834")||'"\\udead"'!==ag("\udead")})),pg=function(e,t){var A=ng(arguments),n=ig(t);if(Jo(n)||void 0!==e&&!Qa(e))return A[1]=function(e,t){if(Jo(n)&&(t=jo(n,this,og(e),t)),!Qa(t))return t},xo(ag,null,A)},fg=function(e,t,A){var n=cg(A,t-1);return t=cg(A,t+1),sg(Eg,e)&&!sg(Cg,t)||sg(Cg,e)&&!sg(Eg,n)?"\\u"+Ig(ug(e,0),16):e};ag&&ps({target:"JSON",stat:!0,arity:3,forced:dg||hg},{stringify:function(e,t,A){var n=ng(arguments);return n=xo(dg?pg:ag,null,n),hg&&"string"==typeof n?gg(n,lg,fg):n}}),ps({target:"Object",stat:!0,forced:!ha||bo((function(){ru.f(1)}))},{getOwnPropertySymbols:function(e){var t=ru.f;return t?t(Oa(e)):[]}}),cu("asyncIterator"),cu("hasInstance"),cu("isConcatSpreadable"),cu("iterator"),cu("match"),cu("matchAll"),cu("replace"),cu("search"),cu("species"),cu("split"),cu("toPrimitive"),uu(),cu("toStringTag"),Eu(ca("Symbol"),"Symbol"),cu("unscopables"),Eu(Oo.JSON,"JSON",!0);var Bg,Qg,yg,vg=aa.Symbol,mg={},_g=Function.prototype,bg=qo&&Object.getOwnPropertyDescriptor,Rg=Ma(_g,"name"),Sg=Rg&&"something"===function(){}.name;Rg&&(!qo||qo&&bg(_g,"name"));var wg=!bo((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Dg=Yc("IE_PROTO"),kg=Object,Ng=kg.prototype,Tg=wg?kg.getPrototypeOf:function(e){if(e=Oa(e),Ma(e,Dg))return e[Dg];var t=e.constructor;return Jo(t)&&e instanceof t?t.prototype:e instanceof kg?Ng:null},Og=Ya("iterator"),Lg=!1;[].keys&&("next"in(yg=[].keys())?(Qg=Tg(Tg(yg)))!==Object.prototype&&(Bg=Qg):Lg=!0);var Mg=!oa(Bg)||bo((function(){var e={};return Bg[Og].call(e)!==e}));Jo((Bg=Mg?{}:Wc(Bg))[Og])||iu(Bg,Og,(function(){return this}));var Ug=Lg,xg=Bg,Pg=function(){return this},Gg=function(e,t,A,n){return t+=" Iterator",e.prototype=Wc(xg,{next:Zo(+!n,A)}),Eu(e,t,!1,!0),mg[t]=Pg,e},Fg=String,Kg=TypeError,Vg=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,A={};try{e:{try{var n=ko(_a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set));break e}catch(e){}n=void 0}(e=n)(A,[]),t=A instanceof Array}catch(e){}return function(A,n){if(gs(A),"object"!=ub(n)&&!Jo(n))throw Kg("Can't set "+Fg(n)+" as a prototype");return t?e(A,n):A.__proto__=n,A}}():void 0),Yg=Ya("iterator"),Jg=function(){return this},qg=function(e,t,A,n,r,i,o){var a,s,c;Gg(A,t,n),n=function(e){if(e===r&&E)return E;if(!Ug&&e in I)return I[e];switch(e){case"keys":case"values":case"entries":return function(){return new A(this,e)}}return function(){return new A(this)}};var u=t+" Iterator",g=!1,I=e.prototype,l=I[Yg]||I["@@iterator"]||r&&I[r],E=!Ug&&l||n(r),C="Array"==t&&I.entries||l;if(C&&(a=Tg(C.call(new e)))!==Object.prototype&&a.next&&(Eu(a,u,!0,!0),mg[u]=Jg),Sg&&"values"==r&&l&&"values"!==l.name&&(g=!0,E=function(){return jo(l,this)}),r)if(s={values:n("values"),keys:i?E:n("keys"),entries:n("entries")},o)for(c in s)!Ug&&!g&&c in I||iu(I,c,s[c]);else ps({target:t,proto:!0,forced:Ug||g},s);return o&&I[Yg]!==E&&iu(I,Yg,E,{name:r}),mg[t]=E,s},Hg=function(e,t){return{value:e,done:t}};as.f;var jg=mu.set,Wg=mu.getterFor("Array Iterator");qg(Array,"Array",(function(e,t){jg(this,{type:"Array Iterator",target:ia(e),index:0,kind:t})}),(function(){var e=Wg(this),t=e.target,A=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,Hg(void 0,!0)):Hg("keys"==A?n:"values"==A?t[n]:[n,t[n]],!1)}),"values"),mg.Arguments=mg.Array;var Xg,zg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Zg=Ya("toStringTag");for(Xg in zg){var $g=Oo[Xg],eI=$g&&$g.prototype;eI&&Gs(eI)!==Zg&&Cs(eI,Zg,Xg),mg[Xg]=mg.Array}var tI=as.f,AI=Ya("metadata"),nI=Function.prototype;void 0===nI[AI]&&tI(nI,AI,{value:null}),cu("dispose"),cu("metadata"),cu("asyncDispose");var rI=ca("Symbol"),iI=rI.keyFor,oI=ko(rI.prototype.valueOf),aI=rI.isRegisteredSymbol||function(e){try{return void 0!==iI(oI(e))}catch(e){return!1}};ps({target:"Symbol",stat:!0},{isRegisteredSymbol:aI});for(var sI=ca("Symbol"),cI=sI.isWellKnownSymbol,uI=ca("Object","getOwnPropertyNames"),gI=ko(sI.prototype.valueOf),II=Na("wks"),lI=0,EI=uI(sI),CI=EI.length;lI<CI;lI++)try{var dI=EI[lI];Qa(sI[dI])&&Ya(dI)}catch(qs){}var hI=function(e){if(cI&&cI(e))return!0;try{var t=gI(e);e=0;for(var A=uI(II),n=A.length;e<n;e++)if(II[A[e]]==t)return!0}catch(e){}return!1};ps({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:hI}),cu("matcher"),cu("observable"),ps({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:aI}),ps({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:hI}),cu("metadataKey"),cu("patternMatch"),cu("replaceAll");var pI=t(vg),fI=ko("".charAt),BI=ko("".charCodeAt),QI=ko("".slice),yI=function(e){return function(t,A){var n,r;t=Ks(ra(t)),A=ys(A);var i=t.length;return 0>A||A>=i?e?"":void 0:55296>(n=BI(t,A))||56319<n||A+1===i||56320>(r=BI(t,A+1))||57343<r?e?fI(t,A):n:e?QI(t,A,A+2):r-56320+(n-55296<<10)+65536}},vI=yI(!1),mI=yI(!0),_I=mu.set,bI=mu.getterFor("String Iterator");qg(String,"String",(function(e){_I(this,{type:"String Iterator",string:Ks(e),index:0})}),(function(){var e,t=bI(this),A=t.string,n=t.index;return n>=A.length?Hg(void 0,!0):(e=mI(A,n),t.index+=e.length,Hg(e,!1))}));var RI=t(au.f("iterator")),SI=t(au.f("toPrimitive")),wI=ks("Array").keys,DI=Array.prototype,kI={DOMTokenList:!0,NodeList:!0},NI=t((function(e){var t=e.keys;return e===DI||No(DI,e)&&t===DI.keys||Ma(kI,Gs(e))?wI:t})),TI=TypeError,OI=Math.floor,LI=function e(t,A){var n=t.length,r=OI(n/2);if(8>n)for(var i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&0<A(t[r-1],n);)t[r]=t[--r];r!==o++&&(t[r]=n)}else{n=e(eu(t,0,r),A),r=e(eu(t,r),A),i=n.length,o=r.length;for(var a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?0>=A(n[a],r[s])?n[a++]:r[s++]:a<i?n[a++]:r[s++]}return t},MI=function(e,t){var A=[][e];return!!A&&bo((function(){A.call(null,t||function(){return 1},1)}))},UI=ua.match(/firefox\/(\d+)/i),xI=!!UI&&+UI[1],PI=/MSIE|Trident/.test(ua),GI=ua.match(/AppleWebKit\/(\d+)\./),FI=function(e,t){if(!delete e[t])throw TI("Cannot delete property "+va(t)+" of "+va(e))},KI=!!GI&&+GI[1],VI=[],YI=ko(VI.sort),JI=ko(VI.push),qI=bo((function(){VI.sort(void 0)})),HI=bo((function(){VI.sort(null)})),jI=MI("sort"),WI=!bo((function(){if(Ca)return 70>Ca;if(!(xI&&3<xI)){if(PI)return!0;if(KI)return 603>KI;var e,t,A,n="";for(e=65;76>e;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:var r=3;break;case 68:case 71:r=4;break;default:r=2}for(A=0;47>A;A++)VI.push({k:t+A,v:r})}for(VI.sort((function(e,t){return t.v-e.v})),A=0;A<VI.length;A++)t=VI[A].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));ps({target:"Array",proto:!0,forced:qI||!HI||!jI||!WI},{sort:function(e){void 0!==e&&_a(e);var t=Oa(this);if(WI)return void 0===e?YI(t):YI(t,e);var A,n,r=[],i=Rs(t);for(A=0;A<i;A++)A in t&&JI(r,t[A]);for(LI(r,(n=e,function(e,t){return void 0===t?-1:void 0===e?1:void 0!==n?+n(e,t)||0:Ks(e)>Ks(t)?1:-1})),e=Rs(r),A=0;A<e;)t[A]=r[A++];for(;A<i;)FI(t,A++);return t}});var XI=ks("Array").sort,zI=Array.prototype,ZI=t((function(e){var t=e.sort;return e===zI||No(zI,e)&&t===zI.sort?XI:t})),$I=ko([].concat),el=ca("Reflect","ownKeys")||function(e){var t=Xc.f(gs(e)),A=ru.f;return A?$I(t,A(e)):t},tl=Error,Al=ko("".replace),nl=String(tl("zxcasd").stack),rl=/\n\s*at [^:]*:[^\n]*/,il=rl.test(nl),ol=!bo((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Zo(1,7)),7!==e.stack)})),al=Error.captureStackTrace,sl=Ya("iterator"),cl=Array.prototype,ul=function(e){return void 0!==e&&(mg.Array===e||cl[sl]===e)},gl=Ya("iterator"),Il=function(e){if(null!=e)return ba(e,gl)||ba(e,"@@iterator")||mg[Gs(e)]},ll=TypeError,El=function(e,t){var A=2>arguments.length?Il(e):t;if(_a(A))return gs(jo(A,e));throw ll(va(e)+" is not iterable")},Cl=function(e,t,A){var n;gs(e);try{if(!(n=ba(e,"return"))){if("throw"===t)throw A;return A}n=jo(n,e)}catch(e){var r=!0;n=e}if("throw"===t)throw A;if(r)throw n;return gs(n),A},dl=TypeError,hl=function(e,t){this.stopped=e,this.result=t},pl=hl.prototype,fl=function(e,t,A){var n,r=!(!A||!A.AS_ENTRIES),i=!(!A||!A.IS_RECORD),o=!(!A||!A.IS_ITERATOR),a=!(!A||!A.INTERRUPTED),s=os(t,A&&A.that),c=function(e){return u&&Cl(u,"normal",e),new hl(!0,e)};if(t=function(e){return r?(gs(e),a?s(e[0],e[1],c):s(e[0],e[1])):a?s(e,c):s(e)},i)var u=e.iterator;else if(o)u=e;else{if(!(o=Il(e)))throw dl(va(e)+" is not iterable");if(ul(o)){for(i=0,o=Rs(e);o>i;i++)if((n=t(e[i]))&&No(pl,n))return n;return new hl(!1)}u=El(e,o)}for(e=i?e.next:u.next;!(i=jo(e,u)).done;){try{n=t(i.value)}catch(e){Cl(u,"throw",e)}if("object"==ub(n)&&n&&No(pl,n))return n}return new hl(!1)},Bl=function(e,t,A){for(var n=el(t),r=as.f,i=Za,o=0;o<n.length;o++){var a=n[o];Ma(e,a)||A&&Ma(A,a)||r(e,a,i(t,a))}},Ql=function(e,t){return void 0===e?2>arguments.length?"":t:Ks(e)},yl=Ya("toStringTag"),vl=Error,ml=[].push,_l=function e(t,A){var n,r=No(bl,this);Vg?n=Vg(vl(),r?Tg(this):bl):(n=r?this:Wc(bl),Cs(n,yl,"Error")),void 0!==A&&Cs(n,"message",Ql(A)),r=n;var i=n.stack;if(ol)if(al)al(r,e);else{var o=1;if(il&&"string"==typeof i&&!tl.prepareStackTrace)for(;o--;)i=Al(i,rl,"");Cs(r,"stack",i)}return 2<arguments.length&&(r=n,oa(i=arguments[2])&&"cause"in i&&Cs(r,"cause",i.cause)),fl(t,ml,{that:r=[]}),Cs(n,"errors",r),n};Vg?Vg(_l,vl):Bl(_l,vl,{name:!0});var bl=_l.prototype=Wc(vl.prototype,{constructor:Zo(1,_l),message:Zo(1,""),name:Zo(1,"AggregateError")});ps({global:!0,constructor:!0,arity:2},{AggregateError:_l});var Rl,Sl,wl,Dl,kl="undefined"!=typeof process&&"process"==Fo(process),Nl=Ya("species"),Tl=TypeError,Ol=function(e,t){if(No(t,e))return e;throw Tl("Incorrect invocation")},Ll=TypeError,Ml=Ya("species"),Ul=function(e,t){var A;if(void 0!==(e=gs(e).constructor)&&null!=(A=gs(e)[Ml])&&!bc(t=A))throw Ll(va(t)+" is not a constructor");return t},xl=TypeError,Pl=function(e,t){if(e<t)throw xl("Not enough arguments");return e},Gl=/(?:ipad|iphone|ipod).*applewebkit/i.test(ua),Fl=Oo.setImmediate,Kl=Oo.clearImmediate,Vl=Oo.process,Yl=Oo.Dispatch,Jl=Oo.Function,ql=Oo.MessageChannel,Hl=Oo.String,jl=0,Wl={};bo((function(){Rl=Oo.location}));var Xl=function(e){if(Ma(Wl,e)){var t=Wl[e];delete Wl[e],t()}},zl=function(e){return function(){Xl(e)}},Zl=function(e){Xl(e.data)},$l=function(e){Oo.postMessage(Hl(e),Rl.protocol+"//"+Rl.host)};Fl&&Kl||(Fl=function(e){Pl(arguments.length,1);var t=Jo(e)?e:Jl(e),A=ng(arguments,1);return Wl[++jl]=function(){xo(t,void 0,A)},Sl(jl),jl},Kl=function(e){delete Wl[e]},kl?Sl=function(e){Vl.nextTick(zl(e))}:Yl&&Yl.now?Sl=function(e){Yl.now(zl(e))}:ql&&!Gl?(Dl=(wl=new ql).port2,wl.port1.onmessage=Zl,Sl=os(Dl.postMessage,Dl)):Oo.addEventListener&&Jo(Oo.postMessage)&&!Oo.importScripts&&Rl&&"file:"!==Rl.protocol&&!bo($l)?(Sl=$l,Oo.addEventListener("message",Zl,!1)):Sl="onreadystatechange"in(Wa?ja.createElement("script"):{})?function(e){Kc.appendChild(Wa?ja.createElement("script"):{}).onreadystatechange=function(){Kc.removeChild(this),Xl(e)}}:function(e){setTimeout(zl(e),0)});var eE=Fl,tE=function(){this.tail=this.head=null};tE.prototype={add:function(e){e={item:e,next:null};var t=this.tail;t?t.next=e:this.head=e,this.tail=e},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var AE,nE,rE,iE,oE,aE=/ipad|iphone|ipod/i.test(ua)&&"undefined"!=typeof Pebble,sE=/web0s(?!.*chrome)/i.test(ua),cE=eE,uE=Oo.MutationObserver||Oo.WebKitMutationObserver,gE=Oo.document,IE=Oo.process,lE=Oo.Promise,EE=Za(Oo,"queueMicrotask"),CE=EE&&EE.value;if(!CE){var dE=new tE,hE=function(){var e,t;for(kl&&(e=IE.domain)&&e.exit();t=dE.get();)try{t()}catch(e){throw dE.head&&AE(),e}e&&e.enter()};Gl||kl||sE||!uE||!gE?!aE&&lE&&lE.resolve?((iE=lE.resolve(void 0)).constructor=lE,oE=os(iE.then,iE),AE=function(){oE(hE)}):kl?AE=function(){IE.nextTick(hE)}:(cE=os(cE,Oo),AE=function(){cE(hE)}):(nE=!0,rE=gE.createTextNode(""),new uE(hE).observe(rE,{characterData:!0}),AE=function(){rE.data=nE=!nE}),CE=function(e){dE.head||AE(),dE.add(e)}}var pE=CE,fE=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},BE=Oo.Promise,QE="object"==("undefined"==typeof Deno?"undefined":ub(Deno))&&Deno&&"object"==ub(Deno.version),yE=!QE&&!kl&&"object"==("undefined"==typeof window?"undefined":ub(window))&&"object"==("undefined"==typeof document?"undefined":ub(document)),vE=BE&&BE.prototype,mE=Ya("species"),_E=Jo(Oo.PromiseRejectionEvent),bE=es("Promise",(function(){var e=hc(BE),t=e!==String(BE);if(!t&&66===Ca||!vE.catch||!vE.finally)return!0;if(!Ca||51>Ca||!/native code/.test(e)){var A=function(e){e((function(){}),(function(){}))};if(((e=new BE((function(e){e(1)}))).constructor={})[mE]=A,!(e.then((function(){}))instanceof A))return!0}return!t&&(yE||QE)&&!_E})),RE={},SE=TypeError,wE=function(e){var t,A;this.promise=new e((function(e,n){if(void 0!==t||void 0!==A)throw SE("Bad Promise constructor");t=e,A=n})),this.resolve=_a(t),this.reject=_a(A)};RE.f=function(e){return new wE(e)};var DE,kE,NE,TE=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}},OE=mu.getterFor("Promise"),LE=mu.set,ME=BE,UE=BE&&BE.prototype,xE=Oo.TypeError,PE=Oo.document,GE=Oo.process,FE=RE.f,KE=FE,VE=!!(PE&&PE.createEvent&&Oo.dispatchEvent),YE=function(e){var t;return!(!oa(e)||!Jo(t=e.then))&&t},JE=function(e,t){var A,n,r,i=t.value,o=1==t.state,a=o?e.ok:e.fail,s=e.resolve,c=e.reject,u=e.domain;try{a?(o||(2===t.rejection&&WE(t),t.rejection=1),!0===a?A=i:(u&&u.enter(),A=a(i),u&&(u.exit(),r=!0)),A===e.promise?c(xE("Promise-chain cycle")):(n=YE(A))?jo(n,A,s,c):s(A)):c(i)}catch(e){u&&!r&&u.exit(),c(e)}},qE=function(e,t){e.notified||(e.notified=!0,pE((function(){for(var A,n=e.reactions;A=n.get();)JE(A,e);e.notified=!1,t&&!e.rejection&&jE(e)})))},HE=function(e,t,A){var n,r;VE?((n=PE.createEvent("Event")).promise=t,n.reason=A,n.initEvent(e,!1,!0),Oo.dispatchEvent(n)):n={promise:t,reason:A},!_E&&(r=Oo["on"+e])?r(n):"unhandledrejection"===e&&TE("Unhandled promise rejection",A)},jE=function(e){jo(eE,Oo,(function(){var t,A=e.facade,n=e.value;if(1!==e.rejection&&!e.parent&&(t=fE((function(){kl?GE.emit("unhandledRejection",n,A):HE("unhandledrejection",A,n)})),e.rejection=kl||1!==e.rejection&&!e.parent?2:1,t.error))throw t.value}))},WE=function(e){jo(eE,Oo,(function(){var t=e.facade;kl?GE.emit("rejectionHandled",t):HE("rejectionhandled",t,e.value)}))},XE=function(e,t,A){return function(n){e(t,n,A)}},zE=function(e,t,A){e.done||(e.done=!0,A&&(e=A),e.value=t,e.state=2,qE(e,!0))},ZE=function e(t,A,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===A)throw xE("Promise can't be resolved itself");var r=YE(A);r?pE((function(){var n={done:!1};try{jo(r,A,XE(e,n,t),XE(zE,n,t))}catch(e){zE(n,e,t)}})):(t.value=A,t.state=1,qE(t,!1))}catch(e){zE({done:!1},e,t)}}};bE&&(UE=(ME=function(e){Ol(this,UE),_a(e),jo(DE,this);var t=OE(this);try{e(XE(ZE,t),XE(zE,t))}catch(e){zE(t,e)}}).prototype,(DE=function(e){LE(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new tE,rejection:!1,state:0,value:void 0})}).prototype=iu(UE,"then",(function(e,t){var A=OE(this),n=FE(Ul(this,ME));return A.parent=!0,n.ok=!Jo(e)||e,n.fail=Jo(t)&&t,n.domain=kl?GE.domain:void 0,0==A.state?A.reactions.add(n):pE((function(){JE(n,A)})),n.promise})),kE=function(){var e=new DE,t=OE(e);this.promise=e,this.resolve=XE(ZE,t),this.reject=XE(zE,t)},RE.f=FE=function(e){return e===ME||void 0===e?new kE(e):KE(e)}),ps({global:!0,constructor:!0,wrap:!0,forced:bE},{Promise:ME}),Eu(ME,"Promise",!1,!0),NE=ca(NE="Promise"),qo&&NE&&!NE[Nl]&&ou(NE,Nl,{configurable:!0,get:function(){return this}});var $E=Ya("iterator"),eC=!1;try{var tC=0,AC={next:function(){return{done:!!tC++}},return:function(){eC=!0}};AC[$E]=function(){return this},Array.from(AC,(function(){throw 2}))}catch(NE){}var nC=function(e,t){if(!t&&!eC)return!1;var A=!1;try{(t={})[$E]=function(){return{next:function(){return{done:A=!0}}}},e(t)}catch(e){}return A},rC=bE||!nC((function(e){BE.all(e).then(void 0,(function(){}))}));ps({target:"Promise",stat:!0,forced:rC},{all:function(e){var t=this,A=RE.f(t),n=A.resolve,r=A.reject,i=fE((function(){var A=_a(t.resolve),i=[],o=0,a=1;fl(e,(function(e){var s=o++,c=!1;a++,jo(A,t,e).then((function(e){c||(c=!0,i[s]=e,--a||n(i))}),r)})),--a||n(i)}));return i.error&&r(i.value),A.promise}}),BE&&BE.prototype,ps({target:"Promise",proto:!0,forced:bE,real:!0},{catch:function(e){return this.then(void 0,e)}}),ps({target:"Promise",stat:!0,forced:rC},{race:function(e){var t=this,A=RE.f(t),n=A.reject,r=fE((function(){var r=_a(t.resolve);fl(e,(function(e){jo(r,t,e).then(A.resolve,n)}))}));return r.error&&n(r.value),A.promise}}),ps({target:"Promise",stat:!0,forced:bE},{reject:function(e){var t=RE.f(this);return jo(t.reject,void 0,e),t.promise}});var iC=function(e,t){return gs(e),oa(t)&&t.constructor===e?t:((0,(e=RE.f(e)).resolve)(t),e.promise)},oC=ca("Promise"),aC=!bE;ps({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return iC(aC&&this===oC?BE:this,e)}}),ps({target:"Promise",stat:!0,forced:rC},{allSettled:function(e){var t=this,A=RE.f(t),n=A.resolve,r=A.reject,i=fE((function(){var A=_a(t.resolve),r=[],i=0,o=1;fl(e,(function(e){var a=i++,s=!1;o++,jo(A,t,e).then((function(e){s||(s=!0,r[a]={status:"fulfilled",value:e},--o||n(r))}),(function(e){s||(s=!0,r[a]={status:"rejected",reason:e},--o||n(r))}))})),--o||n(r)}));return i.error&&r(i.value),A.promise}}),ps({target:"Promise",stat:!0,forced:rC},{any:function(e){var t=this,A=ca("AggregateError"),n=RE.f(t),r=n.resolve,i=n.reject,o=fE((function(){var n=_a(t.resolve),o=[],a=0,s=1,c=!1;fl(e,(function(e){var u=a++,g=!1;s++,jo(n,t,e).then((function(e){g||c||(c=!0,r(e))}),(function(e){g||c||(g=!0,o[u]=e,--s||i(new A(o,"No one promise resolved")))}))})),--s||i(new A(o,"No one promise resolved"))}));return o.error&&i(o.value),n.promise}});var sC=BE&&BE.prototype;ps({target:"Promise",proto:!0,real:!0,forced:!!BE&&bo((function(){sC.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Ul(this,ca("Promise")),A=Jo(e);return this.then(A?function(A){return iC(t,e()).then((function(){return A}))}:e,A?function(A){return iC(t,e()).then((function(){throw A}))}:e)}});var cC,uC,gC=aa.Promise,IC=t(gC),lC=function(){},EC=new Map,CC=new Map,dC=new Map;!function(e){e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.HARMONY_OS="HarmonyOS",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.CHROMIUM_OS="Chromium OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot"}(cC||(cC={})),function(e){e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger"}(uC||(uC={}));var hC={exports:{}};!function(e,t){!function(A,n){var r=function(e){for(var t={},A=0;A<e.length;A++)t[e[A].toUpperCase()]=e[A];return t},i=function(e,t){return"string"===ub(e)&&-1!==o(t).indexOf(o(e))},o=function(e){return e.toLowerCase()},a=function(e,t){if("string"===ub(e))return e=e.replace(/^\s\s*/,""),"undefined"===ub(t)?e:e.substring(0,350)},s=function(e,t){for(var A,r,i,o,a,s,c=0;c<t.length&&!a;){var u=t[c],g=t[c+1];for(A=r=0;A<u.length&&!a&&u[A];)if(a=u[A++].exec(e))for(i=0;i<g.length;i++)s=a[++r],"object"===ub(o=g[i])&&0<o.length?2===o.length?"function"==ub(o[1])?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3===o.length?"function"!==ub(o[1])||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):n:this[o[0]]=s?o[1].call(this,s,o[2]):n:4===o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):n):this[o]=s||n;c+=2}},c=function(e,t){for(var A in t)if("object"===ub(t[A])&&0<t[A].length){for(var r=0;r<t[A].length;r++)if(i(t[A][r],e))return"?"===A?n:A}else if(i(t[A],e))return"?"===A?n:A;return e},u={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},g={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],["version",["name","Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],["version",["name","Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],["name","version"],[/opios[\/ ]+([\w\.]+)/i],["version",["name","Opera Mini"]],[/\bopr\/([\w\.]+)/i],["version",["name","Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],["name","version"],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],["version",["name","UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],["version",["name","WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],["version",["name","WeChat"]],[/konqueror\/([\w\.]+)/i],["version",["name","Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],["version",["name","IE"]],[/yabrowser\/([\w\.]+)/i],["version",["name","Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[["name",/(.+)/,"$1 Secure Browser"],"version"],[/\bfocus\/([\w\.]+)/i],["version",["name","Firefox Focus"]],[/\bopt\/([\w\.]+)/i],["version",["name","Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],["version",["name","Coc Coc"]],[/dolfin\/([\w\.]+)/i],["version",["name","Dolphin"]],[/coast\/([\w\.]+)/i],["version",["name","Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/fxios\/([-\w\.]+)/i],["version",["name","Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[["name","360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[["name",/(.+)/,"$1 Browser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],["name","version"],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],["name"],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[["name","Facebook"],"version"],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],["name","version"],[/\bgsa\/([\w\.]+) .*safari\//i],["version",["name","GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],["version",["name","Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[["name","Chrome WebView"],"version"],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],["name","version"],[/version\/([\w\.,]+) .*mobile\/\w+ (safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w(\.|,)]+) .*(mobile ?safari|safari)/i],["version","name"],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],["name",["version",c,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[["name","Netscape"],"version"],[/mobile vr; rv:([\w\.]+)\).+firefox/i],["version",["name","Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],["name","version"],[/(cobalt)\/([\w\.]+)/i],["name",["version",/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",o]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",o]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",o]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],["model",["vendor","Samsung"],["type","tablet"]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],["model",["vendor","Samsung"],["type","mobile"]],[/\((ip(?:hone|od)[\w ]*);/i],["model",["vendor","Apple"],["type","mobile"]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],["model",["vendor","Apple"],["type","tablet"]],[/(macintosh);/i],["model",["vendor","Apple"]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],["model",["vendor","Sharp"],["type","mobile"]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],["model",["vendor","Huawei"],["type","tablet"]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],["model",["vendor","Huawei"],["type","mobile"]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","tablet"]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],["model",["vendor","OPPO"],["type","mobile"]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],["model",["vendor","Vivo"],["type","mobile"]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],["model",["vendor","Realme"],["type","mobile"]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],["model",["vendor","Motorola"],["type","mobile"]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],["model",["vendor","Motorola"],["type","tablet"]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],["model",["vendor","LG"],["type","tablet"]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],["model",["vendor","LG"],["type","mobile"]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],["model",["vendor","Lenovo"],["type","tablet"]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[["model",/_/g," "],["vendor","Nokia"],["type","mobile"]],[/(pixel c)\b/i],["model",["vendor","Google"],["type","tablet"]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],["model",["vendor","Google"],["type","mobile"]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],["model",["vendor","Sony"],["type","mobile"]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[["model","Xperia Tablet"],["vendor","Sony"],["type","tablet"]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],["model",["vendor","OnePlus"],["type","mobile"]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[["model",/(.+)/g,"Fire Phone $1"],["vendor","Amazon"],["type","mobile"]],[/(playbook);[-\w\),; ]+(rim)/i],["model","vendor",["type","tablet"]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],["model",["vendor","ASUS"],["type","tablet"]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],["model",["vendor","ASUS"],["type","mobile"]],[/(nexus 9)/i],["model",["vendor","HTC"],["type","tablet"]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],["vendor",["model",/_/g," "],["type","mobile"]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],["model",["vendor","Acer"],["type","tablet"]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],["model",["vendor","Meizu"],["type","mobile"]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],["vendor","model",["type","mobile"]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],["vendor","model",["type","tablet"]],[/(surface duo)/i],["model",["vendor","Microsoft"],["type","tablet"]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],["model",["vendor","Fairphone"],["type","mobile"]],[/(u304aa)/i],["model",["vendor","AT&T"],["type","mobile"]],[/\bsie-(\w*)/i],["model",["vendor","Siemens"],["type","mobile"]],[/\b(rct\w+) b/i],["model",["vendor","RCA"],["type","tablet"]],[/\b(venue[\d ]{2,7}) b/i],["model",["vendor","Dell"],["type","tablet"]],[/\b(q(?:mv|ta)\w+) b/i],["model",["vendor","Verizon"],["type","tablet"]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],["model",["vendor","Barnes & Noble"],["type","tablet"]],[/\b(tm\d{3}\w+) b/i],["model",["vendor","NuVision"],["type","tablet"]],[/\b(k88) b/i],["model",["vendor","ZTE"],["type","tablet"]],[/\b(nx\d{3}j) b/i],["model",["vendor","ZTE"],["type","mobile"]],[/\b(gen\d{3}) b.+49h/i],["model",["vendor","Swiss"],["type","mobile"]],[/\b(zur\d{3}) b/i],["model",["vendor","Swiss"],["type","tablet"]],[/\b((zeki)?tb.*\b) b/i],["model",["vendor","Zeki"],["type","tablet"]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/\b(ns-?\w{0,9}) b/i],["model",["vendor","Insignia"],["type","tablet"]],[/\b((nxa|next)-?\w{0,9}) b/i],["model",["vendor","NextBook"],["type","tablet"]],[/\b(xtreme_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[["vendor","Voice"],"model",["type","mobile"]],[/\b(lvtel\-)?(v1[12]) b/i],[["vendor","LvTel"],"model",["type","mobile"]],[/\b(ph-1) /i],["model",["vendor","Essential"],["type","mobile"]],[/\b(v(100md|700na|7011|917g).*\b) b/i],["model",["vendor","Envizen"],["type","tablet"]],[/\b(trio[-\w\. ]+) b/i],["model",["vendor","MachSpeed"],["type","tablet"]],[/\btu_(1491) b/i],["model",["vendor","Rotor"],["type","tablet"]],[/(shield[\w ]+) b/i],["model",["vendor","Nvidia"],["type","tablet"]],[/(sprint) (\w+)/i],["vendor","model",["type","mobile"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],["model",["vendor","Zebra"],["type","tablet"]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],["model",["vendor","Zebra"],["type","mobile"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[["vendor","LG"],["type","smarttv"]],[/(apple) ?tv/i],["vendor",["model","Apple TV"],["type","smarttv"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"],["type","smarttv"]],[/droid.+aft(\w)( bui|\))/i],["model",["vendor","Amazon"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/(bravia[\w ]+)( bui|\))/i],["model",["vendor","Sony"],["type","smarttv"]],[/(mitv-\w{5}) bui/i],["model",["vendor","Xiaomi"],["type","smarttv"]],[/Hbbtv.*(technisat) (.*);/i],["vendor","model",["type","smarttv"]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[["vendor",a],["model",a],["type","smarttv"]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[["type","smarttv"]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],["vendor","model",["type","console"]],[/droid.+; (shield) bui/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation [345portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],["model",["vendor","Microsoft"],["type","console"]],[/((pebble))app/i],["vendor","model",["type","wearable"]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],["model",["vendor","Apple"],["type","wearable"]],[/droid.+; (glass) \d/i],["model",["vendor","Google"],["type","wearable"]],[/droid.+; (wt63?0{2,3})\)/i],["model",["vendor","Zebra"],["type","wearable"]],[/(quest( 2| pro)?)/i],["model",["vendor","Facebook"],["type","wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],["vendor",["type","embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],["model",["type","mobile"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],["model",["type","tablet"]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[["type","tablet"]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[["type","mobile"]],[/(android[-\w\. ]{0,9});.+buil/i],["model",["vendor","Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],["version",["name","Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]{1,9})\b.+(gecko)/i],["version","name"]],os:[[/microsoft (windows) (vista|xp)/i],["name","version"],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],["name",["version",c,u]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[["name","Windows"],["version",c,u]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[["version",/_/g,"."],["name","iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[["name","Mac OS"],["version",/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],["version","name"],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],["name","version"],[/\(bb(10);/i],["version",["name","BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],["version",["name","Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],["version",["name","Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],["version",["name","webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],["version",["name","watchOS"]],[/crkey\/([\d\.]+)/i],["version",["name","Chromecast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[["name","Chromium OS"],"version"],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],["name","version"],[/(sunos) ?([\w\.\d]*)/i],[["name","Solaris"],"version"],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],["name","version"]]};(c=function e(t,r){if("object"===ub(t)&&(r=t,t=n),!(this instanceof e))return new e(t,r).getResult();var i="undefined"!==ub(A)&&A.navigator?A.navigator:n,o=t||(i&&i.userAgent?i.userAgent:""),c=i&&i.userAgentData?i.userAgentData:n,u=r?function(e,t){var A,n={};for(A in e)t[A]&&0==t[A].length%2?n[A]=t[A].concat(e[A]):n[A]=e[A];return n}(g,r):g;return this.getBrowser=function(){var e={};e.name=n,e.version=n,s.call(e,o,u.browser);var t=e.version;return t="string"===ub(t)?t.replace(/[^\d\.]/g,"").split(".")[0]:n,e.major=t,i&&i.brave&&"function"==ub(i.brave.isBrave)&&(e.name="Brave"),e},this.getCPU=function(){var e={};return e.architecture=n,s.call(e,o,u.cpu),e},this.getDevice=function(){var e={};return e.vendor=n,e.model=n,e.type=n,s.call(e,o,u.device),!e.type&&c&&c.mobile&&(e.type="mobile"),"Macintosh"==e.model&&i&&"undefined"!==ub(i.standalone)&&i.maxTouchPoints&&2<i.maxTouchPoints&&(e.model="iPad",e.type="tablet"),e},this.getEngine=function(){var e={};return e.name=n,e.version=n,s.call(e,o,u.engine),e},this.getOS=function(){var e={};return e.name=n,e.version=n,s.call(e,o,u.os),!e.name&&c&&"Unknown"!=c.platform&&(e.name=c.platform.replace(/chrome os/i,"Chromium OS").replace(/macos/i,"Mac OS")),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o="string"===ub(e)&&350<e.length?a(e,350):e,this},this.setUA(o),this}).VERSION="0.7.34",c.BROWSER=r(["name","version","major"]),c.CPU=r(["architecture"]),c.DEVICE=r("model vendor type console mobile smarttv tablet wearable embedded".split(" ")),c.ENGINE=c.OS=r(["name","version"]),e.exports&&(t=e.exports=c),t.UAParser=c;var I="undefined"!==ub(A)&&(A.jQuery||A.Zepto);if(I&&!I.ua){var l=new c;I.ua=l.getResult(),I.ua.get=function(){return l.getUA()},I.ua.set=function(e){for(var t in l.setUA(e),e=l.getResult())I.ua[t]=e[t]}}}("object"==("undefined"==typeof window?"undefined":ub(window))?window:_o)}(hC,hC.exports);var pC,fC=new(t(hC.exports)),BC=fC.getResult(),QC=null;!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",e.DATACHANNEL_FAILED="DATACHANNEL_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",e.PROHIBITED_OPERATION="PROHIBITED_OPERATION",e.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",e.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED"}(pC||(pC={}));var yC,vC,mC=function(e){function t(e){zb(this,t);var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length?arguments[2]:void 0,i=A.call(this,n);return Z(V(i),"code",void 0),Z(V(i),"message",void 0),Z(V(i),"data",void 0),Z(V(i),"name","AgoraRTCException"),i.code=e,i.message="AgoraRTCError ".concat(i.code,": ").concat(n),i.data=r,i}Zb(t,e);var A=$b(t);return Ib(t,[{key:"toString",value:function(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}},{key:"print",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"error",t=1<arguments.length?arguments[1]:void 0;return"error"===e&&(t||console).error(this.toString()),"warning"===e&&(t||console).warn(this.toString()),this}},{key:"throw",value:function(e){throw this.print("error",e),this}}]),t}(cq(Error));!function(e){e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE"}(yC||(yC={})),function(e){e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(vC||(vC={}));var _C,bC,RC,SC,wC,DC,kC,NC,TC=new(function(){function e(){var t=this;zb(this,e),Z(this,"_clientSize",null),Z(this,"getClientWidth",(function(){return document.documentElement?document.documentElement.clientWidth:document.body.clientWidth})),Z(this,"getClientHeight",(function(){return document.documentElement?document.documentElement.clientHeight:document.body.clientHeight})),Z(this,"getStyle",(function(e){return window.getComputedStyle(e,null)})),Z(this,"checkCssVisibleProperty",(function(e){var A,n=!0,r=(e=t.getStyle(e)).visibility,i=e.opacity,o=e.filter;return("none"===e.display||Xs(A=["hidden","collapse"]).call(A,r)||.1>Number(i))&&(n=!1),!!n&&(o&&o.split(" ").filter((function(e){var t;return e=e.split("(")[0],Xs(t=["brightness","blur","opacity"]).call(t,e)})).map((function(e){return[(e=Lb(e=e.split(/\(|\)/),2))[0],Number(e[1].match(/^[0-9\.]+/))]})).forEach((function(e){var t=(e=Lb(e,2))[1];switch(e[0]){case"brightness":(.1>t||3<t)&&(n=!1);break;case"blur":3<t&&(n=!1);break;case"opacity":.1>t&&(n=!1)}})),n)})),Z(this,"checkPropertyUpToAllParentNodes",(function(e,t){for(var A=!0,n=!0;e&&n;)t(e)||(A=!1,n=!1),(e=e.parentElement)||(n=!1);return A})),Z(this,"checkActualCssVisibleIncludeInherit",(function(e){return t.checkPropertyUpToAllParentNodes(e,t.checkCssVisibleProperty)})),Z(this,"getSizeAboutClient",(function(e){var A=e.getBoundingClientRect();e=A.width;var n=A.height,r=A.left,i=A.right,o=A.top;A=A.bottom;var a=t.getClientWidth(),s=t.getClientHeight();return{width:e,height:n,left:r,right:i,top:o,bottom:A,clientWidth:a,clientHeight:s,clientMin:Math.min(a,s)}})),Z(this,"checkActualSize",(function(){var e=t._clientSize;return t.checkSizeIsVisible(e.width,e.height,e.clientMin)})),Z(this,"elementFromPoint",(function(e,t){return document.elementFromPoint?document.elementFromPoint(e,t):null})),Z(this,"checkCoverForAPoint",(function(e,A,n){return null!==(e=t.elementFromPoint(e,A))&&e!==n})),Z(this,"getPointPositionList",(function(){var e=t._clientSize,A=e.left,n=e.top,r=e.width/6;e=e.height/6;for(var i=[],o=Math.pow(10,6),a=0;5>a;a++)for(var s=0;5>s;s++)i.push({x:(A*o+(0===a?.1:4===a?(r*a*o-1e5)/o:r*a)*o)/o,y:(n*o+(0===s?.1:4===s?(e*s*o-1e5)/o:e*s)*o)/o});return[].concat(i)})),Z(this,"checkElementCover",(function(e){return 6<t.getPointPositionList().map((function(A){return t.checkCoverForAPoint(A.x,A.y,e)})).filter((function(e){return!!e})).length})),Z(this,"checkSizeIsVisible",(function(e,t,A){return(50<e||10>=A/e)&&(50<t||10>=A/t)})),Z(this,"checkSizeOfPartInClient",(function(){var e=t._clientSize,A=e.left,n=e.right,r=e.top,i=e.bottom,o=e.clientHeight,a=e.clientWidth;if(e=e.clientMin,0>A)A=0;else if(!(A<a))return!1;if(0>n)return!1;if(n=n<a?n:a,0>r)r=0;else if(!(r<o))return!1;return!(0>i)&&t.checkSizeIsVisible(n-A,(i<o?i:o)-r,e)})),Z(this,"returnHiddenResult",(function(e){return t._clientSize=null,{visible:!1,reason:e}})),Z(this,"checkOneElementVisible",(function(e){if(e instanceof HTMLElement){if(t.checkElementIsMountedOnDom(e)){if(t.checkActualCssVisibleIncludeInherit(e)){if(t._clientSize=t.getSizeAboutClient(e),t.checkElementCover(e))return t.returnHiddenResult(yC.COVERED);e=t.checkActualSize();var A=t.checkSizeOfPartInClient();return e&&!A?t.returnHiddenResult(yC.POSITION):e?(t._clientSize=null,{visible:!0}):t.returnHiddenResult(yC.SIZE)}return t.returnHiddenResult(yC.STYLE)}return t.returnHiddenResult(vC.UNMOUNTED)}return t.returnHiddenResult(vC.INVALID_HTML_ELEMENT)})),Z(this,"checkElementIsMountedOnDom",(function(e){return t.checkPropertyUpToAllParentNodes(e,(function(e){return"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement}))}))}return e}()),OC=function(e,t){var A=new Uint8Array(e.byteLength+t.byteLength);return A.set(new Uint8Array(e),0),A.set(new Uint8Array(t),e.byteLength),A},LC=function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=function(e){e=window.atob(e);for(var t=new Uint8Array(new ArrayBuffer(e.length)),A=0;A<e.length;A+=1)t[A]=e.charCodeAt(A);return t}("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),e.next=3,window.crypto.subtle.importKey("spki",A,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]);case 3:return n=e.sent,r=De(t),e.next=7,window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r);case 7:return i=e.sent,e.abrupt("return",function(e){for(var t="",A=0;A<e.length;A+=1)t+=String.fromCharCode(e[A]);return window.btoa(t)}(new Uint8Array(i)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),MC=function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){var A="";return new Uint8Array(e).forEach((function(e){A+=e.toString(t).padStart(2,"0")})),A},e.next=3,crypto.subtle.digest("SHA-256",De(t));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,16));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UC=function(){function e(){zb(this,e),Z(this,"_events",{}),Z(this,"addListener",this.on)}return Ib(e,[{key:"getListeners",value:function(e){return this._events[e]?this._events[e].map((function(e){return e.listener})):[]}},{key:"on",value:function(e,t){this._events[e]||(this._events[e]=[]),e=this._events[e],-1===this._indexOfListener(e,t)&&e.push({listener:t,once:!1})}},{key:"once",value:function(e,t){this._events[e]||(this._events[e]=[]),e=this._events[e],-1===this._indexOfListener(e,t)&&e.push({listener:t,once:!0})}},{key:"off",value:function(e,t){if(this._events[e]){var A=this._events[e];-1!==(t=this._indexOfListener(A,t))&&A.splice(t,1),0===this._events[e].length&&delete this._events[e]}}},{key:"removeAllListeners",value:function(e){e?delete this._events[e]:this._events={}}},{key:"emit",value:function(e){this._events[e]||(this._events[e]=[]);for(var t=this._events[e].map((function(e){return e})),A=arguments.length,n=Array(1<A?A-1:0),r=1;r<A;r++)n[r-1]=arguments[r];for(A=0;A<t.length;A+=1)(r=t[A]).once&&this.off(e,r.listener),r.listener.apply(this,n||[])}},{key:"safeEmit",value:function(e){for(var t=this,A=arguments.length,n=Array(1<A?A-1:0),r=1;r<A;r++)n[r-1]=arguments[r];rb(this._events[e]||[]).forEach((function(A){A.once&&t.off(e,A.listener);try{A.listener.apply(t,n)}catch(t){console.error("safeEmit event:".concat(e," error ").concat(null==t?void 0:t.toString()))}}))}},{key:"_indexOfListener",value:function(e,t){for(var A=e.length;A--;)if(e[A].listener===t)return A;return-1}}]),e}(),xC=null;!function(e){e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.DATACHANNEL_FAILBACK="Client._datachannelFailback",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",e.IMAGE_MODERATION_UPLOAD="imageModerationUpload"}(_C||(_C={})),(bC||(bC={})).TRACER="tracer",function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(RC||(RC={})),function(e){e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.FALLBACK="FALLBACK",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL",e.TOKEN_EXPIRE="TOKEN_EXPIRE"}(SC||(SC={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.INJECT_STREAM_STATUS="stream-inject-status",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change"}(wC||(wC={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(DC||(DC={})),function(e){e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(kC||(kC={})),function(e){e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(NC||(NC={}));var PC=new(function(e){function t(){zb(this,t);var e=A.call(this);return Z(V(e),"_moduleName","network-indicator"),Z(V(e),"_networkState",kC.ONLINE),Z(V(e),"onlineWaiter",void 0),window.addEventListener("online",(function(){e.networkState=kC.ONLINE})),window.addEventListener("offline",(function(){e.networkState=kC.OFFLINE})),e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"networkState",get:function(){return this._networkState},set:function(e){var t=this;this.emit(NC.NETWORK_STATE_CHANGE,e,this._networkState),e===kC.ONLINE?this.emit(NC.ONLINE):e===kC.OFFLINE&&(this.onlineWaiter=new IC((function(e){t.once(NC.ONLINE,(function(){t.onlineWaiter=void 0,e(kC.ONLINE)}))})),this.emit(NC.OFFLINE)),this._networkState=e}},{key:"isOnline",get:function(){return this._networkState===kC.ONLINE}}]),t}(UC)),GC=TypeError,FC=function(e){return function(t,A,n,r){_a(A),t=Oa(t);var i=ta(t),o=Rs(t),a=e?o-1:0,s=e?-1:1;if(2>n)for(;;){if(a in i){r=i[a],a+=s;break}if(a+=s,e?0>a:o<=a)throw GC("Reduce of empty array with no initial value")}for(;e?0<=a:o>a;a+=s)a in i&&(r=A(r,i[a],a,t));return r}},KC=[FC(!1),FC(!0)][0];ps({target:"Array",proto:!0,forced:!kl&&79<Ca&&83>Ca||!MI("reduce")},{reduce:function(e){var t=arguments.length;return KC(this,e,t,1<t?arguments[1]:void 0)}});var VC,YC,JC=ks("Array").reduce,qC=Array.prototype,HC=t((function(e){var t=e.reduce;return e===qC||No(qC,e)&&t===qC.reduce?JC:t})),jC={},WC=function(){},XC=new(function(){function e(){zb(this,e),Z(this,"fnMap",new Map)}return Ib(e,[{key:"throttleByKey",value:function(e,t,A,n){for(var r=this,i=arguments.length,o=Array(4<i?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];this.fnMap.has(t)?(i=this.fnMap.get(t)).threshold!==A?(i.fn.apply(i,rb(i.args)),clearTimeout(i.timer),i=window.setTimeout((function(){var e=r.fnMap.get(t);e&&e.fn.apply(e,rb(e.args)),r.fnMap.delete(t)}),A),this.fnMap.set(t,{fn:e,threshold:A,timer:i,args:o,skipFn:n})):(i.skipFn&&i.skipFn.apply(i,rb(i.args)),this.fnMap.set(t,Fe(Fe({},i),{},{fn:e,args:o,skipFn:n}))):(i=window.setTimeout((function(){var e=r.fnMap.get(t);e&&e.fn.apply(e,rb(e.args)),r.fnMap.delete(t)}),A),this.fnMap.set(t,{fn:e,threshold:A,timer:i,args:o,skipFn:n}))}}]),e}()),zC=XC.throttleByKey.bind(XC),ZC=1,$C=console,ed=function(){function e(t){zb(this,e),Z(this,"lockingPromise",IC.resolve()),Z(this,"locks",0),Z(this,"name",""),Z(this,"lockId",void 0),this.lockId=ZC++,t&&(this.name=t),$C.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}return Ib(e,[{key:"isLocked",get:function(){return 0<this.locks}},{key:"lock",value:function(e){var t,A=this;this.locks+=1,$C.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:""));var n=new IC((function(n){t=function(){--A.locks,$C.debug("[lock-".concat(A.name,"-").concat(A.lockId,"] is not locked, current queue ").concat(A.locks,". ").concat("string"==typeof e?e:"")),n()}})),r=this.lockingPromise.then((function(){return t}));return this.lockingPromise=this.lockingPromise.then((function(){return n})),r}}],[{key:"setLogger",value:function(e){$C=e}}]),e}(),td={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4},Ad=function(){function e(t){zb(this,e),Z(this,"input",[]),Z(this,"size",void 0),this.size=t}return Ib(e,[{key:"add",value:function(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}},{key:"mean",value:function(){var e;return 0===this.input.length?0:HC(e=this.input).call(e,(function(e,t){return e+t}))/this.input.length}}]),e}(),nd={},rd=function(e,t){return function(){for(var A=Array(arguments.length),n=0;n<A.length;n++)A[n]=arguments[n];return e.apply(t,A)}},id=Object.prototype.toString,od=(VC=Object.create(null),function(e){return e=id.call(e),VC[e]||(VC[e]=e.slice(8,-1).toLowerCase())}),ad=ct("ArrayBuffer"),sd=ct("Date"),cd=ct("File"),ud=ct("Blob"),gd=ct("FileList"),Id=ct("URLSearchParams"),ld=(YC="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return YC&&e instanceof YC}),Ed={isArray:ut,isArrayBuffer:ad,isBuffer:function(e){return null!==e&&!gt(e)&&null!==e.constructor&&!gt(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return e&&("function"==typeof FormData&&e instanceof FormData||"[object FormData]"===id.call(e)||Et(e.toString)&&"[object FormData]"===e.toString())},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ad(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:It,isPlainObject:lt,isUndefined:gt,isDate:sd,isFile:cd,isBlob:ud,isFunction:Et,isStream:function(e){return It(e)&&Et(e.pipe)},isURLSearchParams:Id,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Ct,merge:function e(){function t(t,n){lt(A[n])&&lt(t)?A[n]=e(A[n],t):lt(t)?A[n]=e({},t):ut(t)?A[n]=t.slice():A[n]=t}for(var A={},n=0,r=arguments.length;n<r;n++)Ct(arguments[n],t);return A},extend:function(e,t,A){return Ct(t,(function(t,n){e[n]=A&&"function"==typeof t?rd(t,A):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,A,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,A&&Object.assign(e.prototype,A)},toFlatObject:function(e,t,A){var n,r,i,o={};t=t||{};do{for(r=(n=Object.getOwnPropertyNames(e)).length;0<r--;)o[i=n[r]]||(t[i]=e[i],o[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!A||A(e,t))&&e!==Object.prototype);return t},kindOf:od,kindOfTest:ct,endsWith:function(e,t,A){return e=String(e),(void 0===A||A>e.length)&&(A=e.length),A-=t.length,-1!==(e=e.indexOf(t,A))&&e===A},toArray:function(e){if(!e)return null;var t=e.length;if(gt(t))return null;for(var A=Array(t);0<t--;)A[t]=e[t];return A},isTypedArray:ld,isFileList:gd},Cd=Ed,dd=function(e,t,A){if(!t)return e;if(A)t=A(t);else if(Cd.isURLSearchParams(t))t=t.toString();else{var n=[];Cd.forEach(t,(function(e,t){null!=e&&(Cd.isArray(e)?t+="[]":e=[e],Cd.forEach(e,(function(e){Cd.isDate(e)?e=e.toISOString():Cd.isObject(e)&&(e=JSON.stringify(e)),n.push(dt(t)+"="+dt(e))})))})),t=n.join("&")}return t&&(-1!==(A=e.indexOf("#"))&&(e=e.slice(0,A)),e+=(-1===e.indexOf("?")?"?":"&")+t),e},hd=Ed;ht.prototype.use=function(e,t,A){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!A&&A.synchronous,runWhen:A?A.runWhen:null}),this.handlers.length-1},ht.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},ht.prototype.forEach=function(e){hd.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var pd,fd,Bd,Qd,yd,vd,md,_d,bd,Rd,Sd,wd,Dd,kd,Nd,Td,Od,Ld,Md,Ud,xd,Pd=Ed,Gd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fd=function(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e:t},Kd=Ed,Vd=function(e,t){Pd.forEach(e,(function(A,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=A,delete e[n])}))},Yd=pt(),Jd=Gd,qd=ft(),Hd={"Content-Type":"application/x-www-form-urlencoded"},jd={transitional:Jd,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(xd=bt()),xd),transformRequest:[function(e,t){if(Vd(t,"Accept"),Vd(t,"Content-Type"),Kd.isFormData(e)||Kd.isArrayBuffer(e)||Kd.isBuffer(e)||Kd.isStream(e)||Kd.isFile(e)||Kd.isBlob(e))return e;if(Kd.isArrayBufferView(e))return e.buffer;if(Kd.isURLSearchParams(e))return Rt(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var A,n=Kd.isObject(e),r=t&&t["Content-Type"];if((A=Kd.isFileList(e))||n&&"multipart/form-data"===r)return t=this.env&&this.env.FormData,qd(A?{"files[]":e}:e,t&&new t);if(n||"application/json"===r){Rt(t,"application/json");e:{if(Kd.isString(e))try{var i=((0,JSON.parse)(e),Kd.trim(e));break e}catch(e){if("SyntaxError"!==e.name)throw e}i=(0,JSON.stringify)(e)}e=i}return e}],transformResponse:[function(e){var t=this.transitional||jd.transitional,A=t&&t.forcedJSONParsing;if((t=!(t&&t.silentJSONParsing)&&"json"===this.responseType)||A&&Kd.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw Yd.from(e,Yd.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ud?Md:(Ud=1,Md=null)},validateStatus:function(e){return 200<=e&&300>e},headers:{common:{Accept:"application/json, text/plain, */*"}}};Kd.forEach(["delete","get","head"],(function(e){jd.headers[e]={}})),Kd.forEach(["post","put","patch"],(function(e){jd.headers[e]=Kd.merge(Hd)}));var Wd,Xd,zd,Zd,$d=jd,eh=Ed,th=Ed,Ah=function(e,t,A){var n=this||$d;return eh.forEach(A,(function(A){e=A.call(n,e,t)})),e},nh=St(),rh=mt(),ih=Ed,oh=function(e,t){function A(e,t){return ih.isPlainObject(e)&&ih.isPlainObject(t)?ih.merge(e,t):ih.isPlainObject(t)?ih.merge({},t):ih.isArray(t)?t.slice():t}function n(n){return ih.isUndefined(t[n])?ih.isUndefined(e[n])?void 0:A(void 0,e[n]):A(e[n],t[n])}function r(e){if(!ih.isUndefined(t[e]))return A(void 0,t[e])}function i(n){return ih.isUndefined(t[n])?ih.isUndefined(e[n])?void 0:A(void 0,e[n]):A(void 0,t[n])}function o(n){return n in t?A(e[n],t[n]):n in e?A(void 0,e[n]):void 0}t=t||{};var a={},s={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o};return ih.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=s[e]||n,A=t(e);ih.isUndefined(A)&&t!==o||(a[e]=A)})),a},ah=Dt().version,sh=pt(),ch={};"object boolean number function string symbol".split(" ").forEach((function(e,t){ch[e]=function(A){return ub(A)===e||"a"+(1>t?"n ":" ")+e}}));var uh={};ch.transitional=function(e,t,A){function n(e,t){return"[Axios v"+ah+"] Transitional option '"+e+"'"+t+(A?". "+A:"")}return function(A,r,i){if(!1===e)throw new sh(n(r," has been removed"+(t?" in "+t:"")),sh.ERR_DEPRECATED);return t&&!uh[r]&&(uh[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(A,r,i)}};var gh,Ih,lh,Eh,Ch,dh,hh=Ed,ph=dd,fh=ht,Bh=function(e){return wt(e),e.headers=e.headers||{},e.data=Ah.call(e,e.data,e.headers,e.transformRequest),e.headers=th.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),th.forEach("delete get head post put patch common".split(" "),(function(t){delete e.headers[t]})),(e.adapter||$d.adapter)(e).then((function(t){return wt(e),t.data=Ah.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return nh(t)||(wt(e),t&&t.response&&(t.response.data=Ah.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Qh=Fd,yh={assertOptions:function(e,t,A){if("object"!=ub(e))throw new sh("options must be an object",sh.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),r=n.length;0<r--;){var i=n[r],o=t[i];if(o){var a=e[i];if(!0!==(o=void 0===a||o(a,i,e)))throw new sh("option "+i+" must be "+o,sh.ERR_BAD_OPTION_VALUE)}else if(!0!==A)throw new sh("Unknown option "+i,sh.ERR_BAD_OPTION)}},validators:ch},vh=yh.validators;kt.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=oh(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get",void 0!==(e=t.transitional)&&yh.assertOptions(e,{silentJSONParsing:vh.transitional(vh.boolean),forcedJSONParsing:vh.transitional(vh.boolean),clarifyTimeoutError:vh.transitional(vh.boolean)},!1);var A=[],n=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,A.unshift(e.fulfilled,e.rejected))}));var r,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!n){for(e=[Bh,void 0],Array.prototype.unshift.apply(e,A),e=e.concat(i),r=Promise.resolve(t);e.length;)r=r.then(e.shift(),e.shift());return r}for(e=t;A.length;){var o=A.shift(),a=A.shift();try{e=o(e)}catch(e){a(e);break}}try{r=Bh(e)}catch(e){return Promise.reject(e)}for(;i.length;)r=r.then(i.shift(),i.shift());return r},kt.prototype.getUri=function(e){e=oh(this.defaults,e);var t=Qh(e.baseURL,e.url);return ph(t,e.params,e.paramsSerializer)},hh.forEach(["delete","get","head","options"],(function(e){kt.prototype[e]=function(t,A){return this.request(oh(A||{},{method:e,url:t,data:(A||{}).data}))}})),hh.forEach(["post","put","patch"],(function(e){function t(t){return function(A,n,r){return this.request(oh(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:A,data:n}))}}kt.prototype[e]=t(),kt.prototype[e+"Form"]=t(!0)}));var mh=Ed,_h=function e(t){var A=new kt(t),n=rd(kt.prototype.request,A);return mh.extend(n,kt.prototype,A),mh.extend(n,A),n.create=function(A){return e(oh(t,A))},n}($d);_h.Axios=kt,_h.CanceledError=mt(),_h.CancelToken=function(){function e(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var A;this.promise=new Promise((function(e){A=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,A=n._listeners.length;for(t=0;t<A;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t;return(e=new Promise((function(e){n.subscribe(e),t=e})).then(e)).cancel=function(){n.unsubscribe(t)},e},e((function(e){n.reason||(n.reason=new t(e),A(n.reason))}))}if(Ih)return gh;Ih=1;var t=mt();return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},e.prototype.unsubscribe=function(e){this._listeners&&-1!==(e=this._listeners.indexOf(e))&&this._listeners.splice(e,1)},e.source=function(){var t;return{token:new e((function(e){t=e})),cancel:t}},gh=e}(),_h.isCancel=St(),_h.VERSION=Dt().version,_h.toFormData=ft(),_h.AxiosError=pt(),_h.Cancel=_h.CanceledError,_h.all=function(e){return Promise.all(e)},_h.spread=Eh?lh:(Eh=1,lh=function(e){return function(t){return e.apply(null,t)}}),_h.isAxiosError=function(){if(dh)return Ch;dh=1;var e=Ed;return Ch=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),(nd=_h).default=_h;var bh,Rh,Sh,wh=t(nd),Dh=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;var t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);return t&&t[1]&&t[2]?(e=t[2],"".concat(t[1],".").concat(e)):(t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/))&&t[1]&&t[2]?(e=t[2],"".concat(t[1],".").concat(100*(Number(e)+1))):"4.0.0.999"}("4.20.1");try{var kh=!0===JSON.parse("true")}catch(Sh){kh=!0}(Sh=Rh||(Rh={})).Default="default",Sh.Auto="auto",Sh.Relay="relay",Sh.SdRtn="sd-rtn";var Nh,Th={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TWCC:!1,PUBLISH_TWCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_PUB_RTX:!1,USE_SUB_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:100,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,DISABLE_FEC:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,SVC:[],ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,ENABLE_DATASTREAM_2:!1,DATASTREAM_MAX_RETRANSMITS:10,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_INSTANT_VIDEO:!1,ENABLE_NTP_REPORT:!1,USE_XR:!1,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],PLUGIN_INFO:[]},Oh={};!function(e){e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_INT_UID="SET_INT_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS",e.SET_USE_DATACHANNEL="SET_USE_DATACHANNEL",e.SET_USE_P2P="SET_USE_P2P",e.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE"}(Nh||(Nh={}));var Lh,Mh,Uh=function(){function e(t,A,n,r){zb(this,e),Z(this,"state",void 0),this.state={codec:t,audioCodec:A,mode:n,clientId:r,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useDataChannel:!1,useP2P:!1,p2pTransport:Rh.Default}}return Ib(e,[{key:"dispatch",value:function(e){this.state=function(e,t){switch(t.type){case Nh.SET_SESSION_ID:return Pt(Pt({},e),{},{sessionId:t.sessionId});case Nh.SET_P2P_ID:return Pt(Pt({},e),{},{p2pId:t.p2pId});case Nh.SET_UID:return Pt(Pt({},e),{},{uid:t.uid});case Nh.SET_INT_UID:return Pt(Pt({},e),{},{intUid:t.intUid});case Nh.SET_PUB_ID:return Pt(Pt({},e),{},{pubId:t.pubId});case Nh.KEY_METRIC_CLIENT_CREATED:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{clientCreated:t.metric})});case Nh.KEY_METRIC_JOIN_START:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{joinStart:t.metric})});case Nh.AVOID_JOIN_START:return Pt(Pt({},e),{},{avoidJoinStart:t.avoidJoinStart});case Nh.KEY_METRIC_JOIN_END:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{joinEnd:t.metric})});case Nh.KEY_METRIC_REQUEST_AP_START:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{requestAPStart:t.metric})});case Nh.KEY_METRIC_REQUEST_AP_END:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{requestAPEnd:t.metric})});case Nh.KEY_METRIC_JOIN_GATEWAY_START:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case Nh.KEY_METRIC_JOIN_GATEWAY_END:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case Nh.KEY_METRIC_PEER_CONNECTION_START:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case Nh.KEY_METRIC_PEER_CONNECTION_END:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case Nh.KEY_METRIC_DESCRIPTION_START:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{descriptionStart:t.metric})});case Nh.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case Nh.KEY_METRIC_ICE_CONNECTION_END:return Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case Nh.KEY_METRIC_PUBLISH:var A=e.keyMetrics.publish,n=A.findIndex((function(e){return e.trackId===t.metric.trackId}));return-1!==n?(A[n]=Pt(Pt({},A[n]),t.metric),Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{publish:rb(A)})})):Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{publish:[].concat(rb(e.keyMetrics.publish),[t.metric])})});case Nh.KEY_METRIC_SUBSCRIBE:return-1!==(n=(A=e.keyMetrics.subscribe).findIndex((function(e){return e.userId===t.metric.userId&&e.type===t.metric.type})))?(A[n]=Pt(Pt({},A[n]),t.metric),Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{subscribe:rb(A)})})):Pt(Pt({},e),{},{keyMetrics:Pt(Pt({},e.keyMetrics),{},{subscribe:[].concat(rb(e.keyMetrics.subscribe),[t.metric])})});case Nh.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case Nh.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[].concat(rb(e.joinChannelServiceRecords),[t.record]):(e.joinChannelServiceRecords[t.index]=Pt(Pt({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=rb(e.joinChannelServiceRecords)),e;case Nh.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case Nh.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case Nh.SET_USE_DATACHANNEL:return Pt(Pt({},e),{},{useDataChannel:t.val});case Nh.SET_USE_P2P:return Pt(Pt({},e),{},{useP2P:t.val});case Nh.SET_TRANSPORT_TYPE:return Pt(Pt({},e),{},{p2pTransport:t.val});default:return e}}(this.state,e)}},{key:"sessionId",get:function(){return this.state.sessionId},set:function(e){this.dispatch({type:Nh.SET_SESSION_ID,sessionId:e})}},{key:"codec",get:function(){return this.state.codec},set:function(e){this.state.codec=e}},{key:"mode",get:function(){return this.state.mode}},{key:"audioCodec",get:function(){return this.state.audioCodec}},{key:"clientId",get:function(){return this.state.clientId}},{key:"p2pId",get:function(){return this.state.p2pId},set:function(e){this.dispatch({type:Nh.SET_P2P_ID,p2pId:e})}},{key:"dcId",get:function(){return this.state.dcId},set:function(e){this.dispatch({type:Nh.SET_DC_ID,dcId:e})}},{key:"uid",get:function(){return this.state.uid},set:function(e){this.dispatch({type:Nh.SET_UID,uid:e})}},{key:"intUid",get:function(){return this.state.intUid},set:function(e){this.dispatch({type:Nh.SET_INT_UID,intUid:e})}},{key:"pubId",get:function(){return this.state.pubId},set:function(e){this.dispatch({type:Nh.SET_PUB_ID,pubId:e})}},{key:"cloudProxyServerMode",get:function(){return this.state.cloudProxyServerMode},set:function(e){this.dispatch({type:Nh.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}},{key:"useDataChannel",get:function(){return this.state.useDataChannel},set:function(e){this.dispatch({type:Nh.SET_USE_DATACHANNEL,val:e})}},{key:"useP2P",get:function(){return this.state.useP2P},set:function(e){this.dispatch({type:Nh.SET_USE_P2P,val:e})}},{key:"p2pTransport",get:function(){return this.state.p2pTransport},set:function(e){this.dispatch({type:Nh.SET_TRANSPORT_TYPE,val:e})}},{key:"clientCreated",value:function(){this.dispatch({type:Nh.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}},{key:"joinStart",value:function(){this.dispatch({type:Nh.KEY_METRIC_JOIN_START,metric:Date.now()})}},{key:"joinEnd",value:function(){this.dispatch({type:Nh.KEY_METRIC_JOIN_END,metric:Date.now()})}},{key:"requestAPStart",value:function(){this.dispatch({type:Nh.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}},{key:"requestAPEnd",value:function(){this.dispatch({type:Nh.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}},{key:"joinGatewayStart",value:function(){this.dispatch({type:Nh.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}},{key:"joinGatewayEnd",value:function(){this.dispatch({type:Nh.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}},{key:"peerConnectionStart",value:function(){this.dispatch({type:Nh.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}},{key:"peerConnectionEnd",value:function(){this.dispatch({type:Nh.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}},{key:"descriptionStart",value:function(){this.dispatch({type:Nh.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}},{key:"signalChannelOpen",value:function(){this.dispatch({type:Nh.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}},{key:"iceConnectionEnd",value:function(){this.dispatch({type:Nh.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}},{key:"publish",value:function(e,t,A,n){this.dispatch({type:Nh.KEY_METRIC_PUBLISH,metric:Pt(Pt({trackId:e,type:t},A&&{publishStart:A}),n&&{publishEnd:n})})}},{key:"subscribe",value:function(e,t,A,n,r,i,o){this.dispatch({type:Nh.KEY_METRIC_SUBSCRIBE,metric:Pt(Pt(Pt(Pt(Pt({userId:e,type:t},A&&{subscribeStart:A}),n&&{subscribeEnd:n}),r&&{firstFrame:r}),i&&{streamAdded:i}),o&&{firstDecoded:o})})}},{key:"massSubscribe",value:function(e,t,A,n){var r=this;e.forEach((function(e){r.dispatch({type:Nh.KEY_METRIC_SUBSCRIBE,metric:Pt(Pt(Pt({userId:e.userId,type:e.type},t&&{subscribeStart:t}),A&&{subscribeEnd:A}),n&&{firstFrame:n})})}))}},{key:"keyMetrics",get:function(){return this.state.keyMetrics}},{key:"recordJoinChannelService",value:function(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((function(e){return e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2")})));try{return"number"!=typeof t?(this.dispatch({type:Nh.RECORD_JOIN_CHANNEL_SERVICE,record:Pt(Pt({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(0>t||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:Nh.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}},{key:"resetJoinChannelServiceRecords",value:function(){this.dispatch({type:Nh.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}},{key:"resetKeyMetrics",value:function(){this.dispatch({type:Nh.RESET_KEY_METRICS})}},{key:"joinChannelServiceRecords",get:function(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}},{key:"avoidJoinStart",get:function(){return this.state.avoidJoinStart},set:function(e){this.dispatch({type:Nh.AVOID_JOIN_START,avoidJoinStart:e})}}]),e}();!function(e){e.h264="h264",e.h265="h265",e.vp8="vp8",e.vp9="vp9",e.av1="av1"}(Lh||(Lh={})),function(e){e.opus="opus",e.pcma="pcma",e.pcmu="pcmu",e.g722="g722"}(Mh||(Mh={}));var xh,Ph,Gh=0,Fh=new(function(e){function t(){return zb(this,t),A.apply(this,arguments)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"reportLogUploadError",value:function(e){this.emit("REPORT_LOG_UPLOAD",e)}}]),t}(UC)),Kh=function(){function e(t){zb(this,e),Z(this,"logger",void 0),Z(this,"prefixLists",[]),this.logger=t}return Ib(e,[{key:"debug",value:function(){for(var e,t=arguments.length,A=Array(t),n=0;n<t;n++)A[n]=arguments[n];(e=this.logger).debug.apply(e,rb(this.prefixLists).concat(A))}},{key:"info",value:function(){for(var e,t=arguments.length,A=Array(t),n=0;n<t;n++)A[n]=arguments[n];(e=this.logger).info.apply(e,rb(this.prefixLists).concat(A))}},{key:"warning",value:function(){for(var e,t=arguments.length,A=Array(t),n=0;n<t;n++)A[n]=arguments[n];(e=this.logger).warning.apply(e,rb(this.prefixLists).concat(A))}},{key:"error",value:function(){for(var e,t=arguments.length,A=Array(t),n=0;n<t;n++)A[n]=arguments[n];(e=this.logger).error.apply(e,rb(this.prefixLists).concat(A))}},{key:"prefix",value:function(e){return this.prefixLists.push(e),this}},{key:"popPrefix",value:function(){return this.prefixLists.pop(),this}}]),e}(),Vh={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},Yh=Date.now(),Jh=function(e){for(var t in Vh)if(Object.prototype.hasOwnProperty.call(Vh,t)&&Vh[t]===e)return t;return"DEFAULT"},qh=new(function(){function e(){var t=this;zb(this,e),Z(this,"proxyServerURL",void 0),Z(this,"logLevel",Vh.DEBUG),Z(this,"uploadState","collecting"),Z(this,"uploadLogWaitingList",[]),Z(this,"uploadLogUploadingList",[]),Z(this,"uploadErrorCount",0),Z(this,"currentLogID",0),Z(this,"url",void 0),Z(this,"extLog",(function(e,A){t.appendLogToWaitingList.apply(t,[e].concat(rb(A)))}))}var t;return Ib(e,[{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),A=0;A<e;A++)t[A]=arguments[A];e=[Vh.DEBUG].concat(t),this.log.apply(this,e)}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),A=0;A<e;A++)t[A]=arguments[A];e=[Vh.INFO].concat(t),this.log.apply(this,e)}},{key:"warning",value:function(){for(var e=arguments.length,t=Array(e),A=0;A<e;A++)t[A]=arguments[A];e=[Vh.WARNING].concat(t),this.log.apply(this,e)}},{key:"warn",value:function(){this.warning.apply(this,arguments)}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),A=0;A<e;A++)t[A]=arguments[A];e=[Vh.ERROR].concat(t),this.log.apply(this,e)}},{key:"upload",value:function(){for(var e=arguments.length,t=Array(e),A=0;A<e;A++)t[A]=arguments[A];e=[Vh.DEBUG].concat(t),this.uploadLog.apply(this,e)}},{key:"setLogLevel",value:function(e){this.logLevel=e=Math.min(Math.max(0,e),4)}},{key:"enableLogUpload",value:function(){Ut("UPLOAD_LOG",!0)}},{key:"disableLogUpload",value:function(){Ut("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}},{key:"setProxyServer",value:function(e){this.proxyServerURL=e}},{key:"prefix",value:function(e){return new Kh(this).prefix(e)}},{key:"log",value:function(){for(var e=this,t=arguments.length,A=Array(t),n=0;n<t;n++)A[n]=arguments[n];if(100>Date.now()-Yh)setTimeout((function(){e.log.apply(e,A)}),Date.now()-Yh);else if(t=Math.max(0,Math.min(4,A[0])),A[0]=Gt()+" Agora-SDK [".concat(Jh(t),"]:"),this.appendLogToWaitingList.apply(this,[t].concat(A)),!(t<this.logLevel)){n=Gt()+" %cAgora-SDK [".concat(Jh(t),"]:");var r=[];if(!Th.USE_NEW_LOG)switch(t){case Vh.DEBUG:r=[n,"color: #64B5F6;"].concat(A.slice(1)),console.log.apply(console,r);break;case Vh.INFO:r=[n,"color: #1E88E5; font-weight: bold;"].concat(A.slice(1)),console.log.apply(console,r);break;case Vh.WARNING:r=[n,"color: #FB8C00; font-weight: bold;"].concat(A.slice(1)),console.warn.apply(console,r);break;case Vh.ERROR:r=[n,"color: #B00020; font-weight: bold;"].concat(A.slice(1)),console.error.apply(console,r)}}}},{key:"uploadLog",value:function(){for(var e=this,t=arguments.length,A=Array(t),n=0;n<t;n++)A[n]=arguments[n];100>Date.now()-Yh?setTimeout((function(){e.uploadLog.apply(e,A)}),Date.now()-Yh):(t=Math.max(0,Math.min(4,A[0])),A[0]=Gt()+" Agora-SDK [".concat(Jh(t),"]:"),this.appendLogToWaitingList.apply(this,[t].concat(A)))}},{key:"appendLogToWaitingList",value:function(e){if(Th.UPLOAD_LOG){for(var t=arguments.length,A=Array(1<t?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];Array.isArray(A[0])?A[0][0]=Ft()+" Agora-SDK [".concat(Jh(e),"]:"):A[0]=Ft()+" Agora-SDK [".concat(Jh(e),"]:");var r="";A.forEach((function(e){"object"==ub(e)&&(e=JSON.stringify(e)),r+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:r,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}}},{key:"startUpload",value:function(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}},{key:"uploadLogs",value:(t=pa(O.mark((function e(){var t,A,n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.uploadLogUploadingList,A={sdk_version:Dh,process_id:Th.PROCESS_ID,payload:JSON.stringify(t)},e.abrupt("return",st(pa(O.mark((function e(){var t,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wh.post(n.url||(n.proxyServerURL?"https://".concat(n.proxyServerURL,"/ls/?h=").concat(Th.LOG_UPLOAD_SERVER,"&p=443&d=upload/v1"):"https://".concat(Th.LOG_UPLOAD_SERVER,"/upload/v1")),A,{responseType:"text"});case 2:if("OK"===(t=e.sent).data){e.next=6;break}throw(r=Error("unexpected upload log response")).response=t,r;case 6:case"end":return e.stop()}}),e)}))),(function(){return n.uploadLogUploadingList=[],!1}),(function(e){return e.response?Fh.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?Fh.reportLogUploadError({status:e.request.status,message:e.message}):Fh.reportLogUploadError({status:-1,message:e.message}),!0}),{timeout:Th.UPLOAD_LOG_REQUEST_RETRY_INTERVAL,maxRetryTimeout:Th.UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"uploadLogInterval",value:function(){var e=this;0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,Th.UPLOAD_LOG_LENGTH_EACH_TIME)),this.uploadLogs().then((function(){e.uploadErrorCount=0,0<e.uploadLogWaitingList.length&&window.setTimeout((function(){return e.uploadLogInterval()}),Th.UPLOAD_LOG_INTERVAL)})).catch((function(t){e.uploadErrorCount+=1,2>e.uploadErrorCount?window.setTimeout((function(){return e.uploadLogInterval()}),Th.UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1):window.setTimeout((function(){return e.uploadLogInterval()}),Th.UPLOAD_LOG_RETRY_INTERVAL_V1)})))}}]),e}());!function(e){e.FREE="free",e.UPLOADING="uploading"}(xh||(xh={})),function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}(Ph||(Ph={}));var Hh,jh,Wh,Xh,zh={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics",e.PC_STATS="pc_stats",e.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities"}(Hh||(Hh={})),function(e){e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",e.PC_STATS="io.agora.pb.Wrtc.PCStats",e.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities"}(jh||(jh={})),function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}(Wh||(Wh={})),function(e){e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED"}(Xh||(Xh={}));var Zh=function(){function e(){var t,A=this;zb(this,e),Z(this,"baseInfoMap",new Map),Z(this,"proxyServer",void 0),Z(this,"eventUploadTimer",void 0),Z(this,"setSessionIdTimer",void 0),Z(this,"url",void 0),Z(this,"backupUrl",void 0),Z(this,"_appId",void 0),Z(this,"keyEventUploadPendingItems",[]),Z(this,"normalEventUploadPendingItems",[]),Z(this,"apiInvokeUploadPendingItems",[]),Z(this,"apiInvokeCount",0),Z(this,"ltsList",[]),Z(this,"lastSendNormalEventTime",Date.now()),Z(this,"customReportCounterTimer",void 0),Z(this,"customReportCount",0),Z(this,"extApiInvoke",(t=pa(O.mark((function e(t){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0;n<t.length;n++)r=i[n],i=Yt(Yt({},r),{},{sid:null,invokeId:++A.apiInvokeCount,tag:bC.TRACER}),A.sendApiInvoke(i);case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),Th.EVENT_REPORT_SEND_INTERVAL),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),Th.EVENT_REPORT_SEND_INTERVAL)}var t;return Ib(e,[{key:"getBaseInfoBySessionId",value:function(e){return this.baseInfoMap.get(e)}},{key:"adjustSessionStartTime",value:function(e){if(this.baseInfoMap.has(e)||this.baseInfoMap.get(e)){var t=this.baseInfoMap.get(e),A=Date.now(),n=t.startTime;t.startTime=A,qh.debug("rewrite session ".concat(e," startTime: ").concat(A," , ").concat(A-n,"ms")),this.baseInfoMap.set(e,t)}else qh.error("adjust session ".concat(e," start time, sid is not exist or info is undefined"))}},{key:"setAppId",value:function(e){this._appId=e}},{key:"reportApiInvoke",value:function(e,t,A){var n=this;t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;var r=Date.now(),i=this.apiInvokeCount+=1,o=function(){return{tag:t.tag,invokeId:i,sid:e,name:t.name,apiInvokeTime:r,options:t.options,states:t.states||null}},a=!!Th.SHOW_REPORT_INVOKER_LOG;a&&qh.info("".concat(t.name," start"),t.options);var s=!1;tt(t.timeout).then((function(){s||(n.sendApiInvoke(Yt(Yt({},o()),{},{error:pC.API_INVOKE_TIMEOUT,success:!1})),qh.debug("".concat(t.name," timeout")))}));var c=new mC(pC.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:function(e){var r=function(){if(s)throw c;return s=!0,n.sendApiInvoke(Yt(Yt({},o()),{},{success:!0},t.reportResult&&{result:e})),a&&qh.info("".concat(t.name," onSuccess")),e};return A?zC(r,t.name+"Success",A,(function(){return s=!0})):r()},onError:function(e){var r=function(){if(s)throw e;s=!0,n.sendApiInvoke(Yt(Yt({},o()),{},{success:!1,error:e})),a&&qh.info("".concat(t.name," onFailure"),e.toString())};return A?zC(r,t.name+"Error",A,(function(){return s=!0})):r()}}}},{key:"sessionInit",value:function(e,t){if(!this.baseInfoMap.has(e)){var A=Date.now();(e=this.createBaseInfo(e,A)).cname=t.cname;var n=Object.assign({},{willUploadConsoleLog:Th.UPLOAD_LOG,maxTouchPoints:navigator.maxTouchPoints,areaVersion:kh?"global":"oversea",areas:Th.AREAS&&Th.AREAS.join(",")},t.extend),r=t.stringUid,i=t.channelProfile,o=t.channelMode,a=t.isABTestSuccess,s=t.lsid,c=t.clientRole,u=Date.now();t=Yt(Yt({},e),{},{eventType:Hh.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:"v4.20.1-0-g369af267(2/26/2024, 10:45:44 AM)",lts:u,elapse:u-A,extend:JSON.stringify(n),mode:t.mode,process:Th.PROCESS_ID,appType:Th.APP_TYPE,success:!0,version:Dh,stringUid:r,channelProfile:i,channelMode:o,isABTestSuccess:a,lsid:s,clientType:20,clientRole:c,serviceId:Th.PROCESS_ID,extensionID:Th.PLUGIN_INFO.join(",")||""}),this.send({type:jh.SESSION,data:t},!0)}}},{key:"joinChooseServer",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt({},A),{},{eventType:Hh.JOIN_CHOOSE_SERVER,lts:n,eventElapse:n-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:n-e.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3}),this.send({type:jh.JOIN_CHOOSE_SERVER,data:t},!0)}}},{key:"reqUserAccount",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt({},A),{},{eventType:Hh.REQ_USER_ACCOUNT,lts:n,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:n-e.startTime,eventElapse:n-t.lts,extend:JSON.stringify(t.extend)}),this.send({type:jh.REQ_USER_ACCOUNT,data:t},!0)}}},{key:"joinGateway",value:function(e,t){var A=this.baseInfoMap.get(e);if(A){var n=A.info;t.vid&&(n.vid=t.vid),n.uid=t.uid,n.cid=t.cid;var r=Date.now(),i=t.firstSuccess,o=t.avoidJoinStartTime;e=t.isProxy;var a=t.addr;o=r-(i&&o?o:A.startTime),o=(n=Yt(Yt({},n),{},{eventType:Hh.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:o,eventElapse:r-t.lts,firstSuccess:i,signalChannel:t.signalChannel})).success?1:0,t.succ&&(A.lastJoinSuccessTime=r),i?this.send({type:jh.JOIN_GATEWAY,data:n},!0):(a?e?(t=a.match(/h=(\d{1,3}-){3}\d{1,3}/g),a=a.match(/p=[0-9]{1,6}/g),e={isSuccess:o,gatewayIp:t&&t.length?t[0].split("=")[1].replace(/-/g,"."):"",port:a&&a.length?a[0].split("=")[1]:"",isProxy:e?1:0}):(t=a.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),a=a.match(/(:|p=)[0-9]{1,6}/g),e={isSuccess:o,gatewayIp:t&&t.length?t[0].split("//")[1].replace(/-/g,"."):"",port:a&&a.length?a[0].split(/:|p=/g)[1]:"",isProxy:e?1:0}):e={isSuccess:o,gatewayIp:"",port:"",isProxy:e?1:0},delete n.success,delete n.eventType,delete n.firstSuccess,n.vid=Number(n.vid),e=Object.assign({},n,e,{eventType:Hh.REJOIN_GATEWAY}),this.send({type:jh.RE_JOIN_GATEWAY,data:e},!0))}}},{key:"joinChannelTimeout",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=Date.now();t=Yt(Yt({},e.info),{},{lts:A,timeout:t,elapse:A-e.startTime}),this.send({type:jh.JOIN_CHANNEL_TIMEOUT,data:t},!0)}}},{key:"publish",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt({},A),{},{eventType:Hh.PUBLISH,lts:n,eventElapse:t.eventElapse,elapse:n-e.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid}),this.send({type:jh.PUBLISH,data:t},!0)}}},{key:"subscribe",value:function(e,t,A){if(e=this.baseInfoMap.get(e)){var n=e.info,r=Date.now();A=Yt(Yt({},n),{},{eventType:Hh.SUBSCRIBE,lts:r,eventElapse:t.eventElapse,elapse:r-e.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},A&&{extend:JSON.stringify({isMassSubscribe:!0})}),"string"==typeof t.peerid?A.peerSuid=t.peerid:A.peer=t.peerid,this.send({type:jh.SUBSCRIBE,data:A},!0)}}},{key:"wsCompressorInit",value:function(e){var t,A=rb(NI(t=this.baseInfoMap).call(t));if(t=this.baseInfoMap.get(A.length?A[0]:"UnableToGetSid")){A=t.info;var n=Date.now();e=Yt(Yt({},A),{},{eventType:Hh.WS_COMPRESSOR_INIT,lts:n,eventElapse:e.eventElapse,elapse:n-t.startTime,status:e.status?1:2}),this.send({type:jh.WS_COMPRESSOR_INIT,data:e},!0)}}},{key:"firstRemoteVideoDecode",value:function(e,t,A,n){if(e=this.baseInfoMap.get(e)){var r=e.info,i=Date.now();t=Yt(Yt(Yt({},r),n),{},{elapse:i-e.startTime,eventType:t,lts:i,firstDecodeFrame:Math.max(i-e.startTime,0),apEnd:Math.max(n.apEnd-e.startTime,0),apStart:Math.max(n.apStart-e.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-e.startTime,0),joinGwStart:Math.max(n.joinGwStart-e.startTime,0),pcEnd:Math.max(n.pcEnd-e.startTime,0),pcStart:Math.max(n.pcStart-e.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-e.startTime,0),subscriberStart:Math.max(n.subscriberStart-e.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-e.startTime,0)}),this.send({type:A,data:t},!0)}}},{key:"firstRemoteFrame",value:function(e,t,A,n){if(e=this.baseInfoMap.get(e)){var r=e.info,i=Date.now();t=Yt(Yt(Yt({},r),n),{},{elapse:i-e.startTime,eventType:t,lts:i}),this.send({type:A,data:t},!0)}}},{key:"pcStats",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt(Yt({},A),t),{},{vid:void 0===A.vid?0:Number(A.vid),elapse:n-e.startTime,eventType:Hh.PC_STATS,lts:n}),this.send({type:jh.PC_STATS,data:t},!0)}}},{key:"updateRemoteRTPCapabilities",value:function(e,t){if(e&&(e=this.baseInfoMap.get(e))){e=e.info;var A=Date.now();t=Yt(Yt(Yt({},e),t),{},{vid:void 0===e.vid?0:Number(e.vid),eventType:Hh.UPDATE_REMOTE_RTPCAPABILITIES,lts:A}),this.send({type:jh.UPDATE_REMOTE_RTPCAPABILITIES,data:t},!0)}}},{key:"onGatewayStream",value:function(e,t,A,n){if(e=this.baseInfoMap.get(e)){e=e.info;var r=Date.now();t=Yt(Yt(Yt({},e),n),{},{eventType:t,lts:r}),this.send({type:A,data:t},!0)}}},{key:"streamSwitch",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt({},A),{},{eventType:Hh.STREAM_SWITCH,lts:n,isDual:t.isdual,elapse:n-e.startTime,success:t.succ}),this.send({type:jh.STREAM_SWITCH,data:t},!0)}}},{key:"requestProxyAppCenter",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt({},A),{},{eventType:Hh.REQUEST_PROXY_APPCENTER,lts:n,eventElapse:n-t.lts,elapse:n-e.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ}),this.send({type:jh.REQUEST_PROXY_APPCENTER,data:t},!0)}}},{key:"requestProxyWorkerManager",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt({},A),{},{eventType:Hh.REQUEST_PROXY_WORKER_MANAGER,lts:n,eventElapse:n-t.lts,elapse:n-e.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ}),this.send({type:jh.REQUEST_PROXY_WORKER_MANAGER,data:t},!0)}}},{key:"setProxyServer",value:function(e){(this.proxyServer=e)?qh.debug("reportProxyServerurl: ".concat(e)):qh.debug("disable reportProxyServerurl: ".concat(e))}},{key:"peerPublishStatus",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt({},A),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:0<t.audioPublishDuration?1:-1,videotag:0<t.videoPublishDuration?1:-1,lts:n,elapse:n-e.startTime,joinChannelSuccessElapse:n-(e.lastJoinSuccessTime||n),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration}),this.send({type:jh.PEER_PUBLISH_STATUS,data:t},!0)}}},{key:"workerEvent",value:function(e,t){var A=this;if(e=this.baseInfoMap.get(e)){var n=e.info,r=Date.now();(function(e,t,A){var n=e[t];if(!n||"string"!=typeof n)return[e];e[t]="";for(var r=Ze(JSON.stringify(e)),i=0,o=[],a=0,s=0;s<n.length;s++)(a+=127>=n.charCodeAt(s)?1:3)<=A-r||(o[o.length]=Fe(Fe({},e),{},na({},t,n.substring(i,s))),i=s,a=127>=n.charCodeAt(s)?1:3);return i!==n.length-1&&(o[o.length]=Fe(Fe({},e),{},na({},t,n.substring(i)))),o})(Yt(Yt(Yt({},n),t),{},{elapse:r-e.startTime,lts:r,productType:"WebRTC"}),"payload",1300).forEach((function(e){return A.send({type:jh.WORKER_EVENT,data:e},!0)}))}}},{key:"apworkerEvent",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt(Yt({},A),t),{},{elapse:n-e.startTime,lts:n}),this.send({type:jh.AP_WORKER_EVENT,data:t},!0)}}},{key:"joinWebProxyAP",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt(Yt({},A),t),{},{elapse:n-e.startTime,lts:n,extend:t.extend||void 0}),this.send({type:jh.JOIN_WEB_PROXY_AP,data:t},!0)}}},{key:"WebSocketQuit",value:function(e,t){if(e=this.baseInfoMap.get(e)){var A=e.info,n=Date.now();t=Yt(Yt(Yt({},A),t),{},{elapse:n-e.startTime,lts:n}),this.send({type:jh.WEBSOCKET_QUIT,data:t},!0)}}},{key:"sendCustomReportMessage",value:(t=pa(O.mark((function e(t,A){var n,r,i=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.customReportCount+=A.length,!(this.customReportCount>Th.CUSTOM_REPORT_LIMIT)){e.next=2;break}throw new mC(pC.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);case 2:if(this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((function(){i.customReportCount=0}),5e3)),n=Date.now(),r=A.map((function(e){return{type:jh.USER_ANALYTICS,data:Yt(Yt({sid:t},e),{},{lts:n})}})),e.prev=4,!Th.NEW_REPORT_SERVER){e.next=10;break}return e.next=8,this.postDataToStatsCollector2(r);case 8:e.next=12;break;case 10:return e.next=12,this.postDataToStatsCollector(r);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(4),qh.error("send custom report message failed",e.t0.toString()),new mC(pC.CUSTOM_REPORT_SEND_FAILED,e.t0.message);case 17:case"end":return e.stop()}}),e,this,[[4,14]])}))),function(e,A){return t.apply(this,arguments)})},{key:"sendApiInvoke",value:function(e){var t=Th.NOT_REPORT_EVENT;if(e.tag&&Xs(t)&&Xs(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;if(!(t=this.baseInfoMap.get(e.sid)))return this.apiInvokeUploadPendingItems.push(e),!1;var A=t.info,n=A.cname,r=A.uid;if(A=A.cid,e.lts=e.lts||Date.now(),e.error)if(e.error instanceof mC){var i=e.error,o=i.message;i=i.code||o||e.error.toString()}else i=e.error.toString();return e={invokeId:e.invokeId,sid:e.sid,cname:n,cid:A,uid:r,lts:e.lts,success:e.success,elapse:e.lts-t.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?i:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0},this.send({type:jh.API_INVOKE,data:e},!1),!0}},{key:"appendSessionId",value:function(){var t=this;e.__CLIENT_LIST__.forEach((function(e){if(e._sessionId)for(var A=t.apiInvokeUploadPendingItems.length,n=0;n<A;n++){var r=t.apiInvokeUploadPendingItems.shift();r&&(r.sid=e._sessionId,t.sendApiInvoke(Object.assign({},r)))}}))}},{key:"send",value:function(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>Th.NORMAL_EVENT_QUEUE_CAPACITY&&this.normalEventUploadPendingItems.splice(0,1),10<=this.normalEventUploadPendingItems.length&&this.sendItems(this.normalEventUploadPendingItems,!1)}},{key:"doSend",value:function(){0<this.keyEventUploadPendingItems.length&&this.sendItems(this.keyEventUploadPendingItems,!0),0<this.normalEventUploadPendingItems.length&&5e3<=Date.now()-this.lastSendNormalEventTime&&this.sendItems(this.normalEventUploadPendingItems,!1)}},{key:"sendItems",value:function(e,t){for(var A=this,n=[],r=[];e.length;){var i=e.shift();20>n.length?n.push(i):r.push(i)}for(e.push.apply(e,r),r=0,i=[].concat(n);r<i.length;r++){var o,a=i[r];-1!==this.ltsList.indexOf(a.data.lts)?(a.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(a.data.lts)):(this.ltsList.push(a.data.lts),ZI(o=this.ltsList).call(o,(function(e,t){return e-t})))}return t||(this.lastSendNormalEventTime=Date.now()),Th.ENABLE_EVENT_REPORT?(n.length&&(Th.NEW_REPORT_SERVER?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((s=n,function(e){Th.EVENT_REPORT_RETRY&&(t?A.keyEventUploadPendingItems=A.keyEventUploadPendingItems.concat(s):(A.normalEventUploadPendingItems=A.normalEventUploadPendingItems.concat(s),A.normalEventUploadPendingItems.length>Th.NORMAL_EVENT_QUEUE_CAPACITY&&(A.normalEventUploadPendingItems.splice(0,A.normalEventUploadPendingItems.length-Th.NORMAL_EVENT_QUEUE_CAPACITY),qh.warning("report: drop normal events"))))})),e):e;var s}},{key:"postDataToStatsCollector2",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=PC.networkState===kC.OFFLINE,!e.t0){e.next=4;break}return e.next=4,IC.race([PC.onlineWaiter,tt(2*td.maxRetryTimeout)]);case 4:A=function(e){var t=new Uint8Array;return e.forEach((function(e){var A,n,r=De(JSON.stringify(e.data)),i=new ArrayBuffer(5);A=e,n=0,Object.entries(jh).forEach((function(e){var t=(e=Lb(e,2))[0];e[1]===A.type&&(n=EventNameToID[t])})),e=n;var o=new DataView(i);o.setUint16(0,r.byteLength,!0),o.setUint8(2,255&e),o.setUint8(3,e>>>8&255),o.setUint8(4,e>>>16&255),t=OC(t,new Uint8Array(i)),t=OC(t,r)})),t},n="event",r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Th.NEW_REPORT_SERVER_DOMAINS[0],"&p=443&d=").concat(n):"https://".concat(Th.NEW_REPORT_SERVER_DOMAINS[0],"/").concat(n),i=0;case 7:if(!(2>i)){e.next=23;break}return 1===i&&(r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Th.NEW_REPORT_SERVER_DOMAINS[1],"&p=443&d=").concat(n):"https://".concat(Th.NEW_REPORT_SERVER_DOMAINS[1],"/").concat(n)),e.prev=9,e.next=12,Ot(r,{timeout:1e4,data:A(t),headers:Yt(Yt({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0);case 12:e.next=19;break;case 14:if(e.prev=14,e.t1=e.catch(9),1!==i){e.next=18;break}throw e.t1;case 18:return e.abrupt("continue",20);case 19:return e.abrupt("return");case 20:i+=1,e.next=7;break;case 23:case"end":return e.stop()}}),e,this,[[9,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"postDataToStatsCollector",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a=this,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=1<s.length&&void 0!==s[1]&&s[1],n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:t.map((function(e){return JSON.stringify(e)})),vid:(c=t[0],(c=c&&c.data.sid&&a.baseInfoMap.get(c.data.sid))&&c.info.vid&&+c.info.vid||0)},e.t0=PC.networkState===kC.OFFLINE,!e.t0){e.next=6;break}return e.next=6,IC.race([PC.onlineWaiter,tt(2*td.maxRetryTimeout)]);case 6:r=A?"/events/proto-raws":"/events/messages",i=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Th.EVENT_REPORT_DOMAIN,"&p=").concat(Th.STATS_COLLECTOR_PORT,"&d=").concat(r):"https://".concat(Th.EVENT_REPORT_DOMAIN,":").concat(Th.STATS_COLLECTOR_PORT).concat(r)),o=0;case 9:if(!(2>o)){e.next=30;break}if(1===o&&(i=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Th.EVENT_REPORT_BACKUP_DOMAIN,"&p=").concat(Th.STATS_COLLECTOR_PORT,"&d=").concat(r):"https://".concat(Th.EVENT_REPORT_BACKUP_DOMAIN,":").concat(Th.STATS_COLLECTOR_PORT).concat(r))),e.prev=11,!A){e.next=17;break}return e.next=15,Lt(i,{timeout:1e4,data:n});case 15:e.next=19;break;case 17:return e.next=19,Ot(i,{timeout:1e4,data:n});case 19:e.next=26;break;case 21:if(e.prev=21,e.t1=e.catch(11),1!==o){e.next=25;break}throw e.t1;case 25:return e.abrupt("continue",27);case 26:return e.abrupt("return");case 27:o+=1,e.next=9;break;case 30:case"end":return e.stop()}var c}),e,this,[[11,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createBaseInfo",value:function(e,t){var A=Object.assign({},zh);return A.sid=e,this.baseInfoMap.set(e,{info:A,startTime:t}),A}},{key:"reportResourceTiming",value:function(e,t){(e=(e=performance.getEntriesByName(e))[e.length-1])&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:e,tag:bC.TRACER}).onSuccess()}}]),e}();Z(Zh,"__CLIENT_LIST__",[]);var $h=new Zh;Fh.on("REPORT_LOG_UPLOAD",(function(e){e.networkState=PC.networkState,$h.reportApiInvoke(null,{name:"logUploadError",options:e,tag:bC.TRACER})}));var ep=["CHINA","GLOBAL"],tp=function(){var e="us".concat("erna","me"),t="pa".concat("sswo","rd"),A=["t","s","t"];A.splice(1,0,"e"),A=A.join("");for(var n=[],r=0;6>r;r++)n.push("1");return n=n.join(""),(r={})[e]=A,r[t]=n,Object.assign(r,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=tp,kh||(Th.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],Th.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],Th.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],Th.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],Th.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],Th.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],Th.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",Th.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",Th.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",Th.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",Th.AREAS=["NORTH_AMERICA","OVERSEA"]);var Ap=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],np=[];Zh.__CLIENT_LIST__=np;var rp,ip,op,ap,sp,cp,up,gp,Ip,lp,Ep,Cp,dp,hp,pp,fp,Bp,Qp=ks("Array").values,yp=Array.prototype,vp={DOMTokenList:!0,NodeList:!0},mp=t((function(e){var t=e.values;return e===yp||No(yp,e)&&t===yp.values||Ma(vp,Gs(e))?Qp:t}));!function(e){e.L1T1="L1T1",e.L1T2="L1T2",e.L1T3="L1T3",e.L2T1_KEY="L2T1_KEY",e.L2T2_KEY="L2T2_KEY",e.L2T3_KEY="L2T3_KEY",e.L3T1_KEY="L3T1_KEY",e.L3T2_KEY="L3T2_KEY",e.L3T3_KEY="L3T3_KEY"}(rp||(rp={})),function(e){e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver"}(ip||(ip={})),function(e){e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR"}(op||(op={})),function(e){e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR"}(ap||(ap={})),function(e){e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND"}(sp||(sp={})),function(e){e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV"}(cp||(cp={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",e[e.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",e[e.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",e[e.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY"}(up||(up={})),function(e){e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed"}(gp||(gp={})),function(e){e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response",e.DATACHANNEL_PRECONNECT="datachannel_preconnect",e.DATACHANNEL_CONNECTING="datachannel_connecting",e.DATACHANNEL_FAILBACK="datachannel_failback",e.P2P_CONNECTION="p2p_connection",e.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",e.P2P_SUBSCRIBE="p2p_subscribe",e.P2P_UNSUBSCRIBE="p2p_unsubscribe",e.P2P_EXCHANGE_SDP="p2p_exchange_sdp",e.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",e.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream"}(Ip||(Ip={})),function(e){e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.PUBLISH_DATASTREAM="publish_datastream",e.UNPUBLISH="unpublish",e.UNPUBLISH_DATASTREAM="unpublish_datastream",e.SUBSCRIBE="subscribe",e.PRE_SUBSCRIBE="pre_subscribe",e.SUBSCRIBE_DATASTREAM="subscribe_datastream",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter",e.SET_RTM2_FLAG="set_rtm2_flag"}(lp||(lp={})),function(e){e.WRTC_STATS="wrtc_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.EXTENSION_USAGE_STATS="extension_usage_stats"}(Ep||(Ep={})),function(e){e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_USER_LICENSE_BANNED="on_user_license_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",e.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",e.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list"}(Cp||(Cp={})),function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.NEED_ANSWER="NEED_ANSWER",e.NEED_RENEGOTIATE="NEED_RENEGOTIATE",e.P2P_LOST="P2P_LOST",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NEED_UNPUB="NEED_UNPUB",e.NEED_UNSUB="NEED_UNSUB",e.NEED_UPLOAD="NEED_UPLOAD",e.NEED_CONTROL="NEED_CONTROL",e.START_RECONNECT="START_RECONNECT",e.END_RECONNECT="END_RECONNECT",e.NEED_SIGNAL_RTT="NEED_SIGNAL_RTT"}(dp||(dp={})),function(e){e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY"}(hp||(hp={})),function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire"}(pp||(pp={}));var _p=function(e){function t(e){zb(this,t);var n=A.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0);return Z(V(n),"name","AgoraRTCException"),n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"print",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"error";return Ce(je(t.prototype),"print",this).call(this,e,qh)}},{key:"throw",value:function(){Ce(je(t.prototype),"throw",this).call(this,qh)}}]),t}(mC);!function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(fp||(fp={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]="INJECT_STREAM_STATUS_START_SUCCESS",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]="INJECT_STREAM_STATUS_START_ALREADY_EXISTS",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]="INJECT_STREAM_STATUS_START_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]="INJECT_STREAM_STATUS_START_TIMEOUT",e[e.INJECT_STREAM_STATUS_START_FAILED=4]="INJECT_STREAM_STATUS_START_FAILED",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]="INJECT_STREAM_STATUS_STOP_SUCCESS",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]="INJECT_STREAM_STATUS_STOP_NOT_FOUND",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]="INJECT_STREAM_STATUS_STOP_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]="INJECT_STREAM_STATUS_STOP_TIMEOUT",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]="INJECT_STREAM_STATUS_STOP_FAILED",e[e.INJECT_STREAM_STATUS_BROKEN=10]="INJECT_STREAM_STATUS_BROKEN"}(Bp||(Bp={}));var bp,Rp,Sp,wp,Dp,kp,Np,Tp,Op,Lp,Mp,Up,xp,Pp,Gp={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},Fp={x:0,y:0,width:160,height:160,zOrder:255,alpha:1},Kp={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},Vp={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};!function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(bp||(bp={})),(Rp||(Rp={})).REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(Sp||(Sp={})),function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(wp||(wp={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(Dp||(Dp={})),function(e){e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(kp||(kp={})),function(e){e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE"}(Np||(Np={})),function(e){e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED"}(Tp||(Tp={})),function(e){e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low"}(Op||(Op={})),function(e){e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response",e.REQUEST_DC_CONNECTION_PARAMS="request-dc-connection-params",e.RESET_CONNECTION_EVENTS="reset-connection-events",e.DATACHANNEL_PRECONNECT="datachannel_preconnect",e.DATACHANNEL_FAILBACK="datachannel_failback",e.RESET_SIGNAL="reset-signal"}(Lp||(Lp={})),function(e){e.P2P_DISCONNECTED="P2P_DISCONNECTED",e.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",e.TIMEOUT="TIMEOUT",e.UNKNOWN_REASON="UNKNOWN_REASON"}(Mp||(Mp={})),function(e){e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data",e[e.DataStream0=256]="DataStream0",e[e.DataStream1=512]="DataStream1",e[e.DataStream2=1024]="DataStream2",e[e.DataStream3=2048]="DataStream3",e[e.DataStream4=4096]="DataStream4",e[e.DataStream5=8192]="DataStream5",e[e.DataStream6=16384]="DataStream6",e[e.DataStream7=32768]="DataStream7"}(Up||(Up={})),function(e){e[e.websocket=0]="websocket",e[e.datachannel=1]="datachannel"}(xp||(xp={})),function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="EXTENSIONS"}(Pp||(Pp={}));var Yp,Jp=[Pp.AFRICA,Pp.ASIA,Pp.CHINA,Pp.EUROPE,Pp.GLOBAL,Pp.INDIA,Pp.JAPAN,Pp.NORTH_AMERICA,Pp.OCEANIA,Pp.OVERSEA,Pp.SOUTH_AMERICA];!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="GLOBAL"}(Yp||(Yp={}));var qp,Hp,jp,Wp,Xp,zp,Zp,$p,ef,tf,Af,nf,rf,of,af,sf,cf,uf,gf,If,lf,Ef,Cf,df,hf={CHINA:{},ASIA:{CODE:Yp.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:Yp.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:Yp.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:Yp.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:Yp.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:Yp.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:Yp.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:Yp.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:Yp.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:Yp.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:Yp.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:Yp.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:Yp.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};kh&&(hf.CHINA={CODE:Yp.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),(qp||(qp={})).UPDATE_BITRATE_LIMIT="update_bitrate_limit";var pf=function(e){function t(e,n){return zb(this,t),Z(V(e=A.call(this)),"onICEConnectionStateChange",void 0),Z(V(e),"onConnectionStateChange",void 0),Z(V(e),"onDTLSTransportStateChange",void 0),Z(V(e),"onDTLSTransportError",void 0),Z(V(e),"onICETransportStateChange",void 0),Z(V(e),"onFirstAudioReceived",void 0),Z(V(e),"onFirstVideoReceived",void 0),Z(V(e),"onFirstAudioDecoded",void 0),Z(V(e),"onFirstVideoDecoded",void 0),Z(V(e),"onFirstVideoDecodedTimeout",void 0),Z(V(e),"onSelectedLocalCandidateChanged",void 0),Z(V(e),"onSelectedRemoteCandidateChanged",void 0),e}Zb(t,e);var A=$b(t);return t}(UC),ff=function(e){function t(e,n){return zb(this,t),A.call(this,e,n)}Zb(t,e);var A=$b(t);return t}(pf);!function(e){e.SEND="sendonly",e.RECV="recvonly",e.SENDRECV="sendrecv",e.INACTIVE="inactive"}(Hp||(Hp={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(jp||(jp={})),function(e){e[e.UDP=0]="UDP",e[e.TCP=1]="TCP",e[e.RELAY=2]="RELAY"}(Wp||(Wp={})),function(e){e[e.FIRST_CONNECTION=0]="FIRST_CONNECTION",e[e.TCP_RESTART=1]="TCP_RESTART",e[e.RELAY_RESTART=2]="RELAY_RESTART",e[e.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",e[e.OLD_RESTART=11]="OLD_RESTART",e[e.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED"}(Xp||(Xp={})),function(e){e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack"}(zp||(zp={})),function(e){e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected"}(Zp||(Zp={})),function(e){e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestRePublishDataChannel="requestRePublishDataChannel",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.RequestUpload="requestUpload",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter",e.QueryClientConnectionState="QueryClientConnectionState",e.LocalCandidate="LocalCandidate",e.RequestP2PMuteLocal="requestP2PMuteLocal",e.RequestP2PUnPublish="RequestP2PUnPublish",e.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",e.RequestP2PMuteRemote="RequestP2PMuteRemote",e.RequestP2PRestartICE="RequestP2PRestartICE"}($p||($p={})),function(e){e.MUTE_LOCAL_VIDEO="mute_local_video",e.MUTE_LOCAL_AUDIO="mute_local_audio",e.UNMUTE_LOCAL_VIDEO="unmute_local_video",e.UNMUTE_LOCAL_AUDIO="unmute_local_audio",e.MUTE_REMOTE_VIDEO="mute_remote_video",e.MUTE_REMOTE_AUDIO="mute_remote_audio",e.UNMUTE_REMOTE_VIDEO="unmute_remote_video",e.UNMUTE_REMOTE_AUDIO="unmute_remote_audio"}(ef||(ef={})),function(e){e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED"}(tf||(tf={})),function(e){e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED"}(Af||(Af={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(nf||(nf={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(rf||(rf={})),function(e){e.CONNECTED="transmitter:connected",e.RECONNECTING="transmitter:reconnecting",e.WILL_RECONNECT="transmitter:will_reconnect",e.CLOSED="transmitter:closed",e.FAILED="transmitter:failed",e.ON_MESSAGE="transmitter:on_message",e.REQUEST_NEW_URLS="transmitter:request_new_urls",e.RECONNECT_WAITTING_FINISH="transmitter:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",e.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",e.FAILBACK="transmitter:failback"}(of||(of={})),function(e){e.CAMERA_CHANGED="camera-changed",e.MICROPHONE_CHANGED="microphone-changed",e.PLAYBACK_DEVICE_CHANGED="playback-device-changed",e.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",e.AUTOPLAY_FAILED="autoplay-failed",e.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",e.SECURITY_POLICY_VIOLATION="security-policy-violation"}(af||(af={})),function(e){e[e.APP_TYPE_INVALID_VALUE=-1]="APP_TYPE_INVALID_VALUE",e[e.APP_TYPE_NATIVE=0]="APP_TYPE_NATIVE",e[e.APP_TYPE_NATIVE_COCOS=1]="APP_TYPE_NATIVE_COCOS",e[e.APP_TYPE_NATIVE_UNITY=2]="APP_TYPE_NATIVE_UNITY",e[e.APP_TYPE_NATIVE_ELECTRON=3]="APP_TYPE_NATIVE_ELECTRON",e[e.APP_TYPE_NATIVE_FLUTTER=4]="APP_TYPE_NATIVE_FLUTTER",e[e.APP_TYPE_NATIVE_UNREAL=5]="APP_TYPE_NATIVE_UNREAL",e[e.APP_TYPE_NATIVE_XAMARIN=6]="APP_TYPE_NATIVE_XAMARIN",e[e.APP_TYPE_NATIVE_API_CLOUD=7]="APP_TYPE_NATIVE_API_CLOUD",e[e.APP_TYPE_NATIVE_REACT_NATIVE=8]="APP_TYPE_NATIVE_REACT_NATIVE",e[e.APP_TYPE_NATIVE_PYTHON=9]="APP_TYPE_NATIVE_PYTHON",e[e.APP_TYPE_NATIVE_COCOS_CREATOR=10]="APP_TYPE_NATIVE_COCOS_CREATOR",e[e.APP_TYPE_NATIVE_RUST=11]="APP_TYPE_NATIVE_RUST",e[e.APP_TYPE_NATIVE_C_SHARP=12]="APP_TYPE_NATIVE_C_SHARP",e[e.APP_TYPE_NATIVE_CEF=13]="APP_TYPE_NATIVE_CEF",e[e.APP_TYPE_NATIVE_UNI_APP=14]="APP_TYPE_NATIVE_UNI_APP",e[e.APP_TYPE_WEBRTC=1e3]="APP_TYPE_WEBRTC",e[e.APP_TYPE_WEBRTC_REACT=1001]="APP_TYPE_WEBRTC_REACT",e[e.APP_TYPE_WEBRTC_VUE=1002]="APP_TYPE_WEBRTC_VUE",e[e.APP_TYPE_WEBRTC_ANGULAR=1003]="APP_TYPE_WEBRTC_ANGULAR"}(sf||(sf={})),function(e){e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED"}(cf||(cf={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(uf||(uf={})),function(e){e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED"}(gf||(gf={})),function(e){e.CALL="call",e.CANDIDATE="candidate",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.CONTROL="control",e.RESTART_ICE="restart_ice",e.ACK="ack",e.RESPONSE="response",e.JOIN="join",e.CHECK="check"}(If||(If={})),(lf||(lf={})).ABORT="abort",function(e){e.MUTE_LOCAL_AUDIO="mute_local_audio",e.MUTE_LOCAL_VIDEO="mute_local_video",e.UNMUTE_LOCAL_AUDIO="unmute_local_audio",e.UNMUTE_LOCAL_VIDEO="unmute_local_video"}(Ef||(Ef={})),function(e){e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=0]="FAILED"}(Cf||(Cf={})),function(e){e.P2P_TOKEN_TIMEOUT="p2p_token_timeout",e.P2P_TOKEN_CHANGED="p2p_token_changed"}(df||(df={}));var Bf=(na(Qo={},op.ACCESS_POINT,(na(po={},cp.NO_FLAG_SET,{desc:"flag is zero",retry:!1}),na(po,cp.FLAG_SET_BUT_EMPTY,{desc:"flag is empty",retry:!1}),na(po,cp.INVALID_FALG_SET,{desc:"invalid flag",retry:!1}),na(po,cp.FLAG_SET_BUT_NO_RE,{desc:"flag set unilbs but no request",retry:!1}),na(po,cp.INVALID_SERVICE_ID,{desc:"invalid service id",retry:!1}),na(po,cp.NO_SERVICE_AVAILABLE,{desc:"no service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_P2P,{desc:"no unilbs p2p service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_VOICE,{desc:"no unilbs voice service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_WEBRTC,{desc:"no unilbs webrtc service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_CDS,{desc:"no cds service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_CDN,{desc:"no cdn dispatcher service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_TDS,{desc:"no tds service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_REPORT,{desc:"no unilbs report service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_APP_CENTER,{desc:"no app center service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_ENV0,{desc:"no unilbs sig env0 service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_VOET,{desc:"no unilbs voet service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_STRING_UID,{desc:"no string uid service available",retry:!0}),na(po,cp.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS,{desc:"no webrtc unilbs service available",retry:!0}),po)),na(Qo,op.UNILBS,(na(fo={},sp.INVALID_VENDOR_KEY,{desc:"invalid vendor key, can not find appid",retry:!1}),na(fo,sp.INVALID_CHANNEL_NAME,{desc:"invalid channel name",retry:!1}),na(fo,sp.INTERNAL_ERROR,{desc:"unilbs internal error",retry:!1}),na(fo,sp.NO_AUTHORIZED,{desc:"invalid token, authorized failed",retry:!1}),na(fo,sp.DYNAMIC_KEY_TIMEOUT,{desc:"dynamic key or token timeout",retry:!1}),na(fo,sp.NO_ACTIVE_STATUS,{desc:"no active status",retry:!1}),na(fo,sp.DYNAMIC_KEY_EXPIRED,{desc:"dynamic key expired",retry:!1}),na(fo,sp.STATIC_USE_DYNAMIC_KEY,{desc:"static use dynamic key",retry:!1}),na(fo,sp.DYNAMIC_USE_STATIC_KEY,{desc:"dynamic use static key",retry:!1}),na(fo,sp.USER_OVERLOAD,{desc:"amount of users over load",retry:!1}),na(fo,sp.FORBIDDEN_REGION,{desc:"the request is forbidden in this area",retry:!1}),na(fo,sp.CANNOT_MEET_AREA_DEMAND,{desc:"unable to allocate services in this area",retry:!1}),fo)),na(Qo,op.STRING_UID_ALLOCATOR,(na(Bo={},ap.IIIEGAL_APPID,{desc:"invalid appid",retry:!1}),na(Bo,ap.IIIEGAL_UID,{desc:"invalid string uid",retry:!1}),na(Bo,ap.INTERNAL_ERROR,{desc:"string uid allocator internal error",retry:!0}),Bo)),Qo),Qf=(na(yo={},up.K_TIMESTAMP_EXPIRED,{desc:"K_TIMESTAMP_EXPIRED",action:"failed"}),na(yo,up.K_CHANNEL_PERMISSION_INVALID,{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"}),na(yo,up.K_CERTIFICATE_INVALID,{desc:"K_CERTIFICATE_INVALID",action:"failed"}),na(yo,up.K_CHANNEL_NAME_EMPTY,{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"}),na(yo,up.K_CHANNEL_NOT_FOUND,{desc:"K_CHANNEL_NOT_FOUND",action:"failed"}),na(yo,up.K_TICKET_INVALID,{desc:"K_TICKET_INVALID",action:"failed"}),na(yo,up.K_CHANNEL_CONFLICTED,{desc:"K_CHANNEL_CONFLICTED",action:"failed"}),na(yo,up.K_SERVICE_NOT_READY,{desc:"K_SERVICE_NOT_READY",action:"tryNext"}),na(yo,up.K_SERVICE_TOO_HEAVY,{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"}),na(yo,up.K_UID_BANNED,{desc:"K_UID_BANNED",action:"failed"}),na(yo,up.K_IP_BANNED,{desc:"K_IP_BANNED",action:"failed"}),na(yo,up.K_AUTO_REBALANCE,{desc:"k_AUTO_REBALANCE",action:"recover"}),na(yo,up.ERR_INVALID_VENDOR_KEY,{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"}),na(yo,up.ERR_INVALID_CHANNEL_NAME,{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"}),na(yo,up.WARN_NO_AVAILABLE_CHANNEL,{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"}),na(yo,up.WARN_LOOKUP_CHANNEL_TIMEOUT,{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"}),na(yo,up.WARN_LOOKUP_CHANNEL_REJECTED,{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"}),na(yo,up.WARN_OPEN_CHANNEL_TIMEOUT,{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"}),na(yo,up.WARN_OPEN_CHANNEL_REJECTED,{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"}),na(yo,up.WARN_REQUEST_DEFERRED,{desc:"WARN_REQUEST_DEFERRED",action:"failed"}),na(yo,up.ERR_DYNAMIC_KEY_TIMEOUT,{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"}),na(yo,up.ERR_NO_AUTHORIZED,{desc:"ERR_NO_AUTHORIZED",action:"failed"}),na(yo,up.ERR_VOM_SERVICE_UNAVAILABLE,{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"}),na(yo,up.ERR_NO_CHANNEL_AVAILABLE_CODE,{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"}),na(yo,up.ERR_MASTER_VOCS_UNAVAILABLE,{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"}),na(yo,up.ERR_INTERNAL_ERROR,{desc:"ERR_INTERNAL_ERROR",action:"tryNext"}),na(yo,up.ERR_NO_ACTIVE_STATUS,{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"}),na(yo,up.ERR_INVALID_UID,{desc:"ERR_INVALID_UID",action:"failed"}),na(yo,up.ERR_DYNAMIC_KEY_EXPIRED,{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"}),na(yo,up.ERR_STATIC_USE_DYANMIC_KE,{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"}),na(yo,up.ERR_DYNAMIC_USE_STATIC_KE,{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"}),na(yo,up.ERR_NO_VOCS_AVAILABLE,{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"}),na(yo,up.ERR_NO_VOS_AVAILABLE,{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"}),na(yo,up.ERR_JOIN_CHANNEL_TIMEOUT,{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"}),na(yo,up.ERR_JOIN_BY_MULTI_IP,{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"}),na(yo,up.ERR_NOT_JOINED,{desc:"ERR_NOT_JOINED",action:"failed"}),na(yo,up.ERR_REPEAT_JOIN_REQUEST,{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"}),na(yo,up.ERR_REPEAT_JOIN_CHANNEL,{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"}),na(yo,up.ERR_INVALID_STRINGUID,{desc:"ERR_INVALID_STRINGUID",action:"failed"}),na(yo,up.ERR_TOO_MANY_USERS,{desc:"ERR_TOO_MANY_USERS",action:"tryNext"}),na(yo,up.ERR_SET_CLIENT_ROLE_TIMEOUT,{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"}),na(yo,up.ERR_SET_CLIENT_ROLE_NO_PERMISSION,{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"}),na(yo,up.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE,{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"}),na(yo,up.ERR_PUBLISH_REQUEST_INVALID,{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"}),na(yo,up.ERR_SUBSCRIBE_REQUEST_INVALID,{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"}),na(yo,up.ERR_NOT_SUPPORTED_MESSAGE,{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"}),na(yo,up.ERR_ILLEAGAL_PLUGIN,{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"}),na(yo,up.ILLEGAL_CLIENT_ROLE_LEVEL,{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"}),na(yo,up.ERR_REJOIN_TOKEN_INVALID,{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"}),na(yo,up.ERR_REJOIN_USER_NOT_JOINED,{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"}),na(yo,up.ERR_INVALID_OPTIONAL_INFO,{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"}),na(yo,up.ERR_TEST_RECOVER,{desc:"ERR_TEST_RECOVER",action:"recover"}),na(yo,up.ERR_TEST_TRYNEXT,{desc:"ERR_TEST_TRYNEXT",action:"recover"}),na(yo,up.ERR_TEST_RETRY,{desc:"ERR_TEST_RETRY",action:"recover"}),na(yo,up.ILLEGAL_AES_PASSWORD,{desc:"ERR_TEST_RETRY",action:"failed"}),na(yo,up.ERR_TOO_MANY_BROADCASTERS,{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"}),na(yo,up.ERR_TOO_MANY_SUBSCRIBERS,{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"}),na(yo,up.ERR_LICENSE_ILLEGAL,{desc:"ERR_LICENSE_ILLEGAL",action:"quit"}),na(yo,up.ERR_LICENSE_MISSING,{desc:"ERR_LICENSE_MISSING",action:"quit"}),na(yo,up.ERR_LICENSE_EXPIRED,{desc:"ERR_LICENSE_EXPIRED",action:"quit"}),na(yo,up.ERR_LICENSE_MINUTES_EXCEEDED,{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"}),na(yo,up.ERR_LICENSE_PERIOD_INVALID,{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"}),na(yo,up.ERR_LICENSE_MULTIPLE_SDK_SERVICE,{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}),yo),yf=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,vf=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,mf=/wss:\/\/(.+):([0-9]+)\/?/,_f=/wss:\/\/(.[^\/]+)\/?/,bf=0,Rf=function(){function e(t,A){zb(this,e),Z(this,"id",0),Z(this,"store",void 0),Z(this,"recordIndex",void 0),Z(this,"websockets",[]),Z(this,"try443PortDuration",2e3),Z(this,"forceCloseWSDuration",5e3),Z(this,"try443PortTimeout",null),Z(this,"forceCloseTimeout",null),Z(this,"isTry443PortFailed",!1),Z(this,"isNormalPortFailed",!1),Z(this,"useDoubleDomain",!1),Z(this,"useProxy",!1),Z(this,"startTime",Date.now()),this.id=++bf,this.try443PortDuration=Th.JOIN_GATEWAY_TRY_443PORT_DURATION||2e3,this.forceCloseWSDuration=t||5e3,this.store=A}return Ib(e,[{key:"closeAllWebsockets",value:function(){this.websockets.forEach((function(e){e.onopen=null,e.onclose=null,e.onmessage=null,e.close()})),this.websockets.length=0}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}))},{key:"logger",value:function(){for(var e,t=Date.now()-this.startTime,A=arguments.length,n=Array(A),r=0;r<A;r++)n[r]=arguments[r];qh.debug.apply(qh,["[choose-best-ws ".concat(null===(e=this.store)||void 0===e?void 0:e.clientId," ").concat(this.id,"] ").concat(t,"ms:")].concat(n))}},{key:"createWebSocket",value:function(e,t,A){var n,r=this;this.logger("createWebSocket:",e,{isTry443Port:t,hasTimeoutDetection:A});var i=Th.GATEWAY_DOMAINS,o=Date.now(),a=[],s=i.find((function(t){var A;return Xs(A=e.host).call(A,t)}));s||(this.useDoubleDomain=!1);var c=[];if(this.useDoubleDomain)i.forEach((function(A){c.push(rA(AA(AA({},e),{},{host:e.host.replace(s,A)}),t))}));else{var u=AA({},e);t&&s&&(i=i.find((function(e){return e!==s})))&&(u.host=u.host.replace(s,i)),c.push(rA(u,t))}try{c.forEach((function(e){(e=new WebSocket(e)).binaryType="arraybuffer",a.push(e),r.logger("ws is connecting:",e.url)}))}catch(n){if(this.logger("ws create failed"),a.forEach((function(e){return e.close()})),a.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,A);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,A);throw new _p(pC.WS_ERR,"init websocket failed! Error: ".concat(n.toString()))}var g=$();return this.store&&this.store.recordJoinChannelService({urls:a.map((function(e){return e.url})),service:"gateway"},this.recordIndex),a.forEach((function(e){e.onopen=function(){r.logger("onopen: ws ".concat(e.url," open cost ").concat(Date.now()-o,"ms")),r.websockets.forEach((function(t){t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),r.logger("close backup websocket: ".concat(t.url)))})),r.websockets.length=0,g.resolve(e)},e.onclose=function(A){r.logger("onclose: ws ".concat(e.url," closed cost ").concat(Date.now()-o,"ms state: ").concat(e.readyState)),t?r.isTry443PortFailed=nA(a):r.isNormalPortFailed=nA(a),r.logger("443: ".concat(r.useProxy?"not try":r.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(r.isNormalPortFailed?"failed":"trying")),(t&&r.isTry443PortFailed||!t&&(r.isTry443PortFailed||r.useProxy)&&r.isNormalPortFailed)&&(r.logger("onclose: all websocket is closed, ".concat(A.reason)),g.reject({code:A.code,reason:Mp.A_ROUND_WS_FAILED}))},e.onmessage=function(t){return r.logger("".concat(e.url," onmessage: ").concat(t.data))}})),(n=this.websockets).push.apply(n,a),A||function(){var A=function(){r.logger("5s timeout close un-opens, isWebsocket created: ",g.isResolved),r.websockets.forEach((function(e){return e.readyState!==WebSocket.OPEN&&e.close()}))};if(t||r.useProxy)return r.logger("add 5s timeout at ".concat(t?"try-443":"proxy"," condition")),r.forceCloseTimeout=window.setTimeout(A,r.forceCloseWSDuration);r.try443PortTimeout=window.setTimeout((function(){if(r.logger("2s timeout, isWebsocket created: ",g.isResolved),g.isResolved)return A();ee().os===cC.MAC_OS&&oe()&&A(),r.createWebSocket(e,!0,!0).then((function(e){return g.resolve(e)})).catch((function(e){r.isNormalPortFailed&&g.reject(e),r.logger("try 443 port to create ws failed")})),r.forceCloseTimeout=window.setTimeout(A,r.forceCloseWSDuration)}),r.try443PortDuration)}(),g.promise}},{key:"chooseBestWebsocket",value:function(e,t,A,n){var r,i,o,a,s,c,u,g=this;return this.useDoubleDomain=!!t,"string"==typeof e&&(s=(i=Lb((r=e).match(yf)||[],4))[1],c=i[2],u=i[3],s||(c=(o=Lb(r.match(vf)||[],3))[1],u=o[2]),c&&u||(c=(a=Lb(r.match(mf)||[],3))[1],u=a[2]),c&&u||(c=Lb(r.match(_f)||[],2)[1]),c||qh.warning("un-destructible url: ",r),e={proxy:s,host:c,port:u||"443"}),this.recordIndex=n,this.useProxy=!!e.proxy,A&&this.useProxy&&(qh.warn("cannot use 443 only when use proxy"),A=!1),this.createWebSocket(e,!!A,!1).finally((function(){return g.clearTimeout()}))}}]),e}(),Sf=function(e){function t(e,A){zb(this,t);var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],a=5<arguments.length?arguments[5]:void 0,s=n.call(this);Z(V(s),"connectionID",0),Z(V(s),"currentURLIndex",0),Z(V(s),"urls",[]),Z(V(s),"_reconnectMode","tryNext"),Z(V(s),"reconnectReason",void 0),Z(V(s),"_initMutex",new ed("websocket")),Z(V(s),"name",void 0),Z(V(s),"_state","closed"),Z(V(s),"reconnectInterrupter",void 0),Z(V(s),"websocket",void 0),Z(V(s),"retryConfig",void 0),Z(V(s),"reconnectCount",0),Z(V(s),"forceCloseTimeout",5e3),Z(V(s),"onlineReconnectListener",void 0),Z(V(s),"useCompress",void 0),Z(V(s),"tryDoubleDomain",!1),Z(V(s),"use443PortOnly",!1),Z(V(s),"wsInflateLength",0),Z(V(s),"wsDeflateLength",0),Z(V(s),"closeEstablishingWs",(function(){})),Z(V(s),"store",void 0),Z(V(s),"joinGatewayRecordIndex",void 0),s.store=a,s.name=e,s.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?iA(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):iA(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}({},A),s.useCompress=r,s.tryDoubleDomain=i,s.use443PortOnly=o;var c=A.timeout,u=A.timeoutFactor,g=Math.max(300,Math.floor(3*c/5)),I=Math.max(1.2,Math.floor(8*u)/10);return kC.ONLINE&&(s.retryConfig.timeout=g,s.retryConfig.timeoutFactor=I),PC.on(NC.NETWORK_STATE_CHANGE,(function(e,t){e!==t&&(s.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===kC.ONLINE?(s.retryConfig.timeout=g,s.retryConfig.timeoutFactor=I):(s.retryConfig.timeout=c,s.retryConfig.timeoutFactor=u))})),s}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"url",get:function(){return this.websocket&&this.websocket.url||null}},{key:"reconnectMode",get:function(){return this._reconnectMode},set:function(e){var t;Xs(t=["tryNext","recover"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}},{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(pp.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(pp.CONNECTED):"closed"===this._state?this.emit(pp.CLOSED):"failed"===this._state&&this.emit(pp.FAILED))}},{key:"resetReconnectCount",value:function(e){qh.debug("websocket reset reconnect count, reason: "+e),this.reconnectCount=0}},{key:"getConnection",value:function(){return this.websocket||void 0}},{key:"init",value:(A=pa(O.mark((function e(t){var A,n,r,i,o=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=1<o.length&&void 0!==o[1]?o[1]:5e3,e.next=3,this._initMutex.lock();case 3:return n=e.sent,this.forceCloseTimeout=A,this.urls=t,this.state="connecting",e.prev=5,r=$(),i=this.urls[this.currentURLIndex],this.createWebSocketConnection(i).then(r.resolve).catch(r.reject),this.once(pp.CLOSED,(function(){r.reject(new mC(pC.WS_DISCONNECT))})),this.once(pp.CONNECTED,r.resolve),e.next=12,r.promise;case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(5);case 16:return e.prev=16,n(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[5,14,16,19]])}))),function(e){return A.apply(this,arguments)})},{key:"close",value:function(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;var A=this.websocket;t?setTimeout((function(){return A.close()}),500):A.close(),this.websocket=void 0}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}},{key:"reconnect",value:function(e,t){this.websocket?(void 0!==e&&(this.reconnectMode=e),qh.debug("[".concat(this.name,"] reconnect is triggered initiative")),"number"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[Error(t)]},this.joinGatewayRecordIndex),e=this.websocket.onclose,this.websocket.onclose=null,this.websocket.close(),e&&e.bind(this.websocket)({code:9999,reason:t})):qh.warning("[".concat(this.name,"] can not reconnect, no websocket"))}},{key:"sendMessage",value:function(e){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new mC(pC.WS_ABORT,"websocket is not ready");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new mC(pC.WS_ERR,"send websocket message error"+e.toString())}}},{key:"setWsInflateData",value:function(e){this.wsDeflateLength+=e.originLength,this.wsInflateLength+=e.compressedLength}},{key:"getWsInflateData",value:function(){var e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}},{key:"clearWsInflateData",value:function(){this.wsDeflateLength=this.wsInflateLength=0}},{key:"createWebSocketConnection",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$(),this.connectionID+=1,this.joinGatewayRecordIndex=void 0,r=function(e){var t;null===(t=C.store)||void 0===t||t.signalChannelOpen(),qh.debug("[".concat(C.name,"] websocket opened:"),e),C.reconnectMode="retry",C.state="connected",C.resetReconnectCount("opened"),n.resolve()},i=function(){var e=pa(O.mark((function e(t){var A,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.debug("[".concat(C.name,"] websocket close ").concat(null===(A=C.websocket)||void 0===A?void 0:A.url,", code: ").concat(t.code,", reason: ").concat(t.reason,", current mode: ").concat(C.reconnectMode)),!(C.reconnectCount>=C.retryConfig.maxRetryCount)){e.next=4;break}n.reject(new mC(pC.WS_DISCONNECT,"websocket close: ".concat(t.code))),C.close(),e.next=14;break;case 4:return"connected"===C.state&&(C.reconnectReason=t.reason,C.state="reconnecting"),r=xe(C,pp.WILL_RECONNECT,C.reconnectMode,t.reason)||C.reconnectMode,e.next=8,C.reconnectWithAction(r);case 8:if(i=e.sent,"closed"!==C.state){e.next=11;break}return e.abrupt("return",void qh.debug("[".concat(C.connectionID,"] ws is closed, no need to reconnect")));case 11:if(i){e.next=13;break}return e.abrupt("return",(n.reject(new mC(pC.WS_DISCONNECT,"websocket reconnect failed: ".concat(t.code))),C.close(!0)));case 13:n.resolve();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){C.emit(pp.ON_MESSAGE,e)},a=function(e){qh.warn("[".concat(C.connectionID,"] ws open error ").concat(e))},this.websocket&&(this.websocket.onclose=null,this.websocket.close()),Th.GATEWAY_WSS_ADDRESS&&this.name.startsWith("gateway")&&(t=Th.GATEWAY_WSS_ADDRESS),qh.debug("[".concat(this.name,"] start connect, url:"),t),s=null===(A=this.store)||void 0===A?void 0:A.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"}),e.prev=5,e.next=8,this.chooseBestWebsocketConnection(t);case 8:this.websocket=e.sent,r&&r(this.websocket.url),this.websocket.onclose=i,this.websocket.onmessage=o,this.websocket.onerror=a,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:"success"},s),this.joinGatewayRecordIndex=s,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),u="closed"===this.state,I=(g=e.t0 instanceof mC)&&e.t0.code===pC.WS_ABORT,l=g&&e.t0.code===pC.WS_ERR,E=g?e.t0.message:e.t0&&(e.t0.reason||e.t0.toString()),qh.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(E)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:I?"aborted":"error",errors:[e.t0]},s),u||l?(n.reject(u?new mC(pC.WS_DISCONNECT,"websocket is closed: ".concat(E)):new mC(pC.WS_ERR,"init websocket failed: ".concat(E))),l&&qh.error("[".concat(this.name,"] init websocket failed: ").concat(E))):i&&i(e.t0);case 16:return e.abrupt("return",n.promise);case 17:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reconnectWithAction",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s=this,c=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=!(1<c.length&&void 0!==c[1])||c[1],!(this.reconnectCount>=this.retryConfig.maxRetryCount)){e.next=3;break}return e.abrupt("return",!1);case 3:if(0!==this.urls.length){e.next=5;break}return e.abrupt("return",!1);case 5:if("closed"!==this.state){e.next=7;break}return e.abrupt("return",!1);case 7:if(qh.warning("[choose-best-ws] action: =>",t),this.onlineReconnectListener||PC.isOnline||!PC.onlineWaiter||(this.onlineReconnectListener=PC.onlineWaiter.then((function(){s.onlineReconnectListener=void 0}))),n=!0,this.reconnectInterrupter=function(){return n=!1},!A){e.next=14;break}return r=at(this.reconnectCount,this.retryConfig),qh.debug("[".concat(this.name,"] wait ").concat(r,"ms to reconnect websocket, mode: ").concat(t)),e.next=14,IC.race([tt(r),this.onlineReconnectListener||new IC((function(){}))]);case 14:if("closed"!==this._state&&n){e.next=16;break}return e.abrupt("return",!1);case 16:if(this.reconnectCount+=1,i=function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.emit(pp.RECONNECT_CREATE_CONNECTION,A),e.next=3,s.createWebSocketConnection(t);case 3:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}(),e.prev=18,"retry"!==t){e.next=25;break}return this.emit(pp.RECONNECT_WAITTING_FINISH,t),e.next=23,i(this.urls[this.currentURLIndex],t);case 23:e.next=45;break;case 25:if("tryNext"!==t){e.next=34;break}if(this.currentURLIndex+=1,!(this.currentURLIndex>=this.urls.length)){e.next=28;break}return e.abrupt("return",this.reconnectWithAction("recover",!1));case 28:return qh.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),this.emit(pp.RECONNECT_WAITTING_FINISH,t),e.next=32,i(this.urls[this.currentURLIndex],t);case 32:e.next=45;break;case 34:if(e.t0="recover"===t,!e.t0){e.next=45;break}return qh.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.emit(pp.RECONNECT_WAITTING_FINISH,t),e.next=41,Me(this,pp.REQUEST_NEW_URLS);case 41:return this.urls=e.sent,this.currentURLIndex=0,e.next=45,i(this.urls[this.currentURLIndex],t);case 45:e.next=52;break;case 47:return e.prev=47,e.t1=e.catch(18),qh.error("[".concat(this.name,"] reconnect failed ").concat(e.t1&&e.t1.toString())),a=null==e.t1||null===(o=e.t1.data)||void 0===o?void 0:o.desc,e.abrupt("return",Array.isArray(a)&&Xs(a).call(a,"dynamic key expired")?(this.emit(pp.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(t,A));case 52:return e.abrupt("return",!0);case 53:case"end":return e.stop()}}),e,this,[[18,47]])})));return function(t){return e.apply(this,arguments)}}()}]),t}(UC),wf=function(e){function t(e,A){return zb(this,t),n.call(this,e,A,2<arguments.length&&void 0!==arguments[2]&&arguments[2],3<arguments.length&&void 0!==arguments[3]&&arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4],5<arguments.length?arguments[5]:void 0)}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"chooseBestWebsocketConnection",value:(A=pa(O.mark((function e(t,A){var n,r,i,o=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$(),r=new Rf(this.forceCloseTimeout,this.store),this.closeEstablishingWs=function(){qh.debug("[choose-best-ws] close establishing websockets"),r.closeAllWebsockets(),n.reject(new mC(pC.WS_ABORT,"choose best websocket aborted"))},i=Th.GATEWAY_DOMAINS,e.abrupt("return",(qh.debug("[choose-best-ws] currentDomain: ",t,", domains: ",i,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),r.chooseBestWebsocket(t,this.tryDoubleDomain,this.use443PortOnly,A).then(n.resolve).catch(n.reject),n.promise.finally((function(){o.closeEstablishingWs=void 0}))));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})}]),t}(Sf),Df=function(e){function t(e,A){return zb(this,t),n.call(this,e,A,2<arguments.length&&void 0!==arguments[2]&&arguments[2],3<arguments.length&&void 0!==arguments[3]&&arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4],5<arguments.length?arguments[5]:void 0)}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"chooseBestWebsocketConnection",value:(A=pa(O.mark((function e(t,A){var n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new IC((function(e,r){var i=!1,o=[];n.closeEstablishingWs=function(){qh.debug("[choose-best-ws] close establishing websockets"),o.forEach((function(e){e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),r(new mC(pC.WS_ABORT,"choose best websocket aborted"))};var a,s=Th.GATEWAY_DOMAINS,c=t.indexOf("?h="),u=s.find((function(e){return-1!==c?Xs(t).call(t,e,c):Xs(t).call(t,e)}));qh.debug("[choose-best-ws] currentDomain: ",u,", domains: ",s);var g=!n.tryDoubleDomain||!u;if(!g&&u){var I,l=Date.now();try{s.forEach((function(e){e=-1===c?t.replace(u,e):t.substr(0,c)+t.substr(c).replace(u,e),(e=new WebSocket(e)).binaryType="arraybuffer",o.push(e),qh.debug("[choose-best-ws] ws is connecting:",e.url)}))}catch(e){for(qh.debug("[choose-best-ws] ws create failed, fallback to single url"),o.forEach((function(e){return e.close()}));o.length;)o.pop();g=!0}null===(I=n.store)||void 0===I||I.recordJoinChannelService({urls:o.map((function(e){return e.url})),service:"gateway"},A),o.forEach((function(t){t.onopen=function(){if(!i){var A=Date.now()-l;qh.debug("[choose-best-ws] ws open cost ".concat(A,"ms")),o.filter((function(e){return e!==t})).forEach((function(e){qh.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),e.close()})),i=!0,e(t)}},t.onclose=function(e){a=e,i||o.find((function(e){return!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)}))||(qh.debug("[choose-best-ws] all websocket is closed"),i=!0,r(a))},t.onmessage=function(e){qh.debug("[choose-best-ws]".concat(t.url," onmessage: ").concat(e.data))}})),tt(n.forceCloseTimeout).then((function(){o.forEach((function(e){e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(g){var E;qh.debug("[choose-best-ws] use single url: ",t),null===(E=n.store)||void 0===E||E.recordJoinChannelService({urls:[t],service:"gateway"},A);try{var C=new WebSocket(t);o.push(C),C.binaryType="arraybuffer"}catch(e){return s=new mC(pC.WS_ERR,"init websocket failed! Error: ".concat(e.toString())),qh.error("[".concat(n.name,"]").concat(s)),void r(s)}C.onopen=function(){e(C)},C.onclose=function(e){r(e)},C.onmessage=function(e){qh.debug("[choose-best-ws]".concat(C.url," onmessage: ").concat(e.data))},tt(n.forceCloseTimeout).then((function(){C&&C.readyState!==WebSocket.OPEN&&C.close()}))}})).then((function(e){return n.closeEstablishingWs=void 0,e})).catch((function(e){throw n.closeEstablishingWs=void 0,e})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return A.apply(this,arguments)})}]),t}(Sf),kf=function(e){function t(e,A){zb(this,t);var r=n.call(this);return Z(V(r),"_disconnectedReason",void 0),Z(V(r),"_websocketReconnectReason",void 0),Z(V(r),"_connectionState",gp.CLOSED),Z(V(r),"reconnectToken",void 0),Z(V(r),"websocket",void 0),Z(V(r),"openConnectionTime",void 0),Z(V(r),"clientId",void 0),Z(V(r),"lastMsgTime",Date.now()),Z(V(r),"uploadCache",[]),Z(V(r),"uploadCacheInterval",void 0),Z(V(r),"rttRolling",new Ad(5)),Z(V(r),"pingpongTimer",void 0),Z(V(r),"wsInflateDataTimer",void 0),Z(V(r),"pingpongTimeoutCount",0),Z(V(r),"joinResponse",void 0),Z(V(r),"multiIpOption",void 0),Z(V(r),"initError",void 0),Z(V(r),"spec",void 0),Z(V(r),"store",void 0),Z(V(r),"onWebsocketMessage",(function(e){if(e.data instanceof ArrayBuffer)r.emit(Ip.ON_BINARY_DATA,e.data);else if(e=JSON.parse(e.data),r.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(e,"_id")){var t="res-@".concat(e._id);r.emit(t,e._result,e._message)}else if(Object.prototype.hasOwnProperty.call(e,"_type")){if(r.emit(e._type,e._message),e._type===Cp.ON_NOTIFICATION&&r.handleNotification(e._message),e._type===Cp.ON_USER_BANNED)switch(e._message.error_code){case 14:r.close(SC.UID_BANNED);break;case 15:r.close(SC.IP_BANNED);break;case 16:r.close(SC.CHANNEL_BANNED)}if(e._type===Cp.ON_USER_LICENSE_BANNED)switch(e._message.error_code){case up.ERR_LICENSE_MISSING:r.close(SC.LICENSE_MISSING);break;case up.ERR_LICENSE_EXPIRED:r.close(SC.LICENSE_EXPIRED);break;case up.ERR_LICENSE_MINUTES_EXCEEDED:r.close(SC.LICENSE_MINUTES_EXCEEDED);break;case up.ERR_LICENSE_PERIOD_INVALID:r.close(SC.LICENSE_PERIOD_INVALID);break;case up.ERR_LICENSE_MULTIPLE_SDK_SERVICE:r.close(SC.LICENSE_MULTIPLE_SDK_SERVICE);break;case up.ERR_LICENSE_ILLEGAL:r.close(SC.LICENSE_ILLEGAL);break;default:r.close()}}})),r.clientId=e.clientId,r.spec=e,r.store=A,r.websocket=new wf("gateway-".concat(r.clientId),r.spec.retryConfig,!0,Th.JOIN_GATEWAY_USE_DUAL_DOMAIN,Th.JOIN_GATEWAY_USE_443PORT_ONLY,A),r.handleWebsocketEvents(),window.addEventListener("offline",(function(){r.connectionState===gp.CONNECTED&&r.reconnect("retry",DC.OFFLINE)})),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){e!==this._connectionState&&(this._connectionState=e,e===gp.CONNECTED?this.emit(Ip.WS_CONNECTED):e===gp.RECONNECTING?this.emit(Ip.WS_RECONNECTING,this._websocketReconnectReason):e===gp.CLOSED&&this.emit(Ip.WS_CLOSED,this._disconnectedReason))}},{key:"currentURLIndex",get:function(){return this.websocket.currentURLIndex}},{key:"url",get:function(){return this.websocket&&this.websocket.url||null}},{key:"rtt",get:function(){return this.rttRolling.mean()}},{key:"request",value:(A=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=At(6,""),o={_id:i,_type:t,_message:A},a=this.websocket.connectionID,s=function(){return new IC((function(e,A){if(E.connectionState===gp.CONNECTED)return e();var n=function(){E.off(Ip.WS_CLOSED,r),e()},r=function(){E.off(Ip.WS_CONNECTED,n),A(new _p(pC.WS_ABORT))};E.once(Ip.WS_CONNECTED,n),E.once(Ip.WS_CLOSED,r),t!==lp.PUBLISH&&t!==lp.PUBLISH_DATASTREAM&&t!==lp.SUBSCRIBE&&t!==lp.SUBSCRIBE_DATASTREAM&&t!==lp.UNSUBSCRIBE&&t!==lp.UNSUBSCRIBE_DATASTREAM&&t!==lp.UNPUBLISH&&t!==lp.UNPUBLISH_DATASTREAM&&t!==lp.CONTROL&&t!==lp.RESTART_ICE||E.once(Ip.DISCONNECT_P2P,(function(){A(new _p(pC.DISCONNECT_P2P))})),t!==lp.PUBLISH&&t!==lp.RESTART_ICE||E.once(Ip.ABORT_P2P_EXECUTION,(function(){A(new _p(pC.DISCONNECT_P2P))}))}))},e.t0=this.connectionState!==gp.CONNECTING&&this.connectionState!==gp.RECONNECTING||t===lp.JOIN||t===lp.REJOIN,e.t0){e.next=5;break}return e.next=5,s();case 5:if(this.websocket.sendMessage(o,!0),!r){e.next=8;break}return e.abrupt("return");case 8:return c=new IC((function(e,n){var r=!1,o=function(n,i){r=!0,e({isSuccess:"success"===n,message:i||{}}),E.off(Ip.WS_CLOSED,s),E.off(Ip.WS_RECONNECTING,s),E.emit(Ip.REQUEST_SUCCESS,t,A)};E.once("res-@".concat(i),o);var s=function e(){n(new _p(pC.WS_ABORT,"type: ".concat(t))),E.off(Ip.WS_CLOSED,e),E.off(Ip.WS_RECONNECTING,e),E.off("res-@".concat(i),o)};E.once(Ip.WS_CLOSED,s),E.once(Ip.WS_RECONNECTING,s),tt(Th.SIGNAL_REQUEST_TIMEOUT).then((function(){E.websocket.connectionID!==a||r||(qh.warning("[".concat(E.clientId,"] ws request timeout, type: ").concat(t)),E.emit(Ip.REQUEST_TIMEOUT,t,A))}))})),u=null,e.prev=10,e.next=13,c;case 13:u=e.sent,e.next=35;break;case 16:if(e.prev=16,e.t1=e.catch(10),this.connectionState!==gp.CLOSED&&t!==lp.LEAVE){e.next=20;break}throw new _p(pC.WS_ABORT);case 20:if(this.spec.forceWaitGatewayResponse&&!n){e.next=24;break}e.t2=e.t1.throw(),e.next=34;break;case 24:if(t!==lp.JOIN&&t!==lp.REJOIN){e.next=28;break}e.t3=null,e.next=33;break;case 28:return e.next=30,s();case 30:return e.next=32,this.request(t,A);case 32:e.t3=e.sent;case 33:e.t2=e.t3;case 34:return e.abrupt("return",e.t2);case 35:if(!u.isSuccess){e.next=37;break}return e.abrupt("return",u.message);case 37:if(g=Number(u.message.error_code||u.message.code),I=eA(g),l=new _p(pC.UNEXPECTED_RESPONSE,"".concat(I.desc,": ").concat(u.message.error_str),{code:g,data:u.message}),"success"!==I.action){e.next=42;break}e.t4=u.message,e.next=67;break;case 42:if(qh.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(t,", error_code: ").concat(g,", message: ").concat(I.desc,", action: ").concat(I.action)),g!==up.ERR_TOO_MANY_BROADCASTERS){e.next=47;break}e.t5=t===lp.JOIN||t===lp.REJOIN?(this.initError=l,this.close(),l.throw()):l.throw(),e.next=66;break;case 47:if("failed"!==I.action){e.next=51;break}e.t6=l.throw(),e.next=65;break;case 51:if("quit"!==I.action){e.next=55;break}e.t7=(this.initError=l,this.close(),l.throw()),e.next=64;break;case 55:if(g===up.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=u.message.option,qh.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",DC.MULTI_IP)):this.reconnect(I.action,DC.SERVER_ERROR),t!==lp.JOIN&&t!==lp.REJOIN){e.next=60;break}e.t8=null,e.next=63;break;case 60:return e.next=62,this.request(t,A);case 62:e.t8=e.sent;case 63:e.t7=e.t8;case 64:e.t6=e.t7;case 65:e.t5=e.t6;case 66:e.t4=e.t5;case 67:return e.abrupt("return",e.t4);case 68:case"end":return e.stop()}}),e,this,[[10,16]])}))),function(e,t,n,r){return A.apply(this,arguments)})},{key:"waitMessage",value:function(e,t){var A=this;return new IC((function(n){A.on(e,(function r(i){t&&!t(i)||(A.off(e,r),n(i))}))}))}},{key:"uploadWRTCStats",value:function(e){this.store.sessionId?(e={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e},this.upload(Ep.WRTC_STATS,e)):qh.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"))}},{key:"upload",value:function(e,t){var A=this;e={_type:e,_message:t};try{this.websocket.sendMessage(e)}catch(n){t=Th.MAX_UPLOAD_CACHE||50,this.uploadCache.push(e),this.uploadCache.length>t&&this.uploadCache.splice(0,1),0<this.uploadCache.length&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((function(){if(A.connectionState===gp.CONNECTED){var e=A.uploadCache.splice(0,1)[0];0===A.uploadCache.length&&(window.clearInterval(A.uploadCacheInterval),A.uploadCacheInterval=void 0),A.upload(e._type,e._message)}}),Th.UPLOAD_CACHE_INTERVAL||2e3))}}},{key:"send",value:function(e,t){this.websocket.sendMessage({_type:e,_message:t})}},{key:"init",value:function(e,t){var A=this;return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new IC((function(t,n){A.once(Ip.WS_CONNECTED,(function(){return t(A.joinResponse)})),A.once(Ip.WS_CLOSED,(function(){return n(A.initError||new _p(pC.WS_ABORT))})),A.connectionState=gp.CONNECTING,A.websocket.init(e).catch(n),A.wsInflateDataTimer&&window.clearInterval(A.wsInflateDataTimer),A.wsInflateDataTimer=window.setInterval((function(){A.handleWsInflateData()}),2e4)}))}},{key:"close",value:function(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.joinResponse=this.reconnectToken=void 0,this._disconnectedReason=e||SC.LEAVE,this.connectionState=gp.CLOSED,qh.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),e===SC.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new wf("gateway-".concat(this.clientId),this.spec.retryConfig,!0,Th.JOIN_GATEWAY_USE_DUAL_DOMAIN,Th.JOIN_GATEWAY_USE_443PORT_ONLY,this.store),this.handleWebsocketEvents())}},{key:"join",value:function(){var e=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinResponse){e.next=11;break}return this.emit(Ip.ABORT_P2P_EXECUTION),e.next=4,Me(this,Ip.REQUEST_JOIN_INFO);case 4:return t=e.sent,e.next=7,this.request(lp.JOIN,t);case 7:if(A=e.sent){e.next=10;break}return e.abrupt("return",(this.emit(Ip.REPORT_JOIN_GATEWAY,Mp.TIMEOUT,this.url||""),!1));case 10:this.joinResponse=A,this.emit(Ip.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token;case 11:return e.abrupt("return",(this.connectionState=gp.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rejoin",value:function(){var e=pa(O.mark((function e(){var t,A,n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reconnectToken){e.next=2;break}throw new _p(pC.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");case 2:return(t=Pe(this,Ip.REQUEST_REJOIN_INFO)).token=this.reconnectToken,e.next=6,this.request(lp.REJOIN,t);case 6:return A=e.sent,e.abrupt("return",!!A&&(this.connectionState=gp.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),A.peers&&A.peers.forEach((function(e){n.emit(Cp.ON_USER_ONLINE,{uid:e.uid}),e.audio&&n.emit(Cp.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&n.emit(Cp.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?n.emit(Cp.MUTE_AUDIO,{uid:e.uid}):n.emit(Cp.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?n.emit(Cp.MUTE_VIDEO,{uid:e.uid}):n.emit(Cp.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?n.emit(Cp.ENABLE_LOCAL_AUDIO,{uid:e.uid}):n.emit(Cp.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?n.emit(Cp.ENABLE_LOCAL_VIDEO,{uid:e.uid}):n.emit(Cp.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||n.emit(Cp.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}},{key:"handleNotification",value:function(e){if(qh.debug("[".concat(this.clientId,"] receive notification: "),e),"success"!==(e=eA(e.code)).action){if("failed"!==e.action)return"quit"===e.action?("ERR_REPEAT_JOIN_CHANNEL"===e.desc&&this.close(SC.UID_BANNED),void this.close()):void this.reconnect(e.action,DC.SERVER_ERROR);qh.error("[".concat(this.clientId,"] ignore error: "),e.desc)}}},{key:"handlePingPong",value:function(){var e=this;if(this.websocket&&"connected"===this.websocket.state){0<this.pingpongTimeoutCount&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;var t=Th.PING_PONG_TIME_OUT,A=Date.now();this.pingpongTimeoutCount>=t&&(qh.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(A-this.lastMsgTime,"ms")),A-this.lastMsgTime>Th.WEBSOCKET_TIMEOUT_MIN)?this.reconnect("retry",DC.TIMEOUT):this.request(lp.PING,void 0,!0).then((function(){e.pingpongTimeoutCount=0;var t=Date.now()-A;e.rttRolling.add(t),Th.REPORT_STATS&&e.send(lp.PING_BACK,{pingpongElapse:t})})).catch((function(e){}))}}},{key:"handleWsInflateData",value:function(){var e=this.websocket.getWsInflateData(),t=e.wsInflateLength;e=e.wsDeflateLength,0!==t&&0!==e&&this.upload(Ep.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:e,ws_inflate_length:t})}},{key:"handleWebsocketEvents",value:function(){var e=this;this.websocket.on(pp.RECONNECT_WAITTING_FINISH,(function(t){e.emit(Ip.WS_RECONNECT_WAITTING_FINISH,t)})),this.websocket.on(pp.RECONNECT_CREATE_CONNECTION,(function(t){e.emit(Ip.WS_RECONNECT_CREATE_CONNECTION,t)})),this.websocket.on(pp.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(pp.CLOSED,(function(){e.connectionState=gp.CLOSED})),this.websocket.on(pp.FAILED,(function(){e._disconnectedReason=SC.NETWORK_ERROR,e.connectionState=gp.CLOSED})),this.websocket.on(pp.RECONNECTING,(function(t){e._websocketReconnectReason=t,e.joinResponse=void 0,e.connectionState===gp.CONNECTED?e.connectionState=gp.RECONNECTING:e.connectionState=gp.CONNECTING})),this.websocket.on(pp.WILL_RECONNECT,(function(t,A,n){var r=Pe(e,Ip.IS_P2P_DISCONNECTED),i=r||"retry"!==t;r&&"retry"===t&&(qh.debug("".concat(e.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),t="tryNext",A=Mp.P2P_DISCONNECTED),i&&(qh.debug("".concat(e.clientId," will renewSession, reconnect mode: ").concat(t)),e.emit(Ip.REPORT_JOIN_GATEWAY,A||Mp.UNKNOWN_REASON,e.url||""),e.reconnectToken=void 0,e.emit(Ip.NEED_RENEW_SESSION),e.emit(Ip.DISCONNECT_P2P)),n(t)})),this.websocket.on(pp.CONNECTED,(function(){e.openConnectionTime=Date.now(),e.reconnectToken?e.rejoin().catch((function(t){qh.warning("[".concat(e.clientId,"] rejoin failed ").concat(t)),e.reconnect("tryNext",DC.SERVER_ERROR)})):e.join().catch((function(t){if(e.emit(Ip.REPORT_JOIN_GATEWAY,t.message||t.code||Mp.UNKNOWN_REASON,e.url||""),t instanceof _p&&t.code===pC.UNEXPECTED_RESPONSE&&t.data.code===up.ERR_NO_AUTHORIZED)return qh.warning("[".concat(e.clientId,"] reconnect no authorized, recover")),void e.reconnect("recover",DC.SERVER_ERROR);qh.error("[".concat(e.clientId,"] join gateway request failed"),t.toString()),e.spec.forceWaitGatewayResponse?e.reconnect("tryNext",DC.SERVER_ERROR):(e.initError=t,e.close())}))})),this.websocket.on(pp.REQUEST_NEW_URLS,(function(t,A){Me(e,Ip.REQUEST_RECOVER,e.multiIpOption).then(t).catch(A)})),this.websocket.on(pp.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(function(){e.emit(Cp.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}]),t}(UC),Nf=ko("".replace),Tf=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+/,Of=/(^|[^\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff])[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$/,Lf=function(e){return function(t){return t=Ks(ra(t)),1&e&&(t=Nf(t,Tf,"")),2&e&&(t=Nf(t,Of,"$1")),t}};Lf(1),Lf(2);var Mf=Lf(3);ps({target:"String",proto:!0,forced:function(e){return bo((function(){return!!"\t\n\v\f\r \u2028\u2029\ufeff"[e]()||""!==""[e]()||Sg&&"\t\n\v\f\r \u2028\u2029\ufeff"[e].name!==e}))}("trim")},{trim:function(){return Mf(this)}});var Uf,xf,Pf=ks("String").trim,Gf=String.prototype,Ff=t((function(e){var t=e.trim;return"string"==typeof e||e===Gf||No(Gf,e)&&t===Gf.trim?Pf:t}));!function(e){e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK"}(Uf||(Uf={}));var Kf=function(e){function t(e,n,r,i){zb(this,t);var o=A.call(this);return Z(V(o),"connectionID",0),Z(V(o),"currentURLIndex",0),Z(V(o),"reconnectReason",void 0),Z(V(o),"_reconnectMode","tryNext"),Z(V(o),"_name",void 0),Z(V(o),"_state","closed"),Z(V(o),"_retryConfig",void 0),Z(V(o),"_reconnectCount",0),Z(V(o),"_forceCloseTimeout",5e3),Z(V(o),"_onlineReconnectListener",void 0),Z(V(o),"_closeEstablishingTransmitter",(function(){})),Z(V(o),"_store",void 0),Z(V(o),"_joinChannelServiceRecordIndex",void 0),Z(V(o),"_useCompress",void 0),Z(V(o),"_inflateLength",0),Z(V(o),"_deflateLength",0),o._store=i,o._name=e,o._retryConfig=function(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?pA(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):pA(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}({},n),o._useCompress=r,o}Zb(t,e);var A=$b(t);return Ib(t,[{key:"url",get:function(){return this._url?this._url:null}},{key:"reconnectMode",get:function(){return this._reconnectMode},set:function(e){var t;Xs(t=["tryNext","recover"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}},{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(of.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(of.CONNECTED):"closed"===this._state?this.emit(of.CLOSED):"failed"===this._state&&this.emit(of.FAILED))}},{key:"resetReconnectCount",value:function(e){qh.debug("".concat(this._name," reset reconnect count, reason: ").concat(e)),this._reconnectCount=0}},{key:"close",value:function(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;var A=this._transmitter;t?setTimeout((function(){return A.close()}),500):A.close(),this._transmitter=void 0}this.state=e?"failed":"closed",this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}},{key:"reconnect",value:function(e,t){var A;this._transmitter?(void 0!==e&&(this.reconnectMode=e),qh.debug("[".concat(this._name,"] reconnect is triggered initiative")),"number"!=typeof this._joinChannelServiceRecordIndex||null!==(A=this._store)&&void 0!==A&&A.recordJoinChannelService({status:"error",errors:[Error(t)]},this._joinChannelServiceRecordIndex),e=this._transmitter.onclose,this._transmitter.onclose=null,this._transmitter.close(),e&&e.bind(this._transmitter)({code:9999,reason:t})):qh.warning("[".concat(this._name,"] can not reconnect, no websocket"))}},{key:"getInflateData",value:function(){var e=this._inflateLength,t=this._deflateLength;return this.clearInflateData(),{inflateLength:e,deflateLength:t}}},{key:"setInflateData",value:function(e){this._deflateLength+=e.originLength,this._inflateLength+=e.compressedLength}},{key:"clearInflateData",value:function(){this._deflateLength=this._inflateLength=0}}]),t}(UC);!function(e){e[e.Default=0]="Default",e[e.Ack=1]="Ack"}(xf||(xf={}));var Vf=function(){function e(t,A,n){zb(this,e),Z(this,"version",1),Z(this,"initialRTO",void 0),Z(this,"maxBatchAckCount",void 0),Z(this,"maxRTO",void 0),Z(this,"initialRTT",void 0),Z(this,"ID",void 0),Z(this,"rtt",void 0),Z(this,"packetNumber",1),Z(this,"rtoRatioMap",new Map),Z(this,"timeoutMap",new Map),Z(this,"unorderedPacketQueue",[]),Z(this,"batchAckPacketQueue",[]),Z(this,"lastOrderedPacketNumber",0),Z(this,"batchAckTimer",void 0),Z(this,"sendImpl",void 0),Z(this,"receiveImpl",void 0),this.sendImpl=t,this.receiveImpl=A,this.ID=At(7,"transmitter-"),this.initialRTO=void 0!==(null==n?void 0:n.initialRTO)?n.initialRTO:Th.TRANSMITTER_INITIAL_RTO,this.initialRTT=void 0!==(null==n?void 0:n.initialRTT)?n.initialRTT:Th.TRANSMITTER_INITIAL_RTT,this.rtt=void 0!==(null==n?void 0:n.initialRTT)?n.initialRTT:Th.TRANSMITTER_INITIAL_RTT,this.maxBatchAckCount=void 0!==(null==n?void 0:n.maxBatchAckCount)?n.maxBatchAckCount:Th.TRANSMITTER_MAX_BATCH_ACK_COUNT,this.maxRTO=void 0!==(null==n?void 0:n.maxRTO)?n.maxRTO:Th.TRANSMITTER_MAX_RTO}return Ib(e,[{key:"packetize",value:function(e,t){return{type:xf.Default,version:this.version,packetNumber:t,payload:e}}},{key:"serialize",value:function(e){switch(e.type){case xf.Default:var t="string"==typeof e.payload?(new TextEncoder).encode(e.payload):e.payload,A=new ArrayBuffer(t.length+15),n=new DataView(A);return n.setUint16(0,e.version),n.setUint8(2,e.type),n.setUint32(3,e.packetNumber),we(n,7,BigInt(e.sendTs)),new Uint8Array(n.buffer).set(t,15),A;case xf.Ack:return t=new ArrayBuffer(16),(A=new DataView(t)).setUint16(0,e.version),A.setUint8(2,e.type),A.setUint32(3,e.maxAckPacketNumber),A.setUint8(7,e.shift),we(A,8,BigInt(e.ackSendTs)),t}}},{key:"deserialize",value:function(e){var t=new DataView(e),A=t.getUint16(0),n=t.getUint8(2);switch(n){case xf.Default:var r=t.getUint32(3);return t=Se(t,7),e=e.slice(15),e=(new TextDecoder).decode(e),{version:A,type:n,packetNumber:r,sendTs:Number(t),payload:e};case xf.Ack:return r=t.getUint32(3),e=t.getUint8(7),t=Se(t,8),{version:A,type:n,maxAckPacketNumber:r,shift:e,ackSendTs:Number(t)};default:throw qh.error("[".concat(this.ID,"] Unrecognized packet type ").concat(n)),Error("Unrecognized packet type ".concat(n))}}},{key:"sendMessage",value:function(e){var t=this,A=this.packetize(e,this.packetNumber);this.packetNumber=4294967295===this.packetNumber?1:this.packetNumber+1,e=this.calculateRTO(A),e=window.setTimeout((function(){t.resendMessage(A)}),e),this.timeoutMap.set(A.packetNumber,e),this.sendPacket(A)}},{key:"onData",value:function(e){(e=this.deserialize(e)).type===xf.Default?this.ack(e):e.type===xf.Ack&&(this.updateRTT(e,Math.round(performance.now())),this.clearRTO(e))}},{key:"close",value:function(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach((function(e){(e=Lb(e,2))[0],window.clearTimeout(e[1])})),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,void 0!==this.batchAckTimer&&window.clearTimeout(this.batchAckTimer)}},{key:"resendMessage",value:function(e){var t=this,A=this.calculateRTO(e);A=window.setTimeout((function(){t.resendMessage(e)}),A),this.timeoutMap.set(e.packetNumber,A),this.sendPacket(e)}},{key:"calculateRTO",value:function(e){var t=this.rtoRatioMap.get(e.packetNumber);if(void 0===t)return this.rtoRatioMap.set(e.packetNumber,1),this.initialRTO;var A=9*this.rtt/8*t;return this.rtoRatioMap.set(e.packetNumber,t+1),A>this.maxRTO?this.maxRTO:A}},{key:"updateRTT",value:function(e,t){this.rtt=.875*this.rtt+(t-e.ackSendTs-this.rtt)/8}},{key:"ack",value:function(e){var t=this;if(e.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(e):(this.batchAckPacketQueue.push(e),this.batchAckTimer=window.setTimeout((function(){t.batchAck()}),this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(e.payload);;){if(!(e=this.unorderedPacketQueue[0])){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(e.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else e.packetNumber<=this.lastOrderedPacketNumber?this.sendPacket({ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:xf.Ack,version:this.version}):e.packetNumber>this.lastOrderedPacketNumber&&(this.unorderedPacketQueue[e.packetNumber-this.lastOrderedPacketNumber-2]=e,this.sendPacket({ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:xf.Ack,version:this.version}))}},{key:"batchAck",value:function(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0,this.sendPacket({ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:xf.Ack,version:this.version}),this.batchAckPacketQueue=[]}},{key:"sendPacket",value:function(e){e.type===xf.Default&&(e.sendTs=Math.round(performance.now())),e=this.serialize(e),this.sendImpl(e)}},{key:"clearRTO",value:function(e){for(var t=e.maxAckPacketNumber-e.shift;t<=e.maxAckPacketNumber;t++){var A=this.timeoutMap.get(t);void 0!==A&&window.clearTimeout(A),this.timeoutMap.delete(t),this.rtoRatioMap.delete(t)}}}]),e}(),Yf=function(e){function t(e,A){zb(this,t);var r=n.call(this,e,A,2<arguments.length&&void 0!==arguments[2]&&arguments[2],3<arguments.length?arguments[3]:void 0);Z(V(r),"_initMutex",void 0),Z(V(r),"_reconnectInterrupter",void 0),Z(V(r),"_url",void 0),Z(V(r),"_transmitter",void 0),Z(V(r),"_addresses",void 0),Z(V(r),"_reliableTransmission",void 0),r._initMutex=new ed("datachannel");var i=A.timeout,o=A.timeoutFactor,a=Math.max(300,Math.floor(3*i/5)),s=Math.max(1.2,Math.floor(8*o)/10);return kC.ONLINE&&(r._retryConfig.timeout=a,r._retryConfig.timeoutFactor=s),PC.on(NC.NETWORK_STATE_CHANGE,(function(e,t){e!==t&&(r.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===kC.ONLINE?(r._retryConfig.timeout=a,r._retryConfig.timeoutFactor=s):(r._retryConfig.timeout=i,r._retryConfig.timeoutFactor=o))})),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"getConnection",value:function(){if(this._reliableTransmission)return this._reliableTransmission}},{key:"init",value:(A=pa(O.mark((function e(t){var A,n=this,r=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._forceCloseTimeout=1<r.length&&void 0!==r[1]?r[1]:5e3,A=function(e,A){n._addresses=t,n.currentURLIndex=n._addresses.findIndex((function(e){return e.fingerprint||Th.FINGERPRINT}));var r=n._addresses[n.currentURLIndex];n.state="connecting",n.createTransmitterConnection(r).then(e).catch(A),n.once(of.CLOSED,(function(){return A(new _p(pC.WS_DISCONNECT))})),n.once(of.CONNECTED,(function(){return e()}))},e.abrupt("return",this._initMutex.lock().then((function(e){return new IC((function(e,t){A(e,t)})).then((function(){e()})).catch((function(){e()}))})));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"sendMessage",value:function(e){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new _p(pC.WS_ABORT,"datachannel is not ready");try{t||(e=JSON.stringify(e)),this._reliableTransmission.sendMessage(e)}catch(e){throw new _p(pC.WS_ERR,"send datachannel signal message error"+e.toString())}}},{key:"unbindDcCloseEventListener",value:function(){this._transmitter&&(this._transmitter.onclose=null)}},{key:"sendMessageWithJSON",value:function(e){var t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}},{key:"sendMessageWithUint8Array",value:function(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}},{key:"createTransmitterConnection",value:function(e){var t=this;return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url="dc://".concat(e.ip,":").concat(e.port),new IC((function(A,n){var r,i,o=function(){qh.debug("[".concat(t._name,"] datachannel opened:"),t._url),t.reconnectMode="retry",t.state="connected",t.resetReconnectCount("opened"),A()},a=(i=pa(O.mark((function e(r){var i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=t._closeEstablishingTransmitter)||void 0===i||i.call(t),qh.debug("[".concat(t._name,"] datachannel close ").concat(t._url,", code: ").concat(r.code,", reason: ").concat(r.reason,", current mode: ").concat(t.reconnectMode)),!(t._reconnectCount<t._retryConfig.maxRetryCount)){e.next=13;break}return"connected"===t.state&&(t.reconnectReason=r.reason,t.state="reconnecting"),o=xe(t,of.WILL_RECONNECT,t.reconnectMode)||t.reconnectMode,e.next=5,t.reconnectWithAction(o);case 5:if(a=e.sent,"closed"!==t.state){e.next=8;break}return e.abrupt("return",void qh.debug("[".concat(t.connectionID,"] dc is closed, no need to reconnect")));case 8:if(a){e.next=10;break}return e.abrupt("return",(n(new _p(pC.WS_DISCONNECT,"datachannel reconnect failed: ".concat(r.code))),void t.close(!0)));case 10:A(),e.next=14;break;case 13:n(new _p(pC.WS_DISCONNECT,"datachannel close: ".concat(r.code))),t.close();case 14:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),s=function(e){var A;null===(A=t._reliableTransmission)||void 0===A||A.onData(e.data)};t._transmitter&&(t._transmitter.onclose=null,t._transmitter.close()),t._reliableTransmission&&(t._reliableTransmission.close(),t._reliableTransmission=void 0),qh.debug("[".concat(t._name,"] start connect, address: ").concat(JSON.stringify(e)));var c=null===(r=t._store)||void 0===r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"}),u=Date.now();Me(t,of.TO_CONNECT_DATACHANNEL,e).then((function(e){var A,n;if(!e)throw Error("transmissonInfo not exist yet");var r=e.transmitter,i=e.close;t._transmitter=r,null===(A=t._store)||void 0===A||A.signalChannelOpen(),e=Date.now()-u,qh.debug("[choose dc] dc open cost ".concat(e,"ms")),t._reliableTransmission=new Vf((function(e){var A;t._transmitter&&"open"===t._transmitter.readyState&&(null===(A=t._transmitter)||void 0===A||A.send(e))}),(function(e){"string"==typeof e&&t.emit(of.ON_MESSAGE,e)})),t._closeEstablishingTransmitter=function(){var e;null===(e=t._reliableTransmission)||void 0===e||e.close(),t._reliableTransmission=void 0,i()},o&&o(),r.onclose=a,r.onmessage=s,null===(n=t._store)||void 0===n||n.recordJoinChannelService({endTs:Date.now(),status:"success"},c),t._joinChannelServiceRecordIndex=c})).catch((function(e){var A;if(null===(A=t._store)||void 0===A||A.recordJoinChannelService({endTs:Date.now(),status:e instanceof _p&&e.code===pC.WS_ABORT?"aborted":"error",errors:[e]},c),"closed"!==t.state){if(e instanceof _p&&e.code===pC.WS_ERR)return e=new _p(pC.WS_ERR,"init datachannel failed! Error: ".concat(e.toString())),qh.error("[".concat(t._name,"]").concat(e)),void n(e);a&&a(e)}else n(new _p(pC.WS_DISCONNECT,"datachannel is closed: ".concat(e.toString())))}))}))}},{key:"reconnectWithAction",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g=this,I=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=!(1<I.length&&void 0!==I[1])||I[1],!(this._reconnectCount>=this._retryConfig.maxRetryCount)){e.next=3;break}return e.abrupt("return",!1);case 3:if(this._addresses){e.next=5;break}return e.abrupt("return",!1);case 5:if("closed"!==this.state){e.next=7;break}return e.abrupt("return",!1);case 7:if(this._onlineReconnectListener||PC.networkState!==kC.OFFLINE||(this._onlineReconnectListener=PC.onlineWaiter&&PC.onlineWaiter.then((function(){g._onlineReconnectListener=void 0}))),n=!0,this._reconnectInterrupter=function(){n=!1},!A){e.next=14;break}return r=at(this._reconnectCount,this._retryConfig),qh.debug("[".concat(this._name,"] wait ").concat(r,"ms to reconnect datachannel, mode: ").concat(t)),e.next=14,IC.race([tt(r),this._onlineReconnectListener||new IC((function(){}))]);case 14:if("closed"!==this.state&&n){e.next=16;break}return e.abrupt("return",!1);case 16:if(this._reconnectCount+=1,i=function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.emit(of.RECONNECT_CREATE_CONNECTION,A),e.next=3,g.createTransmitterConnection(t);case 3:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}(),e.prev=18,"retry"!==t){e.next=26;break}return o=this._addresses[this.currentURLIndex],this.emit(of.RECONNECT_WAITTING_FINISH,t),e.next=24,i(o,t);case 24:e.next=50;break;case 26:if("tryNext"!==t){e.next=49;break}a=this.currentURLIndex+=1;case 29:if(!(a<this._addresses.length)){e.next=37;break}if(!this._addresses[a].fingerprint&&!Th.FINGERPRINT){e.next=33;break}return this.currentURLIndex=a,e.abrupt("break",37);case 33:this.currentURLIndex+=1;case 34:a++,e.next=29;break;case 37:if(!(this.currentURLIndex>=this._addresses.length)){e.next=42;break}return qh.debug("[".concat(this._name,"] the available addresses are exhausted, change to recover")),e.next=41,this.reconnectWithAction("recover",!1);case 41:return e.abrupt("return",e.sent);case 42:return qh.debug("[".concat(this._name,"] datachannel url length: ").concat(this._addresses.length," current index: ").concat(this.currentURLIndex)),s=this._addresses[this.currentURLIndex],this.emit(of.RECONNECT_WAITTING_FINISH,t),e.next=47,i(s,t);case 47:e.next=50;break;case 49:"recover"===t&&(qh.debug("[".concat(this._name,"] start to failback to websocket")),this.resetReconnectCount("recover mode"),this.emit(of.RECONNECT_WAITTING_FINISH,t),this.emit(of.FAILBACK));case 50:return e.abrupt("return",!0);case 53:if(e.prev=53,e.t0=e.catch(18),qh.error("[".concat(this._name,"] reconnect failed"),e.t0.toString()),!(null!=e.t0&&null!==(c=e.t0.data)&&void 0!==c&&c.desc&&Array.isArray(e.t0.data.desc)&&e.t0.data.desc.length&&Xs(u=e.t0.data.desc).call(u,"dynamic key expired"))){e.next=60;break}e.t1=(this.emit(of.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1),e.next=63;break;case 60:return e.next=62,this.reconnectWithAction(t,A);case 62:e.t1=e.sent;case 63:return e.abrupt("return",e.t1);case 64:case"end":return e.stop()}}),e,this,[[18,53]])})));return function(t){return e.apply(this,arguments)}}()}]),t}(Kf),Jf=function(e){function t(e,A){zb(this,t);var r=n.call(this);return Z(V(r),"_disconnectedReason",void 0),Z(V(r),"_websocketReconnectReason",void 0),Z(V(r),"_connectionState",gp.CLOSED),Z(V(r),"reconnectToken",void 0),Z(V(r),"websocket",void 0),Z(V(r),"openConnectionTime",void 0),Z(V(r),"clientId",void 0),Z(V(r),"lastMsgTime",Date.now()),Z(V(r),"uploadCache",[]),Z(V(r),"uploadCacheInterval",void 0),Z(V(r),"rttRolling",new Ad(5)),Z(V(r),"pingpongTimer",void 0),Z(V(r),"inflateDataTimer",void 0),Z(V(r),"pingpongTimeoutCount",0),Z(V(r),"joinResponse",void 0),Z(V(r),"multiIpOption",void 0),Z(V(r),"initError",void 0),Z(V(r),"spec",void 0),Z(V(r),"store",void 0),Z(V(r),"onWebsocketMessage",(function(e){if(e instanceof ArrayBuffer)r.emit(Ip.ON_BINARY_DATA,e);else if(e=JSON.parse(e),r.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(e,"_id")){var t="res-@".concat(e._id);r.emit(t,e._result,e._message)}else if(Object.prototype.hasOwnProperty.call(e,"_type")&&(r.emit(e._type,e._message),e._type===Cp.ON_NOTIFICATION&&r.handleNotification(e._message),e._type===Cp.ON_USER_BANNED))switch(e._message.error_code){case 14:r.close(SC.UID_BANNED);break;case 15:r.close(SC.IP_BANNED);break;case 16:r.close(SC.CHANNEL_BANNED)}})),r.clientId=e.clientId,r.spec=e,r.store=A,r.websocket=new Yf("gateway-".concat(r.clientId),r.spec.retryConfig,!0,A),r.handleWebsocketEvents(),window.addEventListener("offline",(function(){r.connectionState===gp.CONNECTED&&r.reconnect("retry",rf.OFFLINE)})),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){e!==this._connectionState&&(this._connectionState=e,e===gp.CONNECTED?this.emit(Ip.WS_CONNECTED):e===gp.RECONNECTING?this.emit(Ip.WS_RECONNECTING,this._websocketReconnectReason):e===gp.CLOSED&&this.emit(Ip.WS_CLOSED,this._disconnectedReason))}},{key:"currentURLIndex",get:function(){return this.websocket.currentURLIndex}},{key:"url",get:function(){return this.websocket?this.websocket.url:null}},{key:"rtt",get:function(){return this.rttRolling.mean()}},{key:"request",value:(A=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=At(6,""),o={_id:i,_type:t,_message:A},a=this.websocket.connectionID,s=function(){return new IC((function(e,A){if(E.connectionState===gp.CONNECTED)return e();var n=function(){E.off(Ip.WS_CLOSED,r),e()},r=function(){E.off(Ip.WS_CONNECTED,n),A(new _p(pC.WS_ABORT))};E.once(Ip.WS_CONNECTED,n),E.once(Ip.WS_CLOSED,r),t!==lp.PUBLISH&&t!==lp.SUBSCRIBE&&t!==lp.UNSUBSCRIBE&&t!==lp.UNPUBLISH&&t!==lp.CONTROL&&t!==lp.RESTART_ICE||E.once(Ip.DISCONNECT_P2P,(function(){A(new _p(pC.DISCONNECT_P2P))})),t!==lp.PUBLISH&&t!==lp.RESTART_ICE||E.once(Ip.ABORT_P2P_EXECUTION,(function(){A(new _p(pC.DISCONNECT_P2P))}))}))},e.t0=this.connectionState!==gp.CONNECTING&&this.connectionState!==gp.RECONNECTING||t===lp.JOIN||t===lp.REJOIN,e.t0){e.next=5;break}return e.next=5,s();case 5:if(t===lp.LEAVE&&(this.websocket.unbindDcCloseEventListener(),r=!0),this.websocket.sendMessage(o,!0,!1),!r){e.next=9;break}return e.abrupt("return");case 9:return c=new IC((function(e,n){var r=!1,o=function(n,i){r=!0,e({isSuccess:"success"===n,message:i||{}}),E.off(Ip.WS_CLOSED,s),E.off(Ip.WS_RECONNECTING,s),E.emit(Ip.REQUEST_SUCCESS,t,A)};E.once("res-@".concat(i),o);var s=function e(){n(new _p(pC.WS_ABORT,"type: ".concat(t))),E.off(Ip.WS_CLOSED,e),E.off(Ip.WS_RECONNECTING,e),E.off("res-@".concat(i),o)};E.once(Ip.WS_CLOSED,s),E.once(Ip.WS_RECONNECTING,s),tt(Th.SIGNAL_REQUEST_TIMEOUT).then((function(){E.websocket.connectionID!==a||r||(qh.warning("dc request timeout, type: ".concat(t)),E.emit(Ip.REQUEST_TIMEOUT,t,A))}))})),u=null,e.prev=11,e.next=14,c;case 14:u=e.sent,e.next=36;break;case 17:if(e.prev=17,e.t1=e.catch(11),this.connectionState!==gp.CLOSED&&t!==lp.LEAVE){e.next=21;break}throw new _p(pC.WS_ABORT);case 21:if(this.spec.forceWaitGatewayResponse&&!n){e.next=25;break}e.t2=e.t1.throw(),e.next=35;break;case 25:if(t!==lp.JOIN&&t!==lp.REJOIN){e.next=29;break}e.t3=null,e.next=34;break;case 29:return e.next=31,s();case 31:return e.next=33,this.request(t,A);case 33:e.t3=e.sent;case 34:e.t2=e.t3;case 35:return e.abrupt("return",e.t2);case 36:if(!u.isSuccess){e.next=38;break}return e.abrupt("return",u.message);case 38:if(g=Number(u.message.error_code||u.message.code),I=eA(g),l=new _p(pC.UNEXPECTED_RESPONSE,"".concat(I.desc,": ").concat(u.message.error_str),{code:g,data:u.message}),"success"!==I.action){e.next=43;break}e.t4=u.message,e.next=68;break;case 43:if(qh.warning("[".concat(this.websocket.connectionID,"] unexpected response from type ").concat(t,", error_code: ").concat(g,", message: ").concat(I.desc,", action: ").concat(I.action)),g!==up.ERR_TOO_MANY_BROADCASTERS){e.next=48;break}e.t5=t===lp.JOIN||t===lp.REJOIN?(this.initError=l,this.close(),l.throw()):l.throw(),e.next=67;break;case 48:if("failed"!==I.action){e.next=52;break}e.t6=l.throw(),e.next=66;break;case 52:if("quit"!==I.action){e.next=56;break}e.t7=(this.initError=l,this.close(),l.throw()),e.next=65;break;case 56:if(g===up.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=u.message.option,qh.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",rf.MULTI_IP)):this.reconnect(I.action,rf.SERVER_ERROR),t!==lp.JOIN&&t!==lp.REJOIN){e.next=61;break}e.t8=null,e.next=64;break;case 61:return e.next=63,this.request(t,A);case 63:e.t8=e.sent;case 64:e.t7=e.t8;case 65:e.t6=e.t7;case 66:e.t5=e.t6;case 67:e.t4=e.t5;case 68:return e.abrupt("return",e.t4);case 69:case"end":return e.stop()}}),e,this,[[11,17]])}))),function(e,t,n,r){return A.apply(this,arguments)})},{key:"waitMessage",value:function(e,t){var A=this;return new IC((function(n){A.on(e,(function r(i){t&&!t(i)||(A.off(e,r),n(i))}))}))}},{key:"uploadWRTCStats",value:function(e){this.store.sessionId?(e={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e},this.upload(Ep.WRTC_STATS,e)):qh.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"))}},{key:"upload",value:function(e,t){var A=this;e={_type:e,_message:t};try{this.websocket.sendMessage(e)}catch(n){t=Th.MAX_UPLOAD_CACHE||50,this.uploadCache.push(e),this.uploadCache.length>t&&this.uploadCache.splice(0,1),0<this.uploadCache.length&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((function(){if(A.connectionState===gp.CONNECTED){var e=A.uploadCache.splice(0,1)[0];0===A.uploadCache.length&&(window.clearInterval(A.uploadCacheInterval),A.uploadCacheInterval=void 0),A.upload(e._type,e._message)}}),Th.UPLOAD_CACHE_INTERVAL||2e3))}}},{key:"send",value:function(e,t){this.websocket.sendMessage({_type:e,_message:t})}},{key:"init",value:function(e,t){var A=this;return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new IC((function(n,r){A.once(Ip.WS_CONNECTED,(function(){return n(A.joinResponse)})),A.once(Ip.WS_CLOSED,(function(){return r(A.initError||new _p(pC.WS_ABORT))})),A.connectionState=gp.CONNECTING,A.websocket.init(e).catch(r),A.websocket.once(of.FAILBACK,(function(){void 0===A.openConnectionTime&&r(new _p(pC.INIT_DATACHANNEL_TIMEOUT))})),A.inflateDataTimer&&window.clearInterval(A.inflateDataTimer),A.inflateDataTimer=window.setInterval((function(){A.handleInflateData()}),2e4),setTimeout((function(){t&&void 0===A.openConnectionTime&&(qh.debug("[".concat(A.clientId,"] init datachannel timeout while join with failback to websocket")),r(new _p(pC.INIT_DATACHANNEL_TIMEOUT)))}),Th.DC_JOIN_WITH_FAILBACK)}))}},{key:"close",value:function(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.inflateDataTimer&&(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=void 0),this.joinResponse=this.reconnectToken=void 0,this._disconnectedReason=e||SC.LEAVE,this.connectionState=gp.CLOSED,qh.debug("[".concat(this.clientId,"] ")+"will close datachannel in signal"),this.websocket.close(),e===SC.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new Yf("gateway-".concat(this.clientId),this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}},{key:"join",value:function(){var e=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinResponse){e.next=11;break}return this.emit(Ip.ABORT_P2P_EXECUTION),e.next=4,Me(this,Ip.DATACHANNEL_CONNECTING);case 4:return t=e.sent,e.next=7,this.request(lp.JOIN,t);case 7:if(A=e.sent){e.next=10;break}return e.abrupt("return",(this.emit(Ip.REPORT_JOIN_GATEWAY,pC.TIMEOUT,this.url||""),!1));case 10:this.joinResponse=A,this.emit(Ip.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token;case 11:return e.abrupt("return",(this.connectionState=gp.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rejoin",value:function(){var e=pa(O.mark((function e(){var t,A,n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reconnectToken){e.next=2;break}throw new _p(pC.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");case 2:return(t=Pe(this,Ip.REQUEST_REJOIN_INFO)).token=this.reconnectToken,e.next=6,this.request(lp.REJOIN,t);case 6:return A=e.sent,e.abrupt("return",!!A&&(this.connectionState=gp.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),A.peers&&A.peers.forEach((function(e){n.emit(Cp.ON_USER_ONLINE,{uid:e.uid}),e.audio&&n.emit(Cp.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&n.emit(Cp.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?n.emit(Cp.MUTE_AUDIO,{uid:e.uid}):n.emit(Cp.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?n.emit(Cp.MUTE_VIDEO,{uid:e.uid}):n.emit(Cp.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?n.emit(Cp.ENABLE_LOCAL_AUDIO,{uid:e.uid}):n.emit(Cp.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?n.emit(Cp.ENABLE_LOCAL_VIDEO,{uid:e.uid}):n.emit(Cp.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||n.emit(Cp.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}},{key:"handleNotification",value:function(e){if(qh.debug("[".concat(this.clientId,"] receive notification: "),e),"success"!==(e=eA(e.code)).action){if("failed"!==e.action)return"quit"===e.action?("ERR_REPEAT_JOIN_CHANNEL"===e.desc&&this.close(SC.UID_BANNED),void this.close()):void this.reconnect(e.action,rf.SERVER_ERROR);qh.error("[".concat(this.clientId,"] ignore error: "),e.desc)}}},{key:"handlePingPong",value:function(){var e=this;if(this.websocket&&"connected"===this.websocket.state){0<this.pingpongTimeoutCount&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;var t=Th.PING_PONG_TIME_OUT,A=Date.now();this.pingpongTimeoutCount>=t&&(qh.warning("PINGPONG Timeout. Last Socket Message: ".concat(A-this.lastMsgTime,"ms")),A-this.lastMsgTime>Th.WEBSOCKET_TIMEOUT_MIN)?this.reconnect("retry",rf.TIMEOUT):this.request(lp.PING,void 0,!0).then((function(){e.pingpongTimeoutCount=0;var t=Date.now()-A;e.rttRolling.add(t),Th.REPORT_STATS&&e.send(lp.PING_BACK,{pingpongElapse:t})})).catch((function(e){}))}}},{key:"handleInflateData",value:function(){var e=this.websocket.getInflateData(),t=e.inflateLength;e=e.deflateLength,0!==t&&0!==e&&this.upload(Ep.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:e,ws_inflate_length:t})}},{key:"handleWebsocketEvents",value:function(){var e,t=this;this.websocket.on(of.RECONNECT_WAITTING_FINISH,(function(e){t.emit(Ip.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(of.RECONNECT_CREATE_CONNECTION,(function(e){t.emit(Ip.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(of.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(of.CLOSED,(function(){t.connectionState=gp.CLOSED})),this.websocket.on(of.FAILED,(function(){t._disconnectedReason=SC.NETWORK_ERROR,t.connectionState=gp.CLOSED})),this.websocket.on(of.RECONNECTING,(function(e){t._websocketReconnectReason=e,t.joinResponse=void 0,t.connectionState===gp.CONNECTED?t.connectionState=gp.RECONNECTING:t.connectionState=gp.CONNECTING})),this.websocket.on(of.WILL_RECONNECT,(function(e,A){if(Pe(t,Ip.IS_P2P_DISCONNECTED)&&"retry"===e)return qh.debug("".concat(t.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),t.reconnectToken=void 0,t.emit(Ip.NEED_RENEW_SESSION),t.emit(Ip.DISCONNECT_P2P),A("tryNext");"retry"!==e&&(qh.debug("".concat(t.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(e)),t.reconnectToken=void 0,t.emit(Ip.NEED_RENEW_SESSION),t.emit(Ip.DISCONNECT_P2P)),A(e)})),this.websocket.on(of.CONNECTED,(function(){t.openConnectionTime=Date.now(),t.reconnectToken?t.rejoin().catch((function(e){qh.warning("[".concat(t.clientId,"] rejoin failed ").concat(e)),t.reconnect("tryNext",rf.SERVER_ERROR)})):t.join().catch((function(e){if(t.emit(Ip.REPORT_JOIN_GATEWAY,e.message||e.code,t.url||""),e instanceof _p&&e.code===pC.UNEXPECTED_RESPONSE&&e.data.code===up.ERR_NO_AUTHORIZED)return qh.warning("[".concat(t.clientId,"] reconnect no authorized, recover")),void t.reconnect("recover",rf.SERVER_ERROR);qh.error("[".concat(t.clientId,"] join gateway request failed"),e.toString()),t.spec.forceWaitGatewayResponse?t.reconnect("tryNext",rf.SERVER_ERROR):(t.initError=e,t.close())}))})),this.websocket.on(of.REQUEST_NEW_URLS,(function(e,A){Me(t,Ip.REQUEST_RECOVER,t.multiIpOption).then(e).catch(A)})),this.websocket.on(of.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(function(){t.emit(Cp.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(of.TO_CONNECT_DATACHANNEL,(e=pa(O.mark((function e(A,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Me(t,Ip.DATACHANNEL_PRECONNECT,A).then(n).catch(r));case 1:case"end":return e.stop()}}),e)}))),function(t,A,n){return e.apply(this,arguments)})),this.websocket.on(of.FAILBACK,(function(){void 0!==t.openConnectionTime&&t.emit(Ip.DATACHANNEL_FAILBACK)}))}}]),t}(UC),qf=function(e){function t(e,A){zb(this,t);var r=n.call(this);return Z(V(r),"signal",void 0),Z(V(r),"token",void 0),Z(V(r),"tokenTimeout",void 0),Z(V(r),"tokenInterval",void 0),Z(V(r),"_sequence",0),Z(V(r),"userMap",new Map),Z(V(r),"encoder",new TextEncoder),r.signal=e,r.token=A,function e(){r.signal.connectionState===gp.CONNECTED&&r.check(),0===r.userMap.size?r.tokenInterval=window.setTimeout(e,1e3):r.tokenInterval=window.setTimeout(e,3*Th.P2P_TOKEN_INTERVAL)}(),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"send",value:(A=pa(O.mark((function e(t,A,n,r,i){var o,a,s,c,u,g,I=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.userMap.size){e.next=2;break}return e.abrupt("return");case 2:return c=Array.from(mp(o=this.userMap).call(o))[0].token,"string"!=typeof A&&(A=JSON.stringify(A)),r=null!==(a=r)&&void 0!==a?a:At(6,""),i=null!==(s=i)&&void 0!==s?s:this._sequence++,u={_id:r,_type:t,_seq:i,_message:A,token:"".concat(this.token,"_").concat(c)},Th.SHOW_P2P_LOG&&qh.debug("send message",u,"noNeedResponse : ".concat(n)),this.splitMessage(JSON.stringify(u)).forEach((function(e){I.signal.request(lp.DATA_STREAM,{payload:Xe(I.encoder.encode(e))})})),g=new IC((function(e,A){var i=window.setTimeout((function(){I.off("res-@".concat(r,"_ack"),o),I.off("res-@".concat(r),s),I.off(lf.ABORT,a),qh.debug("[external-signal] request timeout, type: ".concat(t,", requestId: ").concat(r)),0===I.userMap.size?A(new mC(pC.INVALID_REMOTE_USER)):A(new mC(pC.TIMEOUT))}),Th.EXTERNAL_SIGNAL_REQUEST_TIMEOUT),o=function(){i&&window.clearTimeout(i),I.off(lf.ABORT,a),n&&e()},a=function(){i&&window.clearTimeout(i),I.off("res-@".concat(r,"_ack"),o),I.off("res-@".concat(r),s),A(new mC(pC.EXTERNAL_SIGNAL_ABORT,"type: ".concat(t,", requestId: ").concat(r)))};I.once(lf.ABORT,a),I.once("res-@".concat(r,"_ack"),o);var s=function(n,s){c=!0,i&&window.clearTimeout(i),I.off("res-@".concat(r,"_ack"),o),I.off(lf.ABORT,a),"success"===n?e(s):A(new mC(pC.P2P_MESSAGE_FAILED,"request ".concat(t," failed, requestId: ").concat(r)))},c=!1;n||(I.once("res-@".concat(r),s),tt(Th.SIGNAL_REQUEST_TIMEOUT).then((function(){c||qh.warning("external_signal request timeout, type: ".concat(t,", requestId: ").concat(r,", ").concat(u))})))})),e.prev=8,e.next=11,g;case 11:return e.abrupt("return",e.sent);case 14:if(e.prev=14,e.t0=e.catch(8),e.t0.code!==pC.TIMEOUT){e.next=20;break}return e.next=19,this.send(t,A,n,r,i);case 19:return e.abrupt("return",e.sent);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,this,[[8,14]])}))),function(e,t,n,r,i){return A.apply(this,arguments)})},{key:"onMessage",value:function(e){var t,A=e._uid,n=this.userMap.get(A);if(n)var r=n.splitMessageMap;else{if(0<this.userMap.size||!("_type"in e)||e._type!==If.CHECK)return;n={uid:A,isStart:!0,token:n=e.token,splitMessageMap:r=new Map,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(A,n),this.signal.emit(Cp.ON_USER_ONLINE,{uid:A}),this.handleUserOnline()}if("id"in e&&"total"in e){var i,o=e,a=o.id;o=o.total;var s=null!==(i=r.get(a))&&void 0!==i?i:[];if(s.push(e),r.has(a)||r.set(a,s),s.length!==o)return;e=ZI(s).call(s,(function(e,t){return e.index-t.index})).map((function(e){return e.payload})).join(""),r.delete(a),(e=JSON.parse(e))._uid=A}if(A=(r=e)._type,r=r.token,Xs(t=[If.ACK,If.CHECK]).call(t,A))return A===If.CHECK&&this.handleCheckToken(n,r),void this.receiveMessage(e);r==="".concat(n.token,"_").concat(this.token)?this.handleReceivedMessage(e):qh.debug('Receive unexpected message", '.concat(r,", cur_token: ").concat(n.token,"_").concat(this.token),e)}},{key:"check",value:function(){var e={_id:At(6,""),token:this.token,_type:If.CHECK};Th.SHOW_P2P_LOG&&qh.debug("send message",e),this.signal.request(lp.DATA_STREAM,{payload:Xe(this.encoder.encode(JSON.stringify(e)))})}},{key:"ack",value:function(e){e={_id:e,_type:If.ACK,token:this.token},Th.SHOW_P2P_LOG&&qh.debug("send message",e),this.signal.request(lp.DATA_STREAM,{payload:Xe(this.encoder.encode(JSON.stringify(e)))})}},{key:"response",value:function(e,t,A){this.send(If.RESPONSE,JSON.stringify({success:!A,message:t}),!0,e)}},{key:"handleReceivedMessage",value:function(e){var t=this,A=function(){t.userMap.forEach((function(e){for(var A=e.receivedMessagesMap,n=e.nextExpectedSequenceNumber;A.has(n);){var r=A.get(n);A.delete(n),t.receiveMessage(r),e.nextExpectedSequenceNumber++}}))};if(e){var n=e._seq,r=this.userMap.get(e._uid),i=r.receivedMessagesMap,o=r.isStart,a=r.nextExpectedSequenceNumber;if(n<a)return this.ack(e._id),void qh.debug("[external-signal] receive old message, seq: ".concat(n,", ").concat(e._message));i.set(n,e),o&&n===a&&(this.receiveMessage(e),i.delete(a),r.nextExpectedSequenceNumber++,A())}else A()}},{key:"receiveMessage",value:function(e){var t,A=this,n=e._id,r=e._type,i=e._message,o=e._uid;if(Th.SHOW_P2P_LOG&&qh.debug("receive message",e),n)switch(e._type!==If.ACK&&(i&&(t=JSON.parse(i)),this.ack(e._id)),e._type){case If.CANDIDATE:case If.CONTROL:this.signal.emit(r,t,o);break;case If.PUBLISH:case If.UNPUBLISH:case If.RESTART_ICE:case If.CALL:t.uid=o,Me(this.signal,r,t).then((function(t){A.response(e._id,t)})).catch((function(){A.response(e._id,void 0,!0)}));break;case If.ACK:0<this.getListeners("res-@".concat(n,"_ack")).length&&this.emit("res-@".concat(n,"_ack"));break;case If.RESPONSE:r=(i=t).success,i=i.message,this.emit("res-@".concat(n),r?"success":"failed",i)}}},{key:"splitMessage",value:function(e){if(e.length<t.MAX_MESSAGE_SIZE)return[e];for(var A=[],n=JSON.parse(e).remoteToken,r=At(6,""),i=0,o=800,a=Math.ceil(e.length/o);0<e.length;){var s={id:r,index:++i,total:a,payload:e.slice(0,o),token:"".concat(this.token,"_").concat(n)};JSON.stringify(s).length>t.MAX_MESSAGE_SIZE?o-=50:(A.push(s),e=e.slice(o))}return A.map((function(e){return JSON.stringify(e)}))}},{key:"handleCheckToken",value:function(e,t){var A=this;return e.token!==t?(qh.debug("token changed, from ".concat(e.token," to ").concat(t)),this.reset(e.uid,t),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout((function(){qh.debug("token timeout, ".concat(t)),A.reset(e.uid)}),Th.MAX_P2P_TIMEOUT),!0)}},{key:"handleUserOnline",value:function(){var e=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(this.signal,If.CALL,void 0);case 2:return t=e.sent,e.next=5,this.send(If.CALL,t);case 5:A=e.sent,this.signal.emit(Ip.P2P_CONNECTION,A,!0);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.userMap.get(t))&&(this.emit(lf.ABORT),this.signal.emit(Cp.ON_USER_OFFLINE,{uid:n.uid,reason:df.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),A||(qh.debug("change local token from ".concat(A," to ").concat(A)),this.token=At(6,"")));case 2:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"clear",value:function(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(lf.ABORT)}}]),t}(UC);Z(qf,"MAX_SIZE",1),Z(qf,"MAX_MESSAGE_SIZE",1024);var Hf=function(e){function t(e,A){zb(this,t);var r=n.call(this);return Z(V(r),"_disconnectedReason",void 0),Z(V(r),"_websocketReconnectReason",void 0),Z(V(r),"_connectionState",gp.CLOSED),Z(V(r),"reconnectToken",void 0),Z(V(r),"p2pToken",void 0),Z(V(r),"websocket",void 0),Z(V(r),"openConnectionTime",void 0),Z(V(r),"clientId",void 0),Z(V(r),"lastMsgTime",Date.now()),Z(V(r),"uploadCache",[]),Z(V(r),"uploadCacheInterval",void 0),Z(V(r),"rttRolling",new Ad(5)),Z(V(r),"pingpongTimer",void 0),Z(V(r),"pingpongTimeoutCount",0),Z(V(r),"joinResponse",void 0),Z(V(r),"multiIpOption",void 0),Z(V(r),"initError",void 0),Z(V(r),"spec",void 0),Z(V(r),"store",void 0),Z(V(r),"_external_signal",void 0),Z(V(r),"onWebsocketMessage",(function(e){if(e.data instanceof ArrayBuffer)r.emit(Ip.ON_BINARY_DATA,e.data);else if(e=JSON.parse(e.data),r.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(e,"_id")){var t="res-@".concat(e._id);r.emit(t,e._result,e._message)}else if(Object.prototype.hasOwnProperty.call(e,"_type")){switch(e._type){case Cp.ON_DATA_STREAM:return void r.handleDataStream(e._message);case Cp.MUTE_AUDIO:case Cp.MUTE_VIDEO:case Cp.ON_P2P_LOST:case Cp.ON_USER_ONLINE:return;case Cp.ON_USER_OFFLINE:return e=e._message.uid,qh.debug("[".concat(r.clientId,"] user-offline uid: ").concat(e)),void r._external_signal.reset(e)}if(r.emit(e._type,e._message),e._type===Cp.ON_NOTIFICATION&&r.handleNotification(e._message),e._type===Cp.ON_USER_BANNED)switch(e._message.error_code){case 14:r.close(SC.UID_BANNED);break;case 15:r.close(SC.IP_BANNED);break;case 16:r.close(SC.CHANNEL_BANNED)}if(e._type===Cp.ON_USER_LICENSE_BANNED)switch(e._message.error_code){case up.ERR_LICENSE_MISSING:r.close(SC.LICENSE_MISSING);break;case up.ERR_LICENSE_EXPIRED:r.close(SC.LICENSE_EXPIRED);break;case up.ERR_LICENSE_MINUTES_EXCEEDED:r.close(SC.LICENSE_MINUTES_EXCEEDED);break;case up.ERR_LICENSE_PERIOD_INVALID:r.close(SC.LICENSE_PERIOD_INVALID);break;case up.ERR_LICENSE_MULTIPLE_SDK_SERVICE:r.close(SC.LICENSE_MULTIPLE_SDK_SERVICE);break;case up.ERR_LICENSE_ILLEGAL:r.close(SC.LICENSE_ILLEGAL);break;default:r.close()}}})),r.clientId=e.clientId,r.spec=e,r.store=A,r.websocket=new wf("gateway-".concat(r.clientId),r.spec.retryConfig,!0,Th.JOIN_GATEWAY_USE_DUAL_DOMAIN,Th.JOIN_GATEWAY_USE_443PORT_ONLY,A),r.handleWebsocketEvents(),window.addEventListener("offline",(function(){r.connectionState===gp.CONNECTED&&r.reconnect("retry",DC.OFFLINE)})),r.p2pToken=At(6,""),r._external_signal=new qf(V(r),r.p2pToken),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){e!==this._connectionState&&(this._connectionState=e,e===gp.CONNECTED?this.emit(Ip.WS_CONNECTED):e===gp.RECONNECTING?this.emit(Ip.WS_RECONNECTING,this._websocketReconnectReason):e===gp.CLOSED&&this.emit(Ip.WS_CLOSED,this._disconnectedReason))}},{key:"currentURLIndex",get:function(){return this.websocket.currentURLIndex}},{key:"url",get:function(){return this.websocket&&this.websocket.url||null}},{key:"rtt",get:function(){return this.rttRolling.mean()}},{key:"request",value:(A=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=At(6,""),o={_id:i,_type:t,_message:A},a=this.websocket.connectionID,s=function(){return new IC((function(e,t){if(E.connectionState===gp.CONNECTED)return e();var A=function(){E.off(Ip.WS_CLOSED,n),e()},n=function(){E.off(Ip.WS_CONNECTED,A),t(new mC(pC.WS_ABORT))};E.once(Ip.WS_CONNECTED,A),E.once(Ip.WS_CLOSED,n)}))},e.t0=this.connectionState!==gp.CONNECTING&&this.connectionState!==gp.RECONNECTING||t===lp.JOIN||t===lp.REJOIN,e.t0){e.next=5;break}return e.next=5,s();case 5:if(this.websocket.sendMessage(o,!0),!r){e.next=8;break}return e.abrupt("return");case 8:return c=new IC((function(e,n){var r=!1,o=function(n,i){r=!0,e({isSuccess:"success"===n,message:i||{}}),E.off(Ip.WS_CLOSED,s),E.off(Ip.WS_RECONNECTING,s),E.emit(Ip.REQUEST_SUCCESS,t,A)};E.once("res-@".concat(i),o);var s=function e(){n(new mC(pC.WS_ABORT,"type: ".concat(t))),E.off(Ip.WS_CLOSED,e),E.off(Ip.WS_RECONNECTING,e),E.off("res-@".concat(i),o)};E.once(Ip.WS_CLOSED,s),E.once(Ip.WS_RECONNECTING,s),tt(Th.SIGNAL_REQUEST_TIMEOUT).then((function(){E.websocket.connectionID!==a||r||(qh.warning("[".concat(E.clientId,"] ws request timeout, type: ").concat(t)),E.emit(Ip.REQUEST_TIMEOUT,t,A))}))})),u=null,e.prev=10,e.next=13,c;case 13:u=e.sent,e.next=35;break;case 16:if(e.prev=16,e.t1=e.catch(10),this.connectionState!==gp.CLOSED&&t!==lp.LEAVE){e.next=20;break}throw new mC(pC.WS_ABORT);case 20:if(this.spec.forceWaitGatewayResponse&&!n){e.next=24;break}e.t2=e.t1.throw(),e.next=34;break;case 24:if(t!==lp.JOIN&&t!==lp.REJOIN){e.next=28;break}e.t3=null,e.next=33;break;case 28:return e.next=30,s();case 30:return e.next=32,this.request(t,A);case 32:e.t3=e.sent;case 33:e.t2=e.t3;case 34:return e.abrupt("return",e.t2);case 35:if(!u.isSuccess){e.next=37;break}return e.abrupt("return",u.message);case 37:if(g=Number(u.message.error_code||u.message.code),I=eA(g),l=new mC(pC.UNEXPECTED_RESPONSE,"".concat(I.desc,": ").concat(u.message.error_str),{code:g,data:u.message}),"success"!==I.action){e.next=42;break}e.t4=u.message,e.next=67;break;case 42:if(qh.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(t,", error_code: ").concat(g,", message: ").concat(I.desc,", action: ").concat(I.action)),g!==up.ERR_TOO_MANY_BROADCASTERS){e.next=47;break}e.t5=t===lp.JOIN||t===lp.REJOIN?(this.initError=l,this.close(),l.throw()):l.throw(),e.next=66;break;case 47:if("failed"!==I.action){e.next=51;break}e.t6=l.throw(),e.next=65;break;case 51:if("quit"!==I.action){e.next=55;break}e.t7=(this.initError=l,this.close(),l.throw()),e.next=64;break;case 55:if(g===up.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=u.message.option,qh.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",DC.MULTI_IP)):this.reconnect(I.action,DC.SERVER_ERROR),t!==lp.JOIN&&t!==lp.REJOIN){e.next=60;break}e.t8=null,e.next=63;break;case 60:return e.next=62,this.request(t,A);case 62:e.t8=e.sent;case 63:e.t7=e.t8;case 64:e.t6=e.t7;case 65:e.t5=e.t6;case 66:e.t4=e.t5;case 67:return e.abrupt("return",e.t4);case 68:case"end":return e.stop()}}),e,this,[[10,16]])}))),function(e,t,n,r){return A.apply(this,arguments)})},{key:"waitMessage",value:function(e,t){var A=this;return new IC((function(n){A.on(e,(function r(i){t&&!t(i)||(A.off(e,r),n(i))}))}))}},{key:"uploadWRTCStats",value:function(e){this.store.sessionId?(e={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e},this.upload(Ep.WRTC_STATS,e)):qh.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"))}},{key:"upload",value:function(e,t){var A=this;e={_type:e,_message:t};try{this.websocket.sendMessage(e)}catch(n){t=Th.MAX_UPLOAD_CACHE||50,this.uploadCache.push(e),this.uploadCache.length>t&&this.uploadCache.splice(0,1),0<this.uploadCache.length&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((function(){if(A.connectionState===gp.CONNECTED){var e=A.uploadCache.splice(0,1)[0];0===A.uploadCache.length&&(window.clearInterval(A.uploadCacheInterval),A.uploadCacheInterval=void 0),A.upload(e._type,e._message)}}),Th.UPLOAD_CACHE_INTERVAL||2e3))}}},{key:"send",value:function(e,t){this.websocket.sendMessage({_type:e,_message:t})}},{key:"sendExtensionMessage",value:function(){var e=pa(O.mark((function e(t,A,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._external_signal.send(t,A,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"init",value:function(e){var t=this;return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new IC((function(A,n){t.once(Ip.WS_CONNECTED,(function(){return A(t.joinResponse)})),t.once(Ip.WS_CLOSED,(function(){return n(t.initError||new mC(pC.WS_ABORT))})),t.connectionState=gp.CONNECTING,t.websocket.init(e).catch(n)}))}},{key:"close",value:function(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.joinResponse=this.reconnectToken=void 0,this._external_signal.clear(),this._disconnectedReason=e||SC.LEAVE,this.connectionState=gp.CLOSED,qh.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),e===SC.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new wf("gateway-".concat(this.clientId),this.spec.retryConfig,!0,Th.JOIN_GATEWAY_USE_DUAL_DOMAIN,Th.JOIN_GATEWAY_USE_443PORT_ONLY,this.store),this.handleWebsocketEvents()),this.p2pToken=At(6,""),this._external_signal.clear(),this._external_signal=new qf(this,this.p2pToken)}},{key:"join",value:function(){var e=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinResponse){e.next=11;break}return this.emit(Ip.ABORT_P2P_EXECUTION),e.next=4,Me(this,Ip.REQUEST_JOIN_INFO);case 4:return t=e.sent,e.next=7,this.request(lp.JOIN,t);case 7:if(A=e.sent){e.next=10;break}return e.abrupt("return",(this.emit(Ip.REPORT_JOIN_GATEWAY,pC.TIMEOUT,this.url||""),!1));case 10:this.joinResponse=A,this.emit(Ip.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token;case 11:return e.abrupt("return",(this.connectionState=gp.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}},{key:"handleDataStream",value:function(e){try{var t,A=We(e.payload),n=(new TextDecoder).decode(A),r=JSON.parse(n);"total"in r&&"id"in r||Xs(t=Object.values(If)).call(t,r._type)?(r._uid=e.uid,this._external_signal.onMessage(r)):this.emit(Cp.ON_DATA_STREAM,e)}catch(t){this.emit(Cp.ON_DATA_STREAM,e)}}},{key:"handleNotification",value:function(e){if(qh.debug("[".concat(this.clientId,"] receive notification: "),e),"success"!==(e=eA(e.code)).action){if("failed"!==e.action)return"quit"===e.action?("ERR_REPEAT_JOIN_CHANNEL"===e.desc&&this.close(SC.UID_BANNED),void this.close()):void this.reconnect(e.action,DC.SERVER_ERROR);qh.error("[".concat(this.clientId,"] ignore error: "),e.desc)}}},{key:"handlePingPong",value:function(){var e=this;if(this.websocket&&"connected"===this.websocket.state){0<this.pingpongTimeoutCount&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;var t=Th.PING_PONG_TIME_OUT,A=Date.now();this.pingpongTimeoutCount>=t&&(qh.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(A-this.lastMsgTime,"ms")),A-this.lastMsgTime>Th.WEBSOCKET_TIMEOUT_MIN)?this.reconnect("retry",DC.TIMEOUT):this.request(lp.PING,void 0,!0).then((function(){e.pingpongTimeoutCount=0;var t=Date.now()-A;e.rttRolling.add(t),Th.REPORT_STATS&&e.send(lp.PING_BACK,{pingpongElapse:t})})).catch((function(e){}))}}},{key:"handleWebsocketEvents",value:function(){var e=this;this.websocket.on(pp.RECONNECT_WAITTING_FINISH,(function(t){e.emit(Ip.WS_RECONNECT_WAITTING_FINISH,t)})),this.websocket.on(pp.RECONNECT_CREATE_CONNECTION,(function(t){e.emit(Ip.WS_RECONNECT_CREATE_CONNECTION,t)})),this.websocket.on(pp.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(pp.CLOSED,(function(){e.connectionState=gp.CLOSED})),this.websocket.on(pp.FAILED,(function(){e._disconnectedReason=SC.NETWORK_ERROR,e.connectionState=gp.CLOSED})),this.websocket.on(pp.RECONNECTING,(function(t){e._websocketReconnectReason=t,e.joinResponse=void 0,e.connectionState===gp.CONNECTED?e.connectionState=gp.RECONNECTING:e.connectionState=gp.CONNECTING})),this.websocket.on(pp.WILL_RECONNECT,(function(t,A,n){"retry"!==t?(qh.debug("".concat(e.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(t)),e.reconnectToken=void 0,e.emit(Ip.NEED_RENEW_SESSION)):qh.debug("".concat(e.clientId," reconnect mode is retry, no need to renew session")),n(t)})),this.websocket.on(pp.CONNECTED,(function(){e.openConnectionTime=Date.now(),e.join().catch((function(t){if(e.emit(Ip.REPORT_JOIN_GATEWAY,t.message||t.code,e.url||""),t instanceof mC&&t.code===pC.UNEXPECTED_RESPONSE&&t.data.code===up.ERR_NO_AUTHORIZED)return qh.warning("[".concat(e.clientId,"] reconnect no authorized, recover")),void e.reconnect("recover",DC.SERVER_ERROR);qh.error("[".concat(e.clientId,"] join gateway request failed"),t.toString()),e.spec.forceWaitGatewayResponse?e.reconnect("tryNext",DC.SERVER_ERROR):(e.initError=t,e.close())}))})),this.websocket.on(pp.REQUEST_NEW_URLS,(function(t,A){Me(e,Ip.REQUEST_RECOVER,e.multiIpOption).then(t).catch(A)})),this.websocket.on(pp.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(function(){e.emit(Cp.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}]),t}(UC),jf=new Map,Wf=function(e){function t(e,A){zb(this,t);var r=n.call(this);return Z(V(r),"store",void 0),Z(V(r),"joinInfo",void 0),Z(V(r),"key",void 0),Z(V(r),"ntpOffset",0),Z(V(r),"signal",void 0),Z(V(r),"role",void 0),Z(V(r),"inChannelInfo",{joinAt:null,duration:0}),Z(V(r),"spec",void 0),Z(V(r),"_state","DISCONNECTED"),Z(V(r),"_statsCollector",void 0),Z(V(r),"_disconnectedReason",void 0),Z(V(r),"isSignalRecover",!1),Z(V(r),"hasChangeBGPAddress",!1),Z(V(r),"trafficStatsInterval",void 0),Z(V(r),"networkQualityInterval",void 0),Z(V(r),"_joinGatewayStartTime",0),Z(V(r),"_signalTimeout",!1),Z(V(r),"_clientRoleOptions",void 0),Z(V(r),"_isProactiveJoin",!1),r.store=e,r.spec=A,r.signal=r.store.useP2P?new Hf(BA(BA({},A),{},{retryConfig:A.websocketRetryConfig}),e):r.store.useDataChannel?new Jf(BA(BA({},A),{},{retryConfig:A.websocketRetryConfig}),e):new kf(BA(BA({},A),{},{retryConfig:A.websocketRetryConfig}),e),r._statsCollector=A.statsCollector,r.role=A.role||"audience",r._clientRoleOptions=A.clientRoleOptions,r.handleSignalEvents(),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"state",get:function(){return this._state},set:function(e){if(e!==this._state){var t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(Lp.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(Lp.CONNECTION_STATE_CHANGE,e,t)}}},{key:"joinGatewayStartTime",get:function(){return this._joinGatewayStartTime},set:function(e){qh.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}},{key:"join",value:(A=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.signal instanceof Jf&&(r=!1,"disabled"!==t.cloudProxyServer?(qh.debug("[".concat(this.store.clientId,"] Dc is not supported, because cloudProxyServer are not supported (").concat(t.cloudProxyServer,")")),r=!0):255<"".concat(t.apResponse.cid,"_").concat(t.apResponse.cert).length||22>"".concat(t.apResponse.cid,"_").concat(t.apResponse.cert).length?(qh.debug("[".concat(this.store.clientId,"] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255")),r=!0):t.apResponse.addresses.some((function(e){return e.fingerprint}))||Th.FINGERPRINT||(qh.debug("[".concat(this.store.clientId,"] Dc is not supported, because fingerprint does not exist")),r=!0),r&&this.resetSignal()),this.store.joinGatewayStart(),"disabled"!==t.cloudProxyServer&&(this.hasChangeBGPAddress=!0),i=Date.now(),(o=jf.get(t.cname))||(o=new Map,jf.set(t.cname,o)),this._isProactiveJoin=!0,!o.has(t.uid)){e.next=7;break}throw a=new _p(pC.UID_CONFLICT),$h.joinGateway(t.sid,{lts:i,succ:!1,ec:a.message,addr:null,uid:t.uid,cid:t.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!t.proxyServer,signalChannel:this.signal instanceof Jf?"1":"0"}),this._isProactiveJoin=!1,a;case 7:if(o.set(t.uid,!0),this.joinInfo=t,this.key=A,s=0,this.joinGatewayStartTime=i,c=t.proxyServer,e.prev=11,qh.debug("[".concat(this.store.clientId,"] use ").concat(this.signal instanceof Jf?"datachannel":"websocket"," join uid ").concat(s)),!(this.signal instanceof Jf)){e.next=18;break}return e.next=15,this.signal.init(t.apResponse.addresses,n);case 15:u=e.sent,e.next=22;break;case 18:return g=t.gatewayAddrs.map((function(e){return e={host:(e=Lb(e=e.address.split(":"),2))[0],port:e[1]},t.proxyServer&&(e.proxy=t.proxyServer),e})),e.next=21,this.signal.init(g,n);case 21:u=e.sent;case 22:s=u.uid,qh.debug("[".concat(this.store.clientId,"] ").concat(this.signal instanceof Jf?"datachannel":"websocket"," join uid ").concat(s," cost ").concat(Date.now()-this.joinGatewayStartTime)),e.next=32;break;case 25:if(e.prev=25,e.t0=e.catch(11),!e.t0||e.t0.code!==pC.INIT_WEBSOCKET_TIMEOUT){e.next=29;break}throw qh.warning("[".concat(this.store.clientId,"] User join failed"),e.t0.toString()),e.t0;case 29:if(!e.t0||e.t0.code!==pC.INIT_DATACHANNEL_TIMEOUT){e.next=31;break}throw qh.warning("[".concat(this.store.clientId,"] User join datachannel failed"),e.t0.toString()),this.resetSignal(),e.t0;case 31:throw qh.error("[".concat(this.store.clientId,"] User join failed"),e.t0.toString()),$h.joinGateway(t.sid,{lts:i,succ:!1,ec:e.t0.message,addr:this.signal.url,uid:t.uid,cid:t.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!c,signalChannel:this.signal instanceof Jf?"1":"0"}),this._isProactiveJoin=!1,o.delete(t.uid),this.signal.close(),e.t0;case 32:return e.abrupt("return",(this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),qh.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval((function(){I.updateTrafficStats().catch((function(e){qh.warning("[".concat(I.store.clientId,"] get traffic stats error"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((function(){navigator&&void 0!==navigator.onLine&&!navigator.onLine?I.emit(Lp.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):I._signalTimeout?I.emit(Lp.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===I.state&&I._statsCollector.trafficStats?I.emit(Lp.NETWORK_QUALITY,{uplinkNetworkQuality:IA(I._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:IA(I._statsCollector.trafficStats.B_dnq)}):I.emit(Lp.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),s));case 33:case"end":return e.stop()}}),e,this,[[11,25]])}))),function(e,t,n){return A.apply(this,arguments)})},{key:"leave",value:function(){var e=pa(O.mark((function e(){var t,A,n=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<n.length&&void 0!==n[0]&&n[0],A=1<n.length?n[1]:void 0,"DISCONNECTED"===this.state){e.next=14;break}if(A!==SC.FALLBACK&&(this.state="DISCONNECTING"),e.prev=3,e.t0=t||this.signal.connectionState!==gp.CONNECTED,e.t0){e.next=8;break}return e.next=8,e=this.signal.request(lp.LEAVE,void 0,!0),IC.race([e,et(3e3)]);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(3),qh.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),e.t1);case 13:this.signal.close(A),A!==SC.FALLBACK&&(this.state="DISCONNECTED"),this.reset();case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"publish",value:function(){var e=pa(O.mark((function e(t,A,n){var r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));case 2:return r={state:"offer",p2p_id:this.store.p2pId,ortc:A,mode:this.spec.mode,extend:Th.PUB_EXTEND,twcc:!!Th.PUBLISH_TWCC,rtx:!!Th.USE_PUB_RTX},e.prev=3,e.next=6,this.signal.request(lp.PUBLISH,r,!0);case 6:return e.abrupt("return",e.sent._message);case 9:if(e.prev=9,e.t0=e.catch(3),!n||!e.t0.data||e.t0.data.code!==up.ERR_PUBLISH_REQUEST_INVALID){e.next=16;break}return qh.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),e.t0.toString()),e.next=15,this.tryUnpubBeforeRepub(t,A);case 15:return e.abrupt("return",this.publish(t,A,!1));case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"publishDataChannel",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));case 2:return i={stream_id:A.streamId,ordered:A.ordered?1:0,max_retrans_times:null!==(r=A.maxRetransmits)&&void 0!==r?r:10,channel_id:A.channelId,metadata:A.metadata},e.prev=3,e.next=6,this.signal.request(lp.PUBLISH_DATASTREAM,i,!0);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),!n||!e.t0.data||e.t0.data.code!==up.ERR_PUBLISH_REQUEST_INVALID){e.next=15;break}return qh.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),e.t0.toString()),e.next=14,this.tryUnpubDataChannelBeforeRepub(t,A);case 14:return e.abrupt("return",this.publishDataChannel(t,A,!1));case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"unpublish",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=3;break}throw new _p(pC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));case 3:return e.next=5,this.signal.request(lp.UNPUBLISH,{stream_id:A,ortc:t},!0);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),qh.warning("[".concat(this.store.clientId,"] unpublish warning: "),e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unpublishDataChannel",value:function(){var e=pa(O.mark((function e(t){var A=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=3;break}throw new _p(pC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));case 3:return e.next=5,IC.all(t.map((function(e){return A.signal.request(lp.UNPUBLISH_DATASTREAM,{channel_id:e},!0)})));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),qh.warning("unpublish datachannels warning: ",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"presubscribe",value:function(){var e=pa(O.mark((function e(t,A,n){var r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));case 2:return r={stream_id:t,stream_type:A,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!Th.SUBSCRIBE_TWCC,rtx:!!Th.USE_SUB_RTX||void 0,extend:Th.SUB_EXTEND,svc:Array.isArray(Th.SVC)&&0!==Th.SVC.length?Th.SVC:void 0},e.prev=3,e.next=6,this.signal.request(lp.PRE_SUBSCRIBE,r,!0);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!n||!e.t0.data||e.t0.data.code!==up.ERR_SUBSCRIBE_REQUEST_INVALID){e.next=13;break}return e.abrupt("return",(qh.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),e.t0.toString()),this.presubscribe(t,A,!1)));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=pa(O.mark((function e(t,A,n){var r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));case 2:return r={stream_id:t,stream_type:A.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!Th.SUBSCRIBE_TWCC,rtx:!!Th.USE_SUB_RTX,extend:Th.SUB_EXTEND,ssrcId:A.ssrcId,svc:Array.isArray(Th.SVC)&&0!==Th.SVC.length?Th.SVC:void 0},e.prev=3,e.next=6,this.signal.request(lp.SUBSCRIBE,r,!0);case 6:return e.abrupt("return",e.sent._message);case 9:if(e.prev=9,e.t0=e.catch(3),!n||!e.t0.data||e.t0.data.code!==up.ERR_SUBSCRIBE_REQUEST_INVALID){e.next=18;break}return qh.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),e.t0.toString()),e.next=15,this.tryUnsubBeforeResub(t,A);case 15:return e.next=17,this.subscribe(t,A,!1);case 17:return e.abrupt("return",e.sent);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"subscribeDataChannel",value:function(){var e=pa(O.mark((function e(t,A,n){var r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));case 2:return r={uid:t,stream_id:A.id,channel_id:A.datachannelId},e.prev=3,e.next=6,this.signal.request(lp.SUBSCRIBE_DATASTREAM,r,!0);case 6:return e.abrupt("return",void 0);case 9:if(e.prev=9,e.t0=e.catch(3),!n||!e.t0.data||e.t0.data.code!==up.ERR_SUBSCRIBE_REQUEST_INVALID){e.next=18;break}return qh.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),e.t0.toString()),e.next=15,this.tryUnsubDataChannelBeforeResub(t,A);case 15:return e.next=17,this.subscribeDataChannel(t,A,!1);case 17:return e.abrupt("return",e.sent);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"subscribeAll",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));case 2:return n={p2p_id:this.store.p2pId,users:t,dtx:!1,rtx:!!Th.USE_SUB_RTX},e.prev=3,e.next=6,this.signal.request(lp.SUBSCRIBE_STREAMS,n,!0);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!A||!e.t0.data||e.t0.data.code!==up.ERR_SUBSCRIBE_REQUEST_INVALID){e.next=18;break}return qh.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),e.t0.toString()),e.next=15,this.tryMassUnsubBeforeResub(t);case 15:return e.next=17,this.subscribeAll(t,!1);case 17:return e.abrupt("return",e.sent);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setVideoProfile",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bitrateMax&&t.bitrateMin&&t.frameRate&&t.height&&t.width){var n=t.frameRate,r=t.width,i=t.height,o=!0;"number"!=typeof n&&((n=n.exact||n.ideal||n.max||n.min||0)||(o=!1)),"number"!=typeof r&&((r=r.exact||r.ideal||r.max||r.min||0)||(o=!1)),"number"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,n||(o=!1)),A=o?{stream_type:0,width:r,height:i,fps:n,start_bps:1e3*t.bitrateMax,min_bps:1e3*t.bitrateMin,target_bps:1e3*t.bitrateMax}:void 0}else A=void 0;if(!A){e.next=3;break}return e.abrupt("return",this.signal.request(lp.SET_VIDEO_PROFILE,A));case 3:qh.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(lp.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:t,stream_id:A},!0);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),qh.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unsubscribeDataChannel",value:function(){var e=pa(O.mark((function e(t,A){var n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=3;break}throw new _p(pC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));case 3:return e.next=5,IC.all(t.map((function(e){return n.signal.request(lp.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:A},!0)})));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),qh.warning("unsubscribeDataChannel warning: ",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"massUnsubscribe",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(lp.UNSUBSCRIBE_STREAMS,t,!0);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),qh.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reconnectPC",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=t.iceParameters,n=t.dtlsParameters,r=t.rtpCapabilities,e.next=3,this.signal.request(lp.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:A,dtlsParameters:n,rtpCapabilities:r}},!0);case 3:return e.t0=e.sent,e.t1=this.getCurrentGatewayAddress(),e.abrupt("return",{gatewayEstablishParams:e.t0,gatewayAddress:e.t1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGatewayInfo",value:function(){return this.signal.request(lp.GATEWAY_INFO)}},{key:"renewToken",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(lp.RENEW_TOKEN,t);case 2:this.key=t.token;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setClientRole",value:function(){var e=pa(O.mark((function e(t,A){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A&&(this._clientRoleOptions=Object.assign({},A)),"CONNECTED"===this.state){e.next=2;break}return e.abrupt("return",void(this.role=t));case 2:return r=0,"audience"===t?this._clientRoleOptions&&this._clientRoleOptions.delay?(n=this._clientRoleOptions.delay,r=1):r=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:r=0,e.next=6,this.signal.request(lp.SET_CLIENT_ROLE,{role:t,level:r,delay:n,client_ts:Date.now()});case 6:this.role=t;case 7:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setRemoteVideoStreamType",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(lp.SWITCH_VIDEO_STREAM,{stream_id:t,stream_type:A});case 2:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setDefaultRemoteVideoStreamType",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(lp.DEFAULT_VIDEO_STREAM,{stream_type:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setStreamFallbackOption",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(lp.SET_FALLBACK_OPTION,{stream_id:t,fallback_type:A});case 2:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"pickSVCLayer",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(lp.PICK_SVC_LAYER,{stream_id:t,spatial_layer:A.spatialLayer,temporal_layer:A.temporalLayer});case 2:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setRTM2Flag",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(lp.SET_RTM2_FLAG,{rtm2_flag:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendExtensionMessage",value:function(){var e=pa(O.mark((function e(t,A,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.signal instanceof Hf)){e.next=2;break}return e.abrupt("return",this.signal.sendExtensionMessage(t,A,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"getInChannelInfo",value:function(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),BA({},this.inChannelInfo)}},{key:"getGatewayVersion",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(lp.GATEWAY_INFO);case 2:return e.abrupt("return",e.sent.version);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){var e=jf.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.key=this.joinInfo=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}},{key:"updateTurnConfigFromSignal",value:function(){if(this.joinInfo){var e,t=("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"";e=t.startsWith("dc")?t.match(/(dc:\/\/)?([^:]+):(\d+)/):t.match(/(wss:\/\/)?([^:]+):(\d+)/),t=e?{username:tp.username,password:tp.password,turnServerURL:e[2],tcpport:parseInt(e[3])+30,udpport:parseInt(e[3])+30,forceturn:!1}:null,this.joinInfo.turnServer.serversFromGateway=[],t&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(BA(BA({},tp),{},{turnServerURL:t.turnServerURL,tcpport:t.tcpport,udpport:t.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}}},{key:"updateTrafficStats",value:function(){var e=pa(O.mark((function e(){var t,A=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.signal.request(lp.TRAFFIC_STATS,void 0,!0);case 4:(t=e.sent).timestamp=Date.now(),null!=t.ntp_offset&&(this.ntpOffset=t.ntp_offset),t.peer_delay.forEach((function(e){var t=A._statsCollector.trafficStats&&A._statsCollector.trafficStats.peer_delay.find((function(t){return t.peer_uid===e.peer_uid}));t&&t.B_st!==e.B_st&&Ye((function(){A.emit(Lp.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getJoinMessage",value:function(e){if(!this.joinInfo||!this.key)throw new _p(pC.UNEXPECTED_ERROR,"can not generate join message, no join info");var t=Object.assign({},this.joinInfo.apResponse),A=Th.REPORT_APP_SCENARIO;if("string"!=typeof A)try{A=JSON.stringify(A)}catch(e){A=void 0}return A&&128<A.length&&(A=void 0),e=BA({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:Dh,browser:navigator.userAgent,process_id:Th.PROCESS_ID,mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:Th.JOIN_EXTEND,details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:A,attributes:{userAttributes:{enablePublishedUserList:Th.ENABLE_PUBLISHED_USER_LIST,maxSubscription:Th.MAX_SUBSCRIPTION,subscribeAudioFilterTopN:"number"==typeof Th.SUBSCRIBE_AUDIO_FILTER_TOPN?Th.SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,enablePublishAudioFilter:"boolean"==typeof Th.ENABLE_PUBLISH_AUDIO_FILTER?Th.ENABLE_PUBLISH_AUDIO_FILTER:void 0,enableUserLicenseCheck:"boolean"==typeof Th.ENABLE_USER_LICENSE_CHECK?Th.ENABLE_USER_LICENSE_CHECK:void 0,enableRTX:!0===Th.USE_PUB_RTX||!0===Th.USE_SUB_RTX||void 0,disableFEC:Th.DISABLE_FEC,enableNTPReport:!!Th.ENABLE_NTP_REPORT||void 0,enableInstantVideo:!!Th.ENABLE_INSTANT_VIDEO||void 0,enableDataStream2:"boolean"==typeof Th.ENABLE_DATASTREAM_2?Th.ENABLE_DATASTREAM_2:void 0,rtm2Flag:"number"==typeof this.joinInfo.rtmFlag?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!Th.ENABLE_USER_AUTO_REBALANCE_CHECK,enableXR:"boolean"==typeof Th.USE_XR?Th.USE_XR:void 0}},join_ts:this.joinGatewayStartTime},e),this.joinInfo.stringUid&&(e.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(e.aes_mode=this.joinInfo.aesmode,Th.ENCRYPT_AES?(e.aes_secret=this.joinInfo.aespassword,e.aes_encrypt=!0):e.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(e.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(e.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(e.default_video_stream=this.joinInfo.defaultVideoStream),e}},{key:"getRejoinMessage",value:function(){if(!this.joinInfo)throw new _p(pC.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}},{key:"handleSignalEvents",value:function(){var e,t=this;this.signal.on(Ip.WS_RECONNECT_WAITTING_FINISH,(function(e){var A;Xs(A=["tryNext","recover"]).call(A,e)&&t.joinInfo&&$h.adjustSessionStartTime(t.joinInfo.sid)})),this.signal.on(Ip.WS_RECONNECT_CREATE_CONNECTION,(function(e){t.joinGatewayStartTime=Date.now()})),this.signal.on(Ip.WS_RECONNECTING,(function(e){t.joinInfo&&$h.WebSocketQuit(t.joinInfo.sid,{lts:Date.now(),succ:-1,cname:t.joinInfo.cname,uid:t.joinInfo.uid,cid:t.joinInfo.cid,errorCode:e||DC.NETWORK_ERROR}),t.joinInfo&&(t.state="RECONNECTING",$h.sessionInit(t.joinInfo.sid,{lts:(new Date).getTime(),extend:t.isSignalRecover?{recover:!0}:{rejoin:!0},cname:t.joinInfo.cname,appid:t.joinInfo.appId,mode:t.spec.mode,stringUid:t.joinInfo.stringUid,channelProfile:"live"===t.spec.mode?1:0,channelMode:0,lsid:t.joinInfo.sid,clientRole:"audience"===t.role?2:1}),t.isSignalRecover=!1,t.joinGatewayStartTime=Date.now())})),this.signal.on(Ip.WS_CLOSED,(function(e){switch(e){case SC.LEAVE:var A=DC.LEAVE;break;case SC.UID_BANNED:case SC.IP_BANNED:case SC.CHANNEL_BANNED:case SC.SERVER_ERROR:A=DC.SERVER_ERROR;break;case SC.FALLBACK:A=DC.FALLBACK;break;case SC.LICENSE_MISSING:case SC.LICENSE_EXPIRED:case SC.LICENSE_MINUTES_EXCEEDED:case SC.LICENSE_PERIOD_INVALID:case SC.LICENSE_MULTIPLE_SDK_SERVICE:case SC.LICENSE_ILLEGAL:case SC.TOKEN_EXPIRE:A=e;break;default:A=DC.NETWORK_ERROR}qh.debug("[".concat(t.store.clientId,"] [signal] websocket closed, reason: ").concat(A||"undefined -> "+DC.NETWORK_ERROR)),t.joinInfo&&$h.WebSocketQuit(t.joinInfo.sid,{lts:Date.now(),succ:e===SC.LEAVE?1:-1,cname:t.joinInfo.cname,uid:t.joinInfo.uid,cid:t.joinInfo.cid,errorCode:A}),t._disconnectedReason=e,e!==SC.FALLBACK&&(t.state="DISCONNECTED"),t.reset()})),this.signal.on(Ip.WS_CONNECTED,(function(){if(t.updateTurnConfigFromSignal(),t.state="CONNECTED",t.joinInfo&&("audience"===t.role&&t._clientRoleOptions&&(t._clientRoleOptions.level||t._clientRoleOptions.delay)&&(qh.debug("[".concat(t.store.clientId,"] patch to send set client role, role: ").concat(t.role,", mode: ").concat(t.spec.mode,", level: ").concat(t._clientRoleOptions.level,", delay: ").concat(t._clientRoleOptions.delay)),t.setClientRole(t.role,t._clientRoleOptions)),$h.joinGateway(t.joinInfo.sid,{lts:t.joinGatewayStartTime,succ:!0,ec:null,vid:t.joinInfo.vid,addr:t.signal.url,uid:t.joinInfo.uid,cid:t.joinInfo.cid,firstSuccess:t._isProactiveJoin,avoidJoinStartTime:t.store.avoidJoinStart,isProxy:!!t.joinInfo.proxyServer,signalChannel:t.signal instanceof Jf?"1":"0"}),t._isProactiveJoin=!1,t.joinInfo.useLocalAccessPoint&&1===t.joinInfo.setLocalAPVersion)){var e=t.signal.url&&t.signal.url.match(/wss:\/\/([^:]+):(\d+)/);if(!e)return void qh.error("[".concat(t.store.clientId,"] set local access point after joined failed: ").concat(e));Ut("EVENT_REPORT_DOMAIN",e[1]),Ut("EVENT_REPORT_BACKUP_DOMAIN",e[1]),Ut("LOG_UPLOAD_SERVER","".concat(e[1],":6444"))}})),this.signal.on(Cp.ON_UPLINK_STATS,(function(e){t._statsCollector.updateUplinkStats(e)})),this.signal.on(Ip.REQUEST_RECOVER,(function(e,A,n){if(!t.joinInfo)return n(new _p(pC.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));e&&(t.joinInfo.multiIP=e,t.hasChangeBGPAddress=!0),t.isSignalRecover=!0,Me(t,Lp.REQUEST_NEW_GATEWAY_LIST).then(A).catch(n)})),this.signal.on(Ip.REQUEST_JOIN_INFO,(e=pa(O.mark((function e(A){var n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.updateTurnConfigFromSignal(),!t.store.useP2P){e.next=2;break}return e.abrupt("return",void A(t.getJoinMessage({ortc:{}})));case 2:return e.next=4,Me(t,Lp.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(n=t.joinInfo)||void 0===n?void 0:n.turnServer});case 4:r=e.sent,i=r.iceParameters,o=r.dtlsParameters,a=r.rtpCapabilities,A(t.getJoinMessage({ortc:{iceParameters:i,dtlsParameters:o,rtpCapabilities:a,version:"2"}}));case 9:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})),this.signal.on(Ip.REQUEST_REJOIN_INFO,(function(e){e(t.getRejoinMessage())})),this.signal.on(Ip.REPORT_JOIN_GATEWAY,(function(e,A){t.joinInfo&&($h.joinGateway(t.joinInfo.sid,{lts:t.joinGatewayStartTime,succ:!1,ec:e,addr:A,uid:t.joinInfo.uid,cid:t.joinInfo.cid,firstSuccess:t._isProactiveJoin,avoidJoinStartTime:t.store.avoidJoinStart,isProxy:!!t.joinInfo.proxyServer,signalChannel:t.signal instanceof Jf?"1":"0"}),t._isProactiveJoin=!1)})),this.signal.on(Ip.IS_P2P_DISCONNECTED,(function(e){e(Pe(t,Lp.IS_P2P_DISCONNECTED))})),this.signal.on(Ip.DISCONNECT_P2P,(function(){t.emit(Lp.DISCONNECT_P2P)})),this.signal.on(Ip.NEED_RENEW_SESSION,(function(){t.emit(Lp.NEED_RENEW_SESSION)})),this.signal.on(Ip.REQUEST_SUCCESS,(function(){t._signalTimeout=!1})),this.signal.on(Ip.REQUEST_TIMEOUT,(function(){t._signalTimeout=!0})),this.signal.on(Ip.JOIN_RESPONSE,(function(e){var A=t.getCurrentGatewayAddress();t.emit(Lp.JOIN_RESPONSE,e,A)})),this.signal.on(Ip.DATACHANNEL_PRECONNECT,function(){var e=pa(O.mark((function e(A,n,r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.updateTurnConfigFromSignal(),i=t.getCurrentGatewayAddress(),e.abrupt("return",Me(t,Lp.DATACHANNEL_PRECONNECT,A,i).then(n).catch(r));case 3:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}()),this.signal.on(Ip.DATACHANNEL_CONNECTING,function(){var e=pa(O.mark((function e(A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(t,Lp.REQUEST_DC_CONNECTION_PARAMS);case 2:n=e.sent,r=n.iceParameters,i=n.dtlsParameters,o=n.rtpCapabilities,A(t.getJoinMessage({ortc:{iceParameters:r,dtlsParameters:i,rtpCapabilities:o,version:"2"}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.signal.on(Ip.DATACHANNEL_FAILBACK,(function(){qh.warning("[".concat(t.store.clientId,"] User join datachannel failed")),t.reset(),t.resetSignal(),t.emit(Lp.DATACHANNEL_FAILBACK)}))}},{key:"tryUnsubBeforeResub",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(lp.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:t,ortc:[A]},!0);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),qh.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),e.t0),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"tryUnsubDataChannelBeforeResub",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(lp.UNSUBSCRIBE,{stream_id:A.id},!0);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),qh.warning("unsubscribe datachannel warning",e.t0),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"tryUnpubBeforeRepub",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(lp.UNPUBLISH,{stream_id:t,ortc:A},!0);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),qh.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),e.t0),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"tryUnpubDataChannelBeforeRepub",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(lp.UNPUBLISH_DATASTREAM,{channnel_id:A.channelId},!0);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),qh.warning("unpublish datastream warning: ",e.t0),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"tryMassUnsubBeforeResub",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A={users:t.map((function(e){return{stream_id:e.stream_id,stream_type:e.stream_type}}))},e.prev=1,e.next=4,this.signal.request(lp.UNSUBSCRIBE_STREAMS,A,!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),qh.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),e.t0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"muteLocal",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:t.find((function(e){return e.stream_type===Op.Audio}))?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:t,stream_id:A},e.prev=1,e.next=4,this.signal.request(lp.CONTROL,n,!0,!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),qh.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),e.t0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unmuteLocal",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:t.find((function(e){return e.stream_type===Op.Audio}))?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:t,stream_id:A},e.prev=1,e.next=4,this.signal.request(lp.CONTROL,n,!0,!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),qh.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),e.t0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"muteRemote",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:t===jp.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:A},e.prev=1,e.next=4,this.signal.request(lp.CONTROL,n,!0,!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),qh.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),e.t0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unmuteRemote",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={action:t===jp.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:A},e.prev=1,e.next=4,this.signal.request(lp.CONTROL,n,!0,!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),qh.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),e.t0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"uploadWRTCStats",value:function(e){this.signal.uploadWRTCStats(e)}},{key:"upload",value:function(e,t){this.signal.upload(e,t)}},{key:"getSignalRTT",value:function(){return this.signal.rtt}},{key:"restartICE",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:t},e.prev=1,e.next=4,this.signal.request(lp.RESTART_ICE,A,!0);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),qh.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),e.t0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,DC.P2P_FAILED)}},{key:"getCurrentGatewayAddress",value:function(){var e;if(!Th.GATEWAY_WSS_ADDRESS)return null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}},{key:"setPublishAudioFilterEnabled",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(lp.SET_PARAMETER,{enablePublishAudioFilter:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetSignal",value:function(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(SC.FALLBACK)),this.store.useDataChannel=!1,this.signal=new kf(BA(BA({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(Lp.RESET_SIGNAL,xp.websocket)}}]),t}(UC);!function(){function e(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function t(e,t){if(t)e:{var A=E;e=e.split(".");for(var n=0;n<e.length-1;n++){var r=e[n];if(!(r in A))break e;A=A[r]}(t=t(n=A[e=e[e.length-1]]))!=n&&null!=t&&l(A,e,{configurable:!0,writable:!0,value:t})}}function A(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function n(t){var A="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return A?A.call(t):{next:e(t)}}function r(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function i(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function o(e,t){return e.h=3,{value:t}}function a(e){this.g=new r,this.G=e}function s(e,t,A,n){try{var r=t.call(e.g.j,A);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.m=!1,r;var i=r.value}catch(t){return e.g.j=null,e.g.s(t),c(e)}return e.g.j=null,n.call(e.g,i),c(e)}function c(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function u(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){i(e.g);var A=e.g.j;return A?s(e,"return"in A?A.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),c(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function g(e,t){return t=new u(new a(t)),h&&e.prototype&&h(t,e.prototype),t}var I,l="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,A){return e==Array.prototype||e==Object.prototype||(e[t]=A.value),e},E=function(e){e=["object"==("undefined"==typeof globalThis?"undefined":ub(globalThis))&&globalThis,e,"object"==("undefined"==typeof window?"undefined":ub(window))&&window,"object"==("undefined"==typeof self?"undefined":ub(self))&&self,"object"==(void 0===_o?"undefined":ub(_o))&&_o];for(var t=0;t<e.length;++t){var A=e[t];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}(this);if(t("Symbol",(function(e){function t(e,t){this.A=e,l(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var A="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",n=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(A+(r||"")+"_"+n++,r)}})),t("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<n.length;r++){var i=E[n[r]];"function"==typeof i&&"function"!=typeof i.prototype[t]&&l(i.prototype,t,{configurable:!0,writable:!0,value:function(){return A(e(this))}})}return t})),"function"==typeof Object.setPrototypeOf)var C=Object.setPrototypeOf;else{e:{var d={};try{d.__proto__={a:!0},C=d.a;break e}catch(e){}C=!1}C=C?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=C;if(r.prototype.o=function(e){this.v=e},r.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},r.prototype.return=function(e){this.l={return:e},this.h=this.u},a.prototype.o=function(e){return i(this.g),this.g.j?s(this,this.g.j.next,e,this.g.o):(this.g.o(e),c(this))},a.prototype.s=function(e){return i(this.g),this.g.j?s(this,this.g.j.throw,e,this.g.o):(this.g.s(e),c(this))},t("Array.prototype.entries",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var A=0,n=!1,r={next:function(){if(!n&&A<e.length){var r=A++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return[e,t]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var p=function(e,t){for(var A=0;A<e.length;A++)t(e[A])},f=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},B=function(e,t,A){return t instanceof Blob?(A=void 0!==A?String(A+""):"string"==typeof t.name?t.name:"blob",t.name===A&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],A)),[String(e),t]):[String(e),String(t)]},Q=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},y=(C="object"==("undefined"==typeof globalThis?"undefined":ub(globalThis))?globalThis:"object"==("undefined"==typeof window?"undefined":ub(window))?window:"object"==("undefined"==typeof self?"undefined":ub(self))?self:this).FormData,v=C.XMLHttpRequest&&C.XMLHttpRequest.prototype.send,m=C.Request&&C.fetch,_=C.navigator&&C.navigator.sendBeacon;d=C.Element&&C.Element.prototype;var b=C.Symbol&&Symbol.toStringTag;b&&(Blob.prototype[b]||(Blob.prototype[b]="Blob"),"File"in C&&!File.prototype[b]&&(File.prototype[b]="File"));try{new File([],"")}catch(e){C.File=function(e,t,A){return e=new Blob(e,A||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(A&&void 0!==A.lastModified?new Date(A.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),b&&Object.defineProperty(e,b,{value:"File"}),e}}var R=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},S=function(e){this.i=[];var t=this;e&&p(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var A=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];p(A,(function(A){t.append(e.name,A)}))}else"select-multiple"===e.type||"select-one"===e.type?p(e.options,(function(A){!A.disabled&&A.selected&&t.append(e.name,A.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(A="textarea"===e.type?f(e.value):e.value,t.append(e.name,A))}))};if((I=S.prototype).append=function(e,t,A){Q(arguments,2),this.i.push(B(e,t,A))},I.delete=function(e){Q(arguments,1);var t=[];e=String(e),p(this.i,(function(A){A[0]!==e&&t.push(A)})),this.i=t},I.entries=function e(){var t,A=this;return g(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<A.i.length?e=o(e,A.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},I.forEach=function(e,t){Q(arguments,1);for(var A=n(this),r=A.next();!r.done;r=A.next()){var i=n(r.value);r=i.next().value,i=i.next().value,e.call(t,i,r,this)}},I.get=function(e){Q(arguments,1);var t=this.i;e=String(e);for(var A=0;A<t.length;A++)if(t[A][0]===e)return t[A][1];return null},I.getAll=function(e){Q(arguments,1);var t=[];return e=String(e),p(this.i,(function(A){A[0]===e&&t.push(A[1])})),t},I.has=function(e){Q(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},I.keys=function e(){var t,A,r,i=this;return g(e,(function(e){if(1==e.h&&(t=n(i),A=t.next()),3!=e.h)return A.done?void(e.h=0):(r=A.value,o(e,n(r).next().value));A=t.next(),e.h=2}))},I.set=function(e,t,A){Q(arguments,2),e=String(e);var n=[],r=B(e,t,A),i=!0;p(this.i,(function(t){t[0]===e?i&&(i=!n.push(r)):n.push(t)})),i&&n.push(r),this.i=n},I.values=function e(){var t,A,r,i,a=this;return g(e,(function(e){if(1==e.h&&(t=n(a),A=t.next()),3!=e.h)return A.done?void(e.h=0):(r=A.value,(i=n(r)).next(),o(e,i.next().value));A=t.next(),e.h=2}))},S.prototype._asNative=function(){for(var e=new y,t=n(this),A=t.next();!A.done;A=t.next()){var r=n(A.value);A=r.next().value,r=r.next().value,e.append(A,r)}return e},S.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],A="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(e,n){return"string"==typeof e?t.push(A+R(f(n))+'"\r\n\r\n'+f(e)+"\r\n"):t.push(A+R(f(n))+'"; filename="'+R(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")})),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},S.prototype[Symbol.iterator]=function(){return this.entries()},S.prototype.toString=function(){return"[object FormData]"},d&&!d.matches&&(d.matches=d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),b&&(S.prototype[b]="FormData"),v){var w=C.XMLHttpRequest.prototype.setRequestHeader;C.XMLHttpRequest.prototype.setRequestHeader=function(e,t){w.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},C.XMLHttpRequest.prototype.send=function(e){e instanceof S?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),v.call(this,e)):v.call(this,e)}}m&&(C.fetch=function(e,t){return t&&t.body&&t.body instanceof S&&(t.body=t.body._blob()),m.call(this,e,t)}),_&&(C.navigator.sendBeacon=function(e,t){return t instanceof S&&(t=t._asNative()),_.call(this,e,t)}),C.FormData=S}}();var Xf,zf=function(){var e=Th.AREAS;return 0===e.length&&e.push(Pp.GLOBAL),HC(e).call(e,(function(e,t,A){return(t=Zf(t))?0===A?t:"".concat(e,",").concat(t):e}),"")},Zf=function(e){return e===Pp.OVERSEA?"".concat(Yp.ASIA,",").concat(Yp.EUROPE,",").concat(Yp.AFRICA,",").concat(Yp.NORTH_AMERICA,",").concat(Yp.SOUTH_AMERICA,",").concat(Yp.OCEANIA):Yp[e]},$f=function(e){var t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((function(e){var A=hf[e];(e=Object.keys(A))&&e.map((function(e){"CODE"!==e&&(t[e]=t[e].concat(A[e]))}))})),t},eB={GLOBAL:{ASIA:[Pp.CHINA,Pp.JAPAN,Pp.INDIA,Pp.KOREA,Pp.HKMC],EUROPE:[],NORTH_AMERICA:[Pp.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},tB=Object.keys(eB[Pp.GLOBAL]),AB=[Pp.CHINA,Pp.NORTH_AMERICA,Pp.EUROPE,Pp.ASIA,Pp.JAPAN,Pp.INDIA,Pp.OCEANIA,Pp.SOUTH_AMERICA,Pp.AFRICA,Pp.KOREA,Pp.HKMC,Pp.US],nB=function(e,t){var A,n,r,i,o=[];if(Xs(e).call(e,Pp.GLOBAL)){o=[Pp.GLOBAL,Pp.OVERSEA];var a=Object.keys(hf);if(t===Pp.GLOBAL)throw new _p(pC.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===Pp.CHINA)o=[Pp.OVERSEA];else if(i=t,Xs(tB).call(tB,i)){r=t,e=eB[Pp.GLOBAL][r]||[];var s=[].concat(o,[t],rb(e));o=a.filter((function(e){return!Xs(s).call(s,e)}))}else if(A=t,n=!1,tB.forEach((function(e){var t;Xs(t=eB[Pp.GLOBAL][e]).call(t,A)&&(n=!0)})),n){r=function(e){var t;return tB.forEach((function(A){var n;Xs(n=eB[Pp.GLOBAL][A]).call(n,e)&&(t=A)})),t}(t);var c=[].concat(o,[r,t]);o=a.filter((function(e){return!Xs(c).call(c,e)}))}else o=e;o=function(e){var t=[];return AB.forEach((function(A){Xs(e).call(e,A)&&t.push(A)})),t.concat(e.filter((function(e){return!Xs(AB).call(AB,e)})))}(o)}else o=e;return o},rB=1,iB=1,oB=function(e,t,A,n,r,i){var o=[],a=function(o){4096===o.flag?$h.joinChooseServer(A.sid,{lts:n,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:o.error.message,csIp:o.error.data&&o.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:i}):1048576!==o.flag&&4194304!==o.flag&&4194310!==o.flag||$h.joinWebProxyAP(A.sid,{lts:n,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:o.error.code,eventType:A.cloudProxyServer,unilbsServerIds:r.toString()})};if(e.response_body.forEach((function(t){var A=t.buffer.code;if(23===t.uri&&0===A&&!t.buffer.edges_services)if(4194310===t.buffer.flag)qh.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{var n={error:new _p(pC.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};o.push(n),a(n)}0!==A&&(A=$t(A),A={error:new _p(pC.CAN_NOT_GET_GATEWAY_SERVER,A.desc,{desc:A.desc,retry:A.retry,csIp:e.detail[502]}),flag:t.buffer.flag},4194310===t.buffer.flag?qh.warning(A.error.toString()):o.push(A),a(A))})),o.length)throw qh.warning("[".concat(A.clientId,"] multi unilbs ").concat(t," failed, ").concat(o.map((function(e){return"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry)})).join(" | "))),new _p(pC.CAN_NOT_GET_GATEWAY_SERVER,o.map((function(e){return"flag: ".concat(e.flag,", message: ").concat(e.error.message)})).join(" | "),{retry:!!o.find((function(e){return e.error.data.retry})),csIp:e.detail[502],desc:rb(new Set(o.map((function(e){var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((function(e){return!!e}))))})},aB=function(e){var t,A,n,r;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new _p(pC.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(Th.AP_AREA&&(null!==(n=e.detail)&&void 0!==n&&n[23]&&"string"==typeof(null===(r=e.detail)||void 0===r?void 0:r[23])?yA(e.detail[23].toLowerCase()):yA()),null!==(t=e.detail)&&void 0!==t&&t[19]&&"string"==typeof(null===(A=e.detail)||void 0===A?void 0:A[19]))for(t=null==(t=e.detail[19])?void 0:t.split(";"),A=0;A<t.length;A++){var i;n=Ff(i=t[A]).call(i),e.addresses[A]&&t&&(e.addresses[A].fingerprint=n)}Th.GATEWAY_ADDRESS&&0<Th.GATEWAY_ADDRESS.length&&(qh.debug("assign gateway address to",Th.GATEWAY_ADDRESS),i=Th.GATEWAY_ADDRESS.map((function(t){var A,n,r=null!==(A=null===(n=e.addresses.find((function(e){return e.ip===t.ip&&e.port===t.port})))||void 0===n?void 0:n.fingerprint)&&void 0!==A?A:"";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:r}})),e.addresses=i)},sB=function(e,t,A){var n=Math.floor(Math.random()*Math.pow(10,12));return(t={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:_A({6:e.stringUid,11:t,12:Th.USE_NEW_TOKEN?"1":void 0,22:t},e.apRTM?{26:"RTM2"}:{}),key:e.token,service_ids:A,uid:e.uid||0}}]}).request_bodies.forEach((function(t){e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))})),(A=new FormData).append("request",JSON.stringify(t)),[A,n]},cB=function(e,t){var A=Math.floor(Math.random()*Math.pow(10,12));return e={appid:e.appId,client_ts:Date.now(),opid:A,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((function(e){return{ip:e.ip,port:e.port}}))}}]},(t=new FormData).append("request",JSON.stringify(e)),[t,A]},uB=0,gB=function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=t.fragementLength,n=t.referenceList,r=t.asyncMapHandler,i=t.allFailedhandler,o=t.promisesCollector,a=0,s=A,u=0,g=function(){var e=pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=void 0,A=a*s,t=n.slice(A,A+s).map(r),o&&o.push.apply(o,rb(t)),e.prev=2,e.next=5,wA(t);case 5:c=e.sent,e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(2),a++,(u+=s)>=n.length){e.next=14;break}return e.next=13,g();case 13:return e.abrupt("return",void 0);case 14:i(e.t0);case 15:t.forEach((function(e){return e.cancel()}));case 16:case"end":return e.stop()}var A}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),e.next=6,g();case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),IB=function(e){function t(){zb(this,t);var e=n.call(this);return Z(V(e),"configs",void 0),Z(V(e),"joinInfo",void 0),Z(V(e),"cancelToken",void 0),Z(V(e),"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),Z(V(e),"interval",void 0),Z(V(e),"mutex",new ed("config-distribute")),Z(V(e),"mutableParamsRead",!1),e}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"isSuccess",get:function(){return!!this.configs}},{key:"startGetConfigDistribute",value:function(e,t){var A=this;this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),Th.ENABLE_CONFIG_DISTRIBUTE&&(this.updateConfigDistribute(),this.interval=window.setInterval((function(){A.updateConfigDistribute()}),Th.CONFIG_DISTRIBUTE_INTERVAL))}},{key:"stopGetConfigDistribute",value:function(){this.interval&&clearInterval(this.interval),this.cancelToken=this.joinInfo=this.interval=void 0}},{key:"awaitConfigDistributeComplete",value:(A=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mutex.isLocked){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.mutex.lock();case 4:e.t0=e.sent,(0,e.t0)();case 6:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"updateConfigDistribute",value:function(){var e=pa(O.mark((function e(){var t,A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mutableParamsRead||(this.mutableParamsRead=!0,$h.reportApiInvoke(null,{options:void 0,name:_C.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:bC.TRACER}).onSuccess(JSON.stringify(Oh))),this.joinInfo&&this.cancelToken&&this.retryConfig){e.next=3;break}return e.abrupt("return",void qh.debug("[config-distribute] get config distribute interrupted have no joininfo"));case 3:return e.next=5,this.mutex.lock();case 5:return A=e.sent,e.prev=6,e.next=9,MA(this.joinInfo,this.cancelToken,this.retryConfig);case 9:t=e.sent,qh.debug("[config-distribute] get config distribute",JSON.stringify(t)),t.limit_bitrate&&this.handleBitrateLimit(t.limit_bitrate),this.cacheGlobalParameterConfig(t),this.configs=t,e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),n=new _p(pC.NETWORK_RESPONSE_ERROR,e.t0),qh.warning("[config-distribute] ".concat(n.toString()));case 20:return e.prev=20,A(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[6,16,20,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBitrateLimit",value:function(){return this.configs?this.configs.limit_bitrate:void 0}},{key:"handleBitrateLimit",value:function(e){e&&e.uplink&&e.id&&void 0!==e.uplink.max_bitrate&&void 0!==e.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(qp.UPDATE_BITRATE_LIMIT,e):this.emit(qp.UPDATE_BITRATE_LIMIT,e))}},{key:"getLowStreamConfigDistribute",value:function(){return this.configs&&this.configs.limit_bitrate&&HA({},this.configs.limit_bitrate.low_stream_uplink)}},{key:"cacheGlobalParameterConfig",value:function(e){var t,A=ZI(t=Object.keys(e).filter((function(e){return/^webrtc_ng_global_parameter/.test(e)}))).call(t);for(t=0;t<A.length;t++)for(var n=A.length-1;n>t;n--){var r=A[n];if("number"==typeof e[r].__priority){var i=e[r].__priority,o=A[n-1];"number"==typeof e[o].__priority?i>e[o].__priority&&(A[n]=A[n-1],A[n-1]=r):(A[n]=A[n-1],A[n-1]=r)}}var a={};A.forEach((function(t){var A=e[t],n=A.__expires;Object.keys(A).forEach((function(e){"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(a,e)||(a[e]=HA({value:A[e]},n&&{expires:n}))}))}));try{!function(e){try{var t=Date.now();Object.keys(e).forEach((function(A){switch(A){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":if(Object.prototype.hasOwnProperty.call(Th,A)){var n=e[A],r=n.value;(n=n.expires)&&n<=t||(Oh[A]=r,Th[A]=r,qh.debug("Update global parameters from config distribute",A,r))}}}))}catch(t){qh.error("Error update config immediately: ".concat(e),t.message)}}(a);var s=JSON.stringify(a),c=window.btoa(s);window.localStorage.setItem("websdk_ng_global_parameter",c),qh.debug("Caching global parameters ".concat(s))}catch(e){qh.error("Error caching global parameters:",e.message)}}}]),t}(UC),lB={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1};!function(e){e.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",e.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change"}(Xf||(Xf={}));var EB,CB,dB,hB,pB,fB,BB,QB,yB,vB,mB={"90p":WA(160,90),"90p_1":WA(160,90),"120p":WA(160,120,15,30,65),"120p_1":WA(160,120,15,30,65),"120p_3":WA(120,120,15,30,50),"120p_4":WA(212,120),"180p":WA(320,180,15,30,140),"180p_1":WA(320,180,15,30,140),"180p_3":WA(180,180,15,30,100),"180p_4":WA(240,180,15,30,120),"240p":WA(320,240,15,40,200),"240p_1":WA(320,240,15,40,200),"240p_3":WA(240,240,15,40,140),"240p_4":WA(424,240,15,40,220),"360p":WA(640,360,15,80,400),"360p_1":WA(640,360,15,80,400),"360p_3":WA(360,360,15,80,260),"360p_4":WA(640,360,30,80,600),"360p_6":WA(360,360,30,80,400),"360p_7":WA(480,360,15,80,320),"360p_8":WA(480,360,30,80,490),"360p_9":WA(640,360,15,80,800),"360p_10":WA(640,360,24,80,800),"360p_11":WA(640,360,24,80,1e3),"480p":WA(640,480,15,100,500),"480p_1":WA(640,480,15,100,500),"480p_2":WA(640,480,30,100,1e3),"480p_3":WA(480,480,15,100,400),"480p_4":WA(640,480,30,100,750),"480p_6":WA(480,480,30,100,600),"480p_8":WA(848,480,15,100,610),"480p_9":WA(848,480,30,100,930),"480p_10":WA(640,480,10,100,400),"720p":WA(1280,720,15,120,1130),"720p_auto":WA(1280,720,30,900,3e3),"720p_1":WA(1280,720,15,120,1130),"720p_2":WA(1280,720,30,120,2e3),"720p_3":WA(1280,720,30,120,1710),"720p_5":WA(960,720,15,120,910),"720p_6":WA(960,720,30,120,1380),"1080p":WA(1920,1080,15,120,2080),"1080p_1":WA(1920,1080,15,120,2080),"1080p_2":WA(1920,1080,30,120,3e3),"1080p_3":WA(1920,1080,30,120,3150),"1080p_5":WA(1920,1080,60,120,4780),"1440p":WA(2560,1440,30,120,4850),"1440p_1":WA(2560,1440,30,120,4850),"1440p_2":WA(2560,1440,60,120,7350),"4k":WA(3840,2160,30,120,8910),"4k_1":WA(3840,2160,30,120,8910),"4k_3":WA(3840,2160,60,120,13500)},_B=[{scaleResolutionDownBy:2,width:1280,height:720,frameRate:30,bitrateMin:300,bitrateMax:900},{scaleResolutionDownBy:1.333333,width:1280,height:720,frameRate:30,bitrateMin:600,bitrateMax:2e3},{scaleResolutionDownBy:1,width:1280,height:720,frameRate:30,bitrateMin:900,bitrateMax:3e3}],bB={"480p":XA(640,480,5),"480p_1":XA(640,480,5),"480p_2":XA(640,480,30),"480p_3":XA(640,480,15),"720p":XA(1280,720,5),"720p_auto":WA(1280,720,30,900,3e3),"720p_1":XA(1280,720,5),"720p_2":XA(1280,720,30),"720p_3":XA(1280,720,15),"1080p":XA(1920,1080,5),"1080p_1":XA(1920,1080,5),"1080p_2":XA(1920,1080,30),"1080p_3":XA(1920,1080,15)},RB={"1SL1TL":zA(1,1),"3SL3TL":zA(3,3),"2SL3TL":zA(2,3)},SB={speech_low_quality:jA(16e3,!1),speech_standard:jA(32e3,!1,18),music_standard:jA(48e3,!1),standard_stereo:jA(48e3,!0,56),high_quality:jA(48e3,!1,128),high_quality_stereo:jA(48e3,!0,192)},wB=[];!function(e){e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_REPLACE_MIXING_TRACK="@need_replace_mixing_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_RTC_STATS="@get_rtc_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track"}(EB||(EB={})),function(e){e.SCREEN_TRACK="screen_track",e.CUSTOM_TRACK="custome_track",e.LOW_STREAM="low_stream"}(CB||(CB={})),function(e){e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM"}(dB||(dB={})),function(e){e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM"}(hB||(hB={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY"}(pB||(pB={})),function(e){e.TRANSCEIVER_UPDATED="transceiver-updated",e.SEI_TO_SEND="sei-to-send",e.SEI_RECEIVED="sei-received"}(fB||(fB={})),function(e){e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed"}(BB||(BB={})),function(e){e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.VIDEO_STATE_CHANGED="video-state-changed"}(QB||(QB={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source"}(yB||(yB={})),(vB||(vB={})).UPDATE_TRACK_SOURCE="update-track-source";var DB,kB,NB,TB,OB,LB,MB={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},UB={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},xB={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},PB={uplinkNetworkQuality:0,downlinkNetworkQuality:0},GB={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};!function(e){e.ON_TRACK="on_track",e.ON_NODE="on_node"}(DB||(DB={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints"}(kB||(kB={})),function(e){e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND"}(NB||(NB={})),function(e){e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged"}(TB||(TB={})),function(e){e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata"}(OB||(OB={})),function(e){e[e.VideoStateStopped=0]="VideoStateStopped",e[e.VideoStateStarting=1]="VideoStateStarting",e[e.VideoStateDecoding=2]="VideoStateDecoding",e[e.VideoStateFrozen=3]="VideoStateFrozen"}(LB||(LB={}));var FB,KB={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};!function(e){e.OPEN="open",e.MESSAGE="message",e.CLOSE="close",e.CLOSING="closing",e.ERROR="error"}(FB||(FB={}));var VB=function(e){function t(e,n){zb(this,t);var r=A.call(this);return Z(V(r),"_ID",void 0),Z(V(r),"_rtpTransceiver",void 0),Z(V(r),"_lowRtpTransceiver",void 0),Z(V(r),"_hints",[]),Z(V(r),"_isClosed",!1),Z(V(r),"_originMediaStreamTrack",void 0),Z(V(r),"_mediaStreamTrack",void 0),Z(V(r),"_external",{}),r._ID=n||At(8,"track-"),r._originMediaStreamTrack=e,r._mediaStreamTrack=e,e=V(r),Xs(wB).call(wB,e)||wB.push(e),r}Zb(t,e);var A=$b(t);return Ib(t,[{key:"toString",value:function(){return this._ID}},{key:"getTrackId",value:function(){return this._ID}},{key:"getMediaStreamTrack",value:function(e){return e||(e=$h.reportApiInvoke(null,{name:_C.GET_MEDIA_STREAM_TRACK,options:[],tag:bC.TRACER}),this._mediaStreamTrack&&"string"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess("")),this._mediaStreamTrack}},{key:"getRTCRtpTransceiver",value:function(e){return e===dB.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}},{key:"getMediaStreamTrackSettings",value:function(){return this.getMediaStreamTrack(!0).getSettings()}},{key:"close",value:function(){this._isClosed=!0,this._rtpTransceiver=this._lowRtpTransceiver=void 0;var e=wB.indexOf(this);-1!==e&&wB.splice(e,1),this.emit(BB.CLOSED),this.removeAllListeners(fB.SEI_RECEIVED)}},{key:"_updateRtpTransceiver",value:function(e,t){if(t===dB.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(fB.TRANSCEIVER_UPDATED,e,t)}}]),t}(UC),YB=function(e){function t(e,A){zb(this,t);var r=n.call(this,e,A);return Z(V(r),"_enabled",!0),Z(V(r),"_muted",!1),Z(V(r),"_isExternalTrack",!1),Z(V(r),"_isClosed",!1),Z(V(r),"_enabledMutex",void 0),Z(V(r),"processor",void 0),Z(V(r),"_handleTrackEnded",(function(){r.onTrackEnded()})),r._enabledMutex=new ed("".concat(r.getTrackId())),e.addEventListener("ended",r._handleTrackEnded),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"isExternalTrack",get:function(){return this._isExternalTrack}},{key:"muted",get:function(){return this._muted}},{key:"enabled",get:function(){return this._enabled}},{key:"processorContext",get:function(){return this._processorContext}},{key:"getTrackLabel",value:function(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:""}},{key:"close",value:function(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,qh.debug("[".concat(this.getTrackId(),"] close")),this.emit(EB.NEED_CLOSE),Ce(je(t.prototype),"close",this).call(this))}},{key:"_updateOriginMediaStreamTrack",value:(A=pa(O.mark((function e(t,A){var n=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isExternalTrack=2<n.length&&void 0!==n[2]&&n[2],e.t0=t!==this._originMediaStreamTrack,!e.t0){e.next=13;break}return this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),A&&this._originMediaStreamTrack.stop()),t.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=t,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),e.next=12,Ue(this,EB.NEED_REPLACE_TRACK,this);case 12:this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"_getDefaultPlayerConfig",value:function(){return{}}},{key:"onTrackEnded",value:function(){qh.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(BB.TRACK_ENDED)}},{key:"stateCheck",value:function(e,t){if(qh.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),Qe(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new mC(pC.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",qh);if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new mC(pC.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",qh)}},{key:"getProcessorStats",value:function(){return this._processorContext&&this._processorContext.gatherStats()||[]}},{key:"getProcessorUsage",value:function(){return this._processorContext?this._processorContext.gatherUsage():IC.resolve([])}}]),t}(VB),JB=window.AudioContext||window.webkitAudioContext,qB=null,HB=new(function(e){function t(){zb(this,t);var e=A.apply(this,arguments);return Z(V(e),"prevState",void 0),Z(V(e),"curState",void 0),Z(V(e),"currentTime",void 0),Z(V(e),"currentTimeStuckAt",void 0),Z(V(e),"interruptDetectorTrack",void 0),Z(V(e),"onLocalAudioTrackMute",(function(){qh.info("ios15-interruption-start"),e.emit(Xf.IOS_15_16_INTERRUPTION_START)})),Z(V(e),"onLocalAudioTrackUnmute",pa(O.mark((function t(){return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(qh.info("ios15-interruption-end"),"running"===e.curState&&!e.duringInterruption){t.next=5;break}qh.info("ios15-interruption-end-canceled"),t.next=10;break;case 5:if(t.t0=qB,!t.t0){t.next=9;break}return t.next=9,qB.suspend();case 9:e.emit(Xf.IOS_15_16_INTERRUPTION_END);case 10:case"end":return t.stop()}}),t)})))),e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"duringInterruption",get:function(){return"running"===this.prevState&&"interrupted"===this.curState}},{key:"bindInterruptDetectorTrack",value:function(e){qh.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}},{key:"unbindInterruptDetectorTrack",value:function(e){qh.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}}]),t}(UC)),jB=null,WB=function(){function e(){zb(this,e),Z(this,"context",void 0),Z(this,"analyserNode",void 0),Z(this,"sourceNode",void 0),this.context=on(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}return Ib(e,[{key:"updateSource",value:function(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}},{key:"getVolumeLevel",value:function(){if(!this.sourceNode||(!this.context||ae()||he()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode))return 0;var e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{var t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(var A=0;A<e.length;++A)e[A]=t[A]/128-1}return e=HC(e).call(e,(function(e,t){return e+t*t}),0)/e.length,Math.max(10*Math.log10(e)+100,0)/100}},{key:"getAnalyserNode",value:function(){return this.analyserNode}},{key:"rebuildAnalyser",value:function(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){qh.warning("rebuild analyser node failed.")}}},{key:"destroy",value:function(){this.updateSource(void 0)}}]),e}(),XB=function(e){function t(){zb(this,t);var e=n.call(this);return Z(V(e),"outputNode",void 0),Z(V(e),"outputTrack",void 0),Z(V(e),"isPlayed",!1),Z(V(e),"context",void 0),Z(V(e),"audioBufferNode",void 0),Z(V(e),"destNode",void 0),Z(V(e),"audioOutputLevel",0),Z(V(e),"volumeLevelAnalyser",void 0),Z(V(e),"_processedNode",void 0),Z(V(e),"playNode",void 0),Z(V(e),"isDestroyed",!1),Z(V(e),"onNoAudioInput",void 0),Z(V(e),"isNoAudioInput",!1),Z(V(e),"_noAudioInputCount",0),e.context=on(),e.playNode=e.context.destination,e.outputNode=e.context.createGain(),an(e.outputNode),e.volumeLevelAnalyser=new WB,e}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"processSourceNode",get:function(){return this.sourceNode}},{key:"processedNode",get:function(){return this._processedNode},set:function(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var A;null===(A=this.sourceNode)||void 0===A||A.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}},{key:"startGetAudioBuffer",value:function(e){var t=this;this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=function(e){for(var A=t.emit,n=yB.ON_AUDIO_BUFFER,r=0;r<e.outputBuffer.numberOfChannels;r+=1)for(var i=e.outputBuffer.getChannelData(r),o=0;o<i.length;o+=1)i[o]=0;A.call(t,n,e.inputBuffer)})}},{key:"stopGetAudioBuffer",value:function(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}},{key:"createOutputTrack",value:function(){if(!lB.webAudioMediaStreamDest)throw new mC(pC.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}},{key:"play",value:function(e){"running"!==this.context.state&&Ye((function(){HB.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}},{key:"stop",value:function(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}},{key:"getAccurateVolumeLevel",value:function(){return this.volumeLevelAnalyser.getVolumeLevel()}},{key:"checkHasAudioInput",value:(A=pa(O.mark((function e(){var t,A,n,r,i,o=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(5<(t=0<o.length&&void 0!==o[0]?o[0]:0))){e.next=3;break}return e.abrupt("return",(this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1));case 3:for(ae()||he()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume(),(A=this.volumeLevelAnalyser.getAnalyserNode()).getFloatTimeDomainData?(n=new Float32Array(A.fftSize),A.getFloatTimeDomainData(n)):(n=new Uint8Array(A.fftSize),A.getByteTimeDomainData(n)),r=!1,i=0;i<n.length;i++)0!==n[i]&&(r=!0);if(!r){e.next=12;break}e.t0=(this.isNoAudioInput=!1,!0),e.next=20;break;case 12:return e.next=14,tt(200);case 14:return e.next=16,this.checkHasAudioInput(t?t+1:1);case 16:if(e.t1=e.sent,!e.t1){e.next=19;break}e.t1=r;case 19:e.t0=e.t1;case 20:return e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"getAudioVolume",value:function(){return this.outputNode.gain.value}},{key:"setVolume",value:function(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}},{key:"destroy",value:function(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}},{key:"disconnect",value:function(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}},{key:"connect",value:function(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}]),t}(UC),zB=function(e){function t(e,n,r){var i,o;if(zb(this,t),Z(V(i=A.call(this)),"sourceNode",void 0),Z(V(i),"track",void 0),Z(V(i),"clonedTrack",void 0),Z(V(i),"audioElement",void 0),Z(V(i),"isCurrentTrackCloned",!1),Z(V(i),"isRemoteTrack",!1),Z(V(i),"originVolumeLevelAnalyser",void 0),Z(V(i),"rebuildWebAudio",pa(O.mark((function e(){var t,A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.debug("ready to rebuild web audio, state:",i.context.state),e.t0=i.isNoAudioInput,!e.t0){e.next=5;break}return e.next=5,i.checkHasAudioInput();case 5:if(i.isNoAudioInput&&!i.isDestroyed){e.next=7;break}return e.abrupt("return",(document.body.removeEventListener("click",i.rebuildWebAudio,!0),void qh.debug("rebuild web audio success, current volume status",i.getAccurateVolumeLevel())));case 7:i.context.resume().then((function(){return qh.info("resume success")})),qh.debug("rebuild web audio because of ios 12 bugs"),i.disconnect(),t=i.track,i.track=i.track.clone(),i.isCurrentTrackCloned?t.stop():i.isCurrentTrackCloned=!0,A=new MediaStream([i.track]),i.sourceNode=i.context.createMediaStreamSource(A),an(i.sourceNode),i.volumeLevelAnalyser.rebuildAnalyser(),n=i.outputNode.gain.value,i.outputNode=i.context.createGain(),i.outputNode.gain.setValueAtTime(n,i.context.currentTime),an(i.outputNode),i.emit(yB.UPDATE_SOURCE),i.connect(),i.audioElement.srcObject=A,i.isPlayed&&i.play(i.playNode),i.checkHasAudioInput();case 14:case"end":return e.stop()}}),e)})))),"audio"!==e.kind)throw new mC(pC.UNEXPECTED_ERROR);if(i.track=e,e=new MediaStream([i.track]),i.isRemoteTrack=!!n,i.sourceNode=i.context.createMediaStreamSource(e),an(i.sourceNode),r){var a=r.clone();a.enabled=!0,i.clonedTrack=a,qh.debug("create an unmuted track ".concat(a.id," from the original track ").concat(r.id," to get the volume")),an(r=i.context.createMediaStreamSource(new MediaStream([a]))),i.originVolumeLevelAnalyser=new WB,i.originVolumeLevelAnalyser.updateSource(r)}return i.connect(),i.audioElement=document.createElement("audio"),i.audioElement.srcObject=e,r=ee(),n&&r.os===cC.IOS&&15>Number(null===(o=r.osVersion)||void 0===o?void 0:o.split(".")[0])&&(HB.on(Xf.STATE_CHANGE,(function(){"suspended"===i.context.state?document.body.addEventListener("click",i.rebuildWebAudio,!0):"running"===i.context.state&&i.rebuildWebAudio()})),i.checkHasAudioInput().then((function(e){e||document.body.addEventListener("click",i.rebuildWebAudio,!0)}))),aw(i)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"isFreeze",get:function(){return!1}},{key:"updateTrack",value:function(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1,e=new MediaStream([e]),this.sourceNode=this.context.createMediaStreamSource(e),an(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(yB.UPDATE_SOURCE),this.audioElement.srcObject=e}},{key:"destroy",value:function(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),HB.off("state-change",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,Ce(je(t.prototype),"destroy",this).call(this)}},{key:"createMediaStreamSourceNode",value:function(e){return this.context.createMediaStreamSource(new MediaStream([e]))}},{key:"updateOriginTrack",value:function(e){var t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),qh.debug("create an unmuted track ".concat(t.id," from the original track ").concat(e.id," to get the volume")),an(e=this.context.createMediaStreamSource(new MediaStream([t]))),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(e)}},{key:"getOriginVolumeLevel",value:function(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}]),t}(XB),ZB=new ed("safari"),$B=!1,eQ=!1,tQ=new(function(e){function t(){zb(this,t);var e=n.call(this);return Z(V(e),"_state",NB.IDLE),Z(V(e),"isAccessMicrophonePermission",!1),Z(V(e),"isAccessCameraPermission",!1),Z(V(e),"lastAccessMicrophonePermission",!1),Z(V(e),"lastAccessCameraPermission",!1),Z(V(e),"checkdeviceMatched",!1),Z(V(e),"deviceInfoMap",new Map),e.init().then((function(){navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",e.updateDevicesInfo.bind(V(e))),window.setInterval((function(){(Th.ENUMERATE_DEVICES_INTERVAL||(ee().os===cC.ANDROID||ee().os===cC.HARMONY_OS)&&fe())&&e.updateDevicesInfo()}),Th.ENUMERATE_DEVICES_INTERVAL_TIME)})).catch((function(e){return qh.error(e.toString())})),e}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this.emit(TB.STATE_CHANGE,e),this._state=e)}},{key:"enumerateDevices",value:(A=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<C.length&&void 0!==C[2]&&C[2],navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=3;break}return e.abrupt("return",new mC(pC.NOT_SUPPORTED,"enumerateDevices() not supported.").throw());case 3:return e.next=5,navigator.mediaDevices.enumerateDevices();case 5:if(r=e.sent,i=this.checkMediaDeviceInfoIsOk(r),o=!this.isAccessMicrophonePermission&&t,a=!this.isAccessCameraPermission&&A,i.audio&&(o=!1),i.video&&(a=!1),u=c=s=null,n||!o&&!a){e.next=65;break}if(!ZB.isLocked){e.next=18;break}return qh.debug("[device manager] wait GUM lock"),e.next=15,ZB.lock();case 15:e.t0=e.sent,(0,e.t0)(),qh.debug("[device manager] GUM unlock");case 18:if($B&&(o=!1,this.isAccessMicrophonePermission=!0),eQ&&(a=!1,this.isAccessCameraPermission=!0),qh.debug("[device manager] check media device permissions",t,A,o,a),!o||!a){e.next=34;break}return e.prev=19,e.next=22,navigator.mediaDevices.getUserMedia({audio:!0,video:!0});case 22:u=e.sent,e.next=31;break;case 25:if(e.prev=25,e.t1=e.catch(19),(g=Bn(e.t1.name||e.t1.code||e.t1,e.t1.message)).code!==pC.PERMISSION_DENIED){e.next=30;break}throw g;case 30:qh.warning("getUserMedia failed in getDevices",g);case 31:this.isAccessMicrophonePermission=this.isAccessCameraPermission=!0,e.next=64;break;case 34:if(!o){e.next=50;break}return e.prev=35,e.next=38,navigator.mediaDevices.getUserMedia({audio:t});case 38:s=e.sent,e.next=47;break;case 41:if(e.prev=41,e.t2=e.catch(35),(I=Bn(e.t2.name||e.t2.code||e.t2,e.t2.message)).code!==pC.PERMISSION_DENIED){e.next=46;break}throw I;case 46:qh.warning("getUserMedia failed in getDevices",I);case 47:this.isAccessMicrophonePermission=!0,e.next=64;break;case 50:if(!a){e.next=64;break}return e.prev=51,e.next=54,navigator.mediaDevices.getUserMedia({video:A});case 54:c=e.sent,e.next=63;break;case 57:if(e.prev=57,e.t3=e.catch(51),(l=Bn(e.t3.name||e.t3.code||e.t3,e.t3.message)).code!==pC.PERMISSION_DENIED){e.next=62;break}throw l;case 62:qh.warning("getUserMedia failed in getDevices",l);case 63:this.isAccessCameraPermission=!0;case 64:qh.debug("[device manager] mic permission",t,"cam permission",A);case 65:return e.prev=65,e.next=68,navigator.mediaDevices.enumerateDevices();case 68:return E=e.sent,e.abrupt("return",(s&&s.getTracks().forEach((function(e){return e.stop()})),c&&c.getTracks().forEach((function(e){return e.stop()})),u&&u.getTracks().forEach((function(e){return e.stop()})),s=null,c=null,u=null,E));case 72:return e.prev=72,e.t4=e.catch(65),s&&s.getTracks().forEach((function(e){return e.stop()})),c&&c.getTracks().forEach((function(e){return e.stop()})),u&&u.getTracks().forEach((function(e){return e.stop()})),u=c=s=null,e.abrupt("return",new mC(pC.ENUMERATE_DEVICES_FAILED,e.t4.toString()).throw());case 76:case"end":return e.stop()}}),e,this,[[19,25],[35,41],[51,57],[65,72]])}))),function(e,t){return A.apply(this,arguments)})},{key:"getRecordingDevices",value:function(){var e=pa(O.mark((function e(){var t,A=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<A.length&&void 0!==A[0]&&A[0],e.next=3,this.enumerateDevices(!0,!1,t);case 3:return e.abrupt("return",e.sent.filter((function(e){return"audioinput"===e.kind})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCamerasDevices",value:function(){var e=pa(O.mark((function e(){var t,A=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<A.length&&void 0!==A[0]&&A[0],e.next=3,this.enumerateDevices(!1,!0,t);case 3:return e.abrupt("return",e.sent.filter((function(e){return"videoinput"===e.kind})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSpeakers",value:function(){var e=pa(O.mark((function e(){var t,A=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<A.length&&void 0!==A[0]&&A[0],e.next=3,this.enumerateDevices(!0,!1,t);case 3:return e.abrupt("return",e.sent.filter((function(e){return"audiooutput"===e.kind})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchDeviceIdByName",value:function(e){var t=null;return this.deviceInfoMap.forEach((function(A){A.device.label===e&&(t=A.device.deviceId)})),t}},{key:"getDeviceById",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enumerateDevices(!0,!0,!0);case 2:if(A=e.sent.find((function(e){return e.deviceId===t}))){e.next=5;break}throw new mC(pC.DEVICE_NOT_FOUND,"deviceId: ".concat(t));case 5:return e.abrupt("return",A);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state=NB.INITING,e.prev=1,e.next=4,this.updateDevicesInfo();case 4:this.state=NB.INITEND,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),qh.warning("Device Detection functionality cannot start properly.",e.t0.toString()),this.state=NB.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new mC(pC.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateDevicesInfo",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enumerateDevices(!0,!0,!0);case 2:if(t=e.sent,A=Date.now(),n=[],t[0]&&t[0].label&&!1===this.checkdeviceMatched&&(this.checkdeviceMatched=!0,r=t.find((function(e){return"audioinput"===e.kind&&"default"===e.deviceId})),i=t.find((function(e){return"audiooutput"===e.kind&&"default"===e.deviceId})),r&&i?i.groupId===r.groupId?qh.debug("[device-check] default input ".concat(r.label," and output ").concat(i.label," is the same group")):qh.warning("[device-check] default input ".concat(r.label," and output ").concat(i.label," is not the same group")):qh.debug("[device-check] default input or output not found")),o=this.checkMediaDeviceInfoIsOk(t),t.forEach((function(e){if(e.deviceId){var t=a.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(t?t.state:"INACTIVE")){var r={initAt:A,updateAt:A,device:e,state:"ACTIVE"};a.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),r),n.push(r)}t&&(t.updateAt=A)}})),this.deviceInfoMap.forEach((function(e,t){"ACTIVE"===e.state&&e.updateAt!==A&&(e.state="INACTIVE",n.push(e))})),this.state===NB.INITEND){e.next=9;break}return e.abrupt("return",(o.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(o.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0))));case 9:n.forEach((function(e){switch(e.device.kind){case"audioinput":a.lastAccessMicrophonePermission&&a.isAccessMicrophonePermission&&a.emit(TB.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":a.lastAccessCameraPermission&&a.isAccessCameraPermission&&a.emit(TB.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":a.lastAccessMicrophonePermission&&a.isAccessMicrophonePermission&&a.emit(TB.PLAYOUT_DEVICE_CHANGED,e)}})),o.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),o.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkMediaDeviceInfoIsOk",value:function(e){var t=e.filter((function(e){return"audioinput"===e.kind}));e=e.filter((function(e){return"videoinput"===e.kind}));for(var A={audio:!1,video:!1},n=0;n<t.length;n++){var r=t[n];if(r.label&&r.deviceId){A.audio=!0;break}}for(t=0;t<e.length;t++)if((n=e[t]).label&&n.deviceId){A.video=!0;break}return A}}]),t}(UC)),AQ=!1,nQ=new(function(e){function t(){zb(this,t);var e=A.apply(this,arguments);return Z(V(e),"onAutoplayFailed",void 0),Z(V(e),"onAudioAutoplayFailed",void 0),e}Zb(t,e);var A=$b(t);return t}(UC)),rQ="play playing loadeddata canplay pause stalled suspend waiting abort emptied ended error".split(" "),iQ=new(function(){function e(){var t=this;zb(this,e),Z(this,"onAutoplayFailed",void 0),Z(this,"elementMap",new Map),Z(this,"elementStateMap",new Map),Z(this,"elementsNeedToResume",[]),Z(this,"sinkIdMap",new Map),Z(this,"autoResumeAfterInterruption",(function(e){Array.from(t.elementMap.entries()).forEach((function(A){var n=Lb(A,2);A=n[1],n=t.elementStateMap.get(n[0]);var r=A.srcObject.getAudioTracks()[0];if(r=r&&r.readyState,qh.debug("resume after interrupted, ele: ".concat(n," audio: ").concat(r," ").concat(e)),"live"===r){if(e)return A.pause(),void A.play();if("running"===HB.curState)return le()?(A.pause(),void A.play()):void(n&&"paused"===n&&A.play())}}))})),Z(this,"autoResumeAfterInterruptionOnIOS15_16",(function(){Array.from(t.elementMap.entries()).forEach((function(e){(e=Lb(e,2))[0];var t=(e=e[1]).srcObject.getAudioTracks()[0];t&&"live"===t.readyState&&(qh.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),e.pause(),e.play())}))})),this.autoResumeAudioElement(),HB.on(Xf.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),HB.on(Xf.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),HB.on(Xf.STATE_CHANGE,(function(){ae()&&"suspended"===HB.prevState&&"running"===HB.curState&&t.autoResumeAfterInterruption()}))}var t;return Ib(e,[{key:"setSinkID",value:(t=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.elementMap.get(t),this.sinkIdMap.set(t,A),!n){e.next=10;break}return e.prev=2,e.next=5,n.setSinkId(A);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new mC(pC.PERMISSION_DENIED,"can not set sink id: "+e.t0.toString());case 10:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(e,A){return t.apply(this,arguments)})},{key:"play",value:function(e,t,A,n){var r=this;if(!this.elementMap.has(t)){var i=document.createElement("audio");if(i.autoplay=!0,i.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,i),this.elementMap.set(t,i),this.elementStateMap.set(t,OB.INIT),this.setVolume(t,A),e=this.sinkIdMap.get(t))try{i.setSinkId(e).catch((function(e){qh.warning("[".concat(t,"] set sink id failed"),e.toString())}))}catch(e){qh.warning("[".concat(t,"] set sink id failed"),e.toString())}(e=i.play())&&e.then&&e.catch((function(e){n&&_n(n,"audio",e.message,t),qh.warning("audio element play warning",e.toString()),r.elementMap.has(t)&&"NotAllowedError"===e.name&&(qh.warning("detected audio element autoplay failed"),r.elementsNeedToResume.push(i),Ye((function(){r.onAutoplayFailed&&r.onAutoplayFailed(),yn()})))}))}}},{key:"updateTrack",value:function(e,t){(e=this.elementMap.get(e))&&(e.srcObject=new MediaStream([t]))}},{key:"isPlaying",value:function(e){return this.elementMap.has(e)&&"playing"===this.elementStateMap.get(e)}},{key:"setVolume",value:function(e,t){(e=this.elementMap.get(e))&&(t=Math.max(0,Math.min(100,t)),e.volume=t/100)}},{key:"stop",value:function(e){var t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),t){var A=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(A,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}}},{key:"bindAudioElementEvents",value:function(e,t){var A=this;rQ.forEach((function(n){t.addEventListener(n,(function(n){var r=A.elementStateMap.get(e),i="pause"===n.type?"paused":n.type;qh.debug("[".concat(e,"] audio-element-status change ").concat(r," => ").concat(i)),"error"===n.type&&(n=null==t?void 0:t.error)&&qh.error("[".concat(e,"] media error, code: ").concat(n.code,", message: ").concat(n.message)),A.elementStateMap.set(e,i)}))}))}},{key:"getPlayerState",value:function(e){return this.elementStateMap.get(e)||"uninit"}},{key:"autoResumeAudioElement",value:function(){var e=this,t=function(){e.elementsNeedToResume.forEach((function(e){e.play().then((function(e){qh.debug("Auto resume audio element success")})).catch((function(e){qh.warning("Auto resume audio element failed!",e)}))})),e.elementsNeedToResume=[]};new IC((function(e){document.body?e():window.addEventListener("load",(function(){return e()}))})).then((function(){Be()?document.body.addEventListener("click",t,!0):(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0))}))}}]),e}()),oQ=function(e){function t(e){zb(this,t);var n=A.call(this);return Z(V(n),"name","VideoProcessorDestination"),Z(V(n),"ID","0"),Z(V(n),"_source",void 0),Z(V(n),"videoContext",void 0),Z(V(n),"inputTrack",void 0),n.videoContext=e,n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"kind",get:function(){return"video"}},{key:"enabled",get:function(){return!0}},{key:"pipe",value:function(){throw new mC(pC.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}},{key:"unpipe",value:function(){throw new mC(pC.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"updateInput",value:function(e){if(e.context!==this.videoContext)throw Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(DB.ON_TRACK,e.track))}},{key:"reset",value:function(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(DB.ON_TRACK,void 0)}}]),t}(UC),aQ=function(e){function t(e,A){zb(this,t);var r=n.call(this);return Z(V(r),"constraintsMap",new Map),Z(V(r),"statsRegistry",[]),Z(V(r),"usageRegistry",[]),Z(V(r),"trackId",void 0),Z(V(r),"direction",void 0),Z(V(r),"_chained",!1),r.trackId=e,r.direction=A,r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"chained",get:function(){return this._chained},set:function(e){this._chained=e}},{key:"getConstraints",value:(A=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(this,kB.REQUEST_CONSTRAINTS);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"requestApplyConstraints",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(qh.info("processor ".concat(A.name," requestApplyConstraints for ").concat(this.trackId)),t&&this.constraintsMap.set(A,t),Ue(this,kB.REQUEST_UPDATE_CONSTRAINTS,Array.from(mp(n=this.constraintsMap).call(n)))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"requestRevertConstraints",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.constraintsMap.has(t)){e.next=2;break}return e.abrupt("return",(qh.info("processor ".concat(t.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(t),Ue(this,kB.REQUEST_UPDATE_CONSTRAINTS,Array.from(mp(A=this.constraintsMap).call(A)))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerStats",value:function(e,t,A){this.statsRegistry.find((function(A){return A.processorID===e.ID&&A.processorName===e.name&&A.type===t}))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:A})}},{key:"unregisterStats",value:function(e,t){var A=this.statsRegistry.findIndex((function(A){return A.processorID===e.ID&&A.processorName===e.name&&A.type===t}));-1!==A&&this.statsRegistry.splice(A,1)}},{key:"gatherStats",value:function(){for(var e=[],t=0,A=this.statsRegistry;t<A.length;t++){var n=A[t],r=n.processorID,i=n.processorName,o=n.type;n=n.cb;try{var a=n();e.push({processorID:r,processorName:i,type:o,stats:a})}catch(e){qh.error(new mC(pC.UNEXPECTED_ERROR,e.message))}}return e}},{key:"registerUsage",value:function(e,t){this.usageRegistry.find((function(t){return t.processorID===e.ID&&t.processorName===e.name}))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}},{key:"unregisterUsage",value:function(e){var t=this.usageRegistry.findIndex((function(t){return t.processorID===e.ID&&t.processorName===e.name}));-1!==t&&this.usageRegistry.splice(t,1)}},{key:"gatherUsage",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.chained){e.next=3;break}return e.abrupt("return",[]);case 3:A=0,n=this.usageRegistry;case 4:if(!(A<n.length)){e.next=22;break}if(r=n[A].cb,e.prev=6,i=r(),e.t0=i instanceof IC,!e.t0){e.next=13;break}return e.next=12,i;case 12:i=e.sent;case 13:t.push(Sn(Sn({},i),{},{direction:this.direction})),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(6),qh.error("gather extension usage error",e.t1);case 19:A++,e.next=4;break;case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDirection",value:function(){return this.direction}}]),t}(UC),sQ=function(e){function t(e){zb(this,t);var n=A.call(this);return Z(V(n),"name","AudioProcessorDestination"),Z(V(n),"ID","0"),Z(V(n),"inputTrack",void 0),Z(V(n),"inputNode",void 0),Z(V(n),"audioProcessorContext",void 0),Z(V(n),"_source",void 0),n.audioProcessorContext=e,n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"kind",get:function(){return"audio"}},{key:"enabled",get:function(){return!0}},{key:"pipe",value:function(){throw new mC(pC.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}},{key:"unpipe",value:function(){throw new mC(pC.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"reset",value:function(){this.inputNode=this.inputTrack=void 0,this.audioProcessorContext.chained=!1,this.emit(DB.ON_TRACK,void 0),this.emit(DB.ON_NODE,void 0)}},{key:"updateInput",value:function(e){if(e.context!==this.audioProcessorContext)throw Error("ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(DB.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(DB.ON_NODE,this.inputNode))}}]),t}(UC),cQ=function(e){function t(e,A,r){zb(this,t);var i=n.call(this);return Z(V(i),"constraintsMap",new Map),Z(V(i),"statsRegistry",[]),Z(V(i),"audioContext",void 0),Z(V(i),"trackId",void 0),Z(V(i),"direction",void 0),Z(V(i),"usageRegistry",[]),Z(V(i),"_chained",!1),i.audioContext=e,i.trackId=A,i.direction=r,i}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"chained",get:function(){return this._chained},set:function(e){this._chained=e}},{key:"getConstraints",value:(A=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Me(this,kB.REQUEST_CONSTRAINTS));case 1:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"getAudioContext",value:function(){return this.audioContext}},{key:"requestApplyConstraints",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(qh.info("processor ".concat(A.name," requestApplyConstraints for ").concat(this.trackId)),t&&this.constraintsMap.set(A,t),Ue(this,kB.REQUEST_UPDATE_CONSTRAINTS,Array.from(mp(n=this.constraintsMap).call(n)))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"requestRevertConstraints",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.constraintsMap.has(t)){e.next=2;break}return e.abrupt("return",(this.constraintsMap.delete(t),Ue(this,kB.REQUEST_UPDATE_CONSTRAINTS,Array.from(mp(A=this.constraintsMap).call(A)))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerStats",value:function(e,t,A){this.statsRegistry.find((function(A){return A.processorID===e.ID&&A.processorName===e.name&&A.type===t}))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:A})}},{key:"unregisterStats",value:function(e,t){var A=this.statsRegistry.findIndex((function(A){return A.processorID===e.ID&&A.processorName===e.name&&A.type===t}));-1!==A&&this.statsRegistry.splice(A,1)}},{key:"gatherStats",value:function(){for(var e=[],t=0,A=this.statsRegistry;t<A.length;t++){var n=A[t],r=n.processorID,i=n.processorName,o=n.type;n=n.cb;try{var a=n();e.push({processorID:r,processorName:i,type:o,stats:a})}catch(e){qh.error(new mC(pC.UNEXPECTED_ERROR,e.message))}}return e}},{key:"registerUsage",value:function(e,t){this.usageRegistry.find((function(t){return t.processorID===e.ID&&t.processorName===e.name}))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}},{key:"unregisterUsage",value:function(e){var t=this.usageRegistry.findIndex((function(t){return t.processorID===e.ID&&t.processorName===e.name}));-1!==t&&this.usageRegistry.splice(t,1)}},{key:"gatherUsage",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.chained){e.next=3;break}return e.abrupt("return",[]);case 3:A=0,n=this.usageRegistry;case 4:if(!(A<n.length)){e.next=22;break}if(r=n[A].cb,e.prev=6,i=r(),e.t0=i instanceof IC,!e.t0){e.next=13;break}return e.next=12,i;case 12:i=e.sent;case 13:t.push(Sn(Sn({},i),{},{direction:this.direction})),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(6),qh.error("gather extension usage error",e.t1);case 19:A++,e.next=4;break;case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDirection",value:function(){return this.direction}}]),t}(UC),uQ=function(e){function t(){zb(this,t);var e=A.call(this);return Z(V(e),"context",void 0),Z(V(e),"processSourceNode",void 0),Z(V(e),"outputTrack",void 0),Z(V(e),"processedNode",void 0),Z(V(e),"clonedTrack",void 0),Z(V(e),"outputNode",void 0),e.outputNode=new gQ,e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"isPlayed",get:function(){return!0}},{key:"isFreeze",get:function(){return!1}},{key:"setVolume",value:function(){}},{key:"createOutputTrack",value:function(){throw new mC(pC.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}},{key:"getOriginVolumeLevel",value:function(){return 0}},{key:"getAccurateVolumeLevel",value:function(){return 0}},{key:"stopGetAudioBuffer",value:function(){}},{key:"startGetAudioBuffer",value:function(){}},{key:"play",value:function(){}},{key:"stop",value:function(){}},{key:"destroy",value:function(){}},{key:"updateTrack",value:function(){}},{key:"updateOriginTrack",value:function(){}},{key:"createMediaStreamSourceNode",value:function(){}}]),t}(UC),gQ=function(){function e(){zb(this,e)}return Ib(e,[{key:"disconnect",value:function(){}},{key:"connect",value:function(){}}]),e}(),IQ=function(e){function t(e,A,r,i){zb(this,t);var o=n.call(this,e,r);return Z(V(o),"trackMediaType","audio"),Z(V(o),"_encoderConfig",void 0),Z(V(o),"_trackSource",void 0),Z(V(o),"_enabled",!0),Z(V(o),"_volume",100),Z(V(o),"_useAudioElement",!0),Z(V(o),"_bypassWebAudio",!1),Z(V(o),"processor",void 0),Z(V(o),"_processorContext",void 0),Z(V(o),"_processorDestination",void 0),Z(V(o),"_getOriginVolumeLevel",void 0),o._encoderConfig=A,o._getOriginVolumeLevel=!!i,o._trackSource=new uQ,Th.DISABLE_WEBAUDIO&&(o._bypassWebAudio=!0),Th.LOCAL_AUDIO_TRACK_USES_WEB_AUDIO&&(o._useAudioElement=!1),ie()&&!qB?setTimeout((function(){return o.initWebAudio()})):o.initWebAudio(),o}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"_source",get:function(){return this.initWebAudio()},set:function(e){this._trackSource=e}},{key:"processorContext",get:function(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}},{key:"processorDestination",get:function(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}},{key:"isPlaying",get:function(){return this._useAudioElement?iQ.isPlaying(this.getTrackId()):this._source.isPlayed}},{key:"__className__",get:function(){return"LocalAudioTrack"}},{key:"setVolume",value:function(e){var t=this;ve(e,"volume",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&iQ.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void qh.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));var A=this._source.createOutputTrack();this._mediaStreamTrack!==A&&(this._mediaStreamTrack=A,Ue(this,EB.NEED_REPLACE_TRACK,this).then((function(){qh.debug("[".concat(t.getTrackId(),"] replace web audio track success"))})).catch((function(e){qh.warning("[".concat(t.getTrackId(),"] replace web audio track failed"),e)})))}catch(e){}}},{key:"getVolumeLevel",value:function(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}},{key:"setPlaybackDevice",value:(A=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._useAudioElement&&(re()||!Th.RESTRICTION_SET_PLAYBACK_DEVICE)){e.next=2;break}throw new mC(pC.NOT_SUPPORTED,"your browser does not support setting the audio output device");case 2:return e.next=4,iQ.setSinkID(this.getTrackId(),t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"setEnabled",value:function(){var e=pa(O.mark((function e(t,A,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setEnabled(t,A,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"_setEnabled",value:function(){var e=pa(O.mark((function e(t,A,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:if(qh.info("[".concat(this.getTrackId(),"] start setEnabled"),t),!t){e.next=18;break}return this._originMediaStreamTrack.enabled=!0,e.prev=6,n||(this._enabled=!0),e.next=10,Ue(this,EB.NEED_ENABLE_TRACK,this);case 10:qh.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(t," success")),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(6),n||(this._enabled=!1),qh.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.t0.toString()),e.t0;case 16:e.next=27;break;case 18:return this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1),e.prev=19,e.next=22,Ue(this,EB.NEED_DISABLE_TRACK,this);case 22:e.next=27;break;case 24:throw e.prev=24,e.t1=e.catch(19),n||(this._enabled=!0),qh.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t1.toString()),e.t1;case 27:case"end":return e.stop()}}),e,this,[[6,13],[19,24]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"setMuted",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==this._muted,!e.t0){e.next=13;break}if(this.stateCheck("muted",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,qh.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(t)),!t){e.next=11;break}return e.next=9,Ue(this,EB.NEED_MUTE_TRACK,this);case 9:e.next=13;break;case 11:return e.next=13,Ue(this,EB.NEED_UNMUTE_TRACK,this);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStats",value:function(){return He((function(){qh.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning"),xe(this,EB.GET_STATS)||Dn({},MB)}},{key:"setAudioFrameCallback",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(yB.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(yB.ON_AUDIO_BUFFER),this._source.on(yB.ON_AUDIO_BUFFER,(function(t){return e(t)}))}},{key:"play",value:function(){qh.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(qh.debug("[".concat(this.getTrackId(),"] start audio playback in element")),iQ.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}},{key:"stop",value:function(){qh.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?iQ.stop(this.getTrackId()):this._source.stop()}},{key:"close",value:function(){Ce(je(t.prototype),"close",this).call(this),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}},{key:"_updatePlayerSource",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];qh.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&iQ.updateTrack(this.getTrackId(),this._mediaStreamTrack)}},{key:"_updateOriginMediaStreamTrack",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._originMediaStreamTrack!==t,!e.t0){e.next=16;break}if(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),A&&this._originMediaStreamTrack.stop()),t.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=t,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:t,context:this._processorContext}),this._mediaStreamTrack===this._source.outputTrack){e.next=14;break}return this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),e.next=12,Ue(this,EB.NEED_REPLACE_TRACK,this);case 12:e.next=15;break;case 14:this._source.updateTrack(this._originMediaStreamTrack);case 15:this._getOriginVolumeLevel&&this._source.updateOriginTrack(t);case 16:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"renewMediaStreamTrack",value:function(e){return IC.resolve(void 0)}},{key:"pipe",value:function(e){if(this._bypassWebAudio)throw new mC(pC.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new mC(pC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}},{key:"unpipe",value:function(){var e;if(this.processor){var t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}}},{key:"bindProcessorDestinationEvents",value:function(e){var t,A=this;e.on(DB.ON_TRACK,(t=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(e.t0=t!==A._mediaStreamTrack,!e.t0){e.next=8;break}return A._mediaStreamTrack=t,A._updatePlayerSource(!1),A._source.processedNode=A._source.createMediaStreamSourceNode(t),e.next=8,Ue(A,EB.NEED_REPLACE_TRACK,A);case 8:e.next=16;break;case 10:if(e.t1=A._mediaStreamTrack!==A._originMediaStreamTrack,!e.t1){e.next=16;break}return A._mediaStreamTrack=A._originMediaStreamTrack,A._updatePlayerSource(),e.next=16,Ue(A,EB.NEED_REPLACE_TRACK,A);case 16:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})),e.on(DB.ON_NODE,(function(e){A._source.processedNode=e}))}},{key:"unbindProcessorDestinationEvents",value:function(e){e.removeAllListeners(DB.ON_TRACK),e.removeAllListeners(DB.ON_NODE)}},{key:"bindProcessorContextEvents",value:function(e){var t,A=this;e.on(kB.REQUEST_CONSTRAINTS,(t=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(A._originMediaStreamTrack.getSettings());case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}))}},{key:"unbindProcessorContextEvents",value:function(e){e.removeAllListeners(kB.REQUEST_CONSTRAINTS)}},{key:"initWebAudio",value:function(){return this._trackSource instanceof uQ&&(this._trackSource=new zB(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}},{key:"initProcessor",value:function(){var e=this,t=new cQ(this._source.context,this.getTrackId(),"local"),A=new sQ(t);return this._processorContext=t,this._processorDestination=A,this.bindProcessorContextEvents(t),this.bindProcessorDestinationEvents(A),this._source.on(yB.UPDATE_SOURCE,(function(){e.processor&&e.processor.updateInput({node:e._source.processSourceNode,context:t})})),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(iQ.stop(this.getTrackId()),this._source.play()),Ue(this,EB.NEED_REPLACE_MIXING_TRACK,this).then((function(){qh.debug("[".concat(e.getTrackId(),"] replace from origin track to web audio track success"))})).catch((function(t){qh.warning("[".concat(e.getTrackId(),"] replace from origin track to web audio track failed"),t)}))),{processorContext:t,processorDestination:A}}}]),t}(YB);Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t]},throttleTime:300}),jt("design:type",Function),jt("design:paramtypes",[Number]),jt("design:returntype",void 0)],IQ.prototype,"setVolume",null),Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],IQ.prototype,"setPlaybackDevice",null),Ht([ot("LocalAudioTrack","_enabledMutex"),Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Boolean,Object,Boolean]),jt("design:returntype",IC)],IQ.prototype,"setEnabled",null),Ht([ot("LocalAudioTrack","_enabledMutex"),Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Boolean]),jt("design:returntype",IC)],IQ.prototype,"setMuted",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",Object)],IQ.prototype,"getStats",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[Object,Number]),jt("design:returntype",void 0)],IQ.prototype,"setAudioFrameCallback",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],IQ.prototype,"play",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],IQ.prototype,"stop",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],IQ.prototype,"close",null),Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t.name]}}),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",Object)],IQ.prototype,"pipe",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],IQ.prototype,"unpipe",null);var lQ=function(e){function t(e,A,r,i){return zb(this,t),Z(V(i=n.call(this,e,A.encoderConfig?tn(A.encoderConfig):{},i,Th.GET_VOLUME_OF_MUTED_AUDIO_TRACK)),"_config",void 0),Z(V(i),"_deviceName","default"),Z(V(i),"_constraints",void 0),Z(V(i),"_originalConstraints",void 0),Z(V(i),"_enabled",!0),i._config=A,i._constraints=r,i._originalConstraints=r,i._deviceName=e.label,"boolean"==typeof A.bypassWebAudio&&(i._bypassWebAudio=A.bypassWebAudio),(le()||Ee())&&HB.bindInterruptDetectorTrack(V(i)),i}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"__className__",get:function(){return"MicrophoneAudioTrack"}},{key:"setDevice",value:(A=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.info("[".concat(this.getTrackId(),"] start set device to ").concat(t)),!this._enabled){e.next=35;break}return e.prev=1,e.next=4,tQ.getDeviceById(t);case 4:return A=e.sent,(n={}).audio=Dn({},this._constraints),n.audio.deviceId={exact:t},this._originMediaStreamTrack.stop(),r=null,e.prev=8,e.next=11,dn(n,this.getTrackId());case 11:r=e.sent,e.next=23;break;case 14:return e.prev=14,e.t0=e.catch(8),qh.error("[".concat(this.getTrackId(),"] setDevice failed"),e.t0.toString()),e.next=19,dn({audio:this._constraints},this.getTrackId());case 19:return r=e.sent,e.next=22,this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!1);case 22:throw e.t0;case 23:return e.next=25,this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!1);case 25:this._deviceName=A.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t},e.next=33;break;case 30:throw e.prev=30,e.t1=e.catch(1),qh.error("[".concat(this.getTrackId(),"] setDevice error"),e.t1.toString()),e.t1;case 33:e.next=45;break;case 35:return e.prev=35,e.next=38,tQ.getDeviceById(t);case 38:i=e.sent,this._deviceName=i.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t},e.next=45;break;case 42:throw e.prev=42,e.t2=e.catch(35),qh.error("[".concat(this.getTrackId(),"] setDevice error"),e.t2.toString()),e.t2;case 45:qh.info("[".concat(this.getTrackId(),"] set device to ").concat(t," success"));case 46:case"end":return e.stop()}}),e,this,[[1,30],[8,14],[35,42]])}))),function(e){return A.apply(this,arguments)})},{key:"setEnabled",value:function(){var e=pa(O.mark((function e(A,n,r){var i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return qh.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),e.next=4,Ce(je(t.prototype),"_setEnabled",this).call(this,A);case 4:return e.abrupt("return",e.sent);case 5:if(r){e.next=9;break}if(A!==this._enabled){e.next=8;break}return e.abrupt("return");case 8:this.stateCheck("enabled",A);case 9:if(qh.info("[".concat(this.getTrackId(),"] start setEnabled"),A),A){e.next=20;break}return this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(i=this._source.clonedTrack)||void 0===i||i.stop(),r||(this._enabled=!1),e.prev=11,e.next=14,Ue(this,EB.NEED_DISABLE_TRACK,this);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(11),qh.error("[".concat(this.getTrackId(),"] setEnabled false failed"),e.t0.toString()),e.t0;case 19:return e.abrupt("return");case 20:return o=Dn({},this._constraints),(a=tQ.searchDeviceIdByName(this._deviceName))&&!o.deviceId&&(o.deviceId=a),e.prev=22,r||(this._enabled=!0),e.next=26,dn({audio:this._constraints},this.getTrackId());case 26:return s=e.sent,e.next=29,this._updateOriginMediaStreamTrack(s.getAudioTracks()[0],!1);case 29:return e.next=31,Ue(this,EB.NEED_ENABLE_TRACK,this);case 31:e.next=36;break;case 33:throw e.prev=33,e.t1=e.catch(22),r||(this._enabled=!1),qh.error("[".concat(this.getTrackId(),"] setEnabled true failed"),e.t1.toString()),e.t1;case 36:qh.info("[".concat(this.getTrackId(),"] setEnabled success"));case 37:case"end":return e.stop()}}),e,this,[[11,16],[22,33]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"close",value:function(){Ce(je(t.prototype),"close",this).call(this),(le()||Ee())&&HB.unbindInterruptDetectorTrack(this)}},{key:"onTrackEnded",value:function(){var e,t=this;if((ae()||he())&&this._enabled&&!this._isClosed&&HB.duringInterruption){var A=(e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HB.off(Xf.IOS_INTERRUPTION_END,A),e.t0=t._enabled&&!t._isClosed,!e.t0){e.next=8;break}return qh.debug("[".concat(t.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),e.next=6,t.setEnabled(!1);case 6:return e.next=8,t.setEnabled(!0);case 8:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)});HB.on(Xf.IOS_INTERRUPTION_END,A)}else qh.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(BB.TRACK_ENDED)}},{key:"renewMediaStreamTrack",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=t||this._constraints,(n=tQ.searchDeviceIdByName(this._deviceName))&&!A.deviceId&&(A.deviceId=n),this._constraints=A,!this._enabled){e.next=8;break}return this._originMediaStreamTrack.stop(),e.next=5,dn({audio:this._constraints},this.getTrackId());case 5:return r=e.sent,e.next=8,this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!0);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"bindProcessorContextEvents",value:function(e){var A,n=this;Ce(je(t.prototype),"bindProcessorContextEvents",this).call(this,e),e.on(kB.REQUEST_UPDATE_CONSTRAINTS,(A=pa(O.mark((function e(t,A,r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Object.assign.apply(Object,[{},n._originalConstraints].concat(rb(t))),e.next=4,n.renewMediaStreamTrack(i);case 4:A(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t,n){return A.apply(this,arguments)}))}},{key:"unbindProcessorContextEvents",value:function(e){Ce(je(t.prototype),"unbindProcessorContextEvents",this).call(this,e),e.removeAllListeners(kB.REQUEST_UPDATE_CONSTRAINTS)}}]),t}(IQ);Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],lQ.prototype,"setDevice",null),Ht([ot("MicrophoneAudioTrack","_enabledMutex"),Jt({argsMap:function(e,t,A){return[e.getTrackId(),t,A]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Boolean,Boolean,Boolean]),jt("design:returntype",IC)],lQ.prototype,"setEnabled",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],lQ.prototype,"close",null);var EQ=function(e){function t(e,n,r,i){zb(this,t);var o=A.call(this,n.createOutputTrack(),r,i);Z(V(o),"source",void 0),Z(V(o),"_bufferSource",void 0),o._useAudioElement=!1,o.source=e,o._bufferSource=n,o._bufferSource.on(yB.AUDIO_SOURCE_STATE_CHANGE,(function(e){o.safeEmit(BB.SOURCE_STATE_CHANGE,e)}));try{o._mediaStreamTrack=o._source.createOutputTrack()}catch(e){}return o}Zb(t,e);var A=$b(t);return Ib(t,[{key:"__className__",get:function(){return"BufferSourceAudioTrack"}},{key:"currentState",get:function(){return this._bufferSource.currentState}},{key:"duration",get:function(){return this._bufferSource.duration}},{key:"playbackSpeed",get:function(){return this._bufferSource.playbackSpeed}},{key:"getCurrentTime",value:function(){return this._bufferSource.currentTime}},{key:"startProcessAudioBuffer",value:function(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}},{key:"pauseProcessAudioBuffer",value:function(){this._bufferSource.pauseProcessAudioBuffer()}},{key:"seekAudioBuffer",value:function(e){this._bufferSource.seekAudioBuffer(e)}},{key:"resumeProcessAudioBuffer",value:function(){this._bufferSource.resumeProcessAudioBuffer()}},{key:"stopProcessAudioBuffer",value:function(){this._bufferSource.stopProcessAudioBuffer()}},{key:"close",value:function(){this.source=null,this._bufferSource.destroy(),Ce(je(t.prototype),"close",this).call(this)}},{key:"setAudioBufferPlaybackSpeed",value:function(e){ve(e,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}]),t}(IQ);Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t,e.duration]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",void 0)],EQ.prototype,"startProcessAudioBuffer",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],EQ.prototype,"pauseProcessAudioBuffer",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Number]),jt("design:returntype",void 0)],EQ.prototype,"seekAudioBuffer",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],EQ.prototype,"resumeProcessAudioBuffer",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],EQ.prototype,"stopProcessAudioBuffer",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],EQ.prototype,"close",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Number]),jt("design:returntype",void 0)],EQ.prototype,"setAudioBufferPlaybackSpeed",null);var CQ=function(e){function t(){zb(this,t);var e=on().createMediaStreamDestination(),n=A.call(this,e.stream.getAudioTracks()[0],void 0,At(8,"track-mix-"));Z(V(n),"trackList",void 0),Z(V(n),"destNode",void 0),n._useAudioElement=!1;try{n._mediaStreamTrack=n._source.createOutputTrack()}catch(e){}return n.destNode=e,n.trackList=[],n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"__className__",get:function(){return"MixingAudioTrack"}},{key:"isActive",get:function(){for(var e=0,t=this.trackList;e<t.length;e++){var A=t[e];if(A._enabled&&!A._isClosed&&!A.muted)return!0}return!1}},{key:"hasAudioTrack",value:function(e){return-1!==this.trackList.indexOf(e)}},{key:"addAudioTrack",value:function(e){-1===this.trackList.indexOf(e)?(qh.debug("add ".concat(e.getTrackId()," to mixing track")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):qh.debug("track ".concat(e.getTrackId()," is already added"))}},{key:"removeAudioTrack",value:function(e){if(-1!==this.trackList.indexOf(e)){qh.debug("remove ".concat(e.getTrackId()," from mixing track"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}Ke(this.trackList,e),this.updateEncoderConfig()}}},{key:"updateEncoderConfig",value:function(){var e={};this.trackList.forEach((function(t){t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}},{key:"_updateRtpTransceiver",value:function(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach((function(A){A instanceof t?A.emit(fB.TRANSCEIVER_UPDATED,e):A._updateRtpTransceiver(e)})))}}]),t}(IQ),dQ=function(e){function t(e){zb(this,t);var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=A.call(this);return Z(V(r),"audioBuffer",void 0),Z(V(r),"sourceNode",void 0),Z(V(r),"startPlayTime",0),Z(V(r),"startPlayOffset",0),Z(V(r),"pausePlayTime",0),Z(V(r),"options",void 0),Z(V(r),"currentLoopCount",0),Z(V(r),"currentPlaybackSpeed",100),Z(V(r),"_currentState","stopped"),r.audioBuffer=e,r.options=n,r.startPlayOffset=r.options.startPlayTime||0,r}Zb(t,e);var A=$b(t);return Ib(t,[{key:"currentState",get:function(){return this._currentState},set:function(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(yB.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}},{key:"createWebAudioDiagram",value:function(){return this.context.createGain()}},{key:"duration",get:function(){return this.audioBuffer?this.audioBuffer.duration:0}},{key:"playbackSpeed",get:function(){return this.currentPlaybackSpeed}},{key:"currentTime",get:function(){return this.audioBuffer?"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:(this.playbackSpeed/100*(this.context.currentTime-this.startPlayTime)+this.startPlayOffset)%this.audioBuffer.duration:0}},{key:"updateOptions",value:function(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):qh.warning("can not set audio source options")}},{key:"startProcessAudioBuffer",value:function(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}},{key:"pauseProcessAudioBuffer",value:function(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}},{key:"seekAudioBuffer",value:function(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}},{key:"resumeProcessAudioBuffer",value:function(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}},{key:"stopProcessAudioBuffer",value:function(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}},{key:"destroy",value:function(){this.audioBuffer=null,Ce(je(t.prototype),"destroy",this).call(this)}},{key:"setAudioBufferPlaybackSpeed",value:function(e){this.sourceNode&&("playing"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}},{key:"startSourceNode",value:function(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}},{key:"createSourceNode",value:function(){var e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}},{key:"handleSourceNodeEnded",value:function(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}},{key:"reset",value:function(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}]),t}(XB),hQ=new Map,pQ=function(e){var t=document.createElement("canvas");return t.width=2,t.height=2,new IC((function(A,n){var r;t.toBlob((r=pa(O.mark((function e(r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.remove(),!r){e.next=7;break}return e.next=3,fQ(r);case 3:i=e.sent,A({buffer:i,width:t.width,height:t.height}),e.next=8;break;case 7:n(new mC(pC.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));case 8:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),e,1)}))},fQ=function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:return A=e.sent,e.abrupt("return",new Uint8Array(A));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),BQ=function(){function e(t){var A=this;zb(this,e),Z(this,"trackId",void 0),Z(this,"config",void 0),Z(this,"onFirstVideoFrameDecoded",void 0),Z(this,"onVideoStateChanged",void 0),Z(this,"freezeTimeCounterList",[]),Z(this,"renderFreezeAccTime",0),Z(this,"isKeepLastFrame",!1),Z(this,"timeUpdatedCount",0),Z(this,"freezeTime",0),Z(this,"playbackTime",0),Z(this,"lastTimeUpdatedTime",0),Z(this,"autoplayFailed",!1),Z(this,"videoTrack",void 0),Z(this,"videoElement",void 0),Z(this,"cacheVideoElement",void 0),Z(this,"_videoState",LB.VideoStateStopped),Z(this,"videoElementCheckInterval",void 0),Z(this,"videoElementFreezeTimeout",void 0),Z(this,"_videoElementStatus",OB.NONE),Z(this,"isGettingVideoDimensions",!1),Z(this,"startGetVideoDimensions",(function(){var e=function e(){if(A.isGettingVideoDimensions=!0,4<A.videoElement.videoWidth*A.videoElement.videoHeight)return qh.debug("[".concat(A.trackId,"] current video dimensions:"),A.videoElement.videoWidth,A.videoElement.videoHeight),void(A.isGettingVideoDimensions=!1);setTimeout(e,500)};!A.isGettingVideoDimensions&&e()})),Z(this,"autoResumeAfterInterruption",(function(){A.videoTrack&&"live"===A.videoTrack.readyState&&"running"===HB.curState&&(qh.debug("[track-".concat(A.trackId,"] video element paused, auto resume for ").concat(te())),de()?(A.videoElement.srcObject=null,A.videoElement.srcObject=new MediaStream([A.videoTrack]),A.videoElement.play()):(A.videoElement.pause(),A.videoElement.play()))})),Z(this,"handleVideoEvents",(function(e){switch(e.type){case"play":case"playing":A.startGetVideoDimensions(),A.videoElementStatus=OB.PLAYING;break;case"loadeddata":if(A.videoState=LB.VideoStateStarting,A.onFirstVideoFrameDecoded&&A.onFirstVideoFrameDecoded(),A.cacheVideoElement){try{A.cacheVideoElement.srcObject=null,A.cacheVideoElement.remove()}catch(e){}A.cacheVideoElement=void 0}break;case"canplay":A.videoElementStatus=OB.CANPLAY;break;case"stalled":A.videoElementStatus=OB.STALLED;break;case"suspend":A.videoElementStatus=OB.SUSPEND;break;case"pause":A.videoElementStatus=OB.PAUSED,ae()||he()||ie()&&A.autoplayFailed||!A.videoTrack||"live"!==A.videoTrack.readyState||(qh.debug("[track-".concat(A.trackId,"] video element paused, auto resume")),A.videoElement.play());break;case"waiting":A.videoElementStatus=OB.WAITING;break;case"abort":A.videoElementStatus=OB.ABORT;break;case"ended":A.videoElementStatus=OB.ENDED;break;case"emptied":A.videoElementStatus=OB.EMPTIED;break;case"error":A.videoElementStatus=OB.ERROR,(e=A.videoElement.error)&&qh.error("[".concat(A.trackId,"] media error, code: ").concat(e.code,", message: ").concat(e.message));break;case"timeupdate":if(e=performance.now(),A.timeUpdatedCount+=1,10>A.timeUpdatedCount)return void(A.lastTimeUpdatedTime=e);var t=e-A.lastTimeUpdatedTime,n=A.lastTimeUpdatedTime;if(A.lastTimeUpdatedTime=e,!(DQ.lastVisibleTime<DQ.lastHiddenTime||n<DQ.lastHiddenTime||n<DQ.lastVisibleTime))for(t>Th.VIDEO_FREEZE_DURATION&&(A.freezeTime+=t),A.playbackTime+=t;6e3<=A.playbackTime;)A.playbackTime-=6e3,A.freezeTimeCounterList.push(Math.min(6e3,A.freezeTime)),A.freezeTime=Math.max(0,A.freezeTime-6e3)}})),Z(this,"autoResumeAfterInterruptionOnIOS15_16",(function(){A.videoTrack&&"live"===A.videoTrack.readyState&&(qh.debug("[track-".concat(A.trackId,"] video element paused, auto resume for ").concat(te())),de()?(A.videoElement.srcObject=null,A.videoElement.srcObject=new MediaStream([A.videoTrack]),A.videoElement.play()):(A.videoElement.pause(),A.videoElement.play()))})),this.trackId=t.trackId,this.config=t,t.element instanceof HTMLVideoElement?this.videoElement=t.element:this.videoElement=document.createElement("video"),HB.on(Xf.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),HB.on(Xf.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}var t;return Ib(e,[{key:"videoElementStatus",get:function(){return this._videoElementStatus},set:function(e){e!==this._videoElementStatus&&(qh.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}},{key:"videoState",get:function(){return this._videoState},set:function(e){var t;e!==this._videoState&&(qh.debug("[".concat(this.trackId,"] video-status change ").concat(this._videoState," => ").concat(e)),this._videoState=e,null===(t=this.onVideoStateChanged)||void 0===t||t.call(this,this.videoState))}},{key:"getVideoElement",value:function(){return this.videoElement}},{key:"getContainerElement",value:function(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}},{key:"updateConfig",value:function(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}},{key:"updateVideoTrack",value:function(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}},{key:"play",value:function(e){var t=this,A=this.videoElement.play();A&&A.catch&&A.catch((function(A){e&&_n(e,"video",A.message,t.trackId),"NotAllowedError"===A.name?(qh.warning("detected video element autoplay failed",A),t.autoplayFailed=!0,t.handleAutoPlayFailed()):qh.warning("[".concat(t.trackId,"] play warning: "),A)}));var n=ee();("Safari"===n.name&&15===Number(n.version)||le())&&A&&A.then&&(n=function(){t.config.mirror&&(t.videoElement.style.transform="rotateY(180deg)")},A.then(n).catch(n))}},{key:"getCurrentFrame",value:function(){var e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;var t=e.getContext("2d");return t?(t.drawImage(this.videoElement,0,0,e.width,e.height),t=t.getImageData(0,0,e.width,e.height),e.remove(),t):(qh.error("create canvas context failed!"),new ImageData(2,2))}},{key:"getCurrentFrameToUint8Array",value:(t=pa(O.mark((function e(t){var A,n,r,i=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=1<i.length&&void 0!==i[1]?i[1]:1,(n=document.createElement("canvas")).width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight,!(r=n.getContext("2d"))){e.next=8;break}e.t0=(r.drawImage(this.videoElement,0,0,n.width,n.height),new IC((function(e,r){var i;n.toBlob((i=pa(O.mark((function t(A){var i;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.remove(),!A){t.next=7;break}return t.next=3,fQ(A);case 3:i=t.sent,e({buffer:i,width:n.width,height:n.height}),t.next=8;break;case 7:r(new mC(pC.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));case 8:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)}),t,0>A?.1:1<A?1:A)}))),e.next=11;break;case 8:return e.next=10,pQ(t);case 10:e.t0=e.sent;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"destroy",value:function(){HB.off(Xf.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),HB.off(Xf.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=LB.VideoStateStopped}},{key:"initVideoElement",value:function(){var e=this;if(this.videoElementStatus=OB.INIT,!this.videoElementCheckInterval&&(QQ.forEach((function(t){e.videoElement.addEventListener(t,e.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((function(){var t=e.videoElement;t!==document.body&&document.body.contains(t)||(e.videoElementStatus=OB.DESTROYED)}),1e3),Th.ENABLE_VIDEO_FRAME_CALLBACK)){var t,A,n,r=function t(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e.videoElementFreezeTimeout=window.setTimeout(i,Th.VIDEO_FREEZE_DURATION))},i=function(){e.videoElementFreezeTimeout=void 0,e.videoState===LB.VideoStateDecoding&&("visible"===document.visibilityState?e.videoState=LB.VideoStateFrozen:document.addEventListener("visibilitychange",r))},o=function t(A,r){if(e.videoElementStatus===OB.PLAYING){if(n){var o=r.presentationTime-n.presentationTime;e.videoState===LB.VideoStateStarting&&(e.videoState=LB.VideoStateDecoding),e.videoState===LB.VideoStateDecoding&&e.onVideoStateChanged&&(e.videoElementFreezeTimeout&&window.clearTimeout(e.videoElementFreezeTimeout),e.videoElementFreezeTimeout=window.setTimeout(i,Th.VIDEO_FREEZE_DURATION)),o<Th.VIDEO_FREEZE_DURATION&&e.videoState===LB.VideoStateFrozen&&(e.videoState=LB.VideoStateDecoding),o>Th.VIDEO_FREEZE_DURATION&&DQ.lastVisibleTime>=DQ.lastHiddenTime&&n.timestamp>DQ.lastVisibleTime&&n.timestamp>DQ.lastHiddenTime&&(e.renderFreezeAccTime+=o)}n=Mn(Mn({},r),{},{timestamp:A})}var a,s;Th.ENABLE_VIDEO_FRAME_CALLBACK&&(null===(a=(s=e.videoElement).requestVideoFrameCallback)||void 0===a||a.call(s,t))};null===(t=(A=this.videoElement).requestVideoFrameCallback)||void 0===t||t.call(A,o)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),ee().os===cC.ANDROID&&(this.videoElement.poster="noposter"),"Safari"===(t=ee()).name&&15===Number(t.version)||le()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,oe()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,oe()&&this.videoElement.load()),void 0!==(t=this.videoElement.play())&&t.catch((function(t){qh.debug("[".concat(e.trackId,"] playback interrupted"),t.toString())}))}},{key:"resetVideoElement",value:function(){var e=this;QQ.forEach((function(t){e.videoElement&&e.videoElement.removeEventListener(t,e.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=OB.NONE}},{key:"handleAutoPlayFailed",value:function(){var e=this,t=function t(A){A.preventDefault(),e.videoElement.play().then((function(){qh.debug("[".concat(e.trackId,"] Video element for trackId:").concat(e.trackId," autoplay resumed."))})).catch((function(e){qh.error(e)})),e.autoplayFailed=!1,Be()?document.body.removeEventListener("click",t,!0):(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0))};Be()?document.body.addEventListener("click",t,!0):(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)),yn()}}]),e}(),QQ="play playing loadeddata canplay pause stalled suspend waiting abort emptied ended timeupdate error".split(" "),yQ=function(e){function t(e){zb(this,t);var A=n.call(this,e);return Z(V(A),"container",void 0),Z(V(A),"slot",void 0),A.slot=e.element,A.updateConfig(e),A}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"updateConfig",value:function(e){this.config=e,this.trackId=e.trackId,(e=e.element)!==this.slot&&(this.destroy(),this.slot=e),this.createElements()}},{key:"updateVideoTrack",value:function(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}},{key:"play",value:function(e){var A;null!==(A=this.container)&&void 0!==A&&A.contains(this.videoElement)&&Ce(je(t.prototype),"play",this).call(this,e)}},{key:"getCurrentFrame",value:function(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?Ce(je(t.prototype),"getCurrentFrame",this).call(this):new ImageData(2,2)}},{key:"getCurrentFrameToUint8Array",value:(A=pa(O.mark((function e(A){var n,r,i=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=1<i.length&&void 0!==i[1]?i[1]:1,null===(n=this.container)||void 0===n||!n.contains(this.videoElement)){e.next=7;break}return e.next=4,Ce(je(t.prototype),"getCurrentFrameToUint8Array",this).call(this,A,r);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,pQ(A);case 9:e.t0=e.sent;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"destroy",value:function(){if(Ce(je(t.prototype),"destroy",this).call(this),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}}},{key:"createElements",value:function(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",Th.KEEP_LAST_FRAME&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}},{key:"mountedVideoElement",value:function(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),Ce(je(t.prototype),"initVideoElement",this).call(this),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}},{key:"unmountedVideoElement",value:function(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){Ce(je(t.prototype),"resetVideoElement",this).call(this);try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement("video")}}},{key:"resetVideoElement",value:function(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(Ce(je(t.prototype),"resetVideoElement",this).call(this),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}},{key:"getContainerElement",value:function(){return this.container}}]),t}(BQ),vQ=function(){var e=pa(O.mark((function e(t,A,n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){for(var t=[],A=0;A<e.length;A+=2)t.push(parseInt(e.slice(A,A+2),16));return Uint8Array.from(t)}(function(e){function t(e){var t,A="";for(t=0;3>=t;t++)A+="0123456789abcdef".charAt(e>>8*t+4&15)+"0123456789abcdef".charAt(e>>8*t&15);return A}function A(e,t){var A=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(A>>16)<<16|65535&A}function n(e,t,n,r,i,o){return e=A(A(t,e),A(r,o)),A(e<<i|e>>>32-i,n)}function r(e,t,A,r,i,o,a){return n(t&A|~t&r,e,t,i,o,a)}function i(e,t,A,r,i,o,a){return n(t&r|A&~r,e,t,i,o,a)}function o(e,t,A,r,i,o,a){return n(A^(t|~r),e,t,i,o,a)}e=function(e){var t,A=1+(e.length+8>>6),n=Array(16*A);for(t=0;t<16*A;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*A-2]=8*e.length,n}(e);var a,s=1732584193,c=-271733879,u=-1732584194,g=271733878;for(a=0;a<e.length;a+=16){var I=s,l=c,E=u,C=g;s=r(s,c,u,g,e[a+0],7,-680876936),g=r(g,s,c,u,e[a+1],12,-389564586),u=r(u,g,s,c,e[a+2],17,606105819),c=r(c,u,g,s,e[a+3],22,-1044525330),s=r(s,c,u,g,e[a+4],7,-176418897),g=r(g,s,c,u,e[a+5],12,1200080426),u=r(u,g,s,c,e[a+6],17,-1473231341),c=r(c,u,g,s,e[a+7],22,-45705983),s=r(s,c,u,g,e[a+8],7,1770035416),g=r(g,s,c,u,e[a+9],12,-1958414417),u=r(u,g,s,c,e[a+10],17,-42063),c=r(c,u,g,s,e[a+11],22,-1990404162),s=r(s,c,u,g,e[a+12],7,1804603682),g=r(g,s,c,u,e[a+13],12,-40341101),u=r(u,g,s,c,e[a+14],17,-1502002290),s=i(s,c=r(c,u,g,s,e[a+15],22,1236535329),u,g,e[a+1],5,-165796510),g=i(g,s,c,u,e[a+6],9,-1069501632),u=i(u,g,s,c,e[a+11],14,643717713),c=i(c,u,g,s,e[a+0],20,-373897302),s=i(s,c,u,g,e[a+5],5,-701558691),g=i(g,s,c,u,e[a+10],9,38016083),u=i(u,g,s,c,e[a+15],14,-660478335),c=i(c,u,g,s,e[a+4],20,-405537848),s=i(s,c,u,g,e[a+9],5,568446438),g=i(g,s,c,u,e[a+14],9,-1019803690),u=i(u,g,s,c,e[a+3],14,-187363961),c=i(c,u,g,s,e[a+8],20,1163531501),s=i(s,c,u,g,e[a+13],5,-1444681467),g=i(g,s,c,u,e[a+2],9,-51403784),u=i(u,g,s,c,e[a+7],14,1735328473),s=n((c=i(c,u,g,s,e[a+12],20,-1926607734))^u^g,s,c,e[a+5],4,-378558),g=n(s^c^u,g,s,e[a+8],11,-2022574463),u=n(g^s^c,u,g,e[a+11],16,1839030562),c=n(u^g^s,c,u,e[a+14],23,-35309556),s=n(c^u^g,s,c,e[a+1],4,-1530992060),g=n(s^c^u,g,s,e[a+4],11,1272893353),u=n(g^s^c,u,g,e[a+7],16,-155497632),c=n(u^g^s,c,u,e[a+10],23,-1094730640),s=n(c^u^g,s,c,e[a+13],4,681279174),g=n(s^c^u,g,s,e[a+0],11,-358537222),u=n(g^s^c,u,g,e[a+3],16,-722521979),c=n(u^g^s,c,u,e[a+6],23,76029189),s=n(c^u^g,s,c,e[a+9],4,-640364487),g=n(s^c^u,g,s,e[a+12],11,-421815835),u=n(g^s^c,u,g,e[a+15],16,530742520),s=o(s,c=n(u^g^s,c,u,e[a+2],23,-995338651),u,g,e[a+0],6,-198630844),g=o(g,s,c,u,e[a+7],10,1126891415),u=o(u,g,s,c,e[a+14],15,-1416354905),c=o(c,u,g,s,e[a+5],21,-57434055),s=o(s,c,u,g,e[a+12],6,1700485571),g=o(g,s,c,u,e[a+3],10,-1894986606),u=o(u,g,s,c,e[a+10],15,-1051523),c=o(c,u,g,s,e[a+1],21,-2054922799),s=o(s,c,u,g,e[a+8],6,1873313359),g=o(g,s,c,u,e[a+15],10,-30611744),u=o(u,g,s,c,e[a+6],15,-1560198380),c=o(c,u,g,s,e[a+13],21,1309151649),s=o(s,c,u,g,e[a+4],6,-145523070),g=o(g,s,c,u,e[a+11],10,-1120210379),u=o(u,g,s,c,e[a+2],15,718787259),c=o(c,u,g,s,e[a+9],21,-343485551),s=A(s,I),c=A(c,l),u=A(u,E),g=A(g,C)}return t(s)+t(c)+t(u)+t(g)}(""+A+n)).slice(0,16),i=r.slice(0,12),e.next=4,window.crypto.subtle.importKey("raw",r,"AES-GCM",!0,["encrypt"]);case 4:return o=e.sent,e.t0=Uint8Array,e.next=8,window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},o,t);case 8:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 10:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}(),mQ=function(){var e=pa(O.mark((function e(t,A,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vQ(t.buffer,A,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}(),_Q=function(e){function t(e,A,r,i,o,a){var s,c,u,g,I;if(zb(this,t),Z(V(s=n.call(this,e,o)),"trackMediaType","video"),Z(V(s),"_player",void 0),Z(V(s),"isUseScaleResolutionDownBy",!1),Z(V(s),"_videoVisibleTimer",null),Z(V(s),"_statsTimer",null),Z(V(s),"_previousVideoVisibleStatus",void 0),Z(V(s),"_clearPreviousVideoVisibleStatus",(function(){return s._previousVideoVisibleStatus=void 0})),Z(V(s),"_encoderConfig",void 0),Z(V(s),"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),Z(V(s),"_optimizationMode",void 0),Z(V(s),"_videoHeight",void 0),Z(V(s),"_videoWidth",void 0),Z(V(s),"_forceBitrateLimit",void 0),Z(V(s),"_enabled",!0),Z(V(s),"processorDestination",void 0),Z(V(s),"_processorContext",void 0),ie()){var l=(o=e.getSettings()).height;s._videoWidth=o.width,s._videoHeight=l}else s.updateMediaStreamTrackResolution();return s._encoderConfig=A,s._scalabilityMode=r,s._optimizationMode=i,s._hints=a||[],-1===s._hints.indexOf(CB.SCREEN_TRACK)?s.updateBitrateFromProfile():(c=uC.CHROME,u=115,(I=ee()).name===c&&I.osVersion&&(g?Number(I.version)>=u&&Number(I.version)<=g:Number(I.version)===u)&&-1!==ee().os.indexOf("Windows")&&(e=function(e,t){if("VideoFrame"in window&&"TransformStream"in window&&lB.supportWebRTCInsertableStream){var A,n,r=new MediaStreamTrackProcessor(e),i=new MediaStreamTrackGenerator({kind:"video"}),o=Date.now(),a=function t(){s&&(clearInterval(s),s=void 0),A&&(A.close(),A=void 0),e.stop(),n=void 0,i.removeEventListener("ended",t)},s=window.setInterval((function(){if(n&&A&&Date.now()-o>(null!=t?t:1e3))try{"live"===i.readyState?n.enqueue(A.clone()):a()}catch(e){a()}}),null!=t?t:1e3),c=new TransformStream({transform:function(e,t){"live"===i.readyState?(n=t,o=Date.now(),void 0===A?(A=e,t.enqueue(e.clone())):(t.enqueue(A),A=e)):e.close()}});return i.addEventListener("ended",a),r.readable.pipeThrough(c).pipeTo(i.writable),i}}(e))&&(qh.info("local screen video track begin to inject frame"),s._mediaStreamTrack=e)),A&&-1!==s._hints.indexOf(CB.CUSTOM_TRACK)&&s.setEncoderConfiguration(A),s._processorContext=new aQ(s.getTrackId(),"local"),s.processorDestination=new oQ(s.processorContext),s.bindProcessorDestinationEvents(),aw(s)}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"isPlaying",get:function(){return!(!this._player||this._player.videoElementStatus!==OB.PLAYING)}},{key:"processorContext",get:function(){return this._processorContext},set:function(e){this._processorContext=e}},{key:"__className__",get:function(){return"LocalVideoTrack"}},{key:"play",value:function(e){var t=this,A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){var n=document.getElementById(e);n?e=n:(qh.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}qh.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(A)),A=Pn(Pn(Pn({},this._getDefaultPlayerConfig()),A),{},{trackId:this.getTrackId(),element:e}),this._player?this._player.updateConfig(A):(e instanceof HTMLVideoElement?this._player=new BQ(A):this._player=new yQ(A),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((function(){try{var e=t.getVideoElementVisibleStatus();t.safeEmit(BB.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),Th.CHECK_VIDEO_VISIBLE_INTERVAL)}},{key:"stop",value:function(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._statsTimer&&(this.isUseScaleResolutionDownBy=!1,window.clearInterval(this._statsTimer),this._statsTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,qh.debug("[".concat(this.getTrackId(),"] stop video playback")))}},{key:"setEnabled",value:(A=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:if(qh.info("[".concat(this.getTrackId(),"] start setEnabled"),t),t){e.next=15;break}return this._originMediaStreamTrack.enabled=!1,e.prev=6,e.next=9,Ue(this,EB.NEED_DISABLE_TRACK,this);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),qh.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t0.toString()),e.t0;case 14:return e.abrupt("return",(A||(this._enabled=!1),void qh.info("[".concat(this.getTrackId(),"] setEnabled to false success"))));case 15:return this._originMediaStreamTrack.enabled=!0,e.prev=16,e.next=19,Ue(this,EB.NEED_ENABLE_TRACK,this);case 19:e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(16),qh.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.t1.toString()),e.t1;case 24:qh.info("[".concat(this.getTrackId(),"] setEnabled to true success")),A||(this._enabled=!0);case 25:case"end":return e.stop()}}),e,this,[[6,11],[16,21]])}))),function(e,t){return A.apply(this,arguments)})},{key:"setMuted",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==this._muted,!e.t0){e.next=13;break}if(this.stateCheck("muted",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,qh.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(t)),!t){e.next=11;break}return e.next=9,Ue(this,EB.NEED_MUTE_TRACK,this);case 9:e.next=13;break;case 11:return e.next=13,Ue(this,EB.NEED_UNMUTE_TRACK,this);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setEncoderConfiguration",value:function(){var e=pa(O.mark((function e(t,A){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._enabled){e.next=2;break}throw new mC(pC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");case 2:if("720p_auto"===t?this.startMonitorStats():this._statsTimer&&(window.clearInterval(this._statsTimer),this._statsTimer=null),t=ZA(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),!(t.width||t.height||t.frameRate)){e.next=15;break}return n=kn({encoderConfig:t}),(ie()||ae()||he())&&(n.deviceId=void 0),qh.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(t),JSON.stringify(n)),e.prev=5,e.next=8,this._originMediaStreamTrack.applyConstraints(n);case 8:this.updateMediaStreamTrackResolution(),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),r=new mC(pC.UNEXPECTED_ERROR,e.t0.toString()),qh.error("[".concat(this.getTrackId(),"] applyConstraints error"),r.toString()),r;case 15:return this._encoderConfig=t,-1===this._hints.indexOf(CB.SCREEN_TRACK)&&this.updateBitrateFromProfile(),e.prev=16,e.next=19,Ue(this,EB.NEED_UPDATE_VIDEO_ENCODER,this);case 19:e.next=24;break;case 21:return e.prev=21,e.t1=e.catch(16),e.abrupt("return",e.t1.throw(qh));case 24:case"end":return e.stop()}}),e,this,[[5,11],[16,21]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getStats",value:function(){return He((function(){qh.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning"),xe(this,EB.GET_STATS)||Pn({},UB)}},{key:"setBeautyEffect",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qh.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentFrameData",value:function(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}},{key:"getCurrentFrameImage",value:function(){var e=pa(O.mark((function e(t){var A,n=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=1<n.length&&void 0!==n[1]?n[1]:1,!this._player){e.next=5;break}e.t0=this._player.getCurrentFrameToUint8Array(t,A),e.next=8;break;case 5:return e.next=7,pQ(t);case 7:e.t0=e.sent;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setBitrateLimit",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(t))),!t){e.next=10;break}return this._forceBitrateLimit=t,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<t.max_bitrate?this._encoderConfig.bitrateMax:t.max_bitrate:this._encoderConfig.bitrateMax=t.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=t.min_bitrate),e.prev=2,e.next=5,Ue(this,EB.NEED_UPDATE_VIDEO_ENCODER,this);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",e.t0.throw(qh));case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setOptimizationMode",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("motion"===t||"detail"===t||"balanced"===t){e.next=2;break}return e.abrupt("return",void qh.error(pC.INVALID_PARAMS,"optimization mode must be motion, detail or balanced"));case 2:return A=this._optimizationMode,e.prev=3,this._optimizationMode=t,e.next=7,Ue(this,EB.SET_OPTIMIZATION_MODE,this);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),this._optimizationMode=A,qh.error("[".concat(this.getTrackId(),"] set optimization mode failed"),e.t0.toString()),e.t0;case 12:qh.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(t,")"));case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setScalabiltyMode",value:function(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return qh.error(pC.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,qh.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")"))}},{key:"updateMediaStreamTrackResolution",value:function(){var e=this;Un(this._originMediaStreamTrack).then((function(t){var A=(t=Lb(t,2))[0];e._videoHeight=t[1],e._videoWidth=A})).catch(WC)}},{key:"_updatePlayerSource",value:function(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}},{key:"_getDefaultPlayerConfig",value:function(){return{fit:"contain"}}},{key:"setSenderConfiguration",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._enabled){e.next=2;break}throw new mC(pC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");case 2:return qh.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(t)),t=ZA(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),this._encoderConfig=t,-1===this._hints.indexOf(CB.SCREEN_TRACK)&&this.updateBitrateFromProfile(),e.prev=3,e.next=6,Ue(this,EB.NEED_UPDATE_VIDEO_ENCODER,this);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",e.t0.throw(qh));case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateBitrateFromProfile",value:function(){var e;if(this._encoderConfig){var t=this.getMediaStreamTrackSettings(),A=t.width,n=t.height;if(t=t.frameRate,A&&n&&t){null==this._encoderConfig.frameRate&&(this._encoderConfig.frameRate=t);var r=this._encoderConfig,i=r.bitrateMax;if(null==(r=r.bitrateMin)||null==i){var o=Th.BITRATE_ADAPTER_TYPE;if("DEFAULT_BITRATE"!==o)if(void 0===i){var a=Math.floor(200*Math.pow(t/15,.6)*Math.pow(A*n/640/360,.75));i="STANDARD_BITRATE"===o?4*a:2*a,r=null!==(e=r)&&void 0!==e?e:a}else r=null!==(a=r)&&void 0!==a?a:Math.floor(i/10);e=r,a=i,this._encoderConfig.bitrateMin=e,this._encoderConfig.bitrateMax=a,qh.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(A,", h: ").concat(n,", fps: ").concat(t,"] => [brMax: ").concat(a,", brMin: ").concat(e,"]"))}}}}},{key:"getVideoElementVisibleStatus",value:function(){try{var e,t,A=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n=null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),r=null==A?void 0:A.parentElement;if(this.isPlaying&&n instanceof HTMLVideoElement&&r instanceof HTMLElement){var i=TC.checkOneElementVisible(n),o=Object.assign({},i);if(o.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=o.visible;var a=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});o.visible?a.onSuccess("Video is visible"):a.onSuccess("Invisible because of ".concat(o.reason))}return o}}catch(e){throw new mC(pC.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}},{key:"renewMediaStreamTrack",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"pipe",value:function(e){if(this.processor===e)return e;if(e._source)throw new mC(pC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}},{key:"unpipe",value:function(){if(this.processor){var e=this.processor;this.processor=this.processor._source=void 0,e.reset()}}},{key:"close",value:function(){Ce(je(t.prototype),"close",this).call(this),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}},{key:"clone",value:function(e){var A=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this._encoderConfig;e&&(n=Pn(Pn({},n),ZA(e))),n=qe(n);var r=At(8,"track-video-cloned-"),i=new t(A?this._mediaStreamTrack.clone():this._mediaStreamTrack,n,qe(this._scalabilityMode),this._optimizationMode,r,qe(this._hints));return e&&n&&i.setEncoderConfiguration(n),qh.debug("clone video track from ".concat(this.getTrackId()," to ").concat(r,", clone ").concat(A)),i}},{key:"replaceTrack",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof MediaStreamTrack){e.next=2;break}throw new mC(pC.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");case 2:if("video"===t.kind){e.next=4;break}throw new mC(pC.INVALID_PARAMS,"track should be a video MediaStreamTrack");case 4:return e.next=6,this._updateOriginMediaStreamTrack(t,A,!0);case 6:this.updateMediaStreamTrackResolution();case 7:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"startMonitorStats",value:function(){var e=this;if(ie()||ae()){this._statsTimer&&window.clearInterval(this._statsTimer);var t=2,A=_B[t],n=-1,r=Date.now(),i=function(t){2<t||0>t||(r=Date.now(),A=_B[t],e.setSenderConfiguration(A))};this.isUseScaleResolutionDownBy=!0,this._statsTimer=window.setInterval((function(){var o=e.getStats(),a=xe(e,EB.GET_RTC_STATS);if(0<o.sendPackets&&a){-1===n&&(n=Date.now());var s=Date.now();if(!(1e3>s-n||s-r<Th.PROFILE_SWITCH_INTERVAL)){o=o.sendFrameRate,s=.6*A.frameRate;var c=.9*A.frameRate;"number"==typeof o&&0<o&&o<s?0<t&&(t--,i(t),qh.debug("[".concat(e.getTrackId(),"] step down for fps ").concat(o,", switchProfile to ").concat(t))):a.OutgoingAvailableBandwidth<A.bitrateMin?0<t&&(t--,i(t),qh.debug("[".concat(e.getTrackId(),"] step down for OutgoingAvailableBandwidth ").concat(a.OutgoingAvailableBandwidth,", bitrateMin ").concat(A.bitrateMin,", switchProfile to ").concat(t))):"number"==typeof o&&o>c&&t<_B.length-1&&a.OutgoingAvailableBandwidth>1.2*_B[t+1].bitrateMin&&(t++,i(t),qh.debug("[".concat(e.getTrackId(),"] step up for fps ").concat(o,", OutgoingAvailableBandwidth ").concat(a.OutgoingAvailableBandwidth,", switchProfile to ").concat(t)))}}}),Th.CHECK_LOCAL_STATS_INTERVAL)}}},{key:"sendSeiData",value:function(e){if(He((function(){$h.reportApiInvoke(null,{name:_C.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:bC.TRACER}).onSuccess("")}),this._mediaStreamTrack.id||this.getTrackId()),Th.ENABLE_VIDEO_SEI&&Th.ENABLE_ENCODED_TRANSFORM){if(0==e instanceof Uint8Array)return new mC(pC.INVALID_PARAMS,"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.").throw();var t=this.getRTCRtpTransceiver();t?0!==(t=t.sender.getParameters()).codecs.length&&("video/h264"===(t=t.codecs[0].mimeType.toLocaleLowerCase())?this.safeEmit("sei-to-send",e):qh.warning("SEI is not supported by ".concat(t))):qh.warning("Video track is not published, SEI can not be send")}else qh.warning('To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient')}},{key:"bindProcessorDestinationEvents",value:function(){var e,t=this;this.processorDestination.on(DB.ON_TRACK,(e=pa(O.mark((function e(A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=9;break}if(e.t0=A!==t._mediaStreamTrack,!e.t0){e.next=7;break}return t._mediaStreamTrack=A,t._updatePlayerSource(),e.next=7,Ue(t,EB.NEED_REPLACE_TRACK,t);case 7:e.next=15;break;case 9:if(e.t1=t._mediaStreamTrack!==t._originMediaStreamTrack,!e.t1){e.next=15;break}return t._mediaStreamTrack=t._originMediaStreamTrack,t._updatePlayerSource(),e.next=15,Ue(t,EB.NEED_REPLACE_TRACK,t);case 15:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}))}},{key:"unbindProcessorDestinationEvents",value:function(){this.processorDestination.removeAllListeners(DB.ON_TRACK)}},{key:"unbindProcessorContextEvents",value:function(){this.processorContext.removeAllListeners(kB.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(kB.REQUEST_CONSTRAINTS)}}]),t}(YB);Ht([Jt({argsMap:function(e,t,A){return[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",A]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Object,Object]),jt("design:returntype",void 0)],_Q.prototype,"play",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],_Q.prototype,"stop",null),Ht([ot("LocalVideoTrack","_enabledMutex"),Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Boolean,Boolean]),jt("design:returntype",IC)],_Q.prototype,"setEnabled",null),Ht([ot("LocalVideoTrack","_enabledMutex"),Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Boolean]),jt("design:returntype",IC)],_Q.prototype,"setMuted",null),Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Object,Boolean]),jt("design:returntype",IC)],_Q.prototype,"setEncoderConfiguration",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",Object)],_Q.prototype,"getStats",null),Ht([Jt({argsMap:function(e,t,A){return[e.getTrackId(),t,A]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Boolean,Object]),jt("design:returntype",IC)],_Q.prototype,"setBeautyEffect",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",ImageData)],_Q.prototype,"getCurrentFrameData",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[String,Number]),jt("design:returntype",IC)],_Q.prototype,"getCurrentFrameImage",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],_Q.prototype,"setBitrateLimit",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],_Q.prototype,"setOptimizationMode",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",void 0)],_Q.prototype,"setScalabiltyMode",null),Ht([bn(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],_Q.prototype,"updateMediaStreamTrackResolution",null),Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t.name]}}),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",Object)],_Q.prototype,"pipe",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],_Q.prototype,"unpipe",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],_Q.prototype,"close",null),Ht([Jt({argsMap:function(e,t,A){return[e.getTrackId(),t.label,A]}}),jt("design:type",Function),jt("design:paramtypes",[MediaStreamTrack,Boolean]),jt("design:returntype",IC)],_Q.prototype,"replaceTrack",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],_Q.prototype,"startMonitorStats",null);var bQ=function(e){function t(e,A,r,i,o,a){zb(this,t);var s=n.call(this,e,ZA(A.encoderConfig),i,o,a);return Z(V(s),"_config",void 0),Z(V(s),"_originalConstraints",void 0),Z(V(s),"_constraints",void 0),Z(V(s),"_enabled",!0),Z(V(s),"_deviceName","default"),Z(V(s),"tryResumeVideoForIOS15_16WeChat",pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var t;if((t=le()||Ee())&&((t=ee()).os===cC.IOS&&t.osVersion?(t=t.osVersion.split("."),t=15===Number(t[0])&&2<=Number(t[1])):t=!1,t=!t),e.t0=t&&ee().name===uC.WECHAT&&s._enabled&&!s._isClosed,!e.t0){e.next=5;break}return qh.debug("[".concat(s.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),e.next=5,s.renewMediaStreamTrack();case 5:case"end":return e.stop()}}),e)})))),s._config=A,s._originalConstraints=r,s._constraints=r,s._deviceName=e.label,s._encoderConfig=ZA(s._config.encoderConfig),HB.on(Xf.IOS_15_16_INTERRUPTION_END,s.tryResumeVideoForIOS15_16WeChat),HB.on(Xf.IOS_INTERRUPTION_END,s.tryResumeVideoForIOS15_16WeChat),s.bindProcessorContextEvents(),s}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"__className__",get:function(){return"CameraVideoTrack"}},{key:"setDevice",value:(A=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","string"==typeof t?this._setDeviceById(t):t.deviceId?this._setDeviceById(t.deviceId):t.facingMode?this._setDeviceByFacingModel(t.facingMode):void 0);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"_setDeviceById",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.info("[".concat(this.getTrackId(),"] set device to ").concat(t)),!this._enabled){e.next=36;break}return e.prev=1,e.next=4,tQ.getDeviceById(t);case 4:return A=e.sent,(n={}).video=Pn({},this._constraints),n.video.deviceId={exact:t},n.video.facingMode=void 0,this._originMediaStreamTrack.stop(),r=null,e.prev=8,e.next=11,dn(n,this.getTrackId());case 11:r=e.sent,e.next=23;break;case 14:return e.prev=14,e.t0=e.catch(8),qh.error("[".concat(this.getTrackId(),"] setDevice failed"),e.t0.toString()),e.next=19,dn({video:this._constraints},this.getTrackId());case 19:return r=e.sent,e.next=22,this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1);case 22:throw e.t0;case 23:return e.next=25,this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1);case 25:this.updateMediaStreamTrackResolution(),this._deviceName=A.label,this._config.cameraId=t,this._constraints.deviceId={exact:t},e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(1),qh.error("[".concat(this.getTrackId(),"] setDevice error"),e.t1.toString()),e.t1;case 34:e.next=46;break;case 36:return e.prev=36,e.next=39,tQ.getDeviceById(t);case 39:i=e.sent,this._deviceName=i.label,this._config.cameraId=t,this._constraints.deviceId={exact:t},e.next=46;break;case 43:throw e.prev=43,e.t2=e.catch(36),qh.error("[".concat(this.getTrackId(),"] setDevice error"),e.t2.toString()),e.t2;case 46:qh.info("[".concat(this.getTrackId(),"] setDevice success"));case 47:case"end":return e.stop()}}),e,this,[[1,31],[8,14],[36,43]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_setDeviceByFacingModel",value:function(){var e=pa(O.mark((function e(t){var A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.info("[".concat(this.getTrackId(),"] set facingMode ").concat(t)),A={video:Pn(Pn({},this._constraints),{},{deviceId:void 0,facingMode:{exact:t}})},!this._enabled){e.next=23;break}return this._originMediaStreamTrack.stop(),n=null,e.prev=5,e.next=8,dn(A,this.getTrackId());case 8:n=e.sent,e.next=20;break;case 11:return e.prev=11,e.t0=e.catch(5),qh.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),e.t0.toString()),e.next=16,dn({video:this._constraints},this.getTrackId());case 16:return n=e.sent,e.next=19,this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1);case 19:throw e.t0;case 20:return e.next=22,this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1);case 22:this.updateMediaStreamTrackResolution();case 23:this._deviceName="",this._config.facingMode=t,this._config.cameraId=void 0,this._constraints=Pn({},A.video),qh.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"));case 24:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setEnabled",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:if(qh.info("[".concat(this.getTrackId(),"] start setEnabled"),t),!t){e.next=25;break}if(e.prev=5,!this.isExternalTrack){e.next=10;break}this._originMediaStreamTrack.enabled=!0,e.next=15;break;case 10:return e.next=12,dn({video:this._constraints},this.getTrackId());case 12:return n=e.sent,e.next=15,this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1);case 15:return e.next=17,Ue(this,EB.NEED_ENABLE_TRACK,this);case 17:e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(5),qh.error("[".concat(this.getTrackId(),"] setEnabled true error"),e.t0.toString()),e.t0;case 22:this.updateMediaStreamTrackResolution(),qh.info("[".concat(this.getTrackId(),"] setEnabled to true success")),A||(this._enabled=!0),e.next=35;break;case 25:return this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),A||(this._enabled=!1),e.prev=26,e.next=29,Ue(this,EB.NEED_DISABLE_TRACK,this);case 29:e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(26),qh.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t1.toString()),e.t1;case 34:qh.info("[".concat(this.getTrackId(),"] setEnabled to false success"));case 35:case"end":return e.stop()}}),e,this,[[5,19],[26,31]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setEncoderConfiguration",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._enabled){e.next=2;break}throw new mC(pC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");case 2:return"720p_auto"===t?this.startMonitorStats():this._statsTimer&&(window.clearInterval(this._statsTimer),this._statsTimer=null),t=ZA(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),(n=Je(this._config)).encoderConfig=t,r=kn(n),(ie()||ae()||he())&&(r.deviceId=void 0),qh.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(t),JSON.stringify(r)),e.prev=7,e.next=10,this._originMediaStreamTrack.applyConstraints(r);case 10:this.updateMediaStreamTrackResolution(),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(7),i=new mC(pC.UNEXPECTED_ERROR,e.t0.toString()),qh.error("[".concat(this.getTrackId(),"] applyConstraints error"),i.toString()),i;case 17:return this._config=n,this._originalConstraints=this._constraints=r,this._encoderConfig=t,-1===this._hints.indexOf(CB.SCREEN_TRACK)&&this.updateBitrateFromProfile(),e.prev=18,e.next=21,Ue(this,EB.NEED_UPDATE_VIDEO_ENCODER,this);case 21:e.next=26;break;case 23:return e.prev=23,e.t1=e.catch(18),e.abrupt("return",e.t1.throw(qh));case 26:case"end":return e.stop()}}),e,this,[[7,13],[18,23]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"_getDefaultPlayerConfig",value:function(){return{mirror:!0,fit:"cover"}}},{key:"onTrackEnded",value:function(){var e,t=this;if((ae()||he())&&this._enabled&&!this._isClosed&&HB.duringInterruption){var A=(e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HB.off(Xf.IOS_INTERRUPTION_END,A),e.t0=t._enabled&&!t._isClosed,!e.t0){e.next=8;break}return qh.debug("[".concat(t.getTrackId(),"] try capture camera media device for interrupted iOS device.")),e.next=6,t.setEnabled(!1);case 6:return e.next=8,t.setEnabled(!0);case 8:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)});HB.on(Xf.IOS_INTERRUPTION_END,A)}else qh.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(BB.TRACK_ENDED)}},{key:"renewMediaStreamTrack",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=t||this._constraints,(n=tQ.searchDeviceIdByName(this._deviceName))&&!A.deviceId&&(A.deviceId={exact:n}),!this._enabled){e.next=9;break}return e.next=4,dn({video:A},this.getTrackId());case 4:return r=e.sent,this._constraints=A,e.next=8,this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!0);case 8:this.updateMediaStreamTrackResolution();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){Ce(je(t.prototype),"close",this).call(this),HB.off(Xf.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),HB.off(Xf.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}},{key:"clone",value:function(e){var A=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this._encoderConfig;e&&(n=Pn(Pn({},n),ZA(e))),n=qe(n);var r=At(8,"track-cam-cloned-"),i=new t(A?this._mediaStreamTrack.clone():this._mediaStreamTrack,qe(Pn(Pn({},this._config),{},{encoderConfig:n})),qe(this._constraints),qe(this._scalabilityMode),this._optimizationMode,r);return e&&n&&i.setEncoderConfiguration(n),qh.debug("clone track from ".concat(this.getTrackId()," to ").concat(r,", clone ").concat(A)),i}},{key:"bindProcessorContextEvents",value:function(){var e,t=this;this.processorContext.on(kB.REQUEST_UPDATE_CONSTRAINTS,(e=pa(O.mark((function e(A,n,r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Object.assign.apply(Object,[{},t._originalConstraints].concat(rb(A))),e.next=4,t.renewMediaStreamTrack(i);case 4:n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(t,A,n){return e.apply(this,arguments)})),this.processorContext.on(kB.REQUEST_CONSTRAINTS,function(){var e=pa(O.mark((function e(A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t._originMediaStreamTrack.getSettings());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),t}(_Q);Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],bQ.prototype,"setDevice",null),Ht([ot("CameraVideoTrack","_enabledMutex"),Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Boolean,Boolean]),jt("design:returntype",IC)],bQ.prototype,"setEnabled",null),Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),bn(),jt("design:type",Function),jt("design:paramtypes",[Object,Boolean]),jt("design:returntype",IC)],bQ.prototype,"setEncoderConfiguration",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],bQ.prototype,"close",null);var RQ=function(e){function t(e,n,r,i){return zb(this,t),Z(V(e=A.call(this,e,"track-".concat(e.kind,"-").concat(n,"-").concat(i.clientId,"_").concat(At(5,"")))),"_userId",void 0),Z(V(e),"_uintId",void 0),Z(V(e),"_isDestroyed",!1),Z(V(e),"store",void 0),Z(V(e),"processor",void 0),e._userId=n,e._uintId=r,e.store=i,e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"getUserId",value:function(){return this._userId}},{key:"_updateOriginMediaStreamTrack",value:function(e){this._mediaStreamTrack=this._originMediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}},{key:"_destroy",value:function(){this._isDestroyed=!0,qh.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),Ce(je(t.prototype),"close",this).call(this)}},{key:"getProcessorStats",value:function(){return this.processorContext.gatherStats()}},{key:"getProcessorUsage",value:function(){return this.processorContext.gatherUsage()}}]),t}(VB),SQ=function(e){function t(e,n,r,i){zb(this,t);var o=A.call(this,e,n,r,i);return Z(V(o),"_videoVisibleTimer",null),Z(V(o),"_previousVideoVisibleStatus",void 0),Z(V(o),"_clearPreviousVideoVisibleStatus",(function(){return o._previousVideoVisibleStatus=void 0})),Z(V(o),"trackMediaType","video"),Z(V(o),"_videoWidth",void 0),Z(V(o),"_videoHeight",void 0),Z(V(o),"_player",void 0),Z(V(o),"processorDestination",void 0),Z(V(o),"processorContext",void 0),o.updateMediaStreamTrackResolution(),o.processorContext=new aQ(o.getTrackId(),"remote"),o.processorDestination=new oQ(o.processorContext),o.bindProcessorDestinationEvents(),o}Zb(t,e);var A=$b(t);return Ib(t,[{key:"isPlaying",get:function(){return!(!this._player||this._player.videoElementStatus!==OB.PLAYING)}},{key:"__className__",get:function(){return"RemoteVideoTrack"}},{key:"getStats",value:function(){return He((function(){qh.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),xe(this,EB.GET_STATS)||Yn({},GB)}},{key:"play",value:function(e){var t=this,A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){var n=document.getElementById(e);n?e=n:(qh.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}qh.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(A)),A=Yn(Yn({fit:"cover"},A),{},{trackId:this.getTrackId(),element:e}),this._player?this._player.updateConfig(A):(e instanceof HTMLVideoElement?this._player=new BQ(A):this._player=new yQ(A),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=function(){t.store.subscribe(t.getUserId(),"video",void 0,void 0,Date.now()),t.safeEmit(QB.FIRST_FRAME_DECODED)},this._player.onVideoStateChanged=function(e){t.safeEmit(QB.VIDEO_STATE_CHANGED,e)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((function(){try{var e=t.getVideoElementVisibleStatus();t.safeEmit(QB.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),Th.CHECK_VIDEO_VISIBLE_INTERVAL)}},{key:"stop",value:function(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,qh.debug("[".concat(this.getTrackId(),"] stop video playback")))}},{key:"getCurrentFrameData",value:function(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}},{key:"updateMediaStreamTrackResolution",value:function(){var e=this;Un(this._originMediaStreamTrack).then((function(t){var A=(t=Lb(t,2))[0];e._videoHeight=t[1],e._videoWidth=A})).catch(WC)}},{key:"_updatePlayerSource",value:function(){qh.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}},{key:"getVideoElementVisibleStatus",value:function(){try{var e,t,A=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n=null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),r=null==A?void 0:A.parentElement;if(this.isPlaying&&n instanceof HTMLVideoElement&&r instanceof HTMLElement){var i=TC.checkOneElementVisible(n),o=Object.assign({},i);if(o.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=o.visible;var a=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});o.visible?a.onSuccess("Video is visible"):a.onSuccess("Invisible because of ".concat(o.reason))}return o}}catch(e){throw new mC(pC.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}},{key:"pipe",value:function(e){if(this.processor===e)return e;if(e._source)throw new mC(pC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}},{key:"unpipe",value:function(){if(this.processor){var e=this.processor;this.processor=this.processor._source=void 0,e.reset()}}},{key:"bindProcessorDestinationEvents",value:function(){var e,t=this;this.processorDestination.on(DB.ON_TRACK,(e=pa(O.mark((function e(A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A?A!==t._mediaStreamTrack&&(t._mediaStreamTrack=A,t._updatePlayerSource()):t._mediaStreamTrack!==t._originMediaStreamTrack&&(t._mediaStreamTrack=t._originMediaStreamTrack,t._updatePlayerSource());case 1:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}))}},{key:"unbindProcessorDestinationEvents",value:function(){this.processorDestination.removeAllListeners(DB.ON_TRACK)}},{key:"_destroy",value:function(){Ce(je(t.prototype),"_destroy",this).call(this),this.unbindProcessorDestinationEvents()}},{key:"_onSei",value:function(e){this.emit(fB.SEI_RECEIVED,e)}}]),t}(RQ);Ht([Jt({argsMap:function(e,t,A){return[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",A]}}),jt("design:type",Function),jt("design:paramtypes",[Object,Object]),jt("design:returntype",void 0)],SQ.prototype,"play",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],SQ.prototype,"stop",null),Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t.name]}}),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",Object)],SQ.prototype,"pipe",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],SQ.prototype,"unpipe",null);var wQ=function(e){function t(e,A,r,i){zb(this,t);var o=n.call(this,e,A,r,i);return Z(V(o),"trackMediaType","audio"),Z(V(o),"_source",void 0),Z(V(o),"_useAudioElement",!0),Z(V(o),"_volume",100),Z(V(o),"processorContext",void 0),Z(V(o),"processorDestination",void 0),Z(V(o),"_played",!1),Z(V(o),"_bypassWebAudio",!1),Th.DISABLE_WEBAUDIO?(o._source=new uQ,o._bypassWebAudio=!0,o._useAudioElement=!0):(o._source=new zB(e,!0),Th.REMOTE_AUDIO_TRACK_USES_WEB_AUDIO&&(o._useAudioElement=!1)),o._source.once(yB.RECEIVE_TRACK_BUFFER,(function(){o.safeEmit(QB.FIRST_FRAME_DECODED)})),o.processorContext=new cQ(o._source.context,o.getTrackId(),"remote"),o.processorDestination=new sQ(o.processorContext),o.bindProcessorDestinationEvents(),o._source.on(yB.UPDATE_SOURCE,(function(){o.processor&&o.processor.updateInput({node:o._source.processSourceNode,context:o.processorContext})})),o}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"isPlaying",get:function(){return this._useAudioElement?iQ.isPlaying(this.getTrackId()):this._source.isPlayed}},{key:"__className__",get:function(){return"RemoteAudioTrack"}},{key:"setAudioFrameCallback",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(yB.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(yB.ON_AUDIO_BUFFER),this._source.on(yB.ON_AUDIO_BUFFER,(function(t){return e(t)}))}},{key:"setVolume",value:function(e){this._volume=e,this._useAudioElement?iQ.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}},{key:"setPlaybackDevice",value:(A=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._useAudioElement&&(re()||!Th.RESTRICTION_SET_PLAYBACK_DEVICE)){e.next=2;break}throw new mC(pC.NOT_SUPPORTED,"your browser does not support setting the audio output device");case 2:return e.next=4,iQ.setSinkID(this.getTrackId(),t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"getVolumeLevel",value:function(){return this._source.getAccurateVolumeLevel()}},{key:"getStats",value:function(){return He((function(){qh.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),xe(this,EB.GET_STATS)||Yn({},xB)}},{key:"play",value:function(){qh.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(qh.debug("[".concat(this.getTrackId(),"] use audio element to play")),iQ.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}},{key:"stop",value:function(){qh.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?iQ.stop(this.getTrackId()):this._source.stop()}},{key:"_destroy",value:function(){Ce(je(t.prototype),"_destroy",this).call(this),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}},{key:"_isFreeze",value:function(){return this._source.isFreeze}},{key:"_updatePlayerSource",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];qh.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&iQ.updateTrack(this.getTrackId(),this._mediaStreamTrack)}},{key:"pipe",value:function(e){if(this._bypassWebAudio)throw new mC(pC.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===e)return e;if(e._source)throw new mC(pC.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}},{key:"unpipe",value:function(){var e;if(this._bypassWebAudio)throw new mC(pC.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(this.processor){var t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}}},{key:"bindProcessorDestinationEvents",value:function(){var e,t=this;this.processorDestination.on(DB.ON_TRACK,(e=pa(O.mark((function e(A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A?A!==t._mediaStreamTrack&&(t._mediaStreamTrack=A,t._updatePlayerSource(!1),t._source.processedNode=t._source.createMediaStreamSourceNode(A)):t._mediaStreamTrack!==t._originMediaStreamTrack&&(t._mediaStreamTrack=t._originMediaStreamTrack,t._updatePlayerSource());case 1:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})),this.processorDestination.on(DB.ON_NODE,(function(e){t._source.processedNode=e,e=!e,t._useAudioElement!==e&&(t._played?(t.stop(),t._useAudioElement=e,t.play()):t._useAudioElement=e)}))}},{key:"unbindProcessorDestinationEvents",value:function(){this.processorDestination.removeAllListeners(DB.ON_TRACK),this.processorDestination.removeAllListeners(DB.ON_NODE)}}]),t}(RQ);Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t]},throttleTime:300}),jt("design:type",Function),jt("design:paramtypes",[Number]),jt("design:returntype",void 0)],wQ.prototype,"setVolume",null),Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t]}}),jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],wQ.prototype,"setPlaybackDevice",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],wQ.prototype,"play",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],wQ.prototype,"stop",null),Ht([Jt({argsMap:function(e,t){return[e.getTrackId(),t.name]}}),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",Object)],wQ.prototype,"pipe",null),Ht([Jt({argsMap:function(e){return[e.getTrackId()]}}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],wQ.prototype,"unpipe",null);var DQ=new(function(e){function t(){zb(this,t);var e=A.call(this);return Z(V(e),"_lastHiddenTime",0),Z(V(e),"_lastVisibleTime",0),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState?e._lastHiddenTime=performance.now():e._lastVisibleTime=performance.now(),qh.debug("document visibility went ".concat(document.visibilityState)),e.emit("VISIBILITY_CHANGE",document.visibilityState)})),e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"visibility",get:function(){return document.visibilityState}},{key:"lastHiddenTime",get:function(){return this._lastHiddenTime}},{key:"lastVisibleTime",get:function(){return this._lastVisibleTime}}]),t}(UC)),kQ=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),NQ=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),TQ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),OQ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LQ=Array(576);Jn(LQ);var MQ=Array(60);Jn(MQ);var UQ=Array(512);Jn(UQ);var xQ=Array(256);Jn(xQ);var PQ=Array(29);Jn(PQ);var GQ,FQ,KQ,VQ=Array(30);Jn(VQ);var YQ=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},JQ=function(e,t,A){e.bi_valid>16-A?(e.bi_buf|=t<<e.bi_valid&65535,YQ(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=A-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=A)},qQ=function(e,t,A){JQ(e,A[2*t],A[2*t+1])},HQ=function(e,t){var A=0;do{A|=1&e,e>>>=1,A<<=1}while(0<--t);return A>>>1},jQ=function(e,t,A){var n,r=Array(16),i=0;for(n=1;15>=n;n++)i=i+A[n-1]<<1,r[n]=i;for(A=0;A<=t;A++)0!==(n=e[2*A+1])&&(e[2*A]=HQ(r[n]++,n))},WQ=function(e){var t;for(t=0;286>t;t++)e.dyn_ltree[2*t]=0;for(t=0;30>t;t++)e.dyn_dtree[2*t]=0;for(t=0;19>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},XQ=function(e){8<e.bi_valid?YQ(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},zQ=function(e,t,A,n){var r=2*t,i=2*A;return e[r]<e[i]||e[r]===e[i]&&n[t]<=n[A]},ZQ=function(e,t,A){for(var n=e.heap[A],r=A<<1;r<=e.heap_len&&(r<e.heap_len&&zQ(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!zQ(t,n,e.heap[r],e.depth));)e.heap[A]=e.heap[r],A=r,r<<=1;e.heap[A]=n},$Q=function(e,t,A){var n,r,i=0;if(0!==e.sym_next)do{var o=255&e.pending_buf[e.sym_buf+i++];o+=(255&e.pending_buf[e.sym_buf+i++])<<8;var a=e.pending_buf[e.sym_buf+i++];0===o?qQ(e,a,t):(n=xQ[a],qQ(e,n+256+1,t),0!==(r=kQ[n])&&(a-=PQ[n],JQ(e,a,r)),n=256>--o?UQ[o]:UQ[256+(o>>>7)],qQ(e,n,A),0!==(r=NQ[n])&&(o-=VQ[n],JQ(e,o,r)))}while(i<e.sym_next);qQ(e,256,t)},ey=function(e,t){var A,n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a=-1;for(e.heap_len=0,e.heap_max=573,A=0;A<o;A++)0!==n[2*A]?(e.heap[++e.heap_len]=a=A,e.depth[A]=0):n[2*A+1]=0;for(;2>e.heap_len;){var s=e.heap[++e.heap_len]=2>a?++a:0;n[2*s]=1,e.depth[s]=0,e.opt_len--,i&&(e.static_len-=r[2*s+1])}for(t.max_code=a,A=e.heap_len>>1;1<=A;A--)ZQ(e,n,A);s=o;do{A=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ZQ(e,n,1),r=e.heap[1],e.heap[--e.heap_max]=A,e.heap[--e.heap_max]=r,n[2*s]=n[2*A]+n[2*r],e.depth[s]=(e.depth[A]>=e.depth[r]?e.depth[A]:e.depth[r])+1,n[2*A+1]=n[2*r+1]=s,e.heap[1]=s++,ZQ(e,n,1)}while(2<=e.heap_len);e.heap[--e.heap_max]=e.heap[1],A=t.dyn_tree,s=t.max_code,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits;var c,u,g,I=t.stat_desc.extra_base,l=t.stat_desc.max_length,E=0;for(u=0;15>=u;u++)e.bl_count[u]=0;for(A[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;573>t;t++){var C=e.heap[t];(u=A[2*A[2*C+1]+1]+1)>l&&(u=l,E++),A[2*C+1]=u,C>s||(e.bl_count[u]++,c=0,C>=I&&(c=o[C-I]),g=A[2*C],e.opt_len+=g*(u+c),i&&(e.static_len+=g*(r[2*C+1]+c)))}if(0!==E){do{for(u=l-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[l]--,E-=2}while(0<E);for(u=l;0!==u;u--)for(C=e.bl_count[u];0!==C;)(c=e.heap[--t])>s||(A[2*c+1]!==u&&(e.opt_len+=(u-A[2*c+1])*A[2*c],A[2*c+1]=u),C--)}jQ(n,a,e.bl_count)},ty=function(e,t,A){var n,r=-1,i=t[1],o=0,a=7,s=4;for(0===i&&(a=138,s=3),t[2*(A+1)+1]=65535,n=0;n<=A;n++){var c=i;i=t[2*(n+1)+1],++o<a&&c===i||(o<s?e.bl_tree[2*c]+=o:0!==c?(c!==r&&e.bl_tree[2*c]++,e.bl_tree[32]++):10>=o?e.bl_tree[34]++:e.bl_tree[36]++,o=0,r=c,0===i?(a=138,s=3):c===i?(a=6,s=3):(a=7,s=4))}},Ay=function(e,t,A){var n,r,i=-1,o=t[1],a=0,s=7,c=4;for(0===o&&(s=138,c=3),n=0;n<=A;n++)if(r=o,o=t[2*(n+1)+1],!(++a<s&&r===o)){if(a<c)do{qQ(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==i&&(qQ(e,r,e.bl_tree),a--),qQ(e,16,e.bl_tree),JQ(e,a-3,2)):10>=a?(qQ(e,17,e.bl_tree),JQ(e,a-3,3)):(qQ(e,18,e.bl_tree),JQ(e,a-11,7));a=0,i=r,0===o?(s=138,c=3):r===o?(s=6,c=3):(s=7,c=4)}},ny=!1,ry=function(e,t,A,n){JQ(e,n?1:0,3),XQ(e),YQ(e,A),YQ(e,~A),A&&e.pending_buf.set(e.window.subarray(t,t+A),e.pending),e.pending+=A},iy=function(e,t,A,n){var r,i=65535&e|0;for(e=e>>>16&65535|0;0!==A;){A-=r=2e3<A?2e3:A;do{e=e+(i=i+t[n++]|0)|0}while(--r);i%=65521,e%=65521}return i|e<<16|0},oy=new Uint32Array(function(){for(var e,t=[],A=0;256>A;A++){e=A;for(var n=0;8>n;n++)e=1&e?3988292384^e>>>1:e>>>1;t[A]=e}return t}()),ay=function(e,t,A,n){for(A=n+A,e^=-1;n<A;n++)e=e>>>8^oy[255&(e^t[n])];return-1^e},sy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cy=function(e,t,A,n){var r,i,o=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,A=4093624447;for(t=0;31>=t;t++,A>>>=1)if(1&A&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;256>t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),ey(e,e.l_desc),ey(e,e.d_desc),o=function(e){var t;for(ty(e,e.dyn_ltree,e.l_desc.max_code),ty(e,e.dyn_dtree,e.d_desc.max_code),ey(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*OQ[t]+1];t--);return e.opt_len+=3*(t+1)+14,t}(e),r=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=r&&(r=i)):r=i=A+5,A+4<=r&&-1!==t?ry(e,t,A,n):4===e.strategy||i===r?(JQ(e,2+(n?1:0),3),$Q(e,LQ,MQ)):(JQ(e,4+(n?1:0),3),function(e,t,A,n){var r;for(JQ(e,t-257,5),JQ(e,A-1,5),JQ(e,n-4,4),r=0;r<n;r++)JQ(e,e.bl_tree[2*OQ[r]+1],3);Ay(e,e.dyn_ltree,t-1),Ay(e,e.dyn_dtree,A-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),$Q(e,e.dyn_ltree,e.dyn_dtree)),WQ(e),n&&XQ(e)},uy=function(e,t,A){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=A,0===t?e.dyn_ltree[2*A]++:(e.matches++,t--,e.dyn_ltree[2*(xQ[A]+256+1)]++,e.dyn_dtree[2*(256>t?UQ[t]:UQ[256+(t>>>7)])]++),e.sym_next===e.sym_end},gy=function(e){JQ(e,2,3),qQ(e,256,LQ),16===e.bi_valid?(YQ(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},Iy=function(e,t){return e.msg=sy[t],t},ly=function(e){for(var t=e.length;0<=--t;)e[t]=0},Ey=function(e,t,A){return(t<<e.hash_shift^A)&e.hash_mask},Cy=function(e){var t=e.state,A=t.pending;A>e.avail_out&&(A=e.avail_out),0!==A&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+A),e.next_out),e.next_out+=A,t.pending_out+=A,e.total_out+=A,e.avail_out-=A,t.pending-=A,0===t.pending&&(t.pending_out=0))},dy=function(e,t){cy(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Cy(e.strm)},hy=function(e,t){e.pending_buf[e.pending++]=t},py=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},fy=function(e,t,A,n){var r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),A),1===e.state.wrap?e.adler=iy(e.adler,t,r,A):2===e.state.wrap&&(e.adler=ay(e.adler,t,r,A)),e.next_in+=r,e.total_in+=r,r)},By=function(e,t){var A,n,r=e.max_chain_length,i=e.strstart,o=e.prev_length,a=e.nice_match,s=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,g=e.prev,I=e.strstart+258,l=c[i+o-1],E=c[i+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(A=t)+o]===E&&c[A+o-1]===l&&c[A]===c[i]&&c[++A]===c[i+1]){for(i+=2,A++;c[++i]===c[++A]&&c[++i]===c[++A]&&c[++i]===c[++A]&&c[++i]===c[++A]&&c[++i]===c[++A]&&c[++i]===c[++A]&&c[++i]===c[++A]&&c[++i]===c[++A]&&i<I;);if(n=258-(I-i),i=I-258,n>o){if(e.match_start=t,o=n,n>=a)break;l=c[i+o-1],E=c[i+o]}}}while((t=g[t&u])>s&&0!=--r);return o<=e.lookahead?o:e.lookahead},Qy=function(e){var t,A=e.w_size;do{var n=e.window_size-e.lookahead-e.strstart;if(e.strstart>=A+(A-262)){e.window.set(e.window.subarray(A,A+A-n),0),e.match_start-=A,e.strstart-=A,e.block_start-=A,e.insert>e.strstart&&(e.insert=e.strstart);var r,i=e,o=i.w_size,a=r=i.hash_size;do{var s=i.head[--a];i.head[a]=s>=o?s-o:0}while(--r);a=r=o;do{s=i.prev[--a],i.prev[a]=s>=o?s-o:0}while(--r);n+=A}if(0===e.strm.avail_in)break;if(t=fy(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,3<=e.lookahead+e.insert)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=Ey(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=Ey(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(3>e.lookahead+e.insert)););}while(262>e.lookahead&&0!==e.strm.avail_in)},yy=function(e,t){var A,n,r,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,a=e.strm.avail_in;do{if(A=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,A>(n=e.strstart-e.block_start)+e.strm.avail_in&&(A=n+e.strm.avail_in),A>r&&(A=r),A<i&&(0===A&&4!==t||0===t||A!==n+e.strm.avail_in))break;o=4===t&&A===n+e.strm.avail_in?1:0,ry(e,0,0,o),e.pending_buf[e.pending-4]=A,e.pending_buf[e.pending-3]=A>>8,e.pending_buf[e.pending-2]=~A,e.pending_buf[e.pending-1]=~A>>8,Cy(e.strm),n&&(n>A&&(n=A),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,A-=n),A&&(fy(e.strm,e.strm.output,e.strm.next_out,A),e.strm.next_out+=A,e.strm.avail_out-=A,e.strm.total_out+=A)}while(0===o);return(a-=e.strm.avail_in)&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:0!==t&&4!==t&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),2>e.matches&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(fy(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,i=(r=65535<e.pending_buf_size-r?65535:e.pending_buf_size-r)>e.w_size?e.w_size:r,((n=e.strstart-e.block_start)>=i||(n||4===t)&&0!==t&&0===e.strm.avail_in&&n<=r)&&(A=n>r?r:n,o=4===t&&0===e.strm.avail_in&&A===n?1:0,ry(e,e.block_start,A,o),e.block_start+=A,Cy(e.strm)),o?3:1)},vy=function(e,t){for(var A,n;;){if(262>e.lookahead){if(Qy(e),262>e.lookahead&&0===t)return 1;if(0===e.lookahead)break}if(A=0,3<=e.lookahead&&(e.ins_h=Ey(e,e.ins_h,e.window[e.strstart+3-1]),A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==A&&e.strstart-A<=e.w_size-262&&(e.match_length=By(e,A)),3<=e.match_length)if(n=uy(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){e.match_length--;do{e.strstart++,e.ins_h=Ey(e,e.ins_h,e.window[e.strstart+3-1]),A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ey(e,e.ins_h,e.window[e.strstart+1]);else n=uy(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(dy(e,!1),0===e.strm.avail_out))return 1}return e.insert=2>e.strstart?e.strstart:2,4===t?(dy(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(dy(e,!1),0===e.strm.avail_out)?1:2},my=function(e,t){for(var A,n,r;;){if(262>e.lookahead){if(Qy(e),262>e.lookahead&&0===t)return 1;if(0===e.lookahead)break}if(A=0,3<=e.lookahead&&(e.ins_h=Ey(e,e.ins_h,e.window[e.strstart+3-1]),A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==A&&e.prev_length<e.max_lazy_match&&e.strstart-A<=e.w_size-262&&(e.match_length=By(e,A),5>=e.match_length&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),3<=e.prev_length&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=uy(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=Ey(e,e.ins_h,e.window[e.strstart+3-1]),A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(dy(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=uy(e,0,e.window[e.strstart-1]))&&dy(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(uy(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=2>e.strstart?e.strstart:2,4===t?(dy(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(dy(e,!1),0===e.strm.avail_out)?1:2},_y=[new jn(0,0,0,0,yy),new jn(4,4,8,4,vy),new jn(4,5,16,8,vy),new jn(4,6,32,32,vy),new jn(4,4,16,16,my),new jn(8,16,32,32,my),new jn(8,16,128,128,my),new jn(8,32,128,256,my),new jn(32,128,258,1024,my),new jn(32,258,258,4096,my)],by=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},Ry=function(e){if(by(e))return Iy(e,-2);e.total_in=e.total_out=0,e.data_type=2;var t=e.state;if(t.pending=0,t.pending_out=0,0>t.wrap&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,!ny){var A,n,r;for(e=Array(16),r=n=0;28>r;r++)for(PQ[r]=n,A=0;A<1<<kQ[r];A++)xQ[n++]=r;for(xQ[n-1]=r,r=n=0;16>r;r++)for(VQ[r]=n,A=0;A<1<<NQ[r];A++)UQ[n++]=r;for(n>>=7;30>r;r++)for(VQ[r]=n<<7,A=0;A<1<<NQ[r]-7;A++)UQ[256+n++]=r;for(A=0;15>=A;A++)e[A]=0;for(A=0;143>=A;)LQ[2*A+1]=8,A++,e[8]++;for(;255>=A;)LQ[2*A+1]=9,A++,e[9]++;for(;279>=A;)LQ[2*A+1]=7,A++,e[7]++;for(;287>=A;)LQ[2*A+1]=8,A++,e[8]++;for(jQ(LQ,287,e),A=0;30>A;A++)MQ[2*A+1]=5,MQ[2*A]=HQ(A,5);GQ=new qn(LQ,kQ,257,286,15),FQ=new qn(MQ,NQ,0,30,15),KQ=new qn([],TQ,0,19,7),ny=!0}return t.l_desc=new Hn(t.dyn_ltree,GQ),t.d_desc=new Hn(t.dyn_dtree,FQ),t.bl_desc=new Hn(t.bl_tree,KQ),t.bi_buf=0,t.bi_valid=0,WQ(t),0},Sy=function(e){var t,A=Ry(e);return 0===A&&((t=e.state).window_size=2*t.w_size,ly(t.head),t.max_lazy_match=_y[t.level].max_lazy,t.good_match=_y[t.level].good_length,t.nice_match=_y[t.level].nice_length,t.max_chain_length=_y[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),A},wy=function(e,t,A,n,r,i){if(!e)return-2;var o=1;if(-1===t&&(t=6),0>n?(o=0,n=-n):15<n&&(o=2,n-=16),1>r||9<r||8!==A||8>n||15<n||0>t||9<t||0>i||4<i||8===n&&1!==o)return Iy(e,-2);8===n&&(n=9);var a=new Wn;return e.state=a,a.strm=e,a.status=42,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=i,a.method=A,Sy(e)},Dy={deflateInit:function(e,t){return wy(e,t,8,15,8,0)},deflateInit2:wy,deflateReset:Sy,deflateResetKeep:Ry,deflateSetHeader:function(e,t){return by(e)||2!==e.state.wrap?-2:(e.state.gzhead=t,0)},deflate:function(e,t){if(by(e)||5<t||0>t)return e?Iy(e,-2):-2;var A=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===A.status&&4!==t)return Iy(e,0===e.avail_out?-5:-2);var n=A.last_flush;if(A.last_flush=t,0!==A.pending){if(Cy(e),0===e.avail_out)return A.last_flush=-1,0}else if(0===e.avail_in&&2*t-(4<t?9:0)<=2*n-(4<n?9:0)&&4!==t)return Iy(e,-5);if(666===A.status&&0!==e.avail_in)return Iy(e,-5);if(42===A.status&&0===A.wrap&&(A.status=113),42===A.status){n=8+(A.w_bits-8<<4)<<8;var r=-1;if(n|=(r=2<=A.strategy||2>A.level?0:6>A.level?1:6===A.level?2:3)<<6,0!==A.strstart&&(n|=32),py(A,n+=31-n%31),0!==A.strstart&&(py(A,e.adler>>>16),py(A,65535&e.adler)),e.adler=1,A.status=113,Cy(e),0!==A.pending)return A.last_flush=-1,0}if(57===A.status)if(e.adler=0,hy(A,31),hy(A,139),hy(A,8),A.gzhead)hy(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),hy(A,255&A.gzhead.time),hy(A,A.gzhead.time>>8&255),hy(A,A.gzhead.time>>16&255),hy(A,A.gzhead.time>>24&255),hy(A,9===A.level?2:2<=A.strategy||2>A.level?4:0),hy(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(hy(A,255&A.gzhead.extra.length),hy(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(e.adler=ay(e.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69;else if(hy(A,0),hy(A,0),hy(A,0),hy(A,0),hy(A,0),hy(A,9===A.level?2:2<=A.strategy||2>A.level?4:0),hy(A,3),A.status=113,Cy(e),0!==A.pending)return A.last_flush=-1,0;if(69===A.status){if(A.gzhead.extra){for(n=A.pending,r=(65535&A.gzhead.extra.length)-A.gzindex;A.pending+r>A.pending_buf_size;){var i=A.pending_buf_size-A.pending;if(A.pending_buf.set(A.gzhead.extra.subarray(A.gzindex,A.gzindex+i),A.pending),A.pending=A.pending_buf_size,A.gzhead.hcrc&&A.pending>n&&(e.adler=ay(e.adler,A.pending_buf,A.pending-n,n)),A.gzindex+=i,Cy(e),0!==A.pending)return A.last_flush=-1,0;n=0,r-=i}i=new Uint8Array(A.gzhead.extra),A.pending_buf.set(i.subarray(A.gzindex,A.gzindex+r),A.pending),A.pending+=r,A.gzhead.hcrc&&A.pending>n&&(e.adler=ay(e.adler,A.pending_buf,A.pending-n,n)),A.gzindex=0}A.status=73}if(73===A.status){if(A.gzhead.name){r=A.pending;do{if(A.pending===A.pending_buf_size){if(A.gzhead.hcrc&&A.pending>r&&(e.adler=ay(e.adler,A.pending_buf,A.pending-r,r)),Cy(e),0!==A.pending)return A.last_flush=-1,0;r=0}n=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,hy(A,n)}while(0!==n);A.gzhead.hcrc&&A.pending>r&&(e.adler=ay(e.adler,A.pending_buf,A.pending-r,r)),A.gzindex=0}A.status=91}if(91===A.status){if(A.gzhead.comment){r=A.pending;do{if(A.pending===A.pending_buf_size){if(A.gzhead.hcrc&&A.pending>r&&(e.adler=ay(e.adler,A.pending_buf,A.pending-r,r)),Cy(e),0!==A.pending)return A.last_flush=-1,0;r=0}n=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,hy(A,n)}while(0!==n);A.gzhead.hcrc&&A.pending>r&&(e.adler=ay(e.adler,A.pending_buf,A.pending-r,r))}A.status=103}if(103===A.status){if(A.gzhead.hcrc){if(A.pending+2>A.pending_buf_size&&(Cy(e),0!==A.pending))return A.last_flush=-1,0;hy(A,255&e.adler),hy(A,e.adler>>8&255),e.adler=0}if(A.status=113,Cy(e),0!==A.pending)return A.last_flush=-1,0}if(0!==e.avail_in||0!==A.lookahead||0!==t&&666!==A.status){if(3!==(n=0===A.level?yy(A,t):2===A.strategy?function(e,t){for(var A;;){if(0===e.lookahead&&(Qy(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,A=uy(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,A&&(dy(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(dy(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(dy(e,!1),0===e.strm.avail_out)?1:2}(A,t):3===A.strategy?function(e,t){for(var A,n,r,i,o=e.window;;){if(258>=e.lookahead){if(Qy(e),258>=e.lookahead&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(n=o[r=e.strstart-1])===o[++r]&&n===o[++r]&&n===o[++r]){for(i=e.strstart+258;n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<i;);e.match_length=258-(i-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(A=uy(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(A=uy(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),A&&(dy(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(dy(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(dy(e,!1),0===e.strm.avail_out)?1:2}(A,t):_y[A.level].func(A,t))&&4!==n||(A.status=666),1===n||3===n)return 0===e.avail_out&&(A.last_flush=-1),0;if(2===n&&(1===t?gy(A):5!==t&&(ry(A,0,0,!1),3===t&&(ly(A.head),0===A.lookahead&&(A.strstart=0,A.block_start=0,A.insert=0))),Cy(e),0===e.avail_out))return A.last_flush=-1,0}return 4!==t?0:0>=A.wrap?1:(2===A.wrap?(hy(A,255&e.adler),hy(A,e.adler>>8&255),hy(A,e.adler>>16&255),hy(A,e.adler>>24&255),hy(A,255&e.total_in),hy(A,e.total_in>>8&255),hy(A,e.total_in>>16&255),hy(A,e.total_in>>24&255)):(py(A,e.adler>>>16),py(A,65535&e.adler)),Cy(e),0<A.wrap&&(A.wrap=-A.wrap),0!==A.pending?0:1)},deflateEnd:function(e){if(by(e))return-2;var t=e.state.status;return e.state=null,113===t?Iy(e,-3):0},deflateSetDictionary:function(e,t){var A=t.length;if(by(e))return-2;var n=e.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return-2;if(1===r&&(e.adler=iy(e.adler,t,A,0)),n.wrap=0,A>=n.w_size){0===r&&(ly(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(t.subarray(A-n.w_size,A),0),t=i,A=n.w_size}i=e.avail_in;var o=e.next_in,a=e.input;for(e.avail_in=A,e.next_in=0,e.input=t,Qy(n);3<=n.lookahead;){t=n.strstart,A=n.lookahead-2;do{n.ins_h=Ey(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--A);n.strstart=t,n.lookahead=2,Qy(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=i,n.wrap=r,0},deflateInfo:"pako deflate (from Nodeca project)"},ky={assign:function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var A=t.shift();if(A){if("object"!=ub(A))throw new TypeError(A+"must be non-object");for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&(e[n]=A[n])}}return e},flattenChunks:function(e){for(var t=0,A=0,n=e.length;A<n;A++)t+=e[A].length;t=new Uint8Array(t),n=A=0;for(var r=e.length;A<r;A++){var i=e[A];t.set(i,n),n+=i.length}return t}},Ny=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Sh){Ny=!1}var Ty=new Uint8Array(256);for(e=0;256>e;e++)Ty[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;Ty[254]=Ty[254]=1;var Oy={string2buf:function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,A,n,r=e.length,i=0;for(A=0;A<r;A++){var o=e.charCodeAt(A);55296==(64512&o)&&A+1<r&&56320==(64512&(t=e.charCodeAt(A+1)))&&(o=65536+(o-55296<<10)+(t-56320),A++),i+=128>o?1:2048>o?2:65536>o?3:4}var a=new Uint8Array(i);for(A=n=0;n<i;A++)55296==(64512&(o=e.charCodeAt(A)))&&A+1<r&&56320==(64512&(t=e.charCodeAt(A+1)))&&(o=65536+(o-55296<<10)+(t-56320),A++),128>o?a[n++]=o:2048>o?(a[n++]=192|o>>>6,a[n++]=128|63&o):65536>o?(a[n++]=224|o>>>12,a[n++]=128|o>>>6&63,a[n++]=128|63&o):(a[n++]=240|o>>>18,a[n++]=128|o>>>12&63,a[n++]=128|o>>>6&63,a[n++]=128|63&o);return a},buf2string:function(e,t){var A,n,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));for(t=Array(2*r),A=n=0;A<r;){var i=e[A++];if(128>i)t[n++]=i;else{var o=Ty[i];if(4<o)t[n++]=65533,A+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&A<r;)i=i<<6|63&e[A++],o--;1<o?t[n++]=65533:65536>i?t[n++]=i:(i-=65536,t[n++]=55296|i>>10&1023,t[n++]=56320|1023&i)}}}if(65534>(e=n)&&t.subarray&&Ny)t=String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));else{for(r="",A=0;A<e;A++)r+=String.fromCharCode(t[A]);t=r}return t},utf8border:function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var A=t-1;0<=A&&128==(192&e[A]);)A--;return 0>A||0===A?t:A+Ty[e[A]]>t?A:t}},Ly=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},My=Object.prototype.toString;Xn.prototype.push=function(e,t){var A,n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;for(t=t===~~t?t:!0===t?4:0,"string"==typeof e?n.input=Oy.string2buf(e):"[object ArrayBuffer]"===My.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(2===t||3===t)&&6>=n.avail_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(1===(A=Dy.deflate(n,t)))return 0<n.next_out&&this.onData(n.output.subarray(0,n.next_out)),A=Dy.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,0===A;if(0!==n.avail_out){if(0<t&&0<n.next_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Xn.prototype.onData=function(e){this.chunks.push(e)},Xn.prototype.onEnd=function(e){0===e&&(this.result=ky.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Uy,xy,Py,Gy=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Fy=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ky=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vy=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Yy=function(e,t,A,n,r,i,o,a){var s,c,u,g,I,l,E,C,d,h,p,f,B=a.bits,Q=0,y=null,v=new Uint16Array(16),m=new Uint16Array(16),_=null;for(I=0;15>=I;I++)v[I]=0;for(l=0;l<n;l++)v[t[A+l]]++;var b=B;for(E=15;1<=E&&0===v[E];E--);if(b>E&&(b=E),0===E)return r[i++]=20971520,r[i++]=20971520,a.bits=1,0;for(B=1;B<E&&0===v[B];B++);for(b<B&&(b=B),I=s=1;15>=I;I++)if(s<<=1,0>(s-=v[I]))return-1;if(0<s&&(0===e||1!==E))return-1;for(m[1]=0,I=1;15>I;I++)m[I+1]=m[I]+v[I];for(l=0;l<n;l++)0!==t[A+l]&&(o[m[t[A+l]]++]=l);if(0===e?(y=_=o,g=20):1===e?(y=Gy,_=Fy,g=257):(y=Ky,_=Vy,g=0),h=0,l=0,I=B,m=i,C=b,d=0,u=-1,n=(Q=1<<b)-1,1===e&&852<Q||2===e&&592<Q)return 1;for(;;){var R=I-d;o[l]+1<g?(p=0,f=o[l]):o[l]>=g?(p=_[o[l]-g],f=y[o[l]-g]):(p=96,f=0),s=1<<I-d,B=c=1<<C;do{r[m+(h>>d)+(c-=s)]=R<<24|p<<16|f|0}while(0!==c);for(s=1<<I-1;h&s;)s>>=1;if(0!==s?(h&=s-1,h+=s):h=0,l++,0==--v[I]){if(I===E)break;I=t[A+o[l]]}if(I>b&&(h&n)!==u){for(0===d&&(d=b),m+=B,s=1<<(C=I-d);C+d<E&&!(0>=(s-=v[C+d]));)C++,s<<=1;if(Q+=1<<C,1===e&&852<Q||2===e&&592<Q)return 1;r[u=h&n]=b<<24|C<<16|m-i|0}}return 0!==h&&(r[m+h]=I-d<<24|4194304),a.bits=b,0},Jy=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)},qy=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||16180>t.mode||16211<t.mode?1:0},Hy=function(e){if(qy(e))return-2;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,0},jy=function(e){if(qy(e))return-2;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Hy(e)},Wy=function(e,t){var A;if(qy(e))return-2;var n=e.state;return 0>t?(A=0,t=-t):(A=5+(t>>4),48>t&&(t&=15)),t&&(8>t||15<t)?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=A,n.wbits=t,jy(e))},Xy=function(e,t){if(!e)return-2;var A=new zn;return e.state=A,A.strm=e,A.window=null,A.mode=16180,0!==(t=Wy(e,t))&&(e.state=null),t},zy=!0,Zy=function(e,t,A,n){var r;return null===(e=e.state).window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Uint8Array(e.wsize)),n>=e.wsize?(e.window.set(t.subarray(A-e.wsize,A),0),e.wnext=0,e.whave=e.wsize):((r=e.wsize-e.wnext)>n&&(r=n),e.window.set(t.subarray(A-n,A-n+r),e.wnext),(n-=r)?(e.window.set(t.subarray(A-n,A),0),e.wnext=n,e.whave=e.wsize):(e.wnext+=r,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=r))),0},$y={inflateReset:jy,inflateReset2:Wy,inflateResetKeep:Hy,inflateInit:function(e){return Xy(e,15)},inflateInit2:Xy,inflate:function(e,t){var A,n,r,i,o,a,s=0,c=new Uint8Array(4),u=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qy(e)||!e.output||!e.input&&0!==e.avail_in)return-2;var g=e.state;16191===g.mode&&(g.mode=16192);var I=e.next_out,l=e.output,E=e.avail_out,C=e.next_in,d=e.input,h=e.avail_in,p=g.hold,f=g.bits,B=h,Q=E,y=0;e:for(;;)switch(g.mode){case 16180:if(0===g.wrap){g.mode=16192;break}for(;16>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(2&g.wrap&&35615===p){0===g.wbits&&(g.wbits=15),g.check=0,c[0]=255&p,c[1]=p>>>8&255,g.check=ay(g.check,c,2,0),f=p=0,g.mode=16181;break}if(g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",g.mode=16209;break}if(8!=(15&p)){e.msg="unknown compression method",g.mode=16209;break}if(f-=4,o=8+(15&(p>>>=4)),0===g.wbits&&(g.wbits=o),15<o||o>g.wbits){e.msg="invalid window size",g.mode=16209;break}g.dmax=1<<g.wbits,g.flags=0,e.adler=g.check=1,g.mode=512&p?16189:16191,f=p=0;break;case 16181:for(;16>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(g.flags=p,8!=(255&g.flags)){e.msg="unknown compression method",g.mode=16209;break}if(57344&g.flags){e.msg="unknown header flags set",g.mode=16209;break}g.head&&(g.head.text=p>>8&1),512&g.flags&&4&g.wrap&&(c[0]=255&p,c[1]=p>>>8&255,g.check=ay(g.check,c,2,0)),f=p=0,g.mode=16182;case 16182:for(;32>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}g.head&&(g.head.time=p),512&g.flags&&4&g.wrap&&(c[0]=255&p,c[1]=p>>>8&255,c[2]=p>>>16&255,c[3]=p>>>24&255,g.check=ay(g.check,c,4,0)),f=p=0,g.mode=16183;case 16183:for(;16>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}g.head&&(g.head.xflags=255&p,g.head.os=p>>8),512&g.flags&&4&g.wrap&&(c[0]=255&p,c[1]=p>>>8&255,g.check=ay(g.check,c,2,0)),f=p=0,g.mode=16184;case 16184:if(1024&g.flags){for(;16>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}g.length=p,g.head&&(g.head.extra_len=p),512&g.flags&&4&g.wrap&&(c[0]=255&p,c[1]=p>>>8&255,g.check=ay(g.check,c,2,0)),f=p=0}else g.head&&(g.head.extra=null);g.mode=16185;case 16185:if(1024&g.flags&&((A=g.length)>h&&(A=h),A&&(g.head&&(o=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Uint8Array(g.head.extra_len)),g.head.extra.set(d.subarray(C,C+A),o)),512&g.flags&&4&g.wrap&&(g.check=ay(g.check,d,A,C)),h-=A,C+=A,g.length-=A),g.length))break e;g.length=0,g.mode=16186;case 16186:if(2048&g.flags){if(0===h)break e;A=0;do{o=d[C+A++],g.head&&o&&65536>g.length&&(g.head.name+=String.fromCharCode(o))}while(o&&A<h);if(512&g.flags&&4&g.wrap&&(g.check=ay(g.check,d,A,C)),h-=A,C+=A,o)break e}else g.head&&(g.head.name=null);g.length=0,g.mode=16187;case 16187:if(4096&g.flags){if(0===h)break e;A=0;do{o=d[C+A++],g.head&&o&&65536>g.length&&(g.head.comment+=String.fromCharCode(o))}while(o&&A<h);if(512&g.flags&&4&g.wrap&&(g.check=ay(g.check,d,A,C)),h-=A,C+=A,o)break e}else g.head&&(g.head.comment=null);g.mode=16188;case 16188:if(512&g.flags){for(;16>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(4&g.wrap&&p!==(65535&g.check)){e.msg="header crc mismatch",g.mode=16209;break}f=p=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),e.adler=g.check=0,g.mode=16191;break;case 16189:for(;32>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}e.adler=g.check=Jy(p),f=p=0,g.mode=16190;case 16190:if(0===g.havedict)return e.next_out=I,e.avail_out=E,e.next_in=C,e.avail_in=h,g.hold=p,g.bits=f,2;e.adler=g.check=1,g.mode=16191;case 16191:if(5===t||6===t)break e;case 16192:if(g.last){p>>>=7&f,f-=7&f,g.mode=16206;break}for(;3>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}switch(g.last=1&p,--f,3&(p>>>=1)){case 0:g.mode=16193;break;case 1:var v=g;if(zy){for(Uy=new Int32Array(512),xy=new Int32Array(32),i=0;144>i;)v.lens[i++]=8;for(;256>i;)v.lens[i++]=9;for(;280>i;)v.lens[i++]=7;for(;288>i;)v.lens[i++]=8;for(Yy(1,v.lens,0,288,Uy,0,v.work,{bits:9}),i=0;32>i;)v.lens[i++]=5;Yy(2,v.lens,0,32,xy,0,v.work,{bits:5}),zy=!1}if(v.lencode=Uy,v.lenbits=9,v.distcode=xy,v.distbits=5,g.mode=16199,6===t){p>>>=2,f-=2;break e}break;case 2:g.mode=16196;break;case 3:e.msg="invalid block type",g.mode=16209}p>>>=2,f-=2;break;case 16193:for(p>>>=7&f,f-=7&f;32>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",g.mode=16209;break}if(g.length=65535&p,p=0,f=0,g.mode=16194,6===t)break e;case 16194:g.mode=16195;case 16195:if(A=g.length){if(A>h&&(A=h),A>E&&(A=E),0===A)break e;l.set(d.subarray(C,C+A),I),h-=A,C+=A,E-=A,I+=A,g.length-=A;break}g.mode=16191;break;case 16196:for(;14>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(g.nlen=257+(31&p),p>>>=5,f-=5,g.ndist=1+(31&p),p>>>=5,f-=5,g.ncode=4+(15&p),p>>>=4,f-=4,286<g.nlen||30<g.ndist){e.msg="too many length or distance symbols",g.mode=16209;break}g.have=0,g.mode=16197;case 16197:for(;g.have<g.ncode;){for(;3>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}g.lens[u[g.have++]]=7&p,p>>>=3,f-=3}for(;19>g.have;)g.lens[u[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,a={bits:g.lenbits},y=Yy(0,g.lens,0,19,g.lencode,0,g.work,a),g.lenbits=a.bits,y){e.msg="invalid code lengths set",g.mode=16209;break}g.have=0,g.mode=16198;case 16198:for(;g.have<g.nlen+g.ndist;){for(;i=65535&(s=g.lencode[p&(1<<g.lenbits)-1]),!((r=s>>>24)<=f);){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(16>i)p>>>=r,f-=r,g.lens[g.have++]=i;else{if(16===i){for(v=r+2;f<v;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(p>>>=r,f-=r,0===g.have){e.msg="invalid bit length repeat",g.mode=16209;break}o=g.lens[g.have-1],A=3+(3&p),p>>>=2,f-=2}else if(17===i){for(v=r+3;f<v;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}f-=r,o=0,A=3+(7&(p>>>=r)),p>>>=3,f-=3}else{for(v=r+7;f<v;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}f-=r,o=0,A=11+(127&(p>>>=r)),p>>>=7,f-=7}if(g.have+A>g.nlen+g.ndist){e.msg="invalid bit length repeat",g.mode=16209;break}for(;A--;)g.lens[g.have++]=o}}if(16209===g.mode)break;if(0===g.lens[256]){e.msg="invalid code -- missing end-of-block",g.mode=16209;break}if(g.lenbits=9,a={bits:g.lenbits},y=Yy(1,g.lens,0,g.nlen,g.lencode,0,g.work,a),g.lenbits=a.bits,y){e.msg="invalid literal/lengths set",g.mode=16209;break}if(g.distbits=6,g.distcode=g.distdyn,a={bits:g.distbits},y=Yy(2,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,a),g.distbits=a.bits,y){e.msg="invalid distances set",g.mode=16209;break}if(g.mode=16199,6===t)break e;case 16199:g.mode=16200;case 16200:if(6<=h&&258<=E){var m;e.next_out=I,e.avail_out=E,e.next_in=C,e.avail_in=h,g.hold=p,g.bits=f,h=C=void 0;var _=e,b=_.state,R=_.next_in;l=_.input;var S=R+(_.avail_in-5),w=_.next_out;d=_.output;var D=w-(Q-_.avail_out),k=w+(_.avail_out-257),N=b.dmax,T=b.wsize,O=b.whave,L=b.wnext,M=b.window,U=b.hold;i=b.bits,v=b.lencode,f=b.distcode,p=(1<<b.lenbits)-1,E=(1<<b.distbits)-1;t:do{15>i&&(U+=l[R++]<<i,i+=8,U+=l[R++]<<i,i+=8);var x=v[U&p];A:for(;;){if(U>>>=h=x>>>24,i-=h,0==(h=x>>>16&255))d[w++]=65535&x;else{if(!(16&h)){if(0==(64&h)){x=v[(65535&x)+(U&(1<<h)-1)];continue A}if(32&h){b.mode=16191;break t}_.msg="invalid literal/length code",b.mode=16209;break t}I=65535&x,(h&=15)&&(i<h&&(U+=l[R++]<<i,i+=8),I+=U&(1<<h)-1,U>>>=h,i-=h),15>i&&(U+=l[R++]<<i,i+=8,U+=l[R++]<<i,i+=8),x=f[U&E];n:for(;;){if(U>>>=h=x>>>24,i-=h,!(16&(h=x>>>16&255))){if(0==(64&h)){x=f[(65535&x)+(U&(1<<h)-1)];continue n}_.msg="invalid distance code",b.mode=16209;break t}if(C=65535&x,i<(h&=15)&&(U+=l[R++]<<i,(i+=8)<h&&(U+=l[R++]<<i,i+=8)),(C+=U&(1<<h)-1)>N){_.msg="invalid distance too far back",b.mode=16209;break t}if(U>>>=h,i-=h,C>(h=w-D)){if((h=C-h)>O&&b.sane){_.msg="invalid distance too far back",b.mode=16209;break t}if(m=0,x=M,0===L){if(m+=T-h,h<I){I-=h;do{d[w++]=M[m++]}while(--h);m=w-C,x=d}}else if(L<h){if(m+=T+L-h,(h-=L)<I){I-=h;do{d[w++]=M[m++]}while(--h);if(m=0,L<I){I-=h=L;do{d[w++]=M[m++]}while(--h);m=w-C,x=d}}}else if(m+=L-h,h<I){I-=h;do{d[w++]=M[m++]}while(--h);m=w-C,x=d}for(;2<I;)d[w++]=x[m++],d[w++]=x[m++],d[w++]=x[m++],I-=3;I&&(d[w++]=x[m++],1<I&&(d[w++]=x[m++]))}else{m=w-C;do{d[w++]=d[m++],d[w++]=d[m++],d[w++]=d[m++],I-=3}while(2<I);I&&(d[w++]=d[m++],1<I&&(d[w++]=d[m++]))}break}}break}}while(R<S&&w<k);R-=I=i>>3,U&=(1<<(i-=I<<3))-1,_.next_in=R,_.next_out=w,_.avail_in=R<S?S-R+5:5-(R-S),_.avail_out=w<k?k-w+257:257-(w-k),b.hold=U,b.bits=i,I=e.next_out,l=e.output,E=e.avail_out,C=e.next_in,d=e.input,h=e.avail_in,p=g.hold,f=g.bits,16191===g.mode&&(g.back=-1);break}for(g.back=0;v=(s=g.lencode[p&(1<<g.lenbits)-1])>>>16&255,i=65535&s,!((r=s>>>24)<=f);){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(v&&0==(240&v)){for(U=r,M=v,L=i;v=(s=g.lencode[L+((p&(1<<U+M)-1)>>U)])>>>16&255,i=65535&s,!(U+(r=s>>>24)<=f);){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}p>>>=U,f-=U,g.back+=U}if(p>>>=r,f-=r,g.back+=r,g.length=i,0===v){g.mode=16205;break}if(32&v){g.back=-1,g.mode=16191;break}if(64&v){e.msg="invalid literal/length code",g.mode=16209;break}g.extra=15&v,g.mode=16201;case 16201:if(g.extra){for(v=g.extra;f<v;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}g.length+=p&(1<<g.extra)-1,p>>>=g.extra,f-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=16202;case 16202:for(;v=(s=g.distcode[p&(1<<g.distbits)-1])>>>16&255,i=65535&s,!((r=s>>>24)<=f);){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(0==(240&v)){for(U=r,M=v,L=i;v=(s=g.distcode[L+((p&(1<<U+M)-1)>>U)])>>>16&255,i=65535&s,!(U+(r=s>>>24)<=f);){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}p>>>=U,f-=U,g.back+=U}if(p>>>=r,f-=r,g.back+=r,64&v){e.msg="invalid distance code",g.mode=16209;break}g.offset=i,g.extra=15&v,g.mode=16203;case 16203:if(g.extra){for(v=g.extra;f<v;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}g.offset+=p&(1<<g.extra)-1,p>>>=g.extra,f-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){e.msg="invalid distance too far back",g.mode=16209;break}g.mode=16204;case 16204:if(0===E)break e;if(A=Q-E,g.offset>A){if((A=g.offset-A)>g.whave&&g.sane){e.msg="invalid distance too far back",g.mode=16209;break}A>g.wnext?(A-=g.wnext,n=g.wsize-A):n=g.wnext-A,A>g.length&&(A=g.length),v=g.window}else v=l,n=I-g.offset,A=g.length;A>E&&(A=E),E-=A,g.length-=A;do{l[I++]=v[n++]}while(--A);0===g.length&&(g.mode=16200);break;case 16205:if(0===E)break e;l[I++]=g.length,E--,g.mode=16200;break;case 16206:if(g.wrap){for(;32>f;){if(0===h)break e;h--,p|=d[C++]<<f,f+=8}if(Q-=E,e.total_out+=Q,g.total+=Q,4&g.wrap&&Q&&(e.adler=g.check=g.flags?ay(g.check,l,Q,I-Q):iy(g.check,l,Q,I-Q)),Q=E,4&g.wrap&&(g.flags?p:Jy(p))!==g.check){e.msg="incorrect data check",g.mode=16209;break}f=p=0}g.mode=16207;case 16207:if(g.wrap&&g.flags){for(;32>f;){if(0===h)break e;h--,p+=d[C++]<<f,f+=8}if(4&g.wrap&&p!==(4294967295&g.total)){e.msg="incorrect length check",g.mode=16209;break}f=p=0}g.mode=16208;case 16208:y=1;break e;case 16209:y=-3;break e;case 16210:return-4;default:return-2}return e.next_out=I,e.avail_out=E,e.next_in=C,e.avail_in=h,g.hold=p,g.bits=f,(g.wsize||Q!==e.avail_out&&16209>g.mode&&(16206>g.mode||4!==t))&&Zy(e,e.output,e.next_out,Q-e.avail_out),B-=e.avail_in,Q-=e.avail_out,e.total_in+=B,e.total_out+=Q,g.total+=Q,4&g.wrap&&Q&&(e.adler=g.check=g.flags?ay(g.check,l,Q,e.next_out-Q):iy(g.check,l,Q,e.next_out-Q)),e.data_type=g.bits+(g.last?64:0)+(16191===g.mode?128:0)+(16199===g.mode||16194===g.mode?256:0),(0===B&&0===Q||4===t)&&0===y&&(y=-5),y},inflateEnd:function(e){if(qy(e))return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},inflateGetHeader:function(e,t){return qy(e)||0==(2&(e=e.state).wrap)?-2:(e.head=t,t.done=!1,0)},inflateSetDictionary:function(e,t){var A,n=t.length;return qy(e)||0!==(A=e.state).wrap&&16190!==A.mode?-2:16190===A.mode&&iy(1,t,n,0)!==A.check?-3:Zy(e,t,n,n)?(A.mode=16210,-4):(A.havedict=1,0)},inflateInfo:"pako inflate (from Nodeca project)"},ev=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},tv=Object.prototype.toString;Zn.prototype.push=function(e,t){var A,n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;if(this.ended)return!1;var o=t===~~t?t:!0===t?4:0;for("[object ArrayBuffer]"===tv.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),2===(t=$y.inflate(n,o))&&i&&(0===(t=$y.inflateSetDictionary(n,i))?t=$y.inflate(n,o):-3===t&&(t=2));0<n.avail_in&&1===t&&0<n.state.wrap&&0!==e[n.next_in];)$y.inflateReset(n),t=$y.inflate(n,o);switch(t){case-2:case-3:case 2:case-4:return this.onEnd(t),this.ended=!0,!1}if(A=n.avail_out,n.next_out&&(0===n.avail_out||1===t))if("string"===this.options.to){var a=Oy.utf8border(n.output,n.next_out),s=n.next_out-a,c=Oy.buf2string(n.output,a);n.next_out=s,n.avail_out=r-s,s&&n.output.set(n.output.subarray(a,a+s),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(0!==t||0!==A){if(1===t)return t=$y.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Zn.prototype.onData=function(e){this.chunks.push(e)},Zn.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ky.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},function(e){e[e.ONE_BYTE=0]="ONE_BYTE",e[e.TWO_BYTE=1]="TWO_BYTE"}(Py||(Py={}));var Av=function(){function e(){zb(this,e),Z(this,"_sequence",0),Z(this,"_startTime",Date.now()),Z(this,"isUseOneByte",!0)}return Ib(e,[{key:"startTime",get:function(){var e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}},{key:"sequence",get:function(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}},{key:"serialize",value:function(e){var t={length:0,reserved:0,extension:0,sequence:this.sequence},A=this.startTime,n=void 0,r=e;128<e.byteLength?((r=new Uint8Array(4)).set([1,0,0,0]),r={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[{id:0,length:4,data:r.buffer}]},t.extension=1,n=r,r=this.compress(e),t.length=8+(n.length+2)+r.byteLength):t.length=8+r.byteLength,Th.SHOW_DATASTREAM2_LOG&&qh.debug("send data header: ".concat(JSON.stringify(t))),e=new ArrayBuffer(t.length);var i=new Uint8Array(e),o=new DataView(e),a=0;if(o.setUint16(a,t.extension<<15|t.reserved<<14|t.length,!0),a+=2,o.setUint32(a,t.sequence,!0),a+=4,o.setUint16(a,A,!0),a+=2,n&&(A=this.serializeExtension(n),i.set(new Uint8Array(A),a),a+=A.byteLength),i.set(new Uint8Array(r),a),(a+=r.byteLength)!==t.length)throw Error("serialize error!");return e}},{key:"deserialize",value:function(e){if(4>e.byteLength)return new ArrayBuffer(0);var t=new DataView(e),A=0,n=t.getUint16(A,!0);return A+=2,n={length:16383&n,reserved:(16384&n)>>14,extension:(32768&n)>>15,sequence:t.getUint16(A+2,!0)<<16|t.getUint16(A,!0)},A+=4,Th.SHOW_DATASTREAM2_LOG&&qh.debug("receive data header: ".concat(JSON.stringify(n))),t.getUint16(A,!0),A+=2,n.extension?(A+=2+(t=this.deserializeExtension(e.slice(A))).length,e=e.slice(A),A=!1,0<t.datas.length&&(t=t.datas.find((function(e){return 0===e.id})))&&(A=1==(1&new DataView(t.data).getUint32(0,!0))),e=A?this.decompress(e):e):e=e.slice(8),e}},{key:"serializeExtension",value:function(e){var t=e.profile,A=e.length;e=e.datas;var n=new ArrayBuffer(A+2),r=new Uint8Array(n),i=new DataView(n),o=0;if(i.setUint8(o++,t),i.setUint8(o++,A),e.forEach((function(e){t?(i.setUint8(o++,e.id),i.setUint8(o++,e.length),r.set(new Uint8Array(e.data),o),o+=e.data.byteLength):(i.setUint8(o++,e.id|e.length<<4),r.set(new Uint8Array(e.data),o),o+=e.data.byteLength)})),o!==A+2)throw Error("serialize extension error, is ".concat(o,"!==").concat(A+2));return n}},{key:"deserializeExtension",value:function(e){var t=new DataView(e),A=0,n=t.getUint8(A);A++,t=t.getUint8(A),A=n===Py.TWO_BYTE;var r=[];e=new DataView(e,2);for(var i=0;i<t;){var o=0,a=0,s=new ArrayBuffer(0);A?(o=e.getUint8(i),i++,a=e.getUint8(i),i++):(o=15&e.getUint8(i),a=e.getUint8(i)>>4,i++),0<a&&(i+=(s=e.buffer.slice(i+2,i+2+a)).byteLength),r.push({id:o,length:a,data:s})}if(i!==t)throw Error("parse error");return{profile:n,length:t,datas:r}}},{key:"decompress",value:function(e){e=new Uint8Array(e);var t=new Zn(void 0);if(t.push(e),t.err)throw t.msg||sy[t.err];return t.result}},{key:"compress",value:function(e){e=new Uint8Array(e);var t=new Xn(void 0);if(t.push(e,!0),t.err)throw t.msg||sy[t.err];return t.result}}]),e}(),nv=function(e){function t(e,A){zb(this,t);var r=n.call(this);return Z(V(r),"_version",1),Z(V(r),"_type",3),Z(V(r),"_config",void 0),Z(V(r),"_originDataChannel",void 0),Z(V(r),"_dataStreamPacketHeader",new ArrayBuffer(4)),Z(V(r),"_dataStreamPacketHandler",void 0),Z(V(r),"_datachannelEventMap",new Map),r._config=e,A&&(r._originDataChannel=A,r._bandDataChannelEvents(A)),r._initPacketHeader(),r._dataStreamPacketHandler=new Av,r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"id",get:function(){return this._config.id}},{key:"ordered",get:function(){return this._config.ordered}},{key:"maxRetransmits",get:function(){return Th.DATASTREAM_MAX_RETRANSMITS}},{key:"metadata",get:function(){return this._config.metadata}},{key:"readyState",get:function(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:"connecting"}},{key:"_originDataChannelId",get:function(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}},{key:"getChannelId",value:function(){return this.id}},{key:"getConfig",value:function(){return this._config}},{key:"_close",value:function(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}},{key:"_waitTillOpen",value:(A=pa(O.mark((function e(){var t=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new IC((function(e,A){if(t._originDataChannel){"open"===t._originDataChannel.readyState&&e();var n=setTimeout((function(){var e;A(new mC(pC.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat(null===(e=t._originDataChannel)||void 0===e?void 0:e.id)))}),1e4);t._originDataChannel.onopen=function(){clearTimeout(n),t._originDataChannel&&t._bandDataChannelEvents(t._originDataChannel),e()},t._originDataChannel.onerror=function(){throw clearTimeout(n),new mC(pC.DATACHANNEL_CONNECTION_TIMEOUT)}}else A(new mC(pC.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))})));case 1:case"end":return e.stop()}}),e)}))),function(){return A.apply(this,arguments)})},{key:"_updateOriginDataChannel",value:function(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}},{key:"_initPacketHeader",value:function(){var e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}},{key:"_bandDataChannelEvents",value:function(e){var t=this;this._unbindDataChannelEvents(e),[FB.OPEN,FB.CLOSE,FB.ERROR].forEach((function(A){var n=function(){t.emit(A)};t._datachannelEventMap.set(A,n),e.addEventListener(A,n)}))}},{key:"_unbindDataChannelEvents",value:function(e){Array.from(this._datachannelEventMap.entries()).forEach((function(t){t=Lb(t,2),e.removeEventListener(t[0],t[1])})),this._datachannelEventMap.clear()}}]),t}(UC),rv=function(e){function t(e){zb(this,t);var n=A.call(this,e);return Z(V(n),"_messageListener",void 0),n._messageListener=function(e){if(e.data.byteLength<n._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+n._dataStreamPacketHeader.byteLength);var t=e.data.slice(0,n._dataStreamPacketHeader.byteLength);(t=new DataView(t).getUint8(3))===n.id?(e=e.data.slice(n._dataStreamPacketHeader.byteLength),e=n._dataStreamPacketHandler.deserialize(e),n.emit(FB.MESSAGE,e)):Th.SHOW_DATASTREAM2_LOG&&qh.debug("invalid datachannel id: ".concat(t," !== ").concat(n.id))},n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"_updateOriginDataChannel",value:function(e){Ce(je(t.prototype),"_updateOriginDataChannel",this).call(this,e),this._bandRemoteDataChannelEvents()}},{key:"_close",value:function(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),Ce(je(t.prototype),"_close",this).call(this))}},{key:"_bandRemoteDataChannelEvents",value:function(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}]),t}(nv),iv=function(e){function t(){return zb(this,t),A.apply(this,arguments)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"send",value:function(e){if(this._originDataChannel){e=this._dataStreamPacketHandler.serialize(e);var t=new Uint8Array(this._dataStreamPacketHeader.byteLength+e.byteLength);t.set(new Uint8Array(this._dataStreamPacketHeader),0),t.set(new Uint8Array(e),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(t.buffer)}}}]),t}(nv),ov=Ya("iterator"),av=!bo((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,A=new URLSearchParams("a=1&a=2"),n="";return e.pathname="c%20d",t.forEach((function(e,A){t.delete("b"),n+=A+e})),A.delete("a",2),!e.toJSON||!A.has("a",1)||A.has("a",2)||!t.size&&!0||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[ov]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),sv=Ya("iterator"),cv=mu.set,uv=mu.getterFor("URLSearchParams"),gv=mu.getterFor("URLSearchParamsIterator"),Iv=Object.getOwnPropertyDescriptor,lv=function(e){return qo?(e=Iv(Oo,e))&&e.value:Oo[e]},Ev=lv("fetch"),Cv=lv("Request"),dv=lv("Headers"),hv=Cv&&Cv.prototype,pv=dv&&dv.prototype,fv=Oo.RegExp,Bv=Oo.TypeError,Qv=Oo.decodeURIComponent,yv=Oo.encodeURIComponent,vv=ko("".charAt),mv=ko([].join),_v=ko([].push),bv=ko("".replace),Rv=ko([].shift),Sv=ko([].splice),wv=ko("".split),Dv=ko("".slice),kv=/\+/g,Nv=Array(4),Tv=function(e){try{return Qv(e)}catch(t){return e}},Ov=function(e){var t=bv(e,kv," ");e=4;try{return Qv(t)}catch(n){for(;e;){var A=e--;A=Nv[A-1]||(Nv[A-1]=fv("((?:%[\\da-f]{2}){"+A+"})","gi")),t=bv(t,A,Tv)}return t}},Lv=/[!'()~]|%20/g,Mv={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Uv=function(e){return Mv[e]},xv=Gg((function(e,t){cv(this,{type:"URLSearchParamsIterator",iterator:El(uv(e).entries),kind:t})}),"Iterator",(function(){var e=gv(this),t=e.kind,A=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?A.key:"values"===t?A.value:[A.key,A.value]),e}),!0),Pv=function(e){this.entries=[],this.url=null,void 0!==e&&(oa(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===vv(e,0)?Dv(e,1):e:Ks(e)))};Pv.prototype={type:"URLSearchParams",bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,A,n,r,i;if(t=Il(e))for(t=(e=El(e,t)).next;!(A=jo(t,e)).done;){if(r=(n=El(gs(A.value))).next,(A=jo(r,n)).done||(i=jo(r,n)).done||!jo(r,n).done)throw Bv("Expected sequence with length 2");_v(this.entries,{key:Ks(A.value),value:Ks(i.value)})}else for(A in e)Ma(e,A)&&_v(this.entries,{key:A,value:Ks(e[A])})},parseQuery:function(e){if(e){var t,A;e=wv(e,"&");for(var n=0;n<e.length;)(t=e[n++]).length&&(A=wv(t,"="),_v(this.entries,{key:Ov(Rv(A)),value:Ov(mv(A,"="))}))}},serialize:function(){for(var e,t=this.entries,A=[],n=0;n<t.length;)e=t[n++],_v(A,bv(yv(e.key),Lv,Uv)+"="+bv(yv(e.value),Lv,Uv));return mv(A,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Gv=function(){Ol(this,Fv);var e=cv(this,new Pv(0<arguments.length?arguments[0]:void 0));qo||(this.size=e.entries.length)},Fv=Gv.prototype;if(function(e,t,A){for(var n in t)A&&A.unsafe&&e[n]?e[n]=t[n]:iu(e,n,t[n],A)}(Fv,{append:function(e,t){var A=uv(this);Pl(arguments.length,2),_v(A.entries,{key:Ks(e),value:Ks(t)}),qo||this.length++,A.updateURL()},delete:function(e){var t=uv(this),A=Pl(arguments.length,1),n=t.entries,r=Ks(e);A=void 0===(A=2>A?void 0:arguments[1])?A:Ks(A);for(var i=0;i<n.length;){var o=n[i];if(o.key!==r||void 0!==A&&o.value!==A)i++;else if(Sv(n,i,1),void 0!==A)break}qo||(this.size=n.length),t.updateURL()},get:function(e){var t=uv(this).entries;Pl(arguments.length,1);for(var A=Ks(e),n=0;n<t.length;n++)if(t[n].key===A)return t[n].value;return null},getAll:function(e){var t=uv(this).entries;Pl(arguments.length,1);for(var A=Ks(e),n=[],r=0;r<t.length;r++)t[r].key===A&&_v(n,t[r].value);return n},has:function(e){var t=uv(this).entries,A=Pl(arguments.length,1),n=Ks(e);A=void 0===(A=2>A?void 0:arguments[1])?A:Ks(A);for(var r=0;r<t.length;){var i=t[r++];if(i.key===n&&(void 0===A||i.value===A))return!0}return!1},set:function(e,t){var A=uv(this);Pl(arguments.length,1);for(var n,r=A.entries,i=!1,o=Ks(e),a=Ks(t),s=0;s<r.length;s++)(n=r[s]).key===o&&(i?Sv(r,s--,1):(i=!0,n.value=a));i||_v(r,{key:o,value:a}),qo||(this.size=r.length),A.updateURL()},sort:function(){var e=uv(this);LI(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,A=uv(this).entries,n=os(e,1<arguments.length?arguments[1]:void 0),r=0;r<A.length;)n((t=A[r++]).value,t.key,this)},keys:function(){return new xv(this,"keys")},values:function(){return new xv(this,"values")},entries:function(){return new xv(this,"entries")}},{enumerable:!0}),iu(Fv,sv,Fv.entries,{name:"entries"}),iu(Fv,"toString",(function(){return uv(this).serialize()}),{enumerable:!0}),qo&&ou(Fv,"size",{get:function(){return uv(this).entries.length},configurable:!0,enumerable:!0}),Eu(Gv,"URLSearchParams"),ps({global:!0,constructor:!0,forced:!av},{URLSearchParams:Gv}),!av&&Jo(dv)){var Kv=ko(pv.has),Vv=ko(pv.set),Yv=function(e){if(oa(e)){var t,A=e.body;if("URLSearchParams"===Gs(A))return t=e.headers?new dv(e.headers):new dv,Kv(t,"content-type")||Vv(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Wc(e,{body:Zo(0,Ks(A)),headers:Zo(0,t)})}return e};if(Jo(Ev)&&ps({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return Ev(e,1<arguments.length?Yv(arguments[1]):{})}}),Jo(Cv)){var Jv=function(e){return Ol(this,hv),new Cv(e,1<arguments.length?Yv(arguments[1]):{})};hv.constructor=Jv,Jv.prototype=hv,ps({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Jv})}}var qv=Object.assign,Hv=Object.defineProperty,jv=ko([].concat),Wv=!qv||bo((function(){if(qo&&1!==qv({b:1},qv(Hv({},"a",{enumerable:!0,get:function(){Hv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},A=Symbol();return e[A]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=qv({},e)[A]||"abcdefghijklmnopqrst"!=Gc(qv({},t)).join("")}))?function(e,t){for(var A=Oa(e),n=arguments.length,r=1,i=ru.f,o=zo;n>r;)for(var a,s=ta(arguments[r++]),c=i?jv(Gc(s),i(s)):Gc(s),u=c.length,g=0;u>g;)a=c[g++],qo&&!jo(o,s,a)||(A[a]=s[a]);return A}:qv,Xv=Array,zv=/[^\0-\u007E]/,Zv=/[.\u3002\uFF0E\uFF61]/g,$v=RangeError,em=ko(Zv.exec),tm=Math.floor,Am=String.fromCharCode,nm=ko("".charCodeAt),rm=ko([].join),im=ko([].push),om=ko("".replace),am=ko("".split),sm=ko("".toLowerCase),cm=function(e){var t,A=Oa(e),n=bc(this),r=arguments.length,i=1<r?arguments[1]:void 0,o=void 0!==i;o&&(i=os(i,2<r?arguments[2]:void 0));var a=Il(A);if(r=0,!a||this===Xv&&ul(a)){var s=Rs(A);for(n=n?new this(s):Xv(s);s>r;r++){var c=o?i(A[r],r):A[r];Cc(n,r,c)}}else for(a=(A=El(A,a)).next,n=n?new this:[];!(t=jo(a,A)).done;r++){if(o)e:{c=A;var u=i;t=[t.value,r];try{s=u(gs(t)[0],t[1]);break e}catch(e){Cl(c,"throw",e)}s=void 0}else s=t.value;Cc(n,r,c=s)}return n.length=r,n},um=function(e){var t=[],A=am(om(sm(e),Zv,"."),".");for(e=0;e<A.length;e++){var n=A[e];if(em(zv,n)){var r=void 0,i=n;n=[];var o=i;i=[];for(var a=0,s=o.length;a<s;){var c=nm(o,a++);if(55296<=c&&56319>=c&&a<s){var u=nm(o,a++);56320==(64512&u)?im(i,((1023&c)<<10)+(1023&u)+65536):(im(i,c),a--)}else im(i,c)}a=i.length,s=128;var g=0,I=72;for(o=0;o<i.length;o++)128>(r=i[o])&&im(n,Am(r));for((u=c=n.length)&&im(n,"-");u<a;){var l=2147483647;for(o=0;o<i.length;o++)(r=i[o])>=s&&r<l&&(l=r);var E=u+1;if(l-s>tm((2147483647-g)/E))throw $v("Overflow: input needs wider integers to process");for(g+=(l-s)*E,s=l,o=0;o<i.length;o++){if((r=i[o])<s&&2147483647<++g)throw $v("Overflow: input needs wider integers to process");if(r==s){var C=g;for(l=36;;){var d=l<=I?1:l>=I+26?26:l-I;if(C<d)break;var h=36-d;im(n,Am((d+=(C-=d)%h)+22+75*(26>d))),C=tm(C/h),l+=36}for(im(n,Am(C+22+75*(26>C))),I=E,l=0,g=u==c?tm(g/700):g>>1,g+=tm(g/I);455<g;)g=tm(g/35),l+=36;I=tm(l+36*g/(g+38)),g=0,u++}}g++,s++}r="xn--"+rm(n,"")}else r=n;im(t,r)}return rm(t,".")},gm=mu.set,Im=mu.getterFor("URL"),lm=Oo.URL,Em=Oo.TypeError,Cm=Oo.parseInt,dm=Math.floor,hm=Math.pow,pm=ko("".charAt),fm=ko(/./.exec),Bm=ko([].join),Qm=ko(1..toString),ym=ko([].pop),vm=ko([].push),mm=ko("".replace),_m=ko([].shift),bm=ko("".split),Rm=ko("".slice),Sm=ko("".toLowerCase),wm=ko([].unshift),Dm=/[a-z]/i,km=/[\d+-.a-z]/i,Nm=/\d/,Tm=/^0x/i,Om=/^[0-7]+$/,Lm=/^\d+$/,Mm=/^[\da-f]+$/i,Um=/[\0\t\n\r #%/:<>?@[\\\]^|]/,xm=/[\0\t\n\r #/:<>?@[\\\]^|]/,Pm=/^[\u0000-\u0020]+/,Gm=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Fm=/[\t\n\r]/g,Km=function(e){var t,A;if("number"==typeof e){var n=[];for(t=0;4>t;t++)wm(n,e%256),e=dm(e/256);return Bm(n,".")}if("object"==ub(e)){n="",t=null;for(var r=1,i=null,o=0,a=0;8>a;a++)0!==e[a]?(o>r&&(t=i,r=o),i=null,o=0):(null===i&&(i=a),++o);for(o>r&&(t=i),r=t,t=0;8>t;t++)A&&0===e[t]||(A&&(A=!1),r===t?(n+=t?":":"::",A=!0):(n+=Qm(e[t],16),7>t&&(n+=":")));return"["+n+"]"}return e},Vm={},Ym=Wv({},Vm,{" ":1,'"':1,"<":1,">":1,"`":1}),Jm=Wv({},Ym,{"#":1,"?":1,"{":1,"}":1}),qm=Wv({},Jm,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Hm=function(e,t){var A=vI(e,0);return 32<A&&127>A&&!Ma(t,e)?e:encodeURIComponent(e)},jm={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Wm=function(e,t){var A;return 2==e.length&&fm(Dm,pm(e,0))&&(":"==(A=pm(e,1))||!t&&"|"==A)},Xm=function(e){var t;return 1<e.length&&Wm(Rm(e,0,2))&&(2==e.length||"/"===(t=pm(e,2))||"\\"===t||"?"===t||"#"===t)},zm={},Zm={},$m={},e_={},t_={},A_={},n_={},r_={},i_={},o_={},a_={},s_={},c_={},u_={},g_={},I_={},l_={},E_={},C_={},d_={},h_={},p_=function e(t,A,n){var r;if(t=Ks(t),A){if(A=this.parse(t))throw Em(A);this.searchParams=null}else{if(void 0!==n&&(r=new e(n,!0)),A=this.parse(t,null,r))throw Em(A);(r=uv(new Gv)).bindURL(this),this.searchParams=r}};p_.prototype={type:"URL",parse:function(e,t,A){var n,r,i=t||zm,o=0,a="",s=!1,c=!1,u=!1;for(e=Ks(e),t||(this.scheme="",this.username="",this.password="",this.host=null,this.port=null,this.path=[],this.query=null,this.fragment=null,this.cannotBeABaseURL=!1,e=mm(e,Pm,""),e=mm(e,Gm,"$1")),e=mm(e,Fm,""),e=cm(e);o<=e.length;){switch(n=e[o],i){case zm:if(!n||!fm(Dm,n)){if(t)return"Invalid scheme";i=$m;continue}a+=Sm(n),i=Zm;break;case Zm:if(n&&(fm(km,n)||"+"==n||"-"==n||"."==n))a+=Sm(n);else{if(":"!=n){if(t)return"Invalid scheme";a="",i=$m,o=0;continue}if(t&&(this.isSpecial()!=Ma(jm,a)||"file"==a&&(this.includesCredentials()||null!==this.port)||"file"==this.scheme&&!this.host))return;if(this.scheme=a,t)return void(this.isSpecial()&&jm[this.scheme]==this.port&&(this.port=null));a="","file"==this.scheme?i=u_:this.isSpecial()&&A&&A.scheme==this.scheme?i=e_:this.isSpecial()?i=r_:"/"==e[o+1]?(i=t_,o++):(this.cannotBeABaseURL=!0,vm(this.path,""),i=C_)}break;case $m:if(!A||A.cannotBeABaseURL&&"#"!=n)return"Invalid scheme";if(A.cannotBeABaseURL&&"#"==n){this.scheme=A.scheme,this.path=eu(A.path),this.query=A.query,this.fragment="",this.cannotBeABaseURL=!0,i=h_;break}i="file"==A.scheme?u_:A_;continue;case e_:if("/"!=n||"/"!=e[o+1]){i=A_;continue}i=i_,o++;break;case t_:if("/"==n){i=o_;break}i=E_;continue;case A_:if(this.scheme=A.scheme,null==n)this.username=A.username,this.password=A.password,this.host=A.host,this.port=A.port,this.path=eu(A.path),this.query=A.query;else if("/"==n||"\\"==n&&this.isSpecial())i=n_;else if("?"==n)this.username=A.username,this.password=A.password,this.host=A.host,this.port=A.port,this.path=eu(A.path),this.query="",i=d_;else{if("#"!=n){this.username=A.username,this.password=A.password,this.host=A.host,this.port=A.port,this.path=eu(A.path),this.path.length--,i=E_;continue}this.username=A.username,this.password=A.password,this.host=A.host,this.port=A.port,this.path=eu(A.path),this.query=A.query,this.fragment="",i=h_}break;case n_:if(!this.isSpecial()||"/"!=n&&"\\"!=n){if("/"!=n){this.username=A.username,this.password=A.password,this.host=A.host,this.port=A.port,i=E_;continue}i=o_}else i=i_;break;case r_:if(i=i_,"/"!=n||"/"!=pm(a,o+1))continue;o++;break;case i_:if("/"!=n&&"\\"!=n){i=o_;continue}break;case o_:if("@"==n){for(s&&(a="%40"+a),s=!0,a=cm(a),n=0;n<a.length;n++){var g=a[n];":"!=g||u?(g=Hm(g,qm),u?this.password+=g:this.username+=g):u=!0}a=""}else if(null==n||"/"==n||"?"==n||"#"==n||"\\"==n&&this.isSpecial()){if(s&&""==a)return"Invalid authority";o-=cm(a).length+1,a="",i=a_}else a+=n;break;case a_:case s_:if(t&&"file"==this.scheme){i=I_;continue}if(":"!=n||c){if(null==n||"/"==n||"?"==n||"#"==n||"\\"==n&&this.isSpecial()){if(this.isSpecial()&&""==a)return"Invalid host";if(t&&""==a&&(this.includesCredentials()||null!==this.port))return;if(i=this.parseHost(a))return i;if(a="",i=l_,t)return;continue}"["==n?c=!0:"]"==n&&(c=!1),a+=n}else{if(""==a)return"Invalid host";if(i=this.parseHost(a))return i;if(a="",i=c_,t==s_)return}break;case c_:if(!fm(Nm,n)){if(null==n||"/"==n||"?"==n||"#"==n||"\\"==n&&this.isSpecial()||t){if(""!=a){if(65535<(i=Cm(a,10)))return"Invalid port";this.port=this.isSpecial()&&i===jm[this.scheme]?null:i,a=""}if(t)return;i=l_;continue}return"Invalid port"}a+=n;break;case u_:if(this.scheme="file","/"==n||"\\"==n)i=g_;else{if(!A||"file"!=A.scheme){i=E_;continue}if(null==n)this.host=A.host,this.path=eu(A.path),this.query=A.query;else if("?"==n)this.host=A.host,this.path=eu(A.path),this.query="",i=d_;else{if("#"!=n){Xm(Bm(eu(e,o),""))||(this.host=A.host,this.path=eu(A.path),this.shortenPath()),i=E_;continue}this.host=A.host,this.path=eu(A.path),this.query=A.query,this.fragment="",i=h_}}break;case g_:if("/"==n||"\\"==n){i=I_;break}A&&"file"==A.scheme&&!Xm(Bm(eu(e,o),""))&&(Wm(A.path[0],!0)?vm(this.path,A.path[0]):this.host=A.host),i=E_;continue;case I_:if(null==n||"/"==n||"\\"==n||"?"==n||"#"==n){if(!t&&Wm(a))i=E_;else{if(""==a){if(this.host="",t)return}else{if(i=this.parseHost(a))return i;if("localhost"==this.host&&(this.host=""),t)return;a=""}i=l_}continue}a+=n;break;case l_:if(this.isSpecial()){if(i=E_,"/"!=n&&"\\"!=n)continue}else if(t||"?"!=n)if(t||"#"!=n){if(null!=n&&(i=E_,"/"!=n))continue}else this.fragment="",i=h_;else this.query="",i=d_;break;case E_:if(null==n||"/"==n||"\\"==n&&this.isSpecial()||!t&&("?"==n||"#"==n)){if(".."===(r=Sm(r=a))||"%2e."===r||".%2e"===r||"%2e%2e"===r?(this.shortenPath(),"/"==n||"\\"==n&&this.isSpecial()||vm(this.path,"")):"."===a||"%2e"===Sm(a)?"/"==n||"\\"==n&&this.isSpecial()||vm(this.path,""):("file"==this.scheme&&!this.path.length&&Wm(a)&&(this.host&&(this.host=""),a=pm(a,0)+":"),vm(this.path,a)),a="","file"==this.scheme&&(null==n||"?"==n||"#"==n))for(;1<this.path.length&&""===this.path[0];)_m(this.path);"?"==n?(this.query="",i=d_):"#"==n&&(this.fragment="",i=h_)}else a+=Hm(n,Jm);break;case C_:"?"==n?(this.query="",i=d_):"#"==n?(this.fragment="",i=h_):null!=n&&(this.path[0]+=Hm(n,Vm));break;case d_:t||"#"!=n?null!=n&&("'"==n&&this.isSpecial()?this.query+="%27":this.query+="#"==n?"%23":Hm(n,Vm)):(this.fragment="",i=h_);break;case h_:null!=n&&(this.fragment+=Hm(n,Ym))}o++}},parseHost:function(e){var t,A;if("["==pm(e,0)){if("]"!=pm(e,e.length-1)||!(t=function(e){var t,A,n,r=[0,0,0,0,0,0,0,0],i=0,o=null,a=0,s=function(){return pm(e,a)};if(":"==s()){if(":"!=pm(e,1))return;a+=2,o=++i}for(;s();){if(8==i)return;if(":"!=s()){for(t=A=0;4>A&&fm(Mm,s());)t=16*t+Cm(s(),16),a++,A++;if("."==s()){if(0==A||(a-=A,6<i))return;for(t=0;s();){if(A=null,0<t){if(!("."==s()&&4>t))return;a++}if(!fm(Nm,s()))return;for(;fm(Nm,s());){if(n=Cm(s(),10),null===A)A=n;else{if(0==A)return;A=10*A+n}if(255<A)return;a++}r[i]=256*r[i]+A,2!=++t&&4!=t||i++}if(4!=t)return;break}if(":"==s()){if(a++,!s())return}else if(s())return;r[i++]=t}else{if(null!==o)return;a++,o=++i}}if(null!==o)for(s=i-o,i=7;0!=i&&0<s;)t=r[i],r[i--]=r[o+s-1],r[o+--s]=t;else if(8!=i)return;return r}(Rm(e,1,-1))))return"Invalid host"}else if(this.isSpecial()){if(e=um(e),fm(Um,e)||null===(t=function(e){var t,A,n,r,i=bm(e,".");if(i.length&&""==i[i.length-1]&&i.length--,4<(t=i.length))return e;var o=[];for(A=0;A<t;A++){if(""==(n=i[A]))return e;if(r=10,1<n.length&&"0"==pm(n,0)&&(r=fm(Tm,n)?16:8,n=Rm(n,8==r?1:2)),""===n)n=0;else{if(!fm(10==r?Lm:8==r?Om:Mm,n))return e;n=Cm(n,r)}vm(o,n)}for(A=0;A<t;A++)if(n=o[A],A==t-1){if(n>=hm(256,5-t))return null}else if(255<n)return null;for(e=ym(o),A=0;A<o.length;A++)e+=o[A]*hm(256,3-A);return e}(e)))return"Invalid host"}else{if(fm(xm,e))return"Invalid host";for(t="",e=cm(e),A=0;A<e.length;A++)t+=Hm(e[A],Vm)}this.host=t},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return Ma(jm,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&Wm(e[0],!0)||e.length--},serialize:function(){var e=this.scheme,t=this.username,A=this.password,n=this.host,r=this.port,i=this.path,o=this.query,a=this.fragment,s=e+":";return null!==n?(s+="//",this.includesCredentials()&&(s+=t+(A?":"+A:"")+"@"),s+=Km(n),null!==r&&(s+=":"+r)):"file"==e&&(s+="//"),s+=this.cannotBeABaseURL?i[0]:i.length?"/"+Bm(i,"/"):"",null!==o&&(s+="?"+o),null!==a&&(s+="#"+a),s},setHref:function(e){if(e=this.parse(e))throw Em(e);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new f_(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+Km(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Ks(e)+":",zm)},getUsername:function(){return this.username},setUsername:function(e){if(e=cm(Ks(e)),!this.cannotHaveUsernamePasswordPort()){this.username="";for(var t=0;t<e.length;t++)this.username+=Hm(e[t],qm)}},getPassword:function(){return this.password},setPassword:function(e){if(e=cm(Ks(e)),!this.cannotHaveUsernamePasswordPort()){this.password="";for(var t=0;t<e.length;t++)this.password+=Hm(e[t],qm)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?Km(e):Km(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,a_)},getHostname:function(){var e=this.host;return null===e?"":Km(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,s_)},getPort:function(){var e=this.port;return null===e?"":Ks(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=Ks(e))?this.port=null:this.parse(e,c_))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Bm(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,l_))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=Ks(e))?this.query=null:("?"==pm(e,0)&&(e=Rm(e,1)),this.query="",this.parse(e,d_)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=Ks(e))?("#"==pm(e,0)&&(e=Rm(e,1)),this.fragment="",this.parse(e,h_)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var f_=function(e){var t=Ol(this,B_),A=1<Pl(arguments.length,1)?arguments[1]:void 0;A=gm(t,new p_(e,!1,A)),qo||(t.href=A.serialize(),t.origin=A.getOrigin(),t.protocol=A.getProtocol(),t.username=A.getUsername(),t.password=A.getPassword(),t.host=A.getHost(),t.hostname=A.getHostname(),t.port=A.getPort(),t.pathname=A.getPathname(),t.search=A.getSearch(),t.searchParams=A.getSearchParams(),t.hash=A.getHash())},B_=f_.prototype,Q_=function(e,t){return{get:function(){return Im(this)[e]()},set:t&&function(e){return Im(this)[t](e)},configurable:!0,enumerable:!0}};if(qo&&(ou(B_,"href",Q_("serialize","setHref")),ou(B_,"origin",Q_("getOrigin")),ou(B_,"protocol",Q_("getProtocol","setProtocol")),ou(B_,"username",Q_("getUsername","setUsername")),ou(B_,"password",Q_("getPassword","setPassword")),ou(B_,"host",Q_("getHost","setHost")),ou(B_,"hostname",Q_("getHostname","setHostname")),ou(B_,"port",Q_("getPort","setPort")),ou(B_,"pathname",Q_("getPathname","setPathname")),ou(B_,"search",Q_("getSearch","setSearch")),ou(B_,"searchParams",Q_("getSearchParams")),ou(B_,"hash",Q_("getHash","setHash"))),iu(B_,"toJSON",(function(){return Im(this).serialize()}),{enumerable:!0}),iu(B_,"toString",(function(){return Im(this).serialize()}),{enumerable:!0}),lm){var y_=lm.createObjectURL,v_=lm.revokeObjectURL;y_&&iu(f_,"createObjectURL",os(y_,lm)),v_&&iu(f_,"revokeObjectURL",os(v_,lm))}Eu(f_,"URL"),ps({global:!0,constructor:!0,forced:!av,sham:!qo},{URL:f_});var m_=ca("URL");ps({target:"URL",stat:!0,forced:!(av&&bo((function(){m_.canParse()})))},{canParse:function(e){var t=Pl(arguments.length,1),A=Ks(e);t=2>t||void 0===arguments[1]?void 0:Ks(arguments[1]);try{return!!new m_(A,t)}catch(e){return!1}}});var __,b_,R_,S_=t(aa.URL),w_=new Map,D_=new Map,k_=new Map,N_=new Map;b_=ee(),R_=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),lB.getDisplayMedia=R_,lB.getStreamFromExtension=b_.name===uC.CHROME&&34<Number(b_.version),lB.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var e=new RTCPeerConnection,t=!1;try{e.addTransceiver("audio"),t=!0}catch(e){}return e.close(),t}(),lB.supportMinBitrate=b_.name===uC.CHROME||b_.name===uC.EDGE,lB.supportSetRtpSenderParameters=(__=ee(),!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!fe()||!(!ie()&&!Ae())||__.name===uC.FIREFOX&&64<=Number(__.version))),b_.name===uC.SAFARI&&(14<=Number(b_.version)?lB.supportDualStream=!0:lB.supportDualStream=!1),lB.webAudioMediaStreamDest=function(){var e=ee();return!(e.name===uC.SAFARI&&12>Number(e.version))}(),lB.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,lB.supportWebGL="undefined"!=typeof WebGLRenderingContext,lB.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,fe()||(lB.webAudioWithAEC=!0),lB.supportShareAudio=function(){var e=ee();return(e.os===cC.WIN_10||e.os===cC.WIN_81||e.os===cC.WIN_7||e.os===cC.LINUX||e.os===cC.MAC_OS||e.os===cC.CHROMIUM_OS)&&e.name===uC.CHROME&&74<=Number(e.version)}(),lB.supportDataChannel=!!(se(76)||function(e){var t=ee();return!(t.name!==uC.FIREFOX||!t.osVersion)&&Number(t.version)>=e}(68)||function(e){var t=ee();return!(t.name!==uC.SAFARI||!t.osVersion)&&Number(t.version)>=e}(14)),lB.supportPCSetConfiguration=function(){var e=window.RTCPeerConnection;return!oe()&&!!e&&e.prototype.setConfiguration instanceof Function}(),lB.supportWebRTCEncodedTransform=function(){var e=ee();return"Chrome"===e.name&&86<=Number(e.version)||"Safari"===e.name&&15<=Number(e.version)}(),lB.supportWebRTCInsertableStream=function(){var e=ee();return(e.name===uC.CHROME||e.name===uC.EDGE)&&94<=Number(e.version)&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),Ye((function(){var e=ee();e=!!Th.DISABLE_WEBAUDIO||"Safari"===e.name&&14<=Number(e.version)||!!("Chrome"===e.name&&/Windows/i.test(e.os||"")&&100<=Number(e.version)&&Th.CHROME_DUAL_STREAM_USE_ENCODING),lB.supportDualStreamEncoding=e,qh.info("browser compatibility",JSON.stringify(lB),JSON.stringify(b_))}));var T_=function(e){function t(){zb(this,t);var e=A.apply(this,arguments);return Z(V(e),"resultStorage",new Map),e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"setLocalAudioStats",value:function(e,t,A){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(A,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(A,t))}},{key:"setLocalVideoStats",value:function(e,t,A){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(A,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(A,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(A))}},{key:"setRemoteAudioStats",value:function(e,t){e=e.getUserId(),this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",e,this.checkAudioOutputLevel(t))}},{key:"setRemoteVideoStats",value:function(e,t){e=e.getUserId(),this.record("RECV_VIDEO_DECODE_FAILED",e,this.checkVideoDecode(t))}},{key:"record",value:function(e,t,A){if(!(500<Th.STATS_UPDATE_INTERVAL)){this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});var n,r=this.resultStorage.get(e);r&&(r.result.push(A),5<=r.result.length)&&(A=Xs(n=r.result).call(n,!0),r.isPrevNormal&&!A&&this.emit("exception",O_[e],e,t),!r.isPrevNormal&&A&&this.emit("exception",O_[e]+2e3,e+"_RECOVER",t),r.isPrevNormal=A,r.result=[])}}},{key:"checkAudioOutputLevel",value:function(e){return!(0<e.receiveBitrate&&0===e.receiveLevel)}},{key:"checkAudioInputLevel",value:function(e,t){return t instanceof CQ&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}},{key:"checkFramerateInput",value:function(e,t){var A=null;return t._encoderConfig&&t._encoderConfig.frameRate&&(A=uA(t._encoderConfig.frameRate)),e=e.captureFrameRate,!A||!e||!(10<A&&5>e||10>A&&5<=A&&1>=e)}},{key:"checkFramerateSent",value:function(e){return!(e.captureFrameRate&&e.sendFrameRate&&5<e.captureFrameRate&&1>=e.sendFrameRate)}},{key:"checkSendVideoBitrate",value:function(e,t){return!!t.muted||0!==e.sendBitrate}},{key:"checkSendAudioBitrate",value:function(e,t){return t instanceof CQ&&!t.isActive||!!t.muted||0!==e.sendBitrate}},{key:"checkVideoDecode",value:function(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}]),t}(UC),O_={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},L_=new(function(){function e(){zb(this,e)}return Ib(e,[{key:"markSubscribeStart",value:function(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}},{key:"markPublishStart",value:function(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}},{key:"measureFromSubscribeStart",value:function(e,t){return 0<(e=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t))).length?(e=e[e.length-1],Math.round(performance.now()-e.startTime)):0}},{key:"measureFromPublishStart",value:function(e,t){return 0<(e=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t))).length?(e=e[e.length-1],Math.round(performance.now()-e.startTime)):0}}]),e}());ps({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var e=RE.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}}),ps({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=RE.f(this);return((e=fE(e)).error?t.reject:t.resolve)(e.value),t.promise}});var M_=t(gC),U_=au.f("asyncIterator"),x_=t(U_);or.prototype["function"==typeof pI&&x_||"@@asyncIterator"]=function(){return this},or.prototype.next=function(e){return this._invoke("next",e)},or.prototype.throw=function(e){return this._invoke("throw",e)},or.prototype.return=function(e){return this._invoke("return",e)};var P_=t(aa.Object.getOwnPropertySymbols),G_=Ko([].indexOf),F_=!!G_&&0>1/G_([1],1,-0);ps({target:"Array",proto:!0,forced:F_||!MI("indexOf")},{indexOf:function(e){var t=1<arguments.length?arguments[1]:void 0;return F_?G_(this,e,t)||0:Ds(this,e,t)}});var K_=ks("Array").indexOf,V_=Array.prototype,Y_=t((function(e){var t=e.indexOf;return e===V_||No(V_,e)&&t===V_.indexOf?K_:t}));ps({target:"Object",stat:!0,forced:bo((function(){Gc(1)}))},{keys:function(e){return Gc(Oa(e))}});var J_=t(aa.Object.keys),q_={exports:{}};!function(e,t){e.exports=function(){function e(n){if(A[n])return A[n].exports;var r=A[n]={exports:{}};return t[n](r,r.exports,e),r.exports}var t={8:function(e,t,A){function n(e){return"0"<=e&&"9">=e}function r(e){return"!"<=e&&"~">=e}function i(e){return r(e)||""<=e&&"">=e}function o(e){return"!"===e||"#"<=e&&"'">=e||"*"<=e&&"+">=e||"-"<=e&&".">=e||"0"<=e&&"9">=e||"A"<=e&&"Z">=e||"^"<=e&&"~">=e}function a(e){return"1"<=e&&"9">=e}function s(e){return"A"<=e&&"Z">=e||"a"<=e&&"z">=e}function c(e){return"d"===e||"h"===e||"m"===e||"s"===e}function u(e){return""<e&&"\t">e||"\v"<e&&"\f">e||""<e&&"">e}function g(e){return s(e)||n(e)||"+"===e||"/"===e}function I(e){return n(e)||s(e)||"+"===e||"/"===e||"-"===e||"_"===e}function l(e){return s(e)||n(e)||"+"===e||"/"===e}function E(e,t){var A=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),A.push.apply(A,n)}return A}function C(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?E(Object(A),!0).forEach((function(t){d(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):E(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}function d(e,t,A){return t in e?Object.defineProperty(e,t,{value:A,enumerable:!0,configurable:!0,writable:!0}):e[t]=A,e}function h(e,t,A){return t in e?Object.defineProperty(e,t,{value:A,enumerable:!0,configurable:!0,writable:!0}):e[t]=A,e}function p(e){return(new v).parse(e)}function f(e,t){return(new b).print(e,t)}A.r(t),A.d(t,{Parser:function(){return v},Printer:function(){return b},parse:function(){return p},print:function(){return f}});var B,Q,y="".concat("\r").concat("\n");(Q=B||(B={})).VERSION="v",Q.ORIGIN="o",Q.SESSION_NAME="s",Q.INFORMATION="i",Q.URI="u",Q.EMAIL="e",Q.PHONE="p",Q.CONNECTION="c",Q.BANDWIDTH="b",Q.TIME="t",Q.REPEAT="r",Q.ZONE_ADJUSTMENTS="z",Q.KEY="k",Q.ATTRIBUTE="a",Q.MEDIA="m";var v=function(e){function t(){zb(this,t);var e=A.call(this);return d(V(e),"records",[]),d(V(e),"currentLine",0),e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"parse",value:function(e){var t=this.probeEOL(e);this.records=e.split(t).filter((function(e){return!!e.trim()})).map(this.parseLine),this.currentLine=0,e=this.parseVersion(),t=this.parseOrigin();var A=this.parseSessionName(),n=this.parseInformation(),r=this.parseUri(),i=this.parseEmail(),o=this.parsePhone(),a=this.parseConnection(),s=this.parseBandWidth(),c=this.parseTimeFields(),u=this.parseKey(),g=this.parseSessionAttribute(),I=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw Error("parsing failed, non exhaustive sdp lines.");return{version:e,origin:t,sessionName:A,information:n,uri:r,emails:i,phones:o,connection:a,bandwidths:s,timeFields:c,key:u,attributes:g,mediaDescriptions:I}}},{key:"getCurrentRecord",value:function(){var e=this.records[this.currentLine];if(!e)throw Error("Record doesn't exit.");return e}},{key:"probeEOL",value:function(e){for(var t=0;t<e.length;t++)if("\n"===e[t])return"\r"===e[t-1]?y:"\n";throw Error("Invalid newline character.")}},{key:"parseLine",value:function(e,t){if(2>e.length)throw Error("Invalid sdp line, sdp line should be of form <type>=<value>.");var A=e[0];if("="!==e[1])throw Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:A,value:e.slice(2),line:t,cur:0}}},{key:"parseSessionAttribute",value:function(){for(var e=new m;this.currentLine<this.records.length;){var t=this.getCurrentRecord();if(t.type!==B.ATTRIBUTE)break;var A={attField:this.extractOneOrMore(t,(function(e){return o(e)&&":"!==e})),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,A.attValue=this.extractOneOrMore(t,u)),e.parse(A),this.currentLine++}return e.digest()}},{key:"parseMediaAttributes",value:function(e){for(e=new _(e);this.currentLine<this.records.length;){var t=this.getCurrentRecord();if(t.type!==B.ATTRIBUTE)break;var A={attField:this.extractOneOrMore(t,(function(e){return o(e)&&":"!==e})),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,A.attValue=this.extractOneOrMore(t,u)),e.parse(A),this.currentLine++}return e.digest()}},{key:"parseKey",value:function(){var e=this.getCurrentRecord();if(e.type===B.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,Error("Invalid key.")}}},{key:"parseZone",value:function(){var e=this.getCurrentRecord();if(e.type===B.ZONE_ADJUSTMENTS){for(var t=[];;)try{var A=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);var n=!1;"-"===e.value[e.cur]&&(n=!0,e.cur+=1);var r=this.extract(e,this.consumeTypedTime);t.push({time:A,typedTime:r,back:n})}catch(e){break}if(0===t.length)throw Error("Invalid zone adjustments");return this.currentLine++,t}return[]}},{key:"parseRepeat",value:function(){for(var e=[];;){var t=this.getCurrentRecord();if(t.type!==B.REPEAT)break;var A=this.extract(t,this.consumeRepeatInterval);t=this.parseTypedTime(t),e.push({repeatInterval:A,typedTimes:t}),this.currentLine++}return e}},{key:"parseTypedTime",value:function(e){for(var t=[];;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw Error("Invalid typed time.");return t}},{key:"parseTime",value:function(){var e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);return this.consumeSpaceForRecord(e),e=this.extract(e,this.consumeTime),this.currentLine++,{startTime:t,stopTime:e}}},{key:"parseBandWidth",value:function(){for(var e=[];this.currentLine<this.records.length;){var t=this.getCurrentRecord();if(t.type!==B.BANDWIDTH)break;var A=this.extractOneOrMore(t,o);if(":"!==t.value[t.cur])throw Error("Invalid bandwidth field.");t.cur++,t=this.extractOneOrMore(t,n),e.push({bwtype:A,bandwidth:t}),this.currentLine++}return e}},{key:"parseVersion",value:function(){var e=this.getCurrentRecord();if(e.type!==B.VERSION)throw Error("first sdp record must be version");var t=e.value.slice(0,this.consumeOneOrMore(e.value,0,n));if(t.length!==e.value.length)throw Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}},{key:"parseOrigin",value:function(){var e=this.getCurrentRecord();if(e.type!==B.ORIGIN)throw Error("second line of sdp must be origin");var t=this.extractOneOrMore(e,i);this.consumeSpaceForRecord(e);var A=this.extractOneOrMore(e,n);this.consumeSpaceForRecord(e);var r=this.extractOneOrMore(e,n);this.consumeSpaceForRecord(e);var a=this.extractOneOrMore(e,o);this.consumeSpaceForRecord(e);var s=this.extractOneOrMore(e,o);return this.consumeSpaceForRecord(e),e=this.extract(e,this.consumeUnicastAddress),this.currentLine++,{username:t,sessId:A,sessVersion:r,nettype:a,addrtype:s,unicastAddress:e}}},{key:"parseSessionName",value:function(){var e=this.getCurrentRecord();if(e.type===B.SESSION_NAME)return e=this.extract(e,this.consumeText),this.currentLine++,e}},{key:"parseInformation",value:function(){var e=this.getCurrentRecord();if(e.type===B.INFORMATION)return e=this.extract(e,this.consumeText),this.currentLine++,e}},{key:"parseUri",value:function(){var e=this.getCurrentRecord();if(e.type===B.URI)return this.currentLine++,e.value}},{key:"parseEmail",value:function(){for(var e=[];;){var t=this.getCurrentRecord();if(t.type!==B.EMAIL)break;e.push(t.value),this.currentLine++}return e}},{key:"parsePhone",value:function(){for(var e=[];;){var t=this.getCurrentRecord();if(t.type!==B.PHONE)break;e.push(t.value),this.currentLine++}return e}},{key:"parseConnection",value:function(){var e=this.getCurrentRecord();if(e.type===B.CONNECTION){var t=this.extractOneOrMore(e,o);this.consumeSpaceForRecord(e);var A=this.extractOneOrMore(e,o);return this.consumeSpaceForRecord(e),e=this.extract(e,this.consumeAddress),this.currentLine++,{nettype:t,addrtype:A,address:e}}}},{key:"parseMedia",value:function(){var e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);var A=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,A+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);var n=[];for(n.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,n.push(this.extract(e,this.consumeToken));if(0===n.length)throw Error("Invalid proto");return e=this.parseFmt(e),this.currentLine++,{mediaType:t,port:A,protos:n,fmts:e}}},{key:"parseTimeFields",value:function(){for(var e=[];this.getCurrentRecord().type===B.TIME;){var t=this.parseTime(),A=this.parseRepeat(),n=this.parseZone();e.push({time:t,repeats:A,zones:n})}return e}},{key:"parseMediaDescription",value:function(){for(var e=[];this.currentLine<this.records.length&&this.getCurrentRecord().type===B.MEDIA;){var t=this.parseMedia(),A=this.parseInformation(),n=this.parseConnections(),r=this.parseBandWidth(),i=this.parseKey(),o=this.parseMediaAttributes(t);e.push({media:t,information:A,connections:n,bandwidths:r,key:i,attributes:o})}return e}},{key:"parseConnections",value:function(){for(var e=[];this.currentLine<this.records.length&&this.getCurrentRecord().type===B.CONNECTION;)e.push(this.parseConnection());return e}},{key:"parseFmt",value:function(e){for(var t=[];;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw Error("Invalid fmts");return t}},{key:"extract",value:function(e,t){for(var A=arguments.length,n=Array(2<A?A-2:0),r=2;r<A;r++)n[r-2]=arguments[r];return A=t.call.apply(t,[this,e.value,e.cur].concat(n)),n=e.value.slice(e.cur,A),e.cur=A,n}},{key:"extractOneOrMore",value:function(e,t){t=this.consumeOneOrMore(e.value,e.cur,t);var A=e.value.slice(e.cur,t);return e.cur=t,A}},{key:"consumeSpaceForRecord",value:function(e){if(" "!==e.value[e.cur])throw Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}]),t}(e=function(){function e(){zb(this,e)}return Ib(e,[{key:"consumeText",value:function(e,t){for(var A=t;A<e.length;){var n=e[A];if("\0"===n||"\r"===n||"\n"===n)break;A+=1}if(0==A-t)throw Error("Invalid text, at ".concat(e));return A}},{key:"consumeUnicastAddress",value:function(e,t,A){return this.consumeTill(e,t," ")}},{key:"consumeOneOrMore",value:function(e,t,A){for(var n=t;A(e[n]);)n++;if(0==n-t)throw Error("Invalid rule at ".concat(t,"."));return n}},{key:"consumeSpace",value:function(e,t){if(" "===e[t])return t+1;throw Error("Invalid space at ".concat(t,"."))}},{key:"consumeIP4Address",value:function(e,t){for(var A=0;4>A;A++)if(t=this.consumeDecimalUChar(e,t),3!==A){if("."!==e[t])throw Error("Invalid IP4 address.");t++}return t}},{key:"consumeDecimalUChar",value:function(e,t){for(var A=t,r=0;3>r&&n(e[A]);r++,A++);if(0==A-t)throw Error("Invalid decimal uchar.");if(0<=(e=parseInt(e.slice(t,A)))&&255>=e)return A;throw Error("Invalid decimal uchar")}},{key:"consumeIP6Address",value:function(e,t){return":"===e[t=this.consumeHexpart(e,t)]?(t+=1,t=this.consumeIP4Address(e,t)):t}},{key:"consumeHexpart",value:function(e,t){if(":"===e[t]&&":"===e[t+1]){t+=2;try{t=this.consumeHexseq(e,t)}catch(e){}return t}if(":"===e[t=this.consumeHexseq(e,t)]&&":"===e[t+1]){t+=2;try{t=this.consumeHexseq(e,t)}catch(e){}}return t}},{key:"consumeHexseq",value:function(e,t){for(;":"===e[t=this.consumeHex4(e,t)]&&":"!==e[t+1];)t+=1;return t}},{key:"consumeHex4",value:function(e,t){for(var A=0;4>A;A++)if(!("0"<=(n=e[t+A])&&"9">=n||"a"<=n&&"f">=n||"A"<=n&&"F">=n)){if(0===A)throw Error("Invalid hex 4");break}var n;return t+A}},{key:"consumeFQDN",value:function(e,t){for(var A=t;n(e[A])||s(e[A])||"-"===e[A]||"."===e[A];)A+=1;if(4>A-t)throw Error("Invalid FQDN");return A}},{key:"consumeExtnAddr",value:function(e,t){return this.consumeOneOrMore(e,t,i)}},{key:"consumeMulticastAddress",value:function(e,t,A){switch(A){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(A){return this.consumeExtnAddr(e,t)}}}},{key:"consumeIP6MulticastAddress",value:function(e,t){return"/"===e[t=this.consumeHexpart(e,t)]?this.consumeInteger(e,t+1):t}},{key:"consumeIP4MulticastAddress",value:function(e,t){var A=t+3;if(t=e.slice(t,A),224>(t=parseInt(t))||239<t)throw Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(t=0;3>t;t++){if("."!==e[A])throw Error("Invalid IP4 multicast address.");A+=1,A=this.consumeDecimalUChar(e,A)}return"/"===e[A]&&(A+=1),"/"===e[A=this.consumeTTL(e,A)]&&(A=this.consumeInteger(e,A)),A}},{key:"consumeInteger",value:function(e,t){if(!a(e[t]))throw Error("Invalid integer.");for(t+=1;n(e[t]);)t+=1;return t}},{key:"consumeTTL",value:function(e,t){if("0"===e[t])return t+1;if(!a(e[t]))throw Error("Invalid TTL.");t+=1;for(var A=0;2>A&&n(e[t]);A++)t+=1;return t}},{key:"consumeToken",value:function(e,t){return this.consumeOneOrMore(e,t,o)}},{key:"consumeTime",value:function(e,t){var A=t;if("0"===e[A])return A+1;for(a(e[A])&&(A+=1);n(e[A]);)A++;if(10>A-t)throw Error("Invalid time");return A}},{key:"consumeAddress",value:function(e,t){return this.consumeTill(e,t," ")}},{key:"consumeTypedTime",value:function(e,t){return c(e[t=this.consumeOneOrMore(e,t,n)])?t+1:t}},{key:"consumeRepeatInterval",value:function(e,t){if(!a(e[t]))throw Error("Invalid repeat interval");for(t+=1;n(e[t]);)t+=1;return c(e[t])&&(t+=1),t}},{key:"consumePort",value:function(e,t){return this.consumeOneOrMore(e,t,n)}},{key:"consume",value:function(e,t,A){for(var n=0;n<A.length;n++){if(t+n>=e.length)throw Error("consume exceeding value length");if(e[t+n]!==A[n])throw Error("consume ".concat(A," failed at ").concat(n))}return t+A.length}},{key:"consumeTill",value:function(e,t,A){for(;t<e.length&&("string"!=typeof A||e[t]!==A)&&("function"!=typeof A||!A(e[t]));)t++;return t}}]),e}()),m=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(V(e=A.call.apply(A,[this].concat(n))),"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]}),e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"parse",value:function(e){if(this.digested)throw Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw Error("attribute parsing error")}},{key:"digest",value:function(){return this.digested=!0,this.attributes}},{key:"parseGroup",value:function(e){for(var t=this.extract(e,this.consumeToken),A=[];!this.atEnd(e)&&" "===this.peekChar(e);)this.consumeAttributeSpace(e),A.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:A})}},{key:"parseIceLite",value:function(){if(this.attributes.iceLite)throw Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}},{key:"parseTlsId",value:function(e){if(this.attributes.tlsId)throw Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,I)}},{key:"parseIdentity",value:function(e){for(var t=this.extractOneOrMore(e,l),A=[];!this.atEnd(e)&&" "===this.peekChar(e);){this.consumeAttributeSpace(e);var n=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");var r=this.extractOneOrMore(e,(function(e){return" "!==e&&u(e)}));A.push({name:n,value:r})}this.attributes.identities.push({assertionValue:t,extensions:A})}},{key:"parseMsidSemantic",value:function(e){" "===this.peekChar(e)&&this.consumeAttributeSpace(e);for(var t={semantic:this.extract(e,this.consumeToken),identifierList:[]};;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}var A=this.extract(e,this.consumeTill," ");t.identifierList.push(A)}this.attributes.msidSemantic=t}}]),t}(e=function(e){function t(){zb(this,t);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(V(e=A.call.apply(A,[this].concat(n))),"attributes",void 0),d(V(e),"digested",!1),e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"extractOneOrMore",value:function(e,t,A){t=this.consumeOneOrMore(e.attValue,e._cur,t);var n=e.attValue.slice(e._cur,t),r=Lb(A||[],2);if(A=r[0],r=r[1],"number"==typeof A&&n.length<A)throw Error("error in length, should be more or equal than ".concat(A," characters."));if("number"==typeof r&&n.length>r)throw Error("error in length, should be less or equal than ".concat(r," characters."));return e._cur=t,n}},{key:"consumeAttributeSpace",value:function(e){if(" "!==e.attValue[e._cur])throw Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}},{key:"extract",value:function(e,t){if(!e.attValue)throw Error("Nothing to extract from attValue.");for(var A=arguments.length,n=Array(2<A?A-2:0),r=2;r<A;r++)n[r-2]=arguments[r];return A=t.call.apply(t,[this,e.attValue,e._cur].concat(n)),n=e.attValue.slice(e._cur,A),e._cur=A,n}},{key:"atEnd",value:function(e){if(!e.attValue)throw Error();return e._cur>=e.attValue.length}},{key:"peekChar",value:function(e){if(!e.attValue)throw Error();return e.attValue[e._cur]}},{key:"peek",value:function(e,t){if(!e.attValue)throw Error();for(var A=0;A<t.length;A++)if(t[A]!==e.attValue[e._cur+A])return!1;return!0}},{key:"parseIceUfrag",value:function(e){if(this.attributes.iceUfrag)throw Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,g,[4,256])}},{key:"parseIcePwd",value:function(e){if(this.attributes.icePwd)throw Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,g,[22,256])}},{key:"parseIceOptions",value:function(e){if(this.attributes.iceOptions)throw Error("Invalid ice-options, should be only one 'ice-options' line");for(var t=[];!this.atEnd(e);){t.push(this.extractOneOrMore(e,g));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}},{key:"parseFingerprint",value:function(e){var t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),e=this.extract(e,this.consumeTill),this.attributes.fingerprints.push({hashFunction:t,fingerprint:e})}},{key:"parseExtmap",value:function(e){var t,A=this.extractOneOrMore(e,n);"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),t=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);var r=this.extract(e,this.consumeTill," ");A=C(C({entry:parseInt(A,10)},t&&{direction:t}),{},{extensionName:r})," "===this.peekChar(e)&&(this.consumeAttributeSpace(e),A.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(A)}},{key:"parseSetup",value:function(e){if(this.attributes.setup)throw Error("must only be one single 'a=setup' line.");if("active"!==(e=this.extract(e,this.consumeTill))&&"passive"!==e&&"actpass"!==e&&"holdconn"!==e)throw Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=e}}]),t}(e)),_=function(e){function t(e){zb(this,t);var n=A.call(this);return d(V(n),"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),n.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]},n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"parse",value:function(e){if(this.digested)throw Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw Error("attribute parsing error")}},{key:"parseCandidate",value:function(e){var t=this.extractOneOrMore(e,g,[1,32]);this.consumeAttributeSpace(e);var A=this.extractOneOrMore(e,n,[1,5]);this.consumeAttributeSpace(e);var i=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);var o=this.extractOneOrMore(e,n,[1,10]);this.consumeAttributeSpace(e);var a=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);var s=this.extract(e,this.consumePort);for(this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e),t={foundation:t,componentId:A,transport:i,priority:o,connectionAddress:a,port:s,type:this.extract(e,this.consumeToken),extension:{}},this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),t.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),t.relPort=this.extract(e,this.consumePort));" "===this.peekChar(e);)this.consumeAttributeSpace(e),A=this.extract(e,this.consumeToken),this.consumeAttributeSpace(e),t.extension[A]=this.extractOneOrMore(e,r);this.attributes.candidates.push(t)}},{key:"parseRemoteCandidate",value:function(e){for(var t=[];;){var A=this.extractOneOrMore(e,n,[1,5]);this.consumeAttributeSpace(e);var r=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);var i=this.extract(e,this.consumePort);t.push({componentId:A,connectionAddress:r,port:i});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}},{key:"parseEndOfCandidates",value:function(){if(this.attributes.endOfCandidates)throw Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}},{key:"parseRtpmap",value:function(e){var t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);var A=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/"),A={encodingName:A,clockRate:this.extractOneOrMore(e,n)},this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),A.encodingParameters=parseInt(this.extract(e,this.consumeTill),10)),(e=this.attributes.payloads.find((function(e){return e.payloadType===parseInt(t,10)})))?e.rtpMap=A:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:A,rtcpFeedbacks:[]})}},{key:"parsePtime",value:function(e){if(this.attributes.ptime)throw Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}},{key:"parseMaxPtime",value:function(e){if(this.attributes.maxPtime)throw Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}},{key:"parseDirection",value:function(e){if(this.attributes.direction)throw Error("must be only one line of direction info");this.attributes.direction=e.attField}},{key:"parseSSRC",value:function(e){var t=this.extractOneOrMore(e,n);this.consumeAttributeSpace(e);var A,r=this.extract(e,this.consumeTill,":");":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),A=this.extract(e,this.consumeTill)),(e=this.attributes.ssrcs.find((function(e){return e.ssrcId===parseInt(t,10)})))?e.attributes[r]=A:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:na({},r,A)})}},{key:"parseFmtp",value:function(e){var t=this.extract(e,this.consumeTill," ");this.consumeAttributeSpace(e);var A={};this.extract(e,this.consumeTill).split(";").forEach((function(e){var t=Lb(e=e.split("="),2);e=t[0],t=t[1],e=e.trim(),t="string"==typeof t?t.trim():null,"string"==typeof e&&0<e.length&&(A[e]=t)})),(e=this.attributes.payloads.find((function(e){return e.payloadType===parseInt(t,10)})))?e.fmtp={parameters:A}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:A}})}},{key:"parseFmtParameters",value:function(e){var t={},A=this.extract(e,this.consumeTill,"=");e._cur++;var n=this.extract(e,this.consumeTill,";");for(t[A]=n;";"===e.attValue[e._cur];)A=this.extract(e,this.consumeTill,"="),e._cur++,n=this.extract(e,this.consumeTill,";"),t[A]=n;return t}},{key:"parseRtcpFb",value:function(e){var t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill," "),this.consumeAttributeSpace(e);var A=this.extract(e,this.consumeTill," ");"trr-int"===A?e={type:A,interval:this.extract(e,this.consumeTill)}:(A={type:A}," "===this.peekChar(e)&&(this.consumeAttributeSpace(e),A.parameter=this.extract(e,this.consumeToken)," "===this.peekChar(e)&&(A.additional=this.extract(e,this.consumeTill))),e=A),"*"===t?this.attributes.rtcpFeedbackWildcards.push(e):(A=this.attributes.payloads.find((function(e){return e.payloadType===parseInt(t,10)})))?A.rtcpFeedbacks.push(e):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[e]})}},{key:"parseRTCPMux",value:function(){if(this.attributes.rtcpMux)throw Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}},{key:"parseRTCPMuxOnly",value:function(){if(this.attributes.rtcpMuxOnly)throw Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}},{key:"parseRTCPRsize",value:function(){if(this.attributes.rtcpRsize)throw Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}},{key:"parseRTCP",value:function(e){if(this.attributes.rtcp)throw Error("must be single line of rtcp");var t={port:this.extract(e,this.consumePort)};" "===this.peekChar(e)&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,o),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,o),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}},{key:"parseMsid",value:function(e){var t={id:this.extractOneOrMore(e,o,[1,64])};" "===this.peekChar(e)&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,o,[1,64])),this.attributes.msids.push(t)}},{key:"parseImageAttr",value:function(e){this.attributes.imageattr.push(e.attValue)}},{key:"parseRid",value:function(e){var t=this.extractOneOrMore(e,(function(e){return s(e)||n(e)||"_"===e||"-"===e}));if(this.consumeAttributeSpace(e),t={id:t,direction:this.extract(e,this.consumeToken),params:[]}," "===this.peekChar(e)){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");for(var A=[];;){var r=this.extract(e,this.consumeToken);A.push(r);try{this.extract(e,this.consume,",")}catch(e){break}}t.payloads=A," "===this.peekChar(e)&&this.extract(e,this.consume," ")}for(;;){switch(A=this.extract(e,this.consumeToken)){case"depend":A={type:A,rids:this.extract(e,this.consume,"=").split(",")},t.params.push(A);break;default:A={type:A},"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),A.val=this.extract(e,this.consumeTill,";")),t.params.push(A)}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(t)}},{key:"parseSimulcast",value:function(e){if(this.attributes.simulcast)throw Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}},{key:"parseSctpPort",value:function(e){this.attributes.sctpPort=this.extractOneOrMore(e,n,[1,5])}},{key:"parseMaxMessageSize",value:function(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,n,[1,void 0])}},{key:"digest",value:function(){return this.digested=!0,this.attributes}},{key:"parseMid",value:function(e){this.attributes.mid=this.extract(e,this.consumeToken)}},{key:"parseSSRCGroup",value:function(e){for(var t=this.extract(e,this.consumeToken),A=[];;)try{this.consumeAttributeSpace(e);var n=this.extract(e,this.consumeInteger);A.push(parseInt(n,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:A})}}]),t}(e),b=function(){function e(){zb(this,e),h(this,"eol",y)}return Ib(e,[{key:"print",value:function(e,t){var A="";return t&&(this.eol=t),A+=this.printVersion(e.version),A+=this.printOrigin(e.origin),A+=this.printSessionName(e.sessionName),A+=this.printInformation(e.information),A+=this.printUri(e.uri),A+=this.printEmail(e.emails),A+=this.printPhone(e.phones),A+=this.printConnection(e.connection),A+=this.printBandwidth(e.bandwidths),A+=this.printTimeFields(e.timeFields),A+=this.printKey(e.key),A+=this.printSessionAttributes(e.attributes),A+=this.printMediaDescription(e.mediaDescriptions)}},{key:"printVersion",value:function(e){return"v=".concat(e).concat(this.eol)}},{key:"printOrigin",value:function(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}},{key:"printSessionName",value:function(e){return e?"s=".concat(e).concat(this.eol):""}},{key:"printInformation",value:function(e){return e?"i=".concat(e).concat(this.eol):""}},{key:"printUri",value:function(e){return e?"u=".concat(e).concat(this.eol):""}},{key:"printEmail",value:function(e){for(var t="",A=0;A<e.length;A++)t+="e=".concat(e[A]).concat(this.eol);return t}},{key:"printPhone",value:function(e){for(var t="",A=0;A<e.length;A++)t+="e=".concat(e[A]).concat(this.eol);return t}},{key:"printConnection",value:function(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}},{key:"printBandwidth",value:function(e){for(var t="",A=0;A<e.length;A++){var n=e[A];t+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol)}return t}},{key:"printTimeFields",value:function(e){for(var t="",A=0;A<e.length;A++){var n=e[A];t+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(var r=0,i=n.repeats;r<i.length;r++){var o=i[r];t+="r=".concat(o.repeatInterval," ").concat(o.typedTimes.join(" ")).concat(this.eol)}n.zoneAdjustments&&(t+="z=",t+="z=".concat(n.zoneAdjustments.map((function(e){return"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime)})).join(" ")).concat(this.eol),t+=this.eol)}return t}},{key:"printKey",value:function(e){return e?"k=".concat(e).concat(this.eol):""}},{key:"printAttributes",value:function(e){for(var t="",A=0;A<e.length;A++){var n=e[A];t+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol)}return t}},{key:"printMediaDescription",value:function(e){for(var t="",A=0;A<e.length;A++){var n=e[A];t+=this.printMedia(n.media),t+=this.printInformation(n.information),t+=this.printConnections(n.connections),t+=this.printBandwidth(n.bandwidths),t+=this.printKey(n.key),t+=this.printMediaAttributes(n)}return t}},{key:"printConnections",value:function(e){for(var t="",A=0;A<e.length;A++)t+=this.printConnection(e[A]);return t}},{key:"printMedia",value:function(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}},{key:"printSessionAttributes",value:function(e){return new R(this.eol).print(e)}},{key:"printMediaAttributes",value:function(e){return new S(this.eol).print(e)}}]),e}(),R=function(e){function t(){return zb(this,t),A.apply(this,arguments)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"print",value:function(e){var t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized)}},{key:"printGroups",value:function(e){var t=this,A="";return 0<e.length&&(A+=e.map((function(e){return"a=group:".concat(e.semantic).concat(e.identificationTag.map((function(e){return"".concat(" ").concat(e)})).join("")).concat(t.eol)})).join("")),A}},{key:"printIceLite",value:function(e){return void 0===e?"":"a=ice-lite"+this.eol}},{key:"printTlsId",value:function(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}},{key:"printIdentity",value:function(e){return 0===e.length?"":e.map((function(e){return"a=identity:".concat(e.assertionValue).concat(e.extensions.map((function(e){return"".concat(" ").concat(e.name).concat(e.value?"=".concat(e.value):"")})))})).join(this.eol)+this.eol}},{key:"printMsidSemantic",value:function(e){if(!e)return"";var t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(" ","*"):0<e.identifierList.length&&(t+=e.identifierList.map((function(e){return"".concat(" ").concat(e)}))),t+this.eol}}]),t}(e=function(){function e(t){zb(this,e),h(this,"eol",void 0),this.eol=t}return Ib(e,[{key:"printIceUfrag",value:function(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}},{key:"printIcePwd",value:function(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}},{key:"printIceOptions",value:function(e){return void 0===e?"":"a=ice-options:".concat(e.join(" ")).concat(this.eol)}},{key:"printFingerprints",value:function(e){return 0<e.length?e.map((function(e){return"a=fingerprint:".concat(e.hashFunction).concat(" ").concat(e.fingerprint)})).join(this.eol)+this.eol:""}},{key:"printExtmap",value:function(e){var t=this;return e.map((function(e){return"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(" ").concat(e.extensionName).concat(e.extensionAttributes?"".concat(" ").concat(e.extensionAttributes):"").concat(t.eol)})).join("")}},{key:"printSetup",value:function(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}},{key:"printUnrecognized",value:function(e){var t=this;return e.map((function(e){return"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(t.eol)})).join("")}}]),e}()),S=function(e){function t(){return zb(this,t),A.apply(this,arguments)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"print",value:function(e){e=e.attributes;var t="";return t+=this.printRTCP(e.rtcp),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printCandidates(e.candidates),t+=this.printRemoteCandidatesList(e.remoteCandidatesList),t+=this.printEndOfCandidates(e.endOfCandidates),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printMid(e.mid),t+=this.printExtmap(e.extmaps),t+=this.printRTPRelated(e),t+=this.printPtime(e.ptime),t+=this.printMaxPtime(e.maxPtime),t+=this.printDirection(e.direction),t+=this.printSSRCGroups(e.ssrcGroups),t+=this.printSSRC(e.ssrcs),t+=this.printRTCPMux(e.rtcpMux),t+=this.printRTCPMuxOnly(e.rtcpMuxOnly),t+=this.printRTCPRsize(e.rtcpRsize),t+=this.printMSId(e.msids),t+=this.printImageattr(e.imageattr),t+=this.printRid(e.rids),t+=this.printSimulcast(e.simulcast),t+=this.printSCTPPort(e.sctpPort),t+=this.printMaxMessageSize(e.maxMessageSize),t+=this.printUnrecognized(e.unrecognized)}},{key:"printCandidates",value:function(e){var t=this;return e.map((function(e){return"a=candidate:".concat(e.foundation).concat(" ").concat(e.componentId).concat(" ").concat(e.transport).concat(" ").concat(e.priority).concat(" ").concat(e.connectionAddress).concat(" ").concat(e.port).concat(" ","typ").concat(" ").concat(e.type).concat(e.relAddr?"".concat(" ","raddr").concat(" ").concat(e.relAddr):"").concat(e.relPort?"".concat(" ","rport").concat(" ").concat(e.relPort):"").concat(Object.keys(e.extension).map((function(t){return"".concat(" ").concat(t).concat(" ").concat(e.extension[t])})).join("")).concat(t.eol)})).join("")}},{key:"printRemoteCandidatesList",value:function(e){var t=this;return e.map((function(e){return"a=remote-candidates:".concat(e.join(" ")).concat(t.eol)})).join("")}},{key:"printEndOfCandidates",value:function(e){return void 0===e?"":"a=end-of-candidates"+this.eol}},{key:"printRTPRelated",value:function(e){var t=this;if(!e.payloads)return"";var A=e.payloads,n="";n+=e.rtcpFeedbackWildcards.map((function(e){return t.printRTCPFeedback("*",e)})).join(""),e=function(e){var r=A[e];n+=t.printRtpMap(r.payloadType,r.rtpMap),n+=t.printFmtp(r.payloadType,r.fmtp),n+=r.rtcpFeedbacks.map((function(e){return t.printRTCPFeedback(r.payloadType,e)})).join("")};for(var r=0;r<A.length;r++)e(r);return n}},{key:"printFmtp",value:function(e,t){if(!t)return"";var A=Object.keys(t.parameters);return 1===A.length&&null===t.parameters[A[0]]?"a=fmtp:".concat(e).concat(" ").concat(A[0]).concat(this.eol):"a=fmtp:".concat(e).concat(" ").concat(Object.keys(t.parameters).map((function(e){return"".concat(e,"=").concat(t.parameters[e])})).join(";")).concat(this.eol)}},{key:"printRtpMap",value:function(e,t){return t?"a=rtpmap:".concat(e).concat(" ").concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}},{key:"printRTCPFeedback",value:function(e,t){return e="a=rtcp-fb:".concat(e).concat(" "),"trr-int"===t.type?e+="ttr-int".concat(" ").concat(t.interval):(e+="".concat(t.type),t.parameter&&(e+="".concat(" ").concat(t.parameter),t.additional&&(e+="".concat(" ").concat(t.additional)))),e+this.eol}},{key:"printPtime",value:function(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}},{key:"printMaxPtime",value:function(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}},{key:"printDirection",value:function(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}},{key:"printSSRC",value:function(e){var t=this;return e.map((function(e){return Object.keys(e.attributes).map((function(A){return"a=ssrc:".concat(e.ssrcId.toString(10)).concat(" ").concat(A).concat(e.attributes[A]?":".concat(e.attributes[A]):"").concat(t.eol)})).join("")})).join("")}},{key:"printRTCPMux",value:function(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}},{key:"printRTCPMuxOnly",value:function(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}},{key:"printRTCPRsize",value:function(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}},{key:"printRTCP",value:function(e){if(void 0===e)return"";var t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(" ").concat(e.netType)),e.addressType&&(t+="".concat(" ").concat(e.addressType)),e.address&&(t+="".concat(" ").concat(e.address)),t+this.eol}},{key:"printMSId",value:function(e){var t=this;return e.map((function(e){return"a=msid:".concat(e.id).concat(e.appdata?"".concat(" ").concat(e.appdata):"").concat(t.eol)})).join("")}},{key:"printImageattr",value:function(e){var t=this;return e.map((function(e){return"a=imageattr:".concat(e).concat(t.eol)})).join("")}},{key:"printRid",value:function(e){var t=this;return e.map((function(e){var A="a=rid:".concat(e.id).concat(" ").concat(e.direction);return e.payloads&&(A+="".concat(" ","pt=").concat(e.payloads.join(","))),0<e.params.length&&(A+="".concat(" ").concat(e.params.map((function(e){return"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val)})).join(";"))),A+t.eol})).join("")}},{key:"printSimulcast",value:function(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}},{key:"printSCTPPort",value:function(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}},{key:"printMaxMessageSize",value:function(e){return void 0===e?"":"a=max-message-size:".concat(e).concat(this.eol)}},{key:"printMid",value:function(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}},{key:"printSSRCGroups",value:function(e){var t=this;return e.map((function(e){return"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((function(e){return"".concat(" ").concat(e.toString(10))})).join("")).concat(t.eol)})).join("")}}]),t}(e)}},A={};return e.d=function(t,A){for(var n in A)e.o(A,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:A[n]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e(8)}()}(q_);var H_,j_,W_,X_,z_,Z_,$_,eb,tb,Ab,nb,ib=q_.exports,ob=function(){function e(t){zb(this,e),Z(this,"input",[]),Z(this,"size",void 0),this.size=t}return Ib(e,[{key:"add",value:function(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}},{key:"diffMean",value:function(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}]),e}(),ab={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},sb={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:ab,remoteCandidate:ab}},cb={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},gb={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},lb={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},Eb={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0},Cb=function(){function e(t,A){var n=this;zb(this,e),Z(this,"onFirstVideoReceived",void 0),Z(this,"onFirstVideoDecoded",void 0),Z(this,"onFirstAudioReceived",void 0),Z(this,"onFirstVideoDecodedTimeout",void 0),Z(this,"onFirstAudioDecoded",void 0),Z(this,"onSelectedLocalCandidateChanged",void 0),Z(this,"onSelectedRemoteCandidateChanged",void 0),Z(this,"videoIsReady",!1),Z(this,"videoIsReady2",{}),Z(this,"pc",void 0),Z(this,"options",void 0),Z(this,"intervalTimer",void 0),Z(this,"stats",cr(sb)),Z(this,"isFirstVideoReceived",{}),Z(this,"isFirstVideoDecoded",{}),Z(this,"isFirstAudioReceived",{}),Z(this,"isFirstAudioDecoded",{}),Z(this,"isFirstVideoDecodedTimeout",{}),Z(this,"lossRateWindowStats",[]),this.pc=t,this.options=A,this.intervalTimer=window.setInterval(pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.updateStats();case 1:case"end":return e.stop()}}),e)}))),this.options.updateInterval)}return Ib(e,[{key:"getStats",value:function(){return this.stats}},{key:"getSelectedCandidatePair",value:function(){return new IC((function(e){e({local:Ir({},ab),remote:Ir({},ab)})}))}},{key:"setVideoIsReady",value:function(e){this.videoIsReady=e}},{key:"setVideoIsReady2",value:function(e,t){this.videoIsReady2[e]=t}},{key:"getVideoIsReady",value:function(e){return this.videoIsReady2[e]||!1}},{key:"setIsFirstAudioDecoded",value:function(e){}},{key:"destroy",value:function(){window.clearInterval(this.intervalTimer),this.pc=void 0}},{key:"calcLossRate",value:function(e){var t=this;this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);for(var A=this.lossRateWindowStats.length,n=["videoSend","audioSend","videoRecv","audioRecv"],r=0,i=0,o=0,a=0,s=function(s){var c=n[s];e[c].forEach((function(e,n){if(t.lossRateWindowStats[A-1][c][n]&&t.lossRateWindowStats[0][c][n]){var s=t.lossRateWindowStats[A-1][c][n].packets-t.lossRateWindowStats[0][c][n].packets;n=t.lossRateWindowStats[A-1][c][n].packetsLost-t.lossRateWindowStats[0][c][n].packetsLost,"videoSend"===c||"audioSend"===c?(r+=s,o+=n):(i+=s,a+=n),Number.isNaN(s)||Number.isNaN(s)?e.packetLostRate=0:e.packetLostRate=0>=s||0>=n?0:n/(s+n)}}))},c=0;c<n.length;c++)s(c);e.sendPacketLossRate=0>=r||0>=o?0:o/(r+o),e.recvPacketLossRate=0>=i||0>=a?0:a/(i+a)}}]),e}(),db=function(e){function t(){zb(this,t);var e=n.apply(this,arguments);return Z(V(e),"_stats",sb),Z(V(e),"lastDecodeVideoReceiverStats",new Map),e}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"updateStats",value:(A=pa(O.mark((function e(){var t,A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getStats();case 2:t=e.sent,A=this.statsResponsesToObjects(t),this._stats=cr(sb),n=A.filter((function(e){return"ssrc"===e.type})),this.processSSRCStats(n),(r=A.find((function(e){return"VideoBwe"===e.type})))&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats;case 9:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"processBandwidthStats",value:function(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}},{key:"processSSRCStats",value:function(e){var t=this;e.forEach((function(e){var A,n=Xs(A=e.id).call(A,"send");switch("".concat(e.mediaType,"_").concat(n?"send":"recv")){case"video_send":(A=cr(gb)).codec=e.googCodecName,A.adaptionChangeReason="none",e.googCpuLimitedResolution&&(A.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(A.adaptionChangeReason="bandwidth"),A.avgEncodeMs=Number(e.googAvgEncodeMs),A.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},A.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},A.firsCount=Number(e.googFirReceived),A.nacksCount=Number(e.googNacksReceived),A.plisCount=Number(e.googPlisReceived),A.frameCount=Number(e.framesEncoded),A.bytes=Number(e.bytesSent),A.packets=Number(e.packetsSent),A.packetsLost=Number(e.packetsLost),A.ssrc=Number(e.ssrc),A.rttMs=Number(e.googRtt||0),t._stats.videoSend.push(A),t._stats.rtt=A.rttMs;break;case"video_recv":if(A=cr(cb),n=t.lastDecodeVideoReceiverStats.get(Number(e.ssrc)),A.codec=e.googCodecName,A.targetDelayMs=Number(e.googTargetDelayMs),A.renderDelayMs=Number(e.googRenderDelayMs),A.currentDelayMs=Number(e.googCurrentDelayMs),A.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),A.decodeMs=Number(e.googDecodeMs),A.maxDecodeMs=Number(e.googMaxDecodeMs),A.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},A.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},A.decodeFrameRate=Number(e.googFrameRateDecoded),A.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},A.jitterBufferMs=Number(e.googJitterBufferMs),A.firsCount=Number(e.googFirsSent),A.nacksCount=Number(e.googNacksSent),A.plisCount=Number(e.googPlisSent),A.framesDecodeCount=Number(e.framesDecoded),A.bytes=Number(e.bytesReceived),A.packets=Number(e.packetsReceived),A.packetsLost=Number(e.packetsLost),A.ssrc=Number(e.ssrc),0<A.packets&&!t.isFirstVideoReceived[A.ssrc]&&(t.onFirstVideoReceived&&t.onFirstVideoReceived(A.ssrc),t.isFirstVideoReceived[A.ssrc]=!0),0<A.framesDecodeCount&&!t.isFirstVideoDecoded[A.ssrc]&&(t.onFirstVideoDecoded&&t.onFirstVideoDecoded(A.ssrc,A.decodedFrame.width,A.decodedFrame.height),t.isFirstVideoDecoded[A.ssrc]=!0),n){var r=n.stats,i=Date.now()-n.lts;A.framesDecodeFreezeTime=r.framesDecodeFreezeTime,A.framesDecodeInterval=r.framesDecodeInterval,A.framesDecodeCount>r.framesDecodeCount&&t.isFirstVideoDecoded[A.ssrc]?(n.lts=Date.now(),A.framesDecodeInterval=i,A.framesDecodeInterval>=t.options.freezeRateLimit&&(t.getVideoIsReady(parseInt(e.ssrc,10))?A.framesDecodeFreezeTime+=A.framesDecodeInterval:t.setVideoIsReady2(parseInt(e.ssrc,10),!0))):A.framesDecodeCount<n.stats.framesDecodeCount&&(A.framesDecodeInterval=0)}t.lastDecodeVideoReceiverStats.set(A.ssrc,{stats:Er({},A),lts:Date.now()}),t._stats.videoRecv.push(A);break;case"audio_recv":(A=cr(Eb)).codec=e.googCodecName,A.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,A.decodingCNG=Number(e.googDecodingCNG),A.decodingCTN=Number(e.googDecodingCTN),A.decodingCTSG=Number(e.googDecodingCTSG),A.decodingNormal=Number(e.googDecodingNormal),A.decodingPLC=Number(e.googDecodingPLC),A.decodingPLCCNG=Number(e.googDecodingPLCCNG),A.expandRate=Number(e.googExpandRate),A.accelerateRate=Number(e.googAccelerateRate),A.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),A.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),A.speechExpandRate=Number(e.googSpeechExpandRate),A.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),A.jitterBufferMs=Number(e.googJitterBufferMs),A.jitterMs=Number(e.googJitterReceived),A.bytes=Number(e.bytesReceived),A.packets=Number(e.packetsReceived),A.packetsLost=Number(e.packetsLost),A.ssrc=Number(e.ssrc),A.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),A.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),0<A.receivedFrames&&!t.isFirstAudioReceived[A.ssrc]&&(t.onFirstAudioReceived&&t.onFirstAudioReceived(A.ssrc),t.isFirstAudioReceived[A.ssrc]=!0),0<A.decodingNormal&&!t.isFirstAudioDecoded[A.ssrc]&&(t.onFirstAudioDecoded&&t.onFirstAudioDecoded(A.ssrc),t.isFirstAudioDecoded[A.ssrc]=!0),t._stats.audioRecv.push(A);break;case"audio_send":(A=cr(lb)).codec=e.googCodecName,A.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,A.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),A.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),A.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),A.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),A.bytes=Number(e.bytesSent),A.packets=Number(e.packetsSent),A.packetsLost=Number(e.packetsLost),A.ssrc=Number(e.ssrc),A.rttMs=Number(e.googRtt||0),t._stats.rtt=A.rttMs,t._stats.audioSend.push(A)}}))}},{key:"_getStats",value:function(){var e=this;return new IC((function(t,A){e.pc.getStats(t,A)}))}},{key:"statsResponsesToObjects",value:function(e){var t=[];return e.result().forEach((function(e){var A={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((function(t){A[t]=e.stat(t)})),t.push(A)})),t}}]),t}(Cb),hb=function(e){function t(){zb(this,t);var e=n.apply(this,arguments);return Z(V(e),"_stats",sb),Z(V(e),"report",void 0),Z(V(e),"lastDecodeVideoReceiverStats",new Map),Z(V(e),"lastVideoFramesRecv",new Map),Z(V(e),"lastVideoFramesSent",new Map),Z(V(e),"lastVideoFramesDecode",new Map),Z(V(e),"lastVideoJBDelay",new Map),Z(V(e),"lastAudioJBDelay",new Map),Z(V(e),"mediaBytesSent",new Map),Z(V(e),"mediaBytesRetransmit",new Map),Z(V(e),"mediaBytesTargetEncode",new Map),Z(V(e),"lastEncoderMs",new Map),e}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"updateStats",value:(A=pa(O.mark((function e(){var t=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pc.getStats();case 2:this.report=e.sent,this._stats=cr(sb),this.report.forEach((function(e){switch(e.type){case ip.OUTBOUND:case ip.INBOUND:var A=e.mediaType||e.kind,n=!A&&"frameWidth"in e,r=!A&&!("frameWidth"in e);e.type===ip.OUTBOUND?"audio"===A||r?t.processAudioOutboundStats(e):("video"===A||n)&&t.processVideoOutboundStats(e):e.type===ip.INBOUND&&("audio"===A||r?t.processAudioInboundStats(e):("video"===A||n)&&t.processVideoInboundStats(e));break;case ip.TRANSPORT:(e=t.report.get(e.selectedCandidatePairId))&&t.processCandidatePairStats(e);break;case ip.CANDIDATE_PAIR:e.selected&&t.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats;case 9:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"getSelectedCandidatePair",value:function(){var e=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pc.getStats();case 2:return t=e.sent,A={local:dr({},ab),remote:dr({},ab)},e.abrupt("return",(t.forEach((function(e){var n;if(e.type===ip.TRANSPORT&&(n=t.get(e.selectedCandidatePairId)),e.type===ip.CANDIDATE_PAIR&&e.selected&&(n=e),n){if(e=function(e,t){e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)},n.localCandidateId){var r=t.get(n.localCandidateId);r&&e(A.local,r)}n.remoteCandidateId&&(n=t.get(n.remoteCandidateId))&&e(A.remote,n)}})),A));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"processCandidatePairStats",value:function(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((function(t){e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((function(t){e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){var t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}e.remoteCandidateId&&(t=this.report.get(e.remoteCandidateId))&&this.processCandidateStats(t)}},{key:"processCandidateStats",value:function(e){var t;e.type===ip.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===ip.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===ip.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(dr({},t),dr({},this.stats.selectedCandidatePair.localCandidate)),e.type===ip.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(dr({},t),dr({},this.stats.selectedCandidatePair.remoteCandidate)))}},{key:"processAudioInboundStats",value:function(e){var t=this._stats.audioRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=cr(Eb),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),0<t.receivedFrames&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&0<t.outputLevel&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),"number"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples)}},{key:"processVideoInboundStats",value:function(e){var t=this._stats.videoRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=cr(cb),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay;var A=this.lastDecodeVideoReceiverStats.get(t.ssrc),n=this.lastVideoFramesDecode.get(t.ssrc),r=Date.now();if(0<t.framesDecodeCount&&!this.isFirstVideoDecoded[t.ssrc]){var i=t.decodedFrame?t.decodedFrame.width:0,o=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,i,o),this.isFirstVideoDecoded[t.ssrc]=!0}A&&(i=A.stats,o=r-A.lts,t.framesDecodeFreezeTime=i.framesDecodeFreezeTime,t.framesDecodeInterval=i.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&o>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>i.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(A.lts=Date.now(),t.framesDecodeInterval=o,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<i.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(A.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-A.qpSum)/(e.framesDecoded-A.stats.framesDecodeCount))),n&&800<=r-n.lts?(t.decodeFrameRate=Math.round((t.framesDecodeCount-n.count)/((r-n.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:t.decodeFrameRate})):n?t.decodeFrameRate=n.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),0<t.packets&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:dr({},t),lts:A?A.lts:Date.now(),qpSum:e.qpSum})}},{key:"processVideoOutboundStats",value:function(e){var t=this._stats.videoSend.find((function(t){return t.ssrc===e.ssrc}));t||(t=cr(gb),this._stats.videoSend.push(t));var A=this.mediaBytesSent.get(e.ssrc);A?A.add(e.bytesSent):((A=new ob(10)).add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,A)),void 0!==e.retransmittedBytesSent&&((A=this.mediaBytesRetransmit.get(e.ssrc))?A.add(e.retransmittedBytesSent):((A=new ob(10)).add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,A))),e.totalEncodedBytesTarget&&((A=this.mediaBytesTargetEncode.get(e.ssrc))?A.add(e.totalEncodedBytesTarget):((A=new ob(10)).add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,A))),t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,e.totalEncodeTime&&e.framesEncoded&&(A=this.lastEncoderMs.get(e.ssrc),t.avgEncodeMs=!A||A.lastFrameCount>e.framesEncoded?1e3*e.totalEncodeTime/e.framesEncoded:1e3*(e.totalEncodeTime-A.lastEncoderTime)/(e.framesEncoded-A.lastFrameCount)),e.framesEncoded&&e.qpSum&&(!(A=this.lastEncoderMs.get(e.ssrc))||A.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-A.lastQpSum)/(e.framesEncoded-A.lastFrameCount)),this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId?this.processRemoteInboundStats(e.remoteId,t):(A=this.findRemoteStatsId(e.ssrc,ip.REMOTE_INBOUND))&&this.processRemoteInboundStats(A,t)}},{key:"processAudioOutboundStats",value:function(e){var t=this._stats.audioSend.find((function(t){return t.ssrc===e.ssrc}));if(t||(t=cr(lb),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var A=this.findRemoteStatsId(e.ssrc,ip.REMOTE_INBOUND);A&&this.processRemoteInboundStats(A,t)}}},{key:"findRemoteStatsId",value:function(e,t){var A,n=Array.from(mp(A=this.report).call(A)).find((function(A){return A.type===t&&A.ssrc===e}));return n?n.id:null}},{key:"processVideoMediaSource",value:function(e,t){(e=this.report.get(e))&&e.width&&e.height&&e.framesPerSecond&&(t.inputFrame={width:e.width,height:e.height,frameRate:e.framesPerSecond})}},{key:"processAudioMediaSource",value:function(e,t){(e=this.report.get(e))&&(t.inputLevel=e.audioLevel)}},{key:"processVideoTrackSenderStats",value:function(e,t,A){var n,r,i,o,a=t?this.report.get(t):void 0;"number"==typeof(t=null!==(n=null==a?void 0:a.framesSent)&&void 0!==n?n:e.framesSent)&&(n=null!==(r=null==a?void 0:a.frameWidth)&&void 0!==r?r:e.frameWidth,r=null!==(i=null==a?void 0:a.frameHeight)&&void 0!==i?i:e.frameHeight,"number"==typeof n&&"number"==typeof r||(n=0,r=0),null==(e=null!==(o=null==a?void 0:a.framesPerSecond)&&void 0!==o?o:e.framesPerSecond)&&(o=Date.now(),(i=this.lastVideoFramesSent.get(A.ssrc))&&800<=o-i.lts?(e=Math.round((t-i.count)/((o-i.lts)/1e3)),this.lastVideoFramesSent.set(A.ssrc,{count:t,lts:o,rate:e})):i?e=i.rate:this.lastVideoFramesSent.set(A.ssrc,{count:t,lts:o,rate:0})),A.sentFrame={width:n,height:r,frameRate:Math.max(0,e)})}},{key:"processVideoTrackReceiverStats",value:function(e,t,A){var n,r,i,o,a,s=t?this.report.get(t):void 0;t=null!==(n=null==s?void 0:s.framesReceived)&&void 0!==n?n:e.framesReceived,n=null!==(r=null==s?void 0:s.frameWidth)&&void 0!==r?r:e.frameWidth,r=null!==(i=null==s?void 0:s.frameHeight)&&void 0!==i?i:e.frameHeight,i=null!==(o=null==s?void 0:s.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,e=null!==(a=null==s?void 0:s.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount,"number"==typeof t&&(a=this.lastVideoFramesRecv.get(A.ssrc),o=Date.now(),A.framesReceivedCount=t,s=0,a&&800<=o-a.lts?(s=Math.round((t-a.count)/((o-a.lts)/1e3)),this.lastVideoFramesRecv.set(A.ssrc,{count:t,lts:o,rate:s})):a?s=a.rate:this.lastVideoFramesRecv.set(A.ssrc,{count:t,lts:o,rate:0}),A.receivedFrame={width:n||0,height:r||0,frameRate:s||0},A.decodedFrame={width:n||0,height:r||0,frameRate:A.decodeFrameRate||0},A.outputFrame={width:n||0,height:r||0,frameRate:A.decodeFrameRate||0}),i&&e&&(n=(t=this.lastVideoJBDelay.get(A.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0}).jitterBufferMs,0<(a=e-t.jitterBufferEmittedCount)&&(n=1e3*(i-t.jitterBufferDelay)/a),A.jitterBufferMs=n,A.currentDelayMs=Math.round(n),this.lastVideoJBDelay.set(A.ssrc,{jitterBufferDelay:i,jitterBufferEmittedCount:e,jitterBufferMs:A.currentDelayMs}))}},{key:"processAudioTrackSenderStats",value:function(e,t,A){var n,r,i,o,a=t?this.report.get(t):void 0;t=null!==(n=null!==(r=null==a?void 0:a.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==n?n:0,e=null!==(i=null!==(o=null==a?void 0:a.echoReturnLossEnhancement)&&void 0!==o?o:e.echoReturnLossEnhancement)&&void 0!==i?i:0,A.aecReturnLoss=t,A.aecReturnLossEnhancement=e}},{key:"processAudioTrackReceiverStats",value:function(e,t,A){var n,r,i,o,a,s,c,u=t?this.report.get(t):void 0;t=null!==(n=null==u?void 0:u.removedSamplesForAcceleration)&&void 0!==n?n:e.removedSamplesForAcceleration,n=null!==(r=null==u?void 0:u.totalSamplesReceived)&&void 0!==r?r:e.totalSamplesReceived,r=null!==(i=null==u?void 0:u.jitterBufferDelay)&&void 0!==i?i:e.jitterBufferDelay,i=null!==(o=null==u?void 0:u.jitterBufferEmittedCount)&&void 0!==o?o:e.jitterBufferEmittedCount,o=null!==(a=null==u?void 0:u.audioLevel)&&void 0!==a?a:null==e?void 0:e.audioLevel,a=null!==(s=null==u?void 0:u.totalSamplesDuration)&&void 0!==s?s:null==e?void 0:e.totalSamplesDuration,e=null!==(c=null==u?void 0:u.concealedSamples)&&void 0!==c?c:e.concealedSamples,t&&n&&(A.accelerateRate=t/n),r&&i&&(s=(c=this.lastAudioJBDelay.get(A.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0}).jitterBufferMs,0<(t=i-c.jitterBufferEmittedCount)&&(s=1e3*(r-c.jitterBufferDelay)/t),A.jitterBufferMs=Math.round(s),this.lastAudioJBDelay.set(A.ssrc,{jitterBufferDelay:r,jitterBufferEmittedCount:i,jitterBufferMs:A.jitterBufferMs})),A.outputLevel=o,c=1920,a&&n&&(c=n/a/50,A.receivedFrames=Math.round(n/c)),e&&(A.droppedFrames=Math.round(e/c))}},{key:"processRemoteInboundStats",value:function(e,t){(e=this.report.get(e))&&(t.packetsLost=e.packetsLost,e.roundTripTime&&(t.rttMs=1e3*e.roundTripTime),e.jitter&&(t.jitterMs=1e3*e.jitter),e.timestamp&&(t.timestamp=e.timestamp))}},{key:"getCodecFromCodecStats",value:function(e){return(e=this.report.get(e))&&(e=e.mimeType.match(/\/(.*)$/))&&e[1]?e[1]:""}},{key:"updateSendBitrate",value:function(){var e=0,t=null,A=null;this.mediaBytesSent.forEach((function(t){e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((function(e){t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((function(e){A=null===A?e.diffMean():A+e.diffMean()})),this._stats.bitrate={actualEncoded:8*(null!==t?e-t:e)/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==A&&(this._stats.bitrate.targetEncoded=8*A/(this.options.updateInterval/1e3))}}]),t}(Cb),pb=function(e){function t(){return zb(this,t),A.apply(this,arguments)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"updateStats",value:function(){return IC.resolve()}}]),t}(Cb),fb=function(){function e(t){zb(this,e),Z(this,"sessionDesc",void 0),Z(this,"_localCapabilities",void 0),Z(this,"_rtpCapabilities",void 0),Z(this,"_candidates",void 0),Z(this,"_iceParameters",void 0),Z(this,"_dtlsParameters",void 0),Z(this,"setup",void 0),Z(this,"currentMidIndex",void 0),Z(this,"cname","o/i14u9pJrxRKAsu"),Z(this,"firefoxSsrcMidMap",new Map);var A=t=Je(t);t=A.remoteIceParameters;var n=A.remoteDtlsParameters,r=A.candidates,i=A.remoteRTPCapabilities,o=A.localCapabilities,a=A.direction,s=A.videoCodec,c=A.audioCodec;this.setup=A.setup,A=a===hp.RECEIVE_ONLY?ib.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"):ib.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"),this._rtpCapabilities=i,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=o,o=a===hp.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv;var u=a===hp.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send;for(s=a===hp.RECEIVE_ONLY?i.send.videoCodecs:xr(jp.VIDEO,o,u,s),i=a===hp.RECEIVE_ONLY?i.send.audioCodecs:xr(jp.AUDIO,o,u,c),a=0,c=A.mediaDescriptions;a<c.length;a++){if((u=c[a]).attributes.iceUfrag=t.iceUfrag,u.attributes.icePwd=t.icePwd,u.attributes.fingerprints=n.fingerprints,u.attributes.candidates=r,u.attributes.setup=this.setup,"application"===u.media.mediaType&&(u.attributes.sctpPort="5000"),"video"===u.media.mediaType&&(u.media.fmts=s.map((function(e){return e.payloadType.toString(10)})),u.attributes.payloads=s,u.attributes.extmaps=o.videoExtensions,0<Th.PRELOAD_MEDIA_COUNT)){var g=mr([{ssrcId:4e4,rtx:Th.USE_SUB_RTX?40001:void 0}],this.cname),I=g.ssrcGroups;u.attributes.ssrcs=g.ssrcs,u.attributes.ssrcGroups=I}"audio"===u.media.mediaType&&(u.media.fmts=i.map((function(e){return e.payloadType.toString(10)})),u.attributes.payloads=i,u.attributes.extmaps=o.audioExtensions,Mr(u),0<Th.PRELOAD_MEDIA_COUNT)&&(I=(g=mr([{ssrcId:2e4}],this.cname)).ssrcGroups,u.attributes.ssrcs=g.ssrcs,u.attributes.ssrcGroups=I)}this.sessionDesc=A,this.currentMidIndex=A.mediaDescriptions.length-1}return Ib(e,[{key:"localCapabilities",get:function(){return Je(this._localCapabilities)}},{key:"rtpCapabilities",get:function(){return Je(this._rtpCapabilities)}},{key:"candidates",get:function(){return Je(this._candidates)}},{key:"iceParameters",get:function(){return Je(this._iceParameters)}},{key:"dtlsParameters",get:function(){return Je(this._dtlsParameters)}},{key:"toString",value:function(){return ib.print(this.sessionDesc)}},{key:"hasMid",value:function(e){var t=this;return Array.isArray(e)?e.every((function(e){return t.hasMid(e)})):this.sessionDesc.mediaDescriptions.some((function(t){return t.attributes.mid===e}))}},{key:"send",value:function(e,t,A,n,r){A=A.replace(/ /g,"-"),t=(A=mr(t,this.cname,Th.SYNC_GROUP?A:void 0)).ssrcs,A=A.ssrcGroups;var i,o=this.findPreloadMediaDesc(t);return o?(oe()&&this.firefoxSsrcMidMap.set(t[0].ssrcId,o.attributes.mid),r&&(r.twcc||r.remb)?(e=this.sessionDesc.mediaDescriptions.indexOf(o),this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(o,r),{mid:o.attributes.mid,needExchangeSDP:!0}):{mid:o.attributes.mid,needExchangeSDP:!1}):(-1===(o=this.findAvailableMediaIndex(e,t,n))?(i=this.createOrRecycleSendMedia(e,t,A,"sendonly",n,r),this.updateBundleMids()):((i=Je(this.sessionDesc.mediaDescriptions[o])).attributes.direction="sendonly",i.attributes.ssrcs=t,i.attributes.ssrcGroups=A,this.sessionDesc.mediaDescriptions[o]=this.mungSendMediaDesc(i,r)),oe()&&this.firefoxSsrcMidMap.set(t[0].ssrcId,i.attributes.mid),{needExchangeSDP:!0,mid:i.attributes.mid})}},{key:"stopSending",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((function(e){e.attributes.ssrcs=[]})),this.updateBundleMids()}},{key:"receive",value:function(e,t,A){var n=this,r=[];return e.forEach((function(e){var i,o=n.findAvailableRecvMediaIndex(e._mediaStreamTrack.kind),a=!1;-1===o?(a=!0,i=n.createOrRecycleRecvMedia(e,[],"recvonly",t,A),n.updateBundleMids()):(i=Je(n.sessionDesc.mediaDescriptions[o])).attributes.direction="recvonly",r.push({mid:i.attributes.mid,needCreateTransceiver:a})})),r}},{key:"stopReceiving",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return-1!==e.indexOf(t.attributes.mid)}));if(t.length!==e.length)throw Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((function(e){e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}},{key:"addRemoteCandidate",value:function(e){var t=this,A=new RTCIceCandidate(e);e=A.foundation;var n=A.protocol,r=A.address,i=A.port,o=A.type,a=A.relatedAddress,s=A.relatedPort,c={foundation:null!=e?e:"",componentId:"1",transport:null!=n?n:"",priority:(A=A.priority)?A+"":"",connectionAddress:null!=r?r:"",port:i?i+"":"",type:o?o+"":"",relAddr:null!=a?a:"",relPort:s?s+"":"",extension:{}};this.candidates.some((function(e){return e.priority===c.priority&&e.connectionAddress===c.connectionAddress&&e.port===c.port}))||(this._candidates.push(c),this.sessionDesc.mediaDescriptions.forEach((function(e){e.attributes.candidates=t.candidates})))}},{key:"clearRemoteCandidate",value:function(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}},{key:"createOrRecycleRecvMedia",value:function(e,t,A,n,r){var i=e._mediaStreamTrack.kind,o=this.rtpCapabilities.recv;return n=xr(i,o,this.localCapabilities.send,i===jp.AUDIO?r:n),o=i===jp.VIDEO?o.videoExtensions:o.audioExtensions,r="".concat(++this.currentMidIndex),t={media:{mediaType:i,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:n.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:o,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:n,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:A,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(r)}},t=this.mungRecvMediaDsec(t,e),(e=this.findFirstClosedMedia(i))?(e=this.sessionDesc.mediaDescriptions.indexOf(e),this.sessionDesc.mediaDescriptions[e]=t):this.sessionDesc.mediaDescriptions.push(t),t}},{key:"muteRemote",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return Xs(e).call(e,t.attributes.mid||"")}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((function(e){e.attributes.direction="inactive"}))}},{key:"unmuteRemote",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return Xs(e).call(e,t.attributes.mid||"")}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((function(e){e.attributes.direction="recvonly"}))}},{key:"findAvailableMediaIndex",value:function(e,t,A){var n=this;return this.sessionDesc.mediaDescriptions.findIndex((function(r){var i=r.media.mediaType===e&&"0"!==r.media.port&&("sendonly"===r.attributes.direction||"sendrecv"===r.attributes.direction)&&0===r.attributes.ssrcs.length;return oe()?!(!i||((i=n.firefoxSsrcMidMap.get(t[0].ssrcId))||"0"!==r.attributes.mid&&"1"!==r.attributes.mid)&&(!i||i!==r.attributes.mid)):i&&r.attributes.mid===A}))}},{key:"findAvailableRecvMediaIndex",value:function(e){return this.sessionDesc.mediaDescriptions.findIndex((function(t){var A=t.media.mediaType===e&&"0"!==t.media.port&&("recvonly"===t.attributes.direction||"sendrecv"===t.attributes.direction);return"0"!==t.attributes.mid&&"1"!==t.attributes.mid&&A}))}},{key:"predictReceivingMids",value:function(e){for(var t=[],A=0;A<e;A++)t.push((this.currentMidIndex+A+1).toString(10));return t}},{key:"restartICE",value:function(e){this._iceParameters=e=Je(e),this.sessionDesc.mediaDescriptions.forEach((function(t){t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}},{key:"createOrRecycleSendMedia",value:function(e,t,A,n,r,i){var o=this.rtpCapabilities.send,a=e===jp.VIDEO?o.videoCodecs:o.audioCodecs;return o=e===jp.VIDEO?o.videoExtensions:o.audioExtensions,oe()&&(r="".concat(++this.currentMidIndex)),t={media:{mediaType:e,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:o,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:A,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:r}},t=this.mungSendMediaDesc(t,i),(e=this.findFirstClosedMedia(e))?(e=this.sessionDesc.mediaDescriptions.indexOf(e),this.sessionDesc.mediaDescriptions[e]=t):this.sessionDesc.mediaDescriptions.push(t),t}},{key:"mungRecvMediaDsec",value:function(e,t,A){return br(e=Je(e)),_r(e,t),Rr(e,t),Sr(e),wr(e,A,this.localCapabilities.send),e}},{key:"mungSendMediaDesc",value:function(e,t){return wr(e=Je(e),t,this.localCapabilities.recv),Mr(e),e}},{key:"updateRecvMedia",value:function(e,t){var A=this.sessionDesc.mediaDescriptions.findIndex((function(t){return t.attributes.mid===e}));-1!==A&&(t=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[A],t),this.sessionDesc.mediaDescriptions[A]=t)}},{key:"updateBundleMids",value:function(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((function(e){return"0"!==e.media.port})).map((function(e){return e.attributes.mid}))}},{key:"findPreloadMediaDesc",value:function(e){return this.sessionDesc.mediaDescriptions.find((function(t){var A;return(null===(A=t.attributes)||void 0===A||null===(A=A.ssrcs[0])||void 0===A?void 0:A.ssrcId)===e[0].ssrcId}))}},{key:"findFirstClosedMedia",value:function(e){return this.sessionDesc.mediaDescriptions.find((function(t){return oe()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port}))}}]),e}(),Bb=["sdp"],Qb=function(e){function t(e,A,r){zb(this,t);var i=n.call(this,e,A);return Z(V(i),"direction",void 0),Z(V(i),"name",void 0),Z(V(i),"store",void 0),Z(V(i),"spec",void 0),Z(V(i),"peerConnection",void 0),Z(V(i),"initialOffer",void 0),Z(V(i),"transport",void 0),Z(V(i),"statsFilter",void 0),Z(V(i),"localCandidateCount",0),Z(V(i),"allCandidatesReceived",!1),Z(V(i),"localCandidateAddress",null),Z(V(i),"useXR",Th.USE_XR),Z(V(i),"filter",{filterRTX:!Th.USE_PUB_RTX&&!Th.USE_SUB_RTX,filterVideoFec:Th.FILTER_VIDEO_FEC,filterAudioFec:Th.FILTER_AUDIO_FEC}),Z(V(i),"extension",{useXR:i.useXR}),Z(V(i),"_isInRestartIce",!1),Z(V(i),"mutex",new ed("P2PConnection-mutex")),Z(V(i),"onLocalCandidate",void 0),Z(V(i),"remoteSDP",void 0),Z(V(i),"pendingCandidates",[]),Z(V(i),"localCapabilities",void 0),Z(V(i),"isReady",!1),Z(V(i),"restartCnt",0),Z(V(i),"curTurnServerIndex",0),i.store=A,i.spec=e,i.peerConnection=new RTCPeerConnection(t.resolvePCConfiguration(e,A.p2pTransport),{optional:[{googDscp:!0}]}),i.direction=null!=r?r:hp.SEND_ONLY,i.name=i.direction===hp.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",i.statsFilter=hr(i.peerConnection,Th.STATS_UPDATE_INTERVAL,void 0,oe()?1200:void 0),i.bindPCEvents(),i.bindStatsEvents(),i.store.p2pId+=1,i}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"currentLocalDescription",get:function(){return this.peerConnection.currentLocalDescription}},{key:"currentRemoteDescription",get:function(){return this.peerConnection.currentRemoteDescription}},{key:"peerConnectionState",get:function(){return this.peerConnection.connectionState}},{key:"iceConnectionState",get:function(){return this.peerConnection.iceConnectionState}},{key:"dtlsTransportState",get:function(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}},{key:"localCodecs",get:function(){return[]}},{key:"isInRestartIce",get:function(){return this._isInRestartIce},set:function(e){this._isInRestartIce=e}},{key:"establish",value:(A=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kr(this.filter,this.extension);case 3:if(A=e.sent,this.localCapabilities=Lr(A),!t){e.next=24;break}return n=t.sdp,r=sr(t,Bb),i=function(){var e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=Br(2<arguments.length?arguments[2]:void 0,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},"sendonly"),A={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Or(t,e,"videoExtensions",A,n,r),Or(t,e,"videoCodecs",A,n,r),Or(t,e,"audioExtensions",A,n,r),Or(t,e,"audioCodecs",A,n,r),Th.RAISE_H264_BASELINE_PRIORITY&&-1!==(e=r.videoCodecs.findIndex((function(e){return e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]})))){if((t=r.videoCodecs.findIndex((function(e){return e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()})))<e){qh.debug("raising H264 baseline profile priority");var i=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,i)}-1!==t&&Th.FILTER_SEND_H264_BASELINE&&(A.videoCodecs=A.videoCodecs.filter((function(e){return!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"])})))}return{send:A,recv:n,sendrecv:r}}(this.filter,this.extension,n),this.remoteSDP=new fb({remoteIceParameters:r.iceParameters,remoteDtlsParameters:r.dtlsParameters,candidates:[],remoteRTPCapabilities:i,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),e.next=9,this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});case 9:return this.isReady=!0,e.next=12,this.peerConnection.createAnswer();case 12:if((o=e.sent).sdp){e.next=15;break}throw Error("Cannot get answer sdp when trying to establish PeerConnection.");case 15:return a=Qr(o.sdp),e.next=18,this.peerConnection.setLocalDescription(o);case 18:return e.next=20,Tr(this.filter,this.extension,o.sdp);case 20:return s=e.sent,this.localCapabilities=Lr(s),c=this.peerConnection.getTransceivers()[0],e.abrupt("return",(null!=c&&c.receiver&&c.receiver.transport&&this.tryBindTransportEvents(c.receiver.transport),Gr(Gr({},a),{},{sdp:o.sdp})));case 24:return this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"}),e.next=27,this.peerConnection.createOffer();case 27:if((u=e.sent).sdp){e.next=30;break}throw Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");case 30:return g=Qr(u.sdp),e.abrupt("return",(this.initialOffer=u,Gr(Gr({},g),{},{sdp:u.sdp})));case 34:throw e.prev=34,e.t0=e.catch(0),new mC(pC.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.t0.toString());case 37:case"end":return e.stop()}}),e,this,[[0,34]])}))),function(e){return A.apply(this,arguments)})},{key:"connect",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.initialOffer){e.next=3;break}throw Error("Cannot establish P2PConnection without initial offer.");case 3:return e.next=5,this.peerConnection.setLocalDescription(this.initialOffer);case 5:return A=t.sdp,n=t.iceParameters,r=t.dtlsParameters,e.next=10,Tr(this.filter,this.extension,A);case 10:return i=e.sent,this.remoteSDP=new fb({remoteIceParameters:n,remoteDtlsParameters:r,candidates:[],remoteRTPCapabilities:i,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),e.next=14,this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});case 14:null!=(o=this.peerConnection.getTransceivers()[0])&&o.sender&&o.sender.transport&&this.tryBindTransportEvents(o.sender.transport),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.t0.toString()));case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addRemoteCandidate",value:function(){var e=pa(O.mark((function e(t){var A=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t&&this.pendingCandidates.push(t),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach((function(e){A.peerConnection.addIceCandidate(e)})),this.pendingCandidates=[]),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new mC(pC.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(e.t0.toString()));case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t,A){var n=this;return ar(O.mark((function r(){var i,o,a,s,c,u,g,I,l,E,C,d;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ir(n.mutex.lock("From P2PConnection.send"));case 2:if(i=r.sent,r.prev=3,n.remoteSDP){r.next=6;break}throw Error("Cannot call P2PConnection.send before remote SDP created");case 6:if(o=[],a=n.remoteSDP.receive(e,t,A),e.forEach((function(e,t){if(a[t].needCreateTransceiver){var A=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(A),e._updateRtpTransceiver(A)}else{if(!(A=n.peerConnection.getTransceivers().find((function(e){return e.mid===a[t].mid}))))throw Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(a[t].mid));o.push(A),e._updateRtpTransceiver(A)}})),r.t0=oe()&&!0===Th.SIMULCAST,!r.t0){r.next=12;break}return r.next=12,ir(n.applySimulcastForFirefox(o,e));case 12:return s=a.map((function(e){return e.mid})),r.next=15,ir(n.peerConnection.createOffer());case 15:return c=r.sent,u=n.mungSendOfferSDP(c.sdp,e,s),g=ib.parse(u),I=s.map((function(e){var t=g.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("Cannot extract ssrc from mediaDescription.");return yr(t,Th.USE_PUB_RTX)})),l=o.map((function(e,t){return{localSSRC:I[t],id:s[t]}})),r.next=22,ir(n.peerConnection.setLocalDescription({type:"offer",sdp:u}));case 22:return r.prev=22,r.next=25,l;case 25:r.next=37;break;case 27:return r.prev=27,r.t1=r.catch(22),E=n.remoteSDP.toString(),r.next=32,ir(n.peerConnection.setLocalDescription({type:"offer",sdp:u}));case 32:return r.next=34,ir(n.peerConnection.setRemoteDescription({type:"answer",sdp:E}));case 34:return r.next=36,ir(n.stopSending(s,!0));case 36:throw r.t1;case 37:return r.next=39,ir(n.applySimulcastEncodings(o,e));case 39:return r.next=41,ir(n.applySendEncodings(o,e));case 41:return C=n.remoteSDP.toString(),null==(d=n.logSDPExchange(u,"offer","local","send"))||d(C),r.next=45,ir(n.setRemoteDescription({type:"answer",sdp:C}));case 45:return r.abrupt("return",o.map((function(e,t){return{localSSRC:I[t],id:s[t]}})));case 48:throw r.prev=48,r.t2=r.catch(3),r.t2 instanceof mC?r.t2:new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(r.t2.toString()));case 51:return r.prev=51,i(),r.finish(51);case 54:case"end":return r.stop()}}),r,null,[[3,48,51,54],[22,27]])})))()}},{key:"stopSending",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=4;break}e.t0=void 0,e.next=7;break;case 4:return e.next=6,this.mutex.lock("From P2PConnection.stopSending");case 6:e.t0=e.sent;case 7:if(n=e.t0,e.prev=8,this.remoteSDP){e.next=11;break}throw Error("Cannot call P2PConnection.stopSending before remote SDP created");case 11:if((r=this.peerConnection.getTransceivers().filter((function(e){return-1!==t.indexOf(e.mid)}))).length===t.length){e.next=14;break}throw Error("Transceivers' length (".concat(r.length,") doesn't match mids' length (").concat(t.length,") when trying to call P2PConnection.stopSending."));case 14:return r.map((function(e){var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)})),e.next=17,this.peerConnection.createOffer();case 17:return i=e.sent,o=this.logSDPExchange(i.sdp||"","offer","local","stopSending"),e.next=21,this.peerConnection.setLocalDescription(i);case 21:return this.remoteSDP.stopReceiving(t),a=this.remoteSDP.toString(),null==o||o(a),e.next=26,this.setRemoteDescription({type:"answer",sdp:a});case 26:e.next=31;break;case 28:throw e.prev=28,e.t1=e.catch(8),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.t1.toString()));case 31:return e.prev=31,n&&n(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[8,28,31,34]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));case 3:if(i=this.remoteSDP.send(t,A,n,r),o=i.mid,!i.needExchangeSDP){e.next=18;break}return a=this.remoteSDP.toString(),s=this.logSDPExchange(a,"offer","remote","receive"),e.next=8,this.setRemoteDescription({type:"offer",sdp:a});case 8:return e.next=10,this.peerConnection.createAnswer();case 10:return c=e.sent,u=this.mungReceiveAnswerSDP(c.sdp,o,t),null==s||s(u||""),e.next=15,this.peerConnection.setLocalDescription({type:"answer",sdp:u});case 15:qh.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP.")),e.next=19;break;case 18:qh.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," no need to exchange SDP."));case 19:if((g=this.peerConnection.getTransceivers().find((function(e){return e.mid===o})))&&null!==g.mid){e.next=22;break}throw Error("Cannot get transceiver after setLocalDescription.");case 22:return e.abrupt("return",{track:g.receiver.track,mid:g.mid,transceiver:g});case 25:throw e.prev=25,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t0.toString()));case 28:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"mockReceive",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));case 3:if(i=this.remoteSDP.send(t,A,n,r),o=i.mid,!i.needExchangeSDP){e.next=18;break}return a=this.remoteSDP.toString(),s=this.logSDPExchange(a,"offer","remote","receive"),e.next=8,this.setRemoteDescription({type:"offer",sdp:a});case 8:return e.next=10,this.peerConnection.createAnswer();case 10:return c=e.sent,u=this.mungReceiveAnswerSDP(c.sdp,o,t),null==s||s(u||""),e.next=15,this.peerConnection.setLocalDescription({type:"answer",sdp:u});case 15:qh.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP.")),e.next=19;break;case 18:qh.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," no need to exchange SDP."));case 19:e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t0.toString()));case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");case 3:return this.remoteSDP.stopSending(t),A=this.remoteSDP.toString(),n=this.logSDPExchange(A,"offer","remote","stopReceiving"),e.next=7,this.setRemoteDescription({type:"offer",sdp:A});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return r=e.sent,null==n||n(r.sdp||""),e.next=13,this.peerConnection.setLocalDescription(r);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"restartICE",value:function(){var e=pa(O.mark((function e(A){var n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.store.p2pTransport===Rh.Auto&&(this.store.p2pTransport=Rh.SdRtn,lB.supportPCSetConfiguration&&this.peerConnection.setConfiguration(t.resolvePCConfiguration(this.spec,this.store.p2pTransport))),3<this.restartCnt&&(this.restartCnt=0,lB.supportPCSetConfiguration&&this.peerConnection.setConfiguration(t.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),A){e.next=15;break}return this.restartCnt++,this.isReady=!1,e.next=5,this.peerConnection.createOffer({iceRestart:!0});case 5:if((n=e.sent).sdp){e.next=8;break}throw Error("Cannot restartICE because restart offer SDP does not exist.");case 8:if(r=Qr(n.sdp),i=r.iceParameters,this.store.descriptionStart(),e.t0=this.direction===hp.SEND_ONLY,!e.t0){e.next=14;break}return e.next=14,this.peerConnection.setLocalDescription(n);case 14:return e.abrupt("return",i);case 15:if(this.remoteSDP){e.next=17;break}throw Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");case 17:if(this.remoteSDP.restartICE(A),this.store.descriptionStart(),this.direction!==hp.RECEIVE_ONLY){e.next=30;break}return this.restartCnt++,e.next=21,this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});case 21:return e.next=23,this.peerConnection.createAnswer();case 23:if((o=e.sent).sdp){e.next=26;break}throw Error("Cannot get answer sdp when trying to iceRestart.");case 26:return a=Qr(o.sdp),s=a.iceParameters,e.next=29,this.peerConnection.setLocalDescription(o);case 29:return e.abrupt("return",s);case 30:return e.next=32,this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});case 32:this.isReady=!0,e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.t1.toString()));case 38:case"end":return e.stop()}}),e,this,[[0,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}},{key:"getStats",value:function(){return this.statsFilter.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){return this.statsFilter.getVideoIsReady(e)}},{key:"updateEncoderConfig",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");case 3:return e.next=5,this.peerConnection.createOffer();case 5:return n=e.sent,r=this.mungSendOfferSDP(n.sdp,[A],[t]),this.remoteSDP.updateRecvMedia(t,A),i=this.remoteSDP.toString(),o=this.logSDPExchange(r,"offer","local","updateEncoderConfig"),e.next=11,this.peerConnection.setLocalDescription({type:"offer",sdp:r});case 11:return null==o||o(i),e.next=14,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,e.t0.toString());case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"updateSendParameters",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.peerConnection.getTransceivers().filter((function(e){return e.mid===t})),e.t0=1===n.length,!e.t0){e.next=12;break}if(!this.isVP8Simulcast(A)){e.next=10;break}if(e.t1=oe(),e.t1){e.next=8;break}return e.next=8,this.applySimulcastEncodings(n,[A]);case 8:e.next=12;break;case 10:return e.next=12,this.applySendEncodings(n,[A]);case 12:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setStatsRemoteVideoIsReady",value:function(e,t){this.statsFilter.setVideoIsReady2(e,t)}},{key:"replaceTrack",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.peerConnection.getTransceivers().find((function(e){return e.mid===A})),e.t0=n,!e.t0){e.next=5;break}return e.next=5,n.sender.replaceTrack(t._mediaStreamTrack);case 5:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getSelectedCandidatePair",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0<(t=this.peerConnection.getReceivers()).length&&t[0].transport&&t[0].transport.iceTransport&&t[0].transport.iceTransport.getSelectedCandidatePair&&t[0].transport.iceTransport.getSelectedCandidatePair())){e.next=4;break}return A=t[0].transport.iceTransport,n=A.getSelectedCandidatePair(),r=n.local,i=n.remote,e.abrupt("return",{local:Gr(Gr({},ab),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port}),remote:Gr(Gr({},ab),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port})});case 4:return e.abrupt("return",this.statsFilter.getSelectedCandidatePair());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bindPCEvents",value:function(){var e=this;this.peerConnection.oniceconnectionstatechange=function(){var t,A;Xs(t=["connected","completed"]).call(t,e.peerConnection.iceConnectionState)&&(e.isReady=!1),null===(A=e.onICEConnectionStateChange)||void 0===A||A.call(e,e.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=function(){var t;"connected"===e.peerConnection.connectionState&&(e.restartCnt=0),null===(t=e.onConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.connectionState)},this.startICECandidate()}},{key:"startICECandidate",value:function(){var e=this;this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=function(t){var A;t.candidate?(t.candidate.candidate&&(e.localCandidateAddress=t.candidate.address,null===(A=e.onLocalCandidate)||void 0===A||A.call(e,t.candidate.toJSON())),e.localCandidateCount+=1):(e.allCandidatesReceived=!0,qh.debug("[".concat(e.store.clientId,"] [pc-").concat(e.store.p2pId,"] local candidate count"),e.localCandidateCount))})}},{key:"unbindPCEvents",value:function(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}},{key:"tryBindTransportEvents",value:function(e){var t=this;if(e){this.transport=e,e.onstatechange=function(){var A;null!=e&&e.state&&(null===(A=t.onDTLSTransportStateChange)||void 0===A||A.call(t,e.state))},e.onerror=function(e){var A;null===(A=t.onDTLSTransportError)||void 0===A||A.call(t,"error"in e?e.error:e)};var A=e.iceTransport;A&&(A.onstatechange=function(){var A,n=null==e?void 0:e.iceTransport.state;n&&(null===(A=t.onICETransportStateChange)||void 0===A||A.call(t,n))},A.getSelectedCandidatePair&&(A.onselectedcandidatepairchange=function(){if(A.getSelectedCandidatePair()){var e=A.getSelectedCandidatePair(),n=e.local;e=e.remote,qh.info("[".concat(t.store.clientId,"] [pc-").concat(t.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:n.type,protocol:n.protocol}),", remote ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol,address:e.address,port:e.port})," )"))}}))}}},{key:"tryUnbindTransportEvents",value:function(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}},{key:"updateRtpSenderEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A||(A=this.peerConnection.getSenders().find((function(e){return e.track===t._mediaStreamTrack}))),A){e.next=3;break}return e.abrupt("return",qh.warn("[".concat(t.getTrackId(),"] no rtpSender found}")));case 3:if(!this.isVP8Simulcast(t)){e.next=5;break}return e.abrupt("return",qh.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings"));case 5:if(lB.supportSetRtpSenderParameters){e.next=7;break}return e.abrupt("return",qh.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters"));case 7:r={},i={},e.t0=t._optimizationMode,e.next="motion"===e.t0?11:"detail"===e.t0?13:15;break;case 11:return r.degradationPreference="maintain-framerate",e.abrupt("break",16);case 13:return r.degradationPreference="maintain-resolution",e.abrupt("break",16);case 15:r.degradationPreference="balanced";case 16:return t._encoderConfig&&(a=t._encoderConfig,s=a.bitrateMax,c=a.frameRate,u=a.scaleResolutionDownBy,s&&(i.maxBitrate=1e3*s),Xs(o=t._hints).call(o,CB.LOW_STREAM)&&(c&&(i.maxFramerate=uA(c)),u&&1<=u&&(i.scaleResolutionDownBy=u))),Th.DSCP_TYPE&&fe()&&(I=Th.DSCP_TYPE,Xs(g=["very-low","low","medium","high"]).call(g,I)&&(i.networkPriority=I)),l=A.getParameters(),E=null===(n=l.encodings)||void 0===n?void 0:n[0],oe()&&!E&&(r.encodings=[i]),E&&Object.assign(E,i),Object.assign(l,r),qh.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(l.encodings))),e.next=25,A.setParameters(l);case 25:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"applySendEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,lB.supportSetRtpSenderParameters){e.next=3;break}return e.abrupt("return");case 3:if(t.length===A.length){e.next=5;break}return e.abrupt("return");case 5:n=0;case 6:if(!(n<t.length)){e.next=15;break}if(r=t[n],i=A[n],e.t0=i instanceof _Q&&!this.isVP8Simulcast(i),!e.t0){e.next=12;break}return e.next=12,this.updateRtpSenderEncodings(i,r.sender);case 12:n++,e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),qh.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."));case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"mungSendOfferSDP",value:function(e,t,A){var n=this,r=ib.parse(e);return t.forEach((function(e,t){var i=A[t];(t=r.mediaDescriptions.find((function(e){return e.attributes.mid===i})))&&(_r(t,e),Dr(t,e,n.store.codec))})),ib.print(r)}},{key:"bindStatsEvents",value:function(){var e=this;this.statsFilter.onFirstAudioReceived=function(t){var A;null===(A=e.onFirstAudioReceived)||void 0===A||A.call(e,t)},this.statsFilter.onFirstVideoReceived=function(t){var A;null===(A=e.onFirstVideoReceived)||void 0===A||A.call(e,t)},this.statsFilter.onFirstAudioDecoded=function(t){var A;null===(A=e.onFirstAudioDecoded)||void 0===A||A.call(e,t)},this.statsFilter.onFirstVideoDecoded=function(t,A,n){var r;null===(r=e.onFirstVideoDecoded)||void 0===r||r.call(e,t,A,n)},this.statsFilter.onSelectedLocalCandidateChanged=function(t,A){var n;null===(n=e.onSelectedLocalCandidateChanged)||void 0===n||n.call(e,t,A)},this.statsFilter.onSelectedRemoteCandidateChanged=function(t,A){var n;null===(n=e.onSelectedRemoteCandidateChanged)||void 0===n||n.call(e,t,A)},this.statsFilter.onFirstVideoDecodedTimeout=function(t){var A;null===(A=e.onFirstVideoDecodedTimeout)||void 0===A||A.call(e,t)}}},{key:"unbindStatsEvents",value:function(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}},{key:"applySimulcastForFirefox",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length!==A.length){e.next=13;break}r=0;case 2:if(!(r<t.length)){e.next=13;break}if(u=t[r],!((g=A[r])instanceof _Q&&!Xs(i=g._hints).call(i,CB.LOW_STREAM)&&null!==(o=g._encoderConfig)&&void 0!==o&&o.bitrateMax&&200<(null===(a=g._encoderConfig)||void 0===a?void 0:a.bitrateMax)&&null!==(s=g._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&1<(null===(c=g._scalabilityMode)||void 0===c?void 0:c.numSpatialLayers)&&"vp8"===this.store.codec)){e.next=10;break}return I={},n=1e3*(g._encoderConfig.bitrateMax-50),I.encodings=[{rid:"m",active:!0,maxBitrate:5e4,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:n}],l=u.sender.getParameters(),e.next=10,u.sender.setParameters(Object.assign(l,I));case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"applySimulcastEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe()||t.length!==A.length){e.next=13;break}r=0;case 2:if(!(r<t.length)){e.next=13;break}if(!((i=A[r])instanceof _Q&&this.isVP8Simulcast(i))){e.next=10;break}return o=t[r],a={},n=1e3*(i._encoderConfig.bitrateMax-50),a.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:n},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:5e4,scaleResolutionDownBy:4}],s=o.sender.getParameters(),e.next=10,o.sender.setParameters(Object.assign(s,a));case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"isVP8Simulcast",value:function(e){var t,A,n,r,i;return!!(e instanceof _Q&&Th.SIMULCAST&&"vp8"===this.store.codec&&!Xs(t=e._hints).call(t,CB.LOW_STREAM)&&null!==(A=e._encoderConfig)&&void 0!==A&&A.bitrateMax&&200<(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&1<(null===(i=e._scalabilityMode)||void 0===i?void 0:i.numSpatialLayers))}},{key:"logSDPExchange",value:function(e,t,A,n){var r=this;if(Th.SDP_LOGGING)return qh.upload("[".concat(this.store.clientId,"] exchanging ").concat(A," ").concat(t," SDP during P2PConnection.").concat(n,"\n"),e),"offer"===t?function(e){r.logSDPExchange(e,"answer","local"===A?"remote":"local",n)}:void 0}},{key:"muteLocal",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.muteLocal before remote SDP created.");case 3:if((A=this.peerConnection.getTransceivers().filter((function(e){return e.mid&&-1!==t.indexOf(e.mid)}))).length===t.length){e.next=6;break}throw Error("Transceivers' length doesn't match mids' length.");case 6:return A.map((function(e){e.direction="inactive"})),e.next=9,this.peerConnection.createOffer();case 9:return n=e.sent,r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal"),e.next=13,this.peerConnection.setLocalDescription(n);case 13:return this.remoteSDP.muteRemote(t),i=this.remoteSDP.toString(),null==r||r(i),e.next=18,this.setRemoteDescription({type:"answer",sdp:i});case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.t0.toString()));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteLocal",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");case 3:if((A=this.peerConnection.getTransceivers().filter((function(e){return e.mid&&-1!==t.indexOf(e.mid)}))).length===t.length){e.next=6;break}throw Error("Transceivers' length doesn't match mids' length.");case 6:return A.map(function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.direction="sendonly";case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,this.peerConnection.createOffer();case 9:return n=e.sent,r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal"),e.next=13,this.peerConnection.setLocalDescription(n);case 13:return this.remoteSDP.unmuteRemote(t),i=this.remoteSDP.toString(),null==r||r(i),e.next=18,this.setRemoteDescription({type:"answer",sdp:i});case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.t0.toString()));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRemoteSSRC",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(A=null!==(n=A)&&void 0!==n?n:null===(r=this.currentRemoteDescription)||void 0===r?void 0:r.sdp)){e.next=3;break}return o=null===(i=ib.parse(A).mediaDescriptions.find((function(e){return e.attributes.mid===t})))||void 0===i?void 0:i.attributes.ssrcs,e.abrupt("return",null==o?void 0:o[0].ssrcId);case 3:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setRemoteDescription",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peerConnection.setRemoteDescription(t);case 2:Xs(A=["connected","completed"]).call(A,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate());case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mungReceiveAnswerSDP",value:function(e,t,A){var n=(e=ib.parse(e)).mediaDescriptions.find((function(e){return e.attributes.mid===t}));return n&&(A===jp.AUDIO&&"audio"===n.media.mediaType&&Mr(n),this.useXR&&Ur(e)),ib.print(e)}}],[{key:"resolvePCConfiguration",value:function(e,A){var n,r,i,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a={iceServers:[]};return e.iceServers?a.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(Te(e.turnServer.servers)?a.iceServers=e.turnServer.servers:(a.iceServers&&(n=a.iceServers).push.apply(n,rb(t.turnServerConfigToIceServers(e.turnServer.servers,A,o))),Th.USE_TURN_SERVER_OF_GATEWAY&&a.iceServers&&e.turnServer.serversFromGateway&&(r=a.iceServers).push.apply(r,rb(t.turnServerConfigToIceServers(e.turnServer.serversFromGateway,A,o))),Xs(i=[Rh.Relay,Rh.SdRtn]).call(i,A)&&(a.iceTransportPolicy="relay"),Th.FORCE_TURN_TCP?a.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((function(e){e.forceturn&&(a.iceTransportPolicy="relay")})))),Th.ENABLE_ENCODED_TRANSFORM&&lB.supportWebRTCEncodedTransform&&(a.encodedInsertableStreams=!0),qh.debug("P2PConnection p2pTransport is ".concat(A)),a}},{key:"turnServerConfigToIceServers",value:function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=[],r=e.filter((function(e){return e.tcpport}));switch(qh.debug("P2PConnection turnServers is ".concat(r,", current index is ").concat(A)),r=r.length>A?r[A]:r[0],t){case Rh.SdRtn:(A=(r=e.filter((function(e){var t;return Xs(t=e.username).call(t,"glb:")&&e.turnServerURL==e.turnServerURL}))).length>A?r[A]:r[0])&&(n.push({username:A.username,credential:A.password,credentialType:"password",urls:"turn:".concat(sA(A.turnServerURL),":").concat(A.tcpport,"?transport=udp")}),n.push({username:A.username,credential:A.password,credentialType:"password",urls:"turns:".concat(sA(A.turnServerURL),":").concat(A.tcpport,"?transport=tcp")}));break;case Rh.Relay:r&&(n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(r.turnServerURL,":").concat(r.tcpport,"?transport=udp")}),n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turns:".concat(sA(r.turnServerURL),":").concat(r.tcpport,"?transport=tcp")}));break;default:r&&(n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(r.turnServerURL,":").concat(r.tcpport,"?transport=udp")}),n.push({username:r.username,credential:r.password,credentialType:"password",urls:"turns:".concat(sA(r.turnServerURL),":").concat(r.tcpport,"?transport=tcp")}),n.push({username:r.username,credential:r.password,credentialType:"password",urls:"stun:".concat(r.turnServerURL,":").concat(r.tcpport)}))}return n}}]),t}(pf);Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],Qb.prototype,"establish",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],Qb.prototype,"connect",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[String,Array,String,String]),jt("design:returntype",IC)],Qb.prototype,"receive",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[String,Array,String,String]),jt("design:returntype",IC)],Qb.prototype,"mockReceive",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Qb.prototype,"stopReceiving",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],Qb.prototype,"restartICE",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],Qb.prototype,"close",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],Qb.prototype,"updateEncoderConfig",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],Qb.prototype,"updateSendParameters",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[YB,String]),jt("design:returntype",IC)],Qb.prototype,"replaceTrack",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Qb.prototype,"muteLocal",null),Ht([Fr,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Qb.prototype,"unmuteLocal",null),function(e){e[e.HEIGHT=2033]="HEIGHT",e[e.FRAME_RATE=2034]="FRAME_RATE",e[e.WIDTH=2035]="WIDTH"}(H_||(H_={})),function(e){e[e.HEIGHT=2072]="HEIGHT",e[e.FRAME_RATE=2074]="FRAME_RATE",e[e.WIDTH=2076]="WIDTH"}(j_||(j_={})),function(e){e[e.FRAME_RATE=2002]="FRAME_RATE",e[e.WIDTH=2003]="WIDTH",e[e.HEIGHT=2004]="HEIGHT",e[e.PACKAGE_LOST=2005]="PACKAGE_LOST",e[e.AVG_ENCODE=2007]="AVG_ENCODE",e[e.NACKS=2009]="NACKS",e[e.PLIS=2010]="PLIS",e[e.FIRS=2011]="FIRS",e[e.BITRATE=2012]="BITRATE",e[e.PACKAGE_RATE=2031]="PACKAGE_RATE",e[e.ADAPTATION=2032]="ADAPTATION",e[e.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",e[e.BANDWIDTH=2061]="BANDWIDTH",e[e.RETRANSMIT=2062]="RETRANSMIT",e[e.TARGET_ENCODED=2064]="TARGET_ENCODED",e[e.TRANSMIT=2066]="TRANSMIT",e[e.FREEZE=2082]="FREEZE",e[e.DISABLED=2095]="DISABLED",e[e.PLAYER_STATUS=2128]="PLAYER_STATUS",e[e.QP_SUM=2143]="QP_SUM"}(W_||(W_={})),function(e){e[e.BITRATE=2069]="BITRATE",e[e.PACKAGE_LOST=2070]="PACKAGE_LOST",e[e.PACKAGE_RATE=2071]="PACKAGE_RATE",e[e.HEIGHT=2073]="HEIGHT",e[e.FRAME_RATE=2075]="FRAME_RATE",e[e.WIDTH=2077]="WIDTH"}(X_||(X_={})),function(e){e[e.JITTER=-1]="JITTER",e[e.PACKAGE_LOST=2014]="PACKAGE_LOST",e[e.WIDTH=2018]="WIDTH",e[e.HEIGHT=2019]="HEIGHT",e[e.FRAME_RATE=2020]="FRAME_RATE",e[e.JITTER_BUFFER=2023]="JITTER_BUFFER",e[e.CURRENT_DELAY=2024]="CURRENT_DELAY",e[e.NACKS=2026]="NACKS",e[e.PLIS=2027]="PLIS",e[e.FIRS=2028]="FIRS",e[e.BITRATE=2029]="BITRATE",e[e.PACKAGE_RATE=2078]="PACKAGE_RATE",e[e.FREEZE=2084]="FREEZE",e[e.DISABLED=2101]="DISABLED",e[e.PLAYER_STATUS=2129]="PLAYER_STATUS",e[e.QP_SUM=2144]="QP_SUM",e[e.I_FRAME_DELAY=2149]="I_FRAME_DELAY"}(z_||(z_={})),function(e){e[e.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",e[e.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",e[e.FREEZE_TIME=2109]="FREEZE_TIME",e[e.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER"}(Z_||(Z_={})),function(e){e[e.PCM_LEVEL=2104]="PCM_LEVEL"}($_||($_={})),function(e){e[e.PACKAGE_LOST=-1]="PACKAGE_LOST",e[e.LEVEL=2038]="LEVEL",e[e.BITRATE=2039]="BITRATE",e[e.PACKAGE_RATE=2040]="PACKAGE_RATE",e[e.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",e[e.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",e[e.FREEZE=2081]="FREEZE",e[e.DISABLED=2096]="DISABLED"}(eb||(eb={})),function(e){e[e.BITRATE=2044]="BITRATE",e[e.PACKAGE_LOST=2045]="PACKAGE_LOST",e[e.PACKAGE_RATE=2046]="PACKAGE_RATE",e[e.CURRENT_DELAY=2047]="CURRENT_DELAY",e[e.JITTER_BUFFER=2054]="JITTER_BUFFER",e[e.JITTER=2055]="JITTER",e[e.FREEZE=2083]="FREEZE",e[e.DISABLED=2102]="DISABLED",e[e.PCM_LEVEL=2105]="PCM_LEVEL",e[e.PLAYER_STATUS=2130]="PLAYER_STATUS",e[e.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES"}(tb||(tb={})),function(e){e[e.FREEZE_TIME=-1]="FREEZE_TIME",e[e.LEVEL=2043]="LEVEL"}(Ab||(Ab={})),function(e){e[e.RTT=2006]="RTT",e[e.CONN_TYPE=801]="CONN_TYPE"}(nb||(nb={}));var yb,vb=function(e){function t(e){zb(this,t);var n=A.call(this);return Z(V(n),"store",void 0),Z(V(n),"uploadWRTCStatsTimer",void 0),Z(V(n),"uploadOutboundDenoiserStatsTimer",void 0),Z(V(n),"uploadExtStatsTimer",void 0),Z(V(n),"uploadExtUsageStatsTimer",void 0),Z(V(n),"uploadInboundExtStatsTimer",void 0),Z(V(n),"requestStats",void 0),Z(V(n),"requestTransportStats",void 0),Z(V(n),"requestLocalMedia",void 0),Z(V(n),"requestRemoteMedia",void 0),Z(V(n),"requestAllTracks",void 0),Z(V(n),"requestVideoIsReady",void 0),Z(V(n),"requestUploadStats",void 0),Z(V(n),"requestUpload",void 0),Z(V(n),"uploadOutboundStarted",!1),Z(V(n),"uploadInboundStarted",!1),Z(V(n),"uploadTransportStarted",!1),Z(V(n),"uploadExtensionUsageStarted",!1),Z(V(n),"lastRecvStats",void 0),Z(V(n),"lastSendStats",void 0),Z(V(n),"lastFullRecvStats",void 0),Z(V(n),"lastFullSendStats",void 0),Z(V(n),"needUploadRenderFreezeTime",!0),n.store=e,n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"uploadWRTCStats",value:function(e){if(this.requestStats&&this.requestUploadStats){var t,A;if(this.uploadTransportStarted&&(t=this.requestStats(),this.store.useP2P&&(A=this.requestStats(!0))),!t&&this.uploadOutboundStarted&&(t=this.requestStats()),!A&&this.uploadInboundStarted&&(A=this.requestStats(!0)),t||A){var n={};if(this.uploadTransportStarted&&t){var r=this.getTransportStats(t,A,e);r&&(n.misc=[r])}this.uploadOutboundStarted&&t&&(r=this.getOutboundStats(t,e?this.lastSendStats:this.lastFullSendStats,e))&&(n.outbound=[r]),this.uploadInboundStarted&&A&&(r=this.getInboundStats(A,e?this.lastRecvStats:this.lastFullRecvStats,e))&&(n.inbound=r),this.requestUploadStats(n)}this.lastRecvStats=A,this.lastSendStats=t,e||(this.lastFullRecvStats=A,this.lastFullSendStats=t)}}},{key:"startUploadWRTCStats",value:function(){var e=this;if(!this.uploadWRTCStatsTimer){var t=1;this.uploadWRTCStatsTimer=window.setInterval((function(){if(!e.uploadTransportStarted&&!e.uploadInboundStarted&&!e.uploadOutboundStarted)return e.stopUploadWRTCStats();e.uploadWRTCStats(3!==t),4==++t&&(t=1)}),1e3)}}},{key:"stopUploadWRTCStats",value:function(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}},{key:"getTransportStats",value:function(e,t,A){var n;if(this.requestStats)return A?null==e.rtt?void 0:{addition:(n={},na(n,nb.RTT,e.rtt),na(n,nb.CONN_TYPE,void 0),n)}:(e=Yr(e),this.store.useP2P?(t&&(t=Yr(t),e[nb.CONN_TYPE]+=t[nb.CONN_TYPE]<<3),e[nb.CONN_TYPE]+=110):e[nb.CONN_TYPE]+=100,{addition:e})}},{key:"getOutboundStats",value:function(e,t,A){if(this.requestUploadStats&&this.requestLocalMedia){var n,r,i,o=this.requestLocalMedia();if(o&&0!==o.length)return o.forEach((function(o){var a=Lb(o,2);o=a[0];var s,c,u=a[1];switch(a=u.track,u=u.ssrcs,o){case zp.LocalVideoLowTrack:case zp.LocalVideoTrack:o===zp.LocalVideoTrack?(o=function(e,t,A,n,r){if(t=t.videoSend.find((function(t){return t.ssrc===e}))){var i={},o=t.sentFrame,a=t.inputFrame;if(a&&o&&(i[W_.FREEZE]=(s=a.frameRate,c=o.frameRate,5>=s||!(10>=s?3>c:20>=s?4>c:5>c)?0:1)),Vr(i,W_.QP_SUM,t.qpSumPerFrame),r)return i;switch(o&&(Vr(i,W_.HEIGHT,o.height),Vr(i,W_.WIDTH,o.width),Vr(i,W_.FRAME_RATE,o.frameRate)),i[W_.DISABLED]=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||n._mediaStreamTrack&&!n._mediaStreamTrack.enabled?1:0,t.adaptionChangeReason){case"none":i[W_.ADAPTATION]=0;break;case"cpu":i[W_.ADAPTATION]=1;break;case"bandwidth":i[W_.ADAPTATION]=2;break;case"other":i[W_.ADAPTATION]=3}return i[W_.PLAYER_STATUS]=KB[n._player?n._player.videoElementStatus:"uninit"],Vr(i,W_.NACKS,t.nacksCount),Vr(i,W_.PLIS,t.plisCount),Vr(i,W_.FIRS,t.firsCount),Vr(i,W_.AVG_ENCODE,t.avgEncodeMs),(A=A&&A.videoSend.find((function(t){return t.ssrc===e})))&&(r=r?1e3:3e3,A.timestamp&&t.timestamp&&(r=t.timestamp-A.timestamp),null!=A.packets&&null!=t.packets&&Vr(i,W_.PACKAGE_RATE,1e3*(t.packets-A.packets)/r),null!=t.packetsLost&&null!=A.packetsLost&&Vr(i,W_.PACKAGE_LOST,t.packetsLost-A.packetsLost),null!=A.bytes&&null!=t.bytes&&Vr(i,W_.BITRATE,8*(t.bytes-A.bytes)/r)),i}var s,c}(u[0].ssrcId,e,t,a,A),a=A?null:function(e,t,A){var n=t.videoSend.find((function(t){return t.ssrc===e}));if(!n)return null;t={};var r=(n=n.inputFrame)&&n.width||A&&A._videoWidth||0,i=n&&n.frameRate||0;return Vr(t,H_.HEIGHT,n&&n.height||A&&A._videoHeight||0),Vr(t,H_.WIDTH,r),Vr(t,H_.FRAME_RATE,i),t}(u[0].ssrcId,e,a),u=A?null:(s=e,Vr(c={},W_.RETRANSMIT,s.bitrate.retransmit),Vr(c,W_.TARGET_ENCODED,s.bitrate.targetEncoded),Vr(c,W_.ACTUAL_ENCODED,s.bitrate.actualEncoded),Vr(c,W_.TRANSMIT,s.bitrate.transmit),Vr(c,W_.BANDWIDTH,s.sendBandwidth),c),r=Object.assign({},o,a,u)):i=A?void 0:function(e,t,A){if(t=t.videoSend.find((function(t){return t.ssrc===e}))){var n={},r=t.sentFrame;return r&&(Vr(n,X_.HEIGHT,r.height),Vr(n,X_.WIDTH,r.width),Vr(n,X_.FRAME_RATE,r.frameRate)),A&&(A=A.videoSend.find((function(t){return t.ssrc===e})))&&(r=3e3,A.timestamp&&t.timestamp&&(r=t.timestamp-A.timestamp),null!=A.packets&&null!=t.packets&&Vr(n,X_.PACKAGE_RATE,1e3*(t.packets-A.packets)/r),null!=t.packetsLost&&null!=A.packetsLost&&Vr(n,X_.PACKAGE_LOST,t.packetsLost-A.packetsLost),null!=A.bytes&&null!=t.bytes&&Vr(n,X_.BITRATE,8*(t.bytes-A.bytes)/r)),n}}(u[0].ssrcId,e,t);break;case zp.LocalAudioTrack:n=A?void 0:function(e,t,A,n){if(t=t.audioSend.find((function(t){return t.ssrc===e}))){var r={};r[eb.DISABLED]=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||n._mediaStreamTrack&&!n._mediaStreamTrack.enabled?1:0,n=n._source.getAccurateVolumeLevel();var i=t.inputLevel;return Vr(r,eb.LEVEL,100*(null==i?n:i)),Vr(r,$_.PCM_LEVEL,100*n),Vr(r,eb.AEC_RETURN_LOSS,t.aecReturnLoss),Vr(r,eb.AEC_RETURN_LOSS_ENH,t.aecReturnLossEnhancement),r[eb.FREEZE]=0,(A=A&&A.audioSend.find((function(t){return t.ssrc===e})))&&(n=3e3,A.timestamp&&t.timestamp&&(n=t.timestamp-A.timestamp),null!=A.bytes&&null!=t.bytes&&Vr(r,eb.BITRATE,8*(t.bytes-A.bytes)/n),null!=A.packets&&null!=t.packets&&Vr(r,eb.PACKAGE_RATE,1e3*(t.packets-A.packets)/n)),r}}(u[0].ssrcId,e,t,a)}})),{high:r,low:i,audio:n}}}},{key:"getInboundStats",value:function(e,t,A){var n=this;if(this.requestRemoteMedia){var r=[];return(this.requestRemoteMedia()||[]).forEach((function(i){var o=Lb(i,2);i=o[0];var a=o[1];if(o={peer:i.uid},a.has(jp.VIDEO)&&i.videoTrack){var s=i._videoSSRC&&n.requestVideoIsReady&&n.requestVideoIsReady(i._videoSSRC)||!1;(s=i.videoTrack?function(e,t,A,n,r,i,o){var a=t.videoRecv.find((function(t){return t.ssrc===e}));if(a){var s={},c=a.receivedFrame,u=a.outputFrame,g=a.decodeFrameRate,I=A&&A.videoRecv.find((function(t){return t.ssrc===e}));return s[z_.FREEZE]=r&&bb.isRemoteVideoFreeze(n,a,I)?1:0,Vr(s,Z_.FRAME_RATE_DECODE,g),Vr(s,z_.QP_SUM,a.qpSumPerFrame),a.framesRateFirefox&&Vr(s,z_.FRAME_RATE,a.framesRateFirefox),c&&Vr(s,z_.FRAME_RATE,c.frameRate),I&&(t=t.timestamp-A.timestamp||(o?1e3:3e3),null!=a.packetsLost&&null!=I.packetsLost&&Vr(s,z_.PACKAGE_LOST,a.packetsLost-I.packetsLost),null!=I.bytes&&null!=a.bytes&&Vr(s,z_.BITRATE,8*(a.bytes-I.bytes)/t),null!=I.packets&&null!=a.packets&&Vr(s,z_.PACKAGE_RATE,1e3*(a.packets-I.packets)/t)),o||(c?(Vr(s,z_.HEIGHT,c.height),Vr(s,z_.WIDTH,c.width)):n&&(Vr(s,z_.HEIGHT,n._videoHeight||0),Vr(s,z_.WIDTH,n._videoWidth||0)),u&&Vr(s,Z_.FRAME_RATE_RENDER,u.frameRate),Vr(s,z_.JITTER_BUFFER,a.jitterBufferMs),Vr(s,z_.CURRENT_DELAY,a.currentDelayMs),Vr(s,z_.FIRS,a.firsCount),Vr(s,z_.NACKS,a.nacksCount),Vr(s,z_.PLIS,a.plisCount),n&&(s[z_.DISABLED]=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?0:1,(o=n._player)&&(u=o.freezeTimeCounterList,c=o.renderFreezeAccTime,u&&0<u.length&&Vr(s,Z_.FREEZE_TIME,u.splice(0,1)[0]),i&&"visible"===DQ.visibility&&(i=Math.min(6e3,c),o.renderFreezeAccTime=Math.max(0,c-i),Vr(s,Z_.FREEZE_TIME_RENDER,i)))),s[z_.PLAYER_STATUS]=KB[n._player?n._player.videoElementStatus:"uninit"],I&&void 0!==a.totalInterFrameDelay&&void 0!==a.totalSquaredInterFrameDelay&&void 0!==I.totalInterFrameDelay&&void 0!==I.totalSquaredInterFrameDelay&&(n=(i=a.totalInterFrameDelay-I.totalInterFrameDelay)/(o=a.framesDecodeCount-I.framesDecodeCount)*1e3,a=Math.round(1e3*Math.sqrt((a.totalSquaredInterFrameDelay-I.totalSquaredInterFrameDelay-Math.pow(i,2)/o)/o)),!isNaN(a)&&n+a>Math.max(3*n,n+150)&&(s[z_.I_FRAME_DELAY]=a))),s}}(i._videoSSRC,e,t,i.videoTrack,!0===s,n.needUploadRenderFreezeTime,A):void 0)&&(o.video=s)}a.has(jp.AUDIO)&&i.audioTrack&&(i=i.audioTrack?function(e,t,A,n,r){var i=t.audioRecv.find((function(t){return t.ssrc===e}));if(i){var o={},a=A&&A.audioRecv.find((function(t){return t.ssrc===e})),s=i.receivedFrames,c=i.droppedFrames;return Vr(o,tb.JITTER,i.jitterMs),null!=s&&null!=c&&(o[tb.FREEZE]=0===s||20<100*c/s?1:0),a&&(t=t.timestamp-A.timestamp||(r?1e3:3e3),null!=i.packets&&null!=a.packets&&Vr(o,tb.PACKAGE_RATE,1e3*(i.packets-a.packets)/t),null!=a.bytes&&null!=i.bytes&&Vr(o,tb.BITRATE,8*(i.bytes-a.bytes)/t),null!=i.packetsLost&&null!=a.packetsLost&&Vr(o,tb.PACKAGE_LOST,i.packetsLost-a.packetsLost)),r||(r=n._source.getAccurateVolumeLevel(),t=i.outputLevel,Vr(o,Ab.LEVEL,100*(null==t?r:t)),Vr(o,tb.PCM_LEVEL,100*r),n&&(o[tb.DISABLED]=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?0:1),Vr(o,tb.JITTER_BUFFER,i.jitterBufferMs),Vr(o,tb.CURRENT_DELAY,i.jitterBufferMs),o[tb.PLAYER_STATUS]=KB[iQ.getPlayerState(n.getTrackId())],a&&0<(n=i.concealedSamples-a.concealedSamples)&&Vr(o,tb.CONCEALED_SAMPLES,n)),o}}(i._audioSSRC,e,t,i.audioTrack,A):void 0)&&(o.audio=i),(o.video||o.audio)&&r.push(o)})),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,r}}},{key:"startUploadTransportStats",value:function(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}},{key:"stopUploadTransportStats",value:function(){this.uploadTransportStarted=!1}},{key:"startUploadOutboundStats",value:function(){var e=this;this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval((function(){if(e.requestAllTracks&&e.requestUpload){var t=(e.requestAllTracks()||[]).find((function(e){return e instanceof lQ}));t&&t._external.getDenoiserStats&&(t=t._external.getDenoiserStats())&&e.requestUpload(Ep.DENOISER_STATS,t)}}),2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval((function(){e.requestAllTracks&&e.requestUpload&&e.requestAllTracks().forEach((function(t){t.getProcessorStats().forEach((function(t){e.requestUpload&&e.requestUpload(t.type,t.stats)}))}))}),2e3))}},{key:"stopUploadOutboundStats",value:function(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}},{key:"startUploadInboundStats",value:function(){var e=this;this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval((function(){e.requestUpload&&e.requestRemoteMedia&&(e.requestRemoteMedia()||[]).forEach((function(t){var A=Lb(t,2);t=A[0],(A=A[1]).has(jp.VIDEO)&&t.videoTrack&&t.videoTrack.getProcessorStats().forEach((function(t){e.requestUpload&&e.requestUpload(t.type,t.stats)})),A.has(jp.AUDIO)&&t.audioTrack&&t.audioTrack.getProcessorStats().forEach((function(t){e.requestUpload&&e.requestUpload(t.type,t.stats)}))}))}),2e3))}},{key:"stopUploadInboundStats",value:function(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}},{key:"startUploadExtensionUsageStats",value:function(){var e=this;if(!this.uploadExtensionUsageStarted){this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);var t=new Map;this.uploadExtUsageStatsTimer=window.setInterval(pa(O.mark((function A(){var n,r,i,o,a,s,c,u,g,I,l,E,C;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:n=Date.now(),r={connectionInterval:Th.EXTENSION_USAGE_UPLOAD_INTERVAL/1e3,details:[],lts:n},i=[],o=e.requestAllTracks&&e.requestAllTracks()||[],a=0;case 4:if(!(a<o.length)){A.next=16;break}if(s=o[a],A.t0=!s.muted&&s.enabled,!A.t0){A.next=13;break}return A.t1=i,A.next=11,s.getProcessorUsage();case 11:A.t2=A.sent,i=A.t1.concat.call(A.t1,A.t2);case 13:a++,A.next=4;break;case 16:c=e.requestRemoteMedia&&e.requestRemoteMedia()||[],u=0;case 18:if(!(u<c.length)){A.next=37;break}if(g=Lb(c[u],2),I=g[0],l=g[1],A.t3=l.has(jp.VIDEO)&&I.videoTrack,!A.t3){A.next=27;break}return A.t4=i,A.next=25,I.videoTrack.getProcessorUsage();case 25:A.t5=A.sent,i=A.t4.concat.call(A.t4,A.t5);case 27:if(A.t6=l.has(jp.AUDIO)&&I.audioTrack,!A.t6){A.next=34;break}return A.t7=i,A.next=32,I.audioTrack.getProcessorUsage();case 32:A.t8=A.sent,i=A.t7.concat.call(A.t7,A.t8);case 34:u++,A.next=18;break;case 37:if(0!==i.length){A.next=39;break}return A.abrupt("return");case 39:r.details=function(e,t){for(var A={},n=0;n<e.length;n++){var r=g[n],i=r.id,o=r.value,a=r.level;r=r.direction;var s,c,u,g=null!==(s=t.get(i))&&void 0!==s?s:0;t.set(i,2===o?g+Th.EXTENSION_USAGE_UPLOAD_INTERVAL/1e3:g),A[i]?(2===o&&(A[i].value=o),a>A[i].level&&(A[i].level=a),"remote"===r&&(A[i].remoteUidCount+=1),A[i].totalTs=null!==(c=t.get(i))&&void 0!==c?c:0):A[i]={value:o,level:a,remoteUidCount:"local"===r?0:1,totalTs:null!==(u=t.get(i))&&void 0!==u?u:0}}return Object.keys(A).map((function(e){var t=A[e];return{id:e,level:t.level,value:t.value,totalTs:t.totalTs}}))}(i,t),E=Date.now(),C=E>n?E:n+1,e.requestUpload&&e.requestUpload(Ep.EXTENSION_USAGE_STATS,{usageStats:r,sendTs:C});case 42:case"end":return A.stop()}}),A)}))),Th.EXTENSION_USAGE_UPLOAD_INTERVAL)}}},{key:"stopUploadExtensionUsageStats",value:function(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}]),t}(UC),mb=function(){function e(t,A){zb(this,e),Z(this,"uid",void 0),Z(this,"_uintid",void 0),Z(this,"_trust_in_room_",!0),Z(this,"_trust_audio_enabled_state_",!0),Z(this,"_trust_video_enabled_state_",!0),Z(this,"_trust_audio_mute_state_",!0),Z(this,"_trust_video_mute_state_",!0),Z(this,"_audio_muted_",!1),Z(this,"_video_muted_",!1),Z(this,"_audio_enabled_",!0),Z(this,"_video_enabled_",!0),Z(this,"_audio_added_",!1),Z(this,"_video_added_",!1),Z(this,"_is_pre_created",!1),Z(this,"_video_pre_subscribed",!1),Z(this,"_audio_pre_subscribed",!1),Z(this,"_trust_video_stream_added_state_",!0),Z(this,"_trust_audio_stream_added_state_",!0),Z(this,"_audioTrack",void 0),Z(this,"_videoTrack",void 0),Z(this,"_dataChannels",[]),Z(this,"_audioSSRC",void 0),Z(this,"_videoSSRC",void 0),Z(this,"_audioOrtc",void 0),Z(this,"_videoOrtc",void 0),Z(this,"_cname",void 0),Z(this,"_rtxSsrcId",void 0),Z(this,"_videoMid",void 0),Z(this,"_audioMid",void 0),this.uid=t,this._uintid=A}return Ib(e,[{key:"hasVideo",get:function(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}},{key:"hasAudio",get:function(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}},{key:"audioTrack",get:function(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}},{key:"videoTrack",get:function(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}},{key:"dataChannels",get:function(){return this._dataChannels}}]),e}();!function(e){e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY"}(yb||(yb={}));var _b=function(e){function t(e,A){zb(this,t);var r,i=n.call(this);return Z(V(i),"store",void 0),Z(V(i),"statsUploader",void 0),Z(V(i),"sendConnection",void 0),Z(V(i),"recvConnection",void 0),Z(V(i),"localTrackMap",new Map),Z(V(i),"remoteUserMap",new Map),Z(V(i),"localDataChannels",[]),Z(V(i),"pendingLocalTracks",[]),Z(V(i),"pendingRemoteTracks",[]),Z(V(i),"statsCollector",void 0),Z(V(i),"dtlsFailedCount",0),Z(V(i),"sendMutex",new ed("P2PChannel2-send-mutex")),Z(V(i),"recvMutex",new ed("P2PChannel2-recv-mutex")),Z(V(i),"_state",Zp.Disconnected),Z(V(i),"_restartStates",["disconnected","failed"]),Z(V(i),"reconnectInterval",void 0),Z(V(i),"uploadUnplinkStarted",!1),Z(V(i),"uploadDownlinkStarted",!1),Z(V(i),"uplinkStateUploadInterval",void 0),Z(V(i),"downlinkStatsUploadInterval",void 0),Z(V(i),"handleMuteLocalTrack",(r=pa(O.mark((function e(t,A,n){var r,o,a,s,c,u,g,I;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");case 2:if(r=e.sent,e.prev=3,i.sendConnection&&i.state===Zp.Connected){e.next=6;break}return e.abrupt("return",void n(new mC(pC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.")));case 6:if(0!==(o=i.filterTobeMutedTracks(t)).length){e.next=9;break}return e.abrupt("return",void A());case 9:return(a=o.find((function(e){return"videoLowTrack"===e[0]})))&&a[1].track._originMediaStreamTrack.stop(),e.next=13,i.sendConnection.muteLocal(o.map((function(e){return Lb(e,2)[1].id})));case 13:return s=!1,s="video"===t.trackMediaType?!(null===(c=i.localTrackMap.get(zp.LocalAudioTrack))||void 0===c||!c.track._muted):void 0===(null===(u=i.localTrackMap.get(zp.LocalVideoTrack))||void 0===u?void 0:u.id),g=i.createMuteMessage(o),e.next=18,Ue(V(i),$p.RequestMuteLocal,g);case 18:return I="video"===t.trackMediaType?Ef.MUTE_LOCAL_VIDEO:Ef.MUTE_LOCAL_AUDIO,e.next=21,Ue(V(i),$p.RequestP2PMuteLocal,{action:I,message:g,isMuteAll:s});case 21:A(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),n(e.t0);case 27:return e.prev=27,r(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[3,24,27,30]])}))),function(e,t,A){return r.apply(this,arguments)})),Z(V(i),"handleUnmuteLocalTrack",function(){var e=pa(O.mark((function e(t,A,n){var r,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");case 2:if(r=e.sent,e.prev=3,i.sendConnection&&i.state===Zp.Connected){e.next=6;break}return e.abrupt("return",void n(new mC(pC.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established.")));case 6:if(0!==(o=i.filterTobeUnmutedTracks(t)).length){e.next=9;break}return e.abrupt("return",void A());case 9:return e.next=11,i.sendConnection.unmuteLocal(o.map((function(e){return Lb(e,2)[1].id})));case 11:return a=i.createUnmuteMessage(o),s="video"===t.trackMediaType?Ef.UNMUTE_LOCAL_VIDEO:Ef.UNMUTE_LOCAL_AUDIO,e.next=14,Ue(V(i),$p.RequestP2PMuteLocal,{action:s,message:a});case 14:A(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),n(e.t0);case 20:return e.prev=20,r(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[3,17,20,23]])})));return function(t,A,n){return e.apply(this,arguments)}}()),Z(V(i),"handleUpdateVideoEncoder",function(){var e=pa(O.mark((function e(t,A,n){var r,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");case 2:if(r=e.sent,e.prev=3,o=i.localTrackMap.get(zp.LocalVideoTrack),i.sendConnection&&o&&o.track===t&&i.state===Zp.Connected){e.next=7;break}return e.abrupt("return",void A());case 7:if(a=o.id,s=o.track,e.t0=a,!e.t0){e.next=15;break}return e.next=12,i.sendConnection.updateSendParameters(a,s);case 12:return e.next=14,i.sendConnection.updateEncoderConfig(a,s);case 14:i.emit($p.UpdateVideoEncoder,s);case 15:A(),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(3),n(e.t1);case 21:return e.prev=21,r(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})));return function(t,A,n){return e.apply(this,arguments)}}()),Z(V(i),"handleSetOptimizationMode",function(){var e=pa(O.mark((function e(t,A,n){var r,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.sendMutex.lock("Locking from P2PChannel2.handleSetOptimizationMode");case 2:if(r=e.sent,e.prev=3,o=i.localTrackMap.get(zp.LocalVideoTrack),i.sendConnection&&o&&o.track===t&&i.state===Zp.Connected){e.next=7;break}return e.abrupt("return");case 7:if(a=o.id,s=o.track,e.t0=a,!e.t0){e.next=12;break}return e.next=12,i.sendConnection.updateSendParameters(a,s);case 12:A(),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(3),n(e.t1);case 18:return e.prev=18,r(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(t,A,n){return e.apply(this,arguments)}}()),Z(V(i),"handleReplaceTrack",function(){var e=pa(O.mark((function e(t,A,n,r){var o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.debug("[".concat(i.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(t.getTrackId(),"]")),e.t0="boolean"==typeof r&&r,e.t0){e.next=6;break}return e.next=5,i.sendMutex.lock("From P2PChannel2.handleReplaceTrack");case 5:o=e.sent;case 6:if(e.prev=6,s=Array.from(i.localTrackMap.entries()).find((function(e){return e=Lb(e,2)[1].track,t===e})),i.sendConnection&&s&&void 0!==s[1].id&&i.state===Zp.Connected){e.next=10;break}return e.abrupt("return",void A());case 10:return e.next=12,null===(a=i.sendConnection)||void 0===a?void 0:a.replaceTrack(t,s[1].id);case 12:if(s[0]!==zp.LocalVideoTrack||!lB.supportDualStreamEncoding){e.next=21;break}if(!(c=i.localTrackMap.get(zp.LocalVideoLowTrack))){e.next=21;break}return u=t._mediaStreamTrack.clone(),c.track._originMediaStreamTrack.stop(),c.track._mediaStreamTrack=u,c.track._originMediaStreamTrack=u,e.next=21,new IC((function(e,t){i.handleReplaceTrack(c.track,e,t,!0)}));case 21:A(),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(6),n(e.t1);case 27:return e.prev=27,null===(g=o)||void 0===g||g(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[6,24,27,30]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()),Z(V(i),"handleGetLocalVideoStats",(function(e){e(i.statsCollector.getLocalVideoTrackStats())})),Z(V(i),"handleGetLocalAudioStats",(function(e){e(i.statsCollector.getLocalAudioTrackStats())})),Z(V(i),"handleGetRemoteVideoStats",(function(e){return i.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid]})),Z(V(i),"handleGetRemoteAudioStats",(function(e){return i.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid]})),i.store=e,i.statsCollector=A,i.statsCollector.addP2PChannel(V(i)),i.statsUploader=new vb(e),i.bindStatsUploaderEvents(),i.reconnectInterval=window.setInterval((function(){[i.sendConnection,i.recvConnection].forEach((function(e){e&&("disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||i.handleDisconnect(e.direction))}))}),Th.ICE_RESTART_INTERVAL),i}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;this._state=e,this.emit($p.StateChange,t,this._state)}},{key:"startP2PConnection",value:(A=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return A.apply(this,arguments)})},{key:"connect",value:function(){var e=pa(O.mark((function e(t,A,n,r,i,o){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"p2p mode does not support connect.");case 1:case"end":return e.stop()}}),e)})));return function(t,A,n,r,i,o){return e.apply(this,arguments)}}()},{key:"startP2P",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!A){e.next=12;break}return this.recvConnection&&(qh.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),e.next=5,this.recvMutex.lock("From P2PChannel.startP2P");case 5:return n=e.sent,this.recvConnection=new Qb(t,this.store,hp.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection),e.next=10,this.recvConnection.establish(A);case 10:return r=e.sent,e.abrupt("return",{iceParameters:r.iceParameters,dtlsParameters:r.dtlsParameters,sdp:r.sdp});case 12:return this.state=Zp.New,this.sendConnection&&(qh.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),e.next=16,this.sendMutex.lock("From P2PChannel.startP2P");case 16:return n=e.sent,this.sendConnection=new Qb(t,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection),e.next=22,this.sendConnection.establish();case 22:return i=e.sent,e.abrupt("return",{iceParameters:i.iceParameters,dtlsParameters:i.dtlsParameters,sdp:i.sdp});case 24:return e.prev=24,n&&n(),e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[0,,24,27]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"p2pConnect",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sendConnection){e.next=2;break}throw new mC(pC.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");case 2:return this.store.peerConnectionStart(),e.next=5,this.sendConnection.connect(t);case 5:this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Zp.Connected;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addRemoteCandidate",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A!==hp.RECEIVE_ONLY){e.next=7;break}if(this.sendConnection){e.next=3;break}throw new mC(pC.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");case 3:return e.next=5,this.sendConnection.addRemoteCandidate(t);case 5:e.next=11;break;case 7:if(this.recvConnection){e.next=9;break}throw new mC(pC.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");case 9:return e.next=11,this.recvConnection.addRemoteCandidate(t);case 11:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"publish",value:function(e,t,A){var n=this;return ar(O.mark((function r(){var i,o,a,s,c,u;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ir(n.sendMutex.lock("From P2PChannel.publish"));case 2:if(i=r.sent,r.prev=3,n.sendConnection&&n.state===Zp.Connected){r.next=8;break}return n.throwIfTrackTypeNotMatch(e),o=e.filter((function(e){return-1===n.pendingLocalTracks.indexOf(e)})),r.abrupt("return",void(n.pendingLocalTracks=n.pendingLocalTracks.concat(o)));case 8:if(n.store.pubId+=1,L_.markPublishStart(n.store.clientId,n.store.pubId),0!==(a=n.filterTobePublishedTracks(e,t,A)).length){r.next=14;break}return r.next=13,ir(n.tryToUnmuteAudio(e));case 13:return r.abrupt("return",void 0);case 14:return a.forEach((function(e){var t=e.track;e=e.type;var A=Date.now();n.store.publish(t.getTrackId(),e===zp.LocalAudioTrack?"audio":"video",A)})),n.bindLocalTrackEvents(a),r.next=17,ir(n.sendConnection.send(a.map((function(e){return e.track})),n.store.codec,n.store.audioCodec));case 17:return s=r.sent,r.next=20,ir(s.next());case 20:return c=r.sent.value,u=n.createGatewayPublishMessage(a,c),r.prev=22,r.next=25,u;case 25:r.next=30;break;case 27:throw r.prev=27,r.t0=r.catch(22),s.throw(r.t0),(null==r.t0?void 0:r.t0.code)===pC.WS_ABORT&&a.forEach((function(e){e=e.track,-1===n.pendingLocalTracks.indexOf(e)&&n.pendingLocalTracks.push(e)})),n.unbindLocalTrackEvents(a),r.t0;case 30:return r.next=32,ir(s.next());case 32:a.forEach((function(e){n.statsCollector.addLocalStats(e.type)})),n.statsUploader.startUploadOutboundStats(),n.assignLocalTracks(a,c),a.forEach((function(e){var t=e.track;e=e.type;var A=Date.now();n.store.publish(t.getTrackId(),e===zp.LocalAudioTrack?"audio":"video",void 0,A)})),n.startUploadUplinkState();case 37:return r.prev=37,i(),r.finish(37);case 40:case"end":return r.stop()}}),r,null,[[3,,37,40],[22,27]])})))()}},{key:"unpublish",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sendConnection&&this.state===Zp.Connected){e.next=2;break}return e.abrupt("return",void(0===t.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((function(e){return!Xs(t).call(t,e)}))));case 2:if(0!==(A=this.filterTobeUnpublishedTracks(t)).length){e.next=5;break}return e.abrupt("return");case 5:return(n=A.find((function(e){return"videoLowTrack"===e[0]})))&&n[1].track.close(),r=this.createGatewayUnpublishMessage(A),e.next=10,this.sendConnection.stopSending(A.map((function(e){return Lb(e,2)[1].id})));case 10:if(this.withdrawLocalTracks(A),this.unbindLocalTrackEvents(A.map((function(e){return{type:(e=Lb(e,2))[0],track:e[1].track}}))),A.forEach((function(e){e=Lb(e,1)[0],i.statsCollector.removeLocalStats(e)})),0===this.localTrackMap.size&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),!this.sendConnection||this.state!==Zp.Connected){e.next=17;break}return n&&n[1].track.close(),e.abrupt("return",r);case 17:t.forEach((function(e){-1!==(e=i.pendingLocalTracks.indexOf(e))&&i.pendingLocalTracks.splice(e,1)}));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startUploadUplinkState",value:function(){var e=this;if(!this.uploadUnplinkStarted){this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);var t=function(){var t=[],A=[];Array.from(e.localTrackMap.entries()).forEach((function(e){var n,r=Lb(e,2),i=r[1];switch(e=i.track,i=i.ssrcs,r[0]){case zp.LocalAudioTrack:var o=Op.Audio;break;case zp.LocalVideoTrack:o=Xs(n=e._hints).call(n,CB.SCREEN_TRACK)?Op.Screen:Op.High;break;case zp.LocalVideoLowTrack:o=Op.Low}n={stream_type:o,ssrcs:i},e._muted||!e._enabled?t.push(n):A.push(n)})),0<t.length&&t.forEach((function(t){Ue(e,$p.RequestMuteLocal,[t])})),0<A.length&&A.forEach((function(t){Ue(e,$p.RequestUnmuteLocal,[t])}))};t(),this.uplinkStateUploadInterval=window.setInterval((function(){t()}),3e3)}}},{key:"stopUploadUplinkState",value:function(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}},{key:"publishLowStream",value:function(e){return ar(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"p2p mode does not support publishLowStream.");case 1:case"end":return e.stop()}}),e)})))()}},{key:"republish",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0<this.pendingLocalTracks.length,!e.t0){e.next=7;break}return qh.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),e.next=5,Me(this,$p.RequestRePublish,this.pendingLocalTracks);case 5:this.emit($p.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[];case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unpublishLowStream",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.recvConnection){e.next=2;break}throw new mC(pC.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");case 2:if(null===(i=this.remoteUserMap.get(t))||void 0===i||!i.has(A)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.recvConnection.receive(A,[{ssrcId:n}],String(t.uid),r);case 6:o=e.sent,a=o.track,s=o.mid,c=o.transceiver,A===jp.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(a):(t._audioTrack=new wQ(a,t.uid,t._uintid,this.store),qh.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),c&&t._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoSSRC=n,t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(a):(t._videoTrack=new SQ(a,t.uid,t._uintid,this.store),qh.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),c&&t._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._videoTrack)),(u=this.remoteUserMap.get(t))?u.set(A,s):this.remoteUserMap.set(t,new Map([[A,s]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState(),-1!==(g=this.pendingRemoteTracks.findIndex((function(e){var n=e.kind;return e.user.uid===t.uid&&A===n})))&&(this.pendingRemoteTracks.splice(g,1),this.emit($p.MediaReconnectEnd,t.uid));case 15:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"mockSubscribe",value:function(){var e=pa(O.mark((function e(t,A,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.recvConnection){e.next=2;break}throw new mC(pC.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");case 2:return e.next=4,this.recvConnection.mockReceive(A,[{ssrcId:n}],String(t.uid),r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.pendingRemoteTracks.filter((function(e){var n=e.user;return e=e.kind,void 0!==A?n.uid===t.uid&&A===e:n.uid===t.uid}))).forEach((function(e){e=o.pendingRemoteTracks.indexOf(e),o.pendingRemoteTracks.splice(e,1)})),this.recvConnection||n||r.forEach((function(e){var A;if((e=e.kind)===jp.AUDIO)null===(A=t._audioTrack)||void 0===A||A._destroy(),t._audioTrack=void 0;else if(e===jp.VIDEO){var n;null===(n=t._videoTrack)||void 0===n||n._destroy(),t._videoTrack=void 0}})),this.recvConnection){e.next=3;break}return e.abrupt("return");case 3:if(i=this.filterTobeUnSubscribedTracks(t,A),e.t0=0!==i.length,!e.t0){e.next=12;break}return e.next=8,this.recvConnection.stopReceiving(i.map((function(e){return Lb(e,2)[1].id})));case 8:this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),i.forEach((function(e){var t,A,r=Lb(e,2);if(e=r[0],(r=r[1].kind)===jp.VIDEO&&e._videoSSRC&&(null===(t=o.recvConnection)||void 0===t||t.setStatsRemoteVideoIsReady(e._videoSSRC,!1)),r===jp.VIDEO)o.unbindRemoteTrackEvents(e._videoTrack),n||(null===(A=e._videoTrack)||void 0===A||A._destroy(),e._videoTrack=void 0);else if(r===jp.AUDIO){var i;o.unbindRemoteTrackEvents(e._audioTrack),n||(null===(i=e._audioTrack)||void 0===i||i._destroy(),e._audioTrack=void 0)}})),i.forEach((function(e){e=Lb(e,2)[1].kind,Ue(o,$p.RequestP2PMuteRemote,e)}));case 12:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"startUploadDownlinkState",value:function(){var e=this;if(!this.uploadDownlinkStarted){this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);var t=function(){return Array.from(e.remoteUserMap.entries()).forEach((function(t){var A=Lb(t,2)[1];[jp.VIDEO,jp.AUDIO].forEach((function(t){A.has(t)?Ue(e,$p.RequestP2PUnmuteRemote,t):Ue(e,$p.RequestP2PMuteRemote,t)}))}))};t(),this.downlinkStatsUploadInterval=window.setInterval((function(){t()}),3e3)}}},{key:"stopUploadDownlinkState",value:function(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}},{key:"getAllDataChannels",value:function(){return this.localDataChannels}},{key:"massSubscribe",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"p2p mode does not support massSubscribe.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"massSubscribeNoLock",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"massUnsubscribe",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"massUnsubscribeNoLock",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"muteRemote",value:function(){var e=pa(O.mark((function e(t,A){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.recvConnection){e.next=2;break}return e.abrupt("return");case 2:if(n=this.remoteUserMap.get(t)){e.next=5;break}return e.abrupt("return",void qh.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(t.uid,".")));case 5:if(n.get(A)){e.next=7;break}return e.abrupt("return",void qh.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(t.uid," media type ").concat(A,".")));case 7:void 0!==(r=A===jp.VIDEO?t._videoSSRC:t._audioSSRC)&&this.recvConnection.setStatsRemoteVideoIsReady(r,!1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unmuteRemote",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.unmuteRemoteNoLock(t,A));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unmuteRemoteNoLock",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.recvConnection){e.next=2;break}return e.abrupt("return");case 2:if(n=this.remoteUserMap.get(t)){e.next=5;break}return e.abrupt("return",void qh.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(t.uid,".")));case 5:n.get(A)||qh.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(t.uid," media type ").concat(A,"."));case 6:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getAllTracks",value:function(e){var t=this.localTrackMap.get(zp.LocalAudioTrack);return(null==t?void 0:t.track)instanceof CQ?(t=t.track,Array.from(this.localTrackMap.entries()).filter((function(e){return Lb(e,1)[0]!==zp.LocalAudioTrack})).filter((function(t){return t=Lb(t,1)[0],!(e&&t===zp.LocalVideoLowTrack)})).map((function(e){return Lb(e,2)[1].track})).concat(t.trackList)):Array.from(this.localTrackMap.entries()).filter((function(t){return t=Lb(t,1)[0],!(e&&t===zp.LocalVideoLowTrack)})).map((function(e){return Lb(e,2)[1].track}))}},{key:"reportPublishEvent",value:function(e,t,A,n,r){if(e){var i=this.localTrackMap.get(zp.LocalAudioTrack);n=n?this.localTrackMap.get(zp.LocalVideoLowTrack):this.localTrackMap.get(zp.LocalVideoTrack),$h.publish(this.store.sessionId,{eventElapse:L_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==n?void 0:n.track.getTrackLabel(),screenshare:-1!==(null==n?void 0:n.track._hints.indexOf(CB.SCREEN_TRACK)),audio:!!i,video:!!n,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{A||(A=[]);var o=A.find((function(e){return e instanceof IQ}));n=n?null===(i=this.localTrackMap.get(zp.LocalVideoTrack))||void 0===i?void 0:i.track:A.find((function(e){return e instanceof _Q})),$h.publish(this.store.sessionId,{eventElapse:L_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==o?void 0:o.getTrackLabel(),videoName:null==n?void 0:n.getTrackLabel(),screenshare:-1!==(null==n?void 0:n._hints.indexOf(CB.SCREEN_TRACK)),audio:!!o,video:!!n,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}},{key:"reportSubscribeEvent",value:function(e,t,A,n){var r=n===jp.VIDEO?A._videoSSRC:A._audioSSRC;r&&$h.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===jp.VIDEO,audio:n===jp.AUDIO,peerid:A.uid,subscribeRequestid:n===jp.VIDEO?A._videoSSRC:A._audioSSRC,p2pid:this.store.p2pId,eventElapse:L_.measureFromSubscribeStart(this.store.clientId,r)})}},{key:"reset",value:function(){qh.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new ed("P2PChannel2-send-mutex"),this.sendMutex=new ed("P2PChannel2-recv-mutex"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();var e=this.localTrackMap.get(zp.LocalAudioTrack);if((null==e?void 0:e.track)instanceof CQ){if(0<e.track.trackList.length){var t=e.track;e.track.trackList.forEach((function(e){t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=Zp.Disconnected}},{key:"getStats",value:function(e){var t,A;return e?null===(A=this.recvConnection)||void 0===A?void 0:A.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}},{key:"getLocalAudioVolume",value:function(){var e=this.localTrackMap.get(zp.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}},{key:"getLocalVideoSize",value:function(){var e=this.localTrackMap.get(zp.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}},{key:"getEncoderConfig",value:function(e){return(e=this.localTrackMap.get(e))&&e.track instanceof _Q||e&&e.track instanceof IQ?e.track._encoderConfig:void 0}},{key:"getLocalMedia",value:function(e){return this.localTrackMap.get(e)}},{key:"hasLocalMedia",value:function(){return 0<this.localTrackMap.size}},{key:"hasRemoteMedia",value:function(e,t){return e?!!(e=this.remoteUserMap.get(e))&&(!t||e.has(t)):0<this.remoteUserMap.size}},{key:"hasRemoteMediaWithLock",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0<this.remoteUserMap.size);case 2:return n=this.remoteUserMap.get(t),e.abrupt("return",!!n&&(!A||n.has(A)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getRemoteMedia",value:function(e){var t,A=Array.from(NI(t=this.remoteUserMap).call(t)).find((function(t){return t.uid===e}));return A?{audioTrack:A.audioTrack,audioSSRC:A._audioSSRC,videoTrack:A.videoTrack,videoSSRC:A._videoSSRC}:{}}},{key:"getAudioLevels",value:function(){var e=Array.from(this.remoteUserMap.entries()).map((function(e){return{uid:(e=Lb(e,1)[0]).uid,level:e.audioTrack?100*e.audioTrack._source.getAccurateVolumeLevel():0}})),t=this.localTrackMap.get(zp.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=ZI(e).call(e,(function(e,t){return e.level-t.level}))}},{key:"disconnectForReconnect",value:function(){var e=pa(O.mark((function e(){var t=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.sendConnection&&this.recvConnection&&(qh.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=Zp.Reconnecting,Th.KEEP_LAST_FRAME&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((function(e){var t;(e=Lb(e,1)[0])._videoTrack&&e._videoTrack._player&&(null===(t=e._videoTrack._player.getVideoElement())||void 0===t||t.pause(),e._videoTrack._player.isKeepLastFrame=!0,e._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((function(e){var A,n=(e=Lb(e,2))[1].track;switch(e[0]){case zp.LocalVideoTrack:Xs(A=n._hints).call(A,CB.LOW_STREAM)?n.close():t.pendingLocalTracks.push(n);break;case zp.LocalAudioTrack:n instanceof CQ?t.pendingLocalTracks=t.pendingLocalTracks.concat(n.trackList):t.pendingLocalTracks.push(n)}})),this.emit($p.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((function(e){var A=(e=Lb(e,2))[0];e=e[1],Array.from(NI(e).call(e)).forEach((function(e){t.setPendingRemoteMedia(A,e)})),t.emit($p.MediaReconnectStart,A.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),qh.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasPendingRemoteMedia",value:function(e,t){for(var A=0,n=this.pendingRemoteTracks;A<n.length;A++){var r=n[A],i=r.kind;if((e instanceof mb?e.uid:e)===r.user.uid&&t===i)return!0}return!1}},{key:"setPendingRemoteMedia",value:function(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}},{key:"restartICE",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==hp.SEND_ONLY){e.next=9;break}if(this.sendConnection){e.next=3;break}throw new mC(pC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");case 3:return e.next=5,this.sendMutex.lock("From P2PChannel.restartICE");case 5:n=e.sent,r=this.sendConnection,e.next=15;break;case 9:if(this.recvConnection){e.next=11;break}throw new mC(pC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");case 11:return e.next=13,this.recvMutex.lock("From P2PChannel.restartICE");case 13:n=e.sent,r=this.recvConnection;case 15:if(e.prev=15,!A){e.next=21;break}return e.next=19,r.restartICE(A);case 19:return i=e.sent,e.abrupt("return",(r.isInRestartIce=!1,i));case 21:return e.next=23,r.restartICE();case 23:if(!(o=e.sent)){e.next=31;break}return e.next=27,Me(this,$p.RequestP2PRestartICE,{direction:hp.RECEIVE_ONLY,iceParameter:o});case 27:return a=e.sent,e.next=30,r.restartICE(a);case 30:r.isInRestartIce=!1;case 31:return e.prev=31,n(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[15,,31,34]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getUplinkNetworkQuality",value:function(){if(!this.sendConnection)return 0;var e=this.sendConnection.getStats(),t=this.localTrackMap.get(zp.LocalVideoTrack),A=this.localTrackMap.get(zp.LocalAudioTrack),n=e.videoSend.find((function(e){var A;return e.ssrc===(null==t||null===(A=t.ssrcs)||void 0===A?void 0:A[0].ssrcId)})),r=e.audioSend.find((function(e){var t;return e.ssrc===(null==A||null===(t=A.ssrcs)||void 0===t?void 0:t[0].ssrcId)}));if(!n||!r)return 1;var i=xe(this,$p.NeedSignalRTT);return n=n?n.rttMs:void 0,r=r?r.rttMs:void 0,r=n&&r?(n+r)/2:n||r,i=.17>(i=70*e.sendPacketLossRate/50+.3*((r&&i?(r+i)/2:r||i)||0)/1500)?1:.36>i?2:.59>i?3:.1>i?4:5,(r=null==t?void 0:t.track)&&r._encoderConfig&&-1===r._hints.indexOf(CB.SCREEN_TRACK)&&(r=r._encoderConfig.bitrateMax,e=e.bitrate.actualEncoded,r&&e)?Ap[.15>(e=(1e3*r-e)/(1e3*r))?0:.3>e?1:.45>e?2:.6>e?3:4][i]:i}},{key:"getDownlinkNetworkQuality",value:function(){var e=this;if(!this.recvConnection)return 0;var t=this.recvConnection.getStats(),A=0;return Array.from(this.remoteUserMap.entries()).forEach((function(n){var r=(n=Lb(n,1)[0])._audioSSRC,i=n._videoSSRC;n=t.audioRecv.find((function(e){return e.ssrc===r}));var o=t.videoRecv.find((function(e){return e.ssrc===i}));if(n||o){o=xe(e,$p.NeedSignalRTT);var a=t.rtt;o=(a&&o?(a+o)/2:a||o)||0,n=n?n.jitterMs:void 0;var s=70*(a=t.recvPacketLossRate)/50+.3*o/1500;n&&(s=60*a/50+.2*o/1500+.2*n/400),A+=.1>s?1:.17>s?2:.36>s?3:.59>s?4:5}else A+=1})),0<this.remoteUserMap.size?Math.round(A/this.remoteUserMap.size):A}},{key:"muteLocalTrack",value:function(){var e=pa(O.mark((function e(t){var A=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new IC((function(e,n){A.handleMuteLocalTrack(t,e,n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterTobePublishedTracks",value:function(e,t,A){var n=[],r=lB,i=this.getAllTracks();e=Ve(e=e.filter((function(e){return-1===i.indexOf(e)})));for(var o=!1,a=!1,s=0;s<e.length;s++){var c=e[s];if(c instanceof _Q&&(this.localTrackMap.has(zp.LocalVideoTrack)||o?new mC(pC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:c,type:zp.LocalVideoTrack}),o=!0),t)){var u=this.getLowVideoTrack(c,A);n.push({track:u,type:zp.LocalVideoLowTrack})}if(c instanceof IQ)if(u=this.localTrackMap.get(zp.LocalAudioTrack)){if(!(u.track instanceof CQ))throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");u.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0)}else if(a){if(!((u=n.find((function(e){return e.type===zp.LocalAudioTrack}))).track instanceof CQ))throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");u.track.addAudioTrack(c)}else!r.webAudioMediaStreamDest||c instanceof CQ||c._bypassWebAudio?n.push({track:c,type:zp.LocalAudioTrack}):((a=new CQ).addAudioTrack(c),n.push({track:a,type:zp.LocalAudioTrack})),a=!0}return n}},{key:"filterTobeUnpublishedTracks",value:function(e){var t=[],A=this.getAllTracks();e=Ve(e=e.filter((function(e){return-1!==A.indexOf(e)})));for(var n=0;n<e.length;n++){var r=e[n];if(r instanceof IQ){var i=this.localTrackMap.get(zp.LocalAudioTrack);if(!i)continue;i.track instanceof CQ?(i.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),0===i.track.trackList.length&&(t.push([zp.LocalAudioTrack,i]),i.track.close())):t.push([zp.LocalAudioTrack,i])}r instanceof _Q&&(r=this.localTrackMap.get(zp.LocalVideoTrack))&&(t.push([zp.LocalVideoTrack,r]),(r=this.localTrackMap.get(zp.LocalVideoLowTrack))&&t.push([zp.LocalVideoLowTrack,r]))}return t}},{key:"bindLocalTrackEvents",value:function(e){var t=this;e.forEach((function(e){var A=e.track;switch(e.type){case zp.LocalVideoTrack:A.addListener(EB.GET_STATS,t.handleGetLocalVideoStats),A.addListener(EB.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),A.addListener(EB.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),A.addListener(EB.NEED_UPDATE_VIDEO_ENCODER,t.handleUpdateVideoEncoder),A.addListener(EB.SET_OPTIMIZATION_MODE,t.handleSetOptimizationMode),A.addListener(EB.NEED_REPLACE_TRACK,t.handleReplaceTrack),A.addListener(EB.NEED_MUTE_TRACK,t.handleMuteLocalTrack),A.addListener(EB.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack);break;case zp.LocalAudioTrack:t.bindLocalAudioTrackEvents(A)}}))}},{key:"bindLocalAudioTrackEvents",value:function(e,t){var A=this;e instanceof CQ?e.trackList.forEach((function(e){e.addListener(EB.NEED_DISABLE_TRACK,A.handleMuteLocalTrack),e.addListener(EB.NEED_ENABLE_TRACK,A.handleUnmuteLocalTrack),e.addListener(EB.GET_STATS,A.handleGetLocalAudioStats),e.addListener(EB.NEED_MUTE_TRACK,A.handleMuteLocalTrack),e.addListener(EB.NEED_UNMUTE_TRACK,A.handleUnmuteLocalTrack)})):(e.addListener(EB.GET_STATS,this.handleGetLocalAudioStats),e.addListener(EB.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(EB.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(EB.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(EB.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(EB.NEED_REPLACE_TRACK,this.handleReplaceTrack))}},{key:"unbindLocalTrackEvents",value:function(e){var t=this;e||(e=Array.from(this.localTrackMap.entries()).map((function(e){return{track:(e=Lb(e,2))[1].track,type:e[0]}}))),e.forEach((function(e){var A=e.track;switch(e.type){case zp.LocalVideoTrack:A.off(EB.GET_STATS,t.handleGetLocalVideoStats),A.off(EB.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),A.off(EB.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),A.off(EB.NEED_UPDATE_VIDEO_ENCODER,t.handleUpdateVideoEncoder),A.off(EB.SET_OPTIMIZATION_MODE,t.handleSetOptimizationMode),A.off(EB.NEED_REPLACE_TRACK,t.handleReplaceTrack),A.off(EB.NEED_MUTE_TRACK,t.handleMuteLocalTrack),A.off(EB.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack);break;case zp.LocalAudioTrack:t.unbindLocalAudioTrackEvents(A)}}))}},{key:"unbindLocalAudioTrackEvents",value:function(e){var t=this;e instanceof CQ?e.trackList.forEach((function(e){e.off(EB.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),e.off(EB.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),e.off(EB.GET_STATS,t.handleGetLocalAudioStats),e.off(EB.NEED_MUTE_TRACK,t.handleMuteLocalTrack),e.off(EB.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack)})):(e.off(EB.GET_STATS,this.handleGetLocalAudioStats),e.off(EB.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(EB.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(EB.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(EB.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(EB.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}},{key:"bindRemoteTrackEvents",value:function(e,t){var A=this;t instanceof SQ&&t.addListener(EB.GET_STATS,(function(t){t(A.handleGetRemoteVideoStats(e))})),t instanceof wQ&&t.addListener(EB.GET_STATS,(function(t){t(A.handleGetRemoteAudioStats(e))}))}},{key:"unbindRemoteTrackEvents",value:function(e){e&&e.removeAllListeners(EB.GET_STATS)}},{key:"unbindAllRemoteTrackEvents",value:function(){var e=this;Array.from(this.remoteUserMap.entries()).forEach((function(t){var A=Lb(t,2);t=A[0],(A=A[1]).has(jp.AUDIO)&&e.unbindRemoteTrackEvents(t._audioTrack),A.has(jp.VIDEO)&&e.unbindRemoteTrackEvents(t._videoTrack)}))}},{key:"createGatewayPublishMessage",value:function(e,t){return e.map((function(e,A){var n,r=e.track;switch(e=e.type){case zp.LocalAudioTrack:var i=Op.Audio;break;case zp.LocalVideoTrack:i=Xs(n=r._hints).call(n,CB.SCREEN_TRACK)?Op.Screen:Op.High;break;case zp.LocalVideoLowTrack:i=Op.Low}return{kind:e===zp.LocalAudioTrack?jp.AUDIO:jp.VIDEO,stream_type:i,mid:t[A].id,ssrcs:t[A].localSSRC,isMuted:r.muted||!r.enabled}}))}},{key:"createGatewayUnpublishMessage",value:function(e){return e.map((function(e){var t,A=(e=Lb(e,2))[1],n=A.track,r=A.ssrcs;switch(A=A.id,e[0]){case zp.LocalVideoTrack:var i=Xs(t=n._hints).call(t,CB.SCREEN_TRACK)?Op.Screen:Op.High;break;case zp.LocalAudioTrack:i=Op.Audio;break;case zp.LocalVideoLowTrack:i=Op.Low}return{stream_type:i,ssrcs:r,mid:A}}))}},{key:"assignLocalTracks",value:function(e,t){var A=this;e.forEach((function(e,n){A.localTrackMap.set(e.type,{track:e.track,id:t[n].id,ssrcs:t[n].localSSRC})}))}},{key:"withdrawLocalTracks",value:function(e){var t=this;e.forEach((function(e){e=Lb(e,1)[0],t.localTrackMap.delete(e)}))}},{key:"bindConnectionEvents",value:function(e){var t,A=this;e.onConnectionStateChange=(t=pa(O.mark((function t(n){var r;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: ").concat(e.name,".onConnectionStateChange(").concat(n,")")),A.emit($p.PeerConnectionStateChange,n),"connected"!==n||A.store.keyMetrics.peerConnectionEnd||A.store.peerConnectionEnd(),"connected"===n&&(e.isInRestartIce=!1),t.t0=Xs(r=A._restartStates).call(r,n)&&!e.isInRestartIce,!t.t0){t.next=11;break}if(t.t1="disconnected"===n,!t.t1){t.next=10;break}return t.next=10,tt(800);case 10:"disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||A.handleDisconnect(e.direction);case 11:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)}),e.onICEConnectionStateChange=function(e){"connected"!==e||A.store.keyMetrics.iceConnectionEnd||A.store.iceConnectionEnd(),qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),$h.reportApiInvoke(A.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:bC.TRACER}).onSuccess(),A.emit($p.IceConnectionStateChange,e)},e.onICETransportStateChange=function(e){qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=function(e){qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=function(e){qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=function(e){var t,n,r=Array.from(NI(t=A.remoteUserMap).call(t)).find((function(t){return t._audioSSRC===e}));r&&(A.store.subscribe(r.uid,"audio",void 0,void 0,void 0,Date.now()),null===(n=r.audioTrack)||void 0===n||n.emit(QB.FIRST_FRAME_DECODED),$h.firstRemoteFrame(A.store.sessionId,Hh.FIRST_AUDIO_DECODE,jh.FIRST_AUDIO_DECODE,{peer:r._uintid,subscribeElapse:L_.measureFromSubscribeStart(A.store.clientId,e),subscribeRequestid:e,p2pid:A.store.p2pId}))},e.onFirstAudioReceived=function(e){var t,n=Array.from(NI(t=A.remoteUserMap).call(t)).find((function(t){return t._audioSSRC===e}));n&&$h.firstRemoteFrame(A.store.sessionId,Hh.FIRST_AUDIO_RECEIVED,jh.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:L_.measureFromSubscribeStart(A.store.clientId,e),subscribeRequestid:e,p2pid:A.store.p2pId})},e.onFirstVideoDecoded=function(e,t,n){A.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=function(e){var t,n=Array.from(NI(t=A.remoteUserMap).call(t)).find((function(t){return t._videoSSRC===e}));n&&$h.firstRemoteFrame(A.store.sessionId,Hh.FIRST_VIDEO_RECEIVED,jh.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:L_.measureFromSubscribeStart(A.store.clientId,e),subscribeRequestid:e,p2pid:A.store.p2pId})},e.onSelectedLocalCandidateChanged=function(e,t){var n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||A.emit($p.ConnectionTypeChange,n),qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(hA(t))," -> ").concat(JSON.stringify(hA(e)),")"))},e.onSelectedRemoteCandidateChanged=function(e,t){qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(hA(t))," -> ").concat(JSON.stringify(hA(e)),")"))},e.onFirstVideoDecodedTimeout=function(e){A.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=function(t){A.emit($p.LocalCandidate,{candidate:t,direction:e.direction})}}},{key:"unbindConnectionEvents",value:function(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}},{key:"handleDisconnect",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(A=t===hp.SEND_ONLY?this.sendConnection:this.recvConnection)&&!A.isInRestartIce&&(A.isInRestartIce=!0,qh.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(A.name,"] start use restartICE")),t===hp.SEND_ONLY?this.restartICE(t):Me(this,$p.RequestP2PRestartICE,{direction:hp.SEND_ONLY}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterTobeMutedTracks",value:function(e){var t=[];if(-1===this.getAllTracks().indexOf(e))return t;var A=this.localTrackMap.get(zp.LocalAudioTrack);return e instanceof IQ&&(null==A?void 0:A.track)instanceof CQ?(A.track.isActive||t.push([zp.LocalAudioTrack,A]),t):((A=Array.from(this.localTrackMap.entries()).find((function(t){return t=Lb(t,2)[1].track,e===t})))&&(t.push(A),A[0]===zp.LocalVideoTrack)&&(A=this.localTrackMap.get(zp.LocalVideoLowTrack))&&t.push([zp.LocalVideoLowTrack,A]),t)}},{key:"filterTobeUnmutedTracks",value:function(e){var t=[],A=this.localTrackMap.get(zp.LocalAudioTrack);return e instanceof IQ&&(null==A?void 0:A.track)instanceof CQ?(A.track.isActive&&t.push([zp.LocalAudioTrack,A]),t):((A=Array.from(this.localTrackMap.entries()).find((function(t){return t=Lb(t,2)[1].track,e===t})))&&(A[0]===zp.LocalVideoTrack?(t.push(A),(A=this.localTrackMap.get(zp.LocalVideoLowTrack))&&t.push([zp.LocalVideoLowTrack,A])):t.push(A)),t)}},{key:"createMuteMessage",value:function(e){return e.map((function(e){var t,A=(e=Lb(e,2))[1],n=A.track,r=A.ssrcs;switch(A=A.id,e[0]){case zp.LocalAudioTrack:var i=Op.Audio;break;case zp.LocalVideoTrack:i=Xs(t=n._hints).call(t,CB.SCREEN_TRACK)?Op.Screen:Op.High;break;case zp.LocalVideoLowTrack:i=Op.Low}return{stream_type:i,ssrcs:r,mid:A}}))}},{key:"createUnmuteMessage",value:function(e){return e.map((function(e){var t,A=(e=Lb(e,2))[1],n=A.track,r=A.ssrcs;switch(A=A.id,e[0]){case zp.LocalAudioTrack:var i=Op.Audio;break;case zp.LocalVideoTrack:i=Xs(t=n._hints).call(t,CB.SCREEN_TRACK)?Op.Screen:Op.High;break;case zp.LocalVideoLowTrack:i=Op.Low}return{stream_type:i,ssrcs:r,mid:A}}))}},{key:"filterTobeUnSubscribedTracks",value:function(e,t){var A=[],n=this.remoteUserMap.get(e);if(!n)return A;if(t){if(!(n=n.get(t)))return A;A.push([e,{kind:t,id:n}])}else Array.from(n.entries()).forEach((function(t){t=Lb(t,2),A.push([e,{kind:t[0],id:t[1]}])}));return A}},{key:"createUnsubscribeMessage",value:function(e){var t=[];return e.forEach((function(e){var A=Lb(e,2);e=A[0];var n=(A=A[1]).kind;switch(A.id,n){case jp.VIDEO:return void(e._videoSSRC&&t.push({stream_type:jp.VIDEO,ssrcId:e._videoSSRC}));case jp.AUDIO:return void(e._audioSSRC&&t.push({stream_type:jp.AUDIO,ssrcId:e._audioSSRC}))}})),t}},{key:"withdrawRemoteTracks",value:function(e){var t=this;e.forEach((function(e){var A=Lb(e,2);e=A[0],A=A[1].kind;var n=t.remoteUserMap.get(e);n&&(n.delete(A),0===Array.from(n.entries()).length&&t.remoteUserMap.delete(e))}))}},{key:"updateBitrateLimit",value:function(){var e=pa(O.mark((function e(t){var A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=this.localTrackMap.get(zp.LocalVideoTrack),n=this.localTrackMap.get(zp.LocalVideoLowTrack),e.t0=A,!e.t0){e.next=5;break}return e.next=5,A.track.setBitrateLimit(t.uplink);case 5:if(e.t1=n&&t.low_stream_uplink,!e.t1){e.next=9;break}return e.next=9,n.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isP2PDisconnected",value:function(){if(this.sendConnection&&this.recvConnection){var e=this.recvConnection.peerConnectionState;return"connected"!==this.sendConnection.peerConnectionState&&"connected"!==e}return!0}},{key:"tryToUnmuteAudio",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=0;case 1:if(!(A<t.length)){e.next=13;break}if(!(t[A]instanceof IQ)){e.next=10;break}if(0!==(n=this.filterTobeUnmutedTracks(t[A])).length){e.next=6;break}return e.abrupt("continue",10);case 6:return r=this.createUnmuteMessage(n),e.next=9,Ue(this,$p.RequestUnmuteLocal,r);case 9:return e.abrupt("return",void 0);case 10:A++,e.next=1;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"bindStatsUploaderEvents",value:function(){var e=this;this.statsUploader.requestStats=function(t){return e.getStats(t)},this.statsUploader.requestLocalMedia=function(){return Array.from(e.localTrackMap.entries()).filter((function(e){return!!Lb(e,2)[1].ssrcs}))},this.statsUploader.requestRemoteMedia=function(){return Array.from(e.remoteUserMap.entries())},this.statsUploader.requestVideoIsReady=function(t){var A;return!(null===(A=e.recvConnection)||void 0===A||!A.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=function(t,A){return e.emit($p.RequestUpload,t,A)},this.statsUploader.requestUploadStats=function(t){return e.emit($p.RequestUploadStats,t)},this.statsUploader.requestAllTracks=function(){return e.getAllTracks()}}},{key:"unbindStatsUploaderEvents",value:function(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}},{key:"requestReconnect",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dtlsFailedCount+=1,e.next=3,tt(at(this.dtlsFailedCount,td));case 3:this.emit($p.RequestReconnect);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reconnectP2P",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"canPublishLowStream",value:function(){return this.localTrackMap.has(zp.LocalVideoTrack)||this.pendingLocalTracks.some((function(e){return e instanceof _Q}))}},{key:"throwIfTrackTypeNotMatch",value:function(e){if(1<e.filter((function(e){return e instanceof _Q})).length)throw new mC(pC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(1<e.filter((function(e){return e instanceof IQ})).length&&(e.some((function(e){return e instanceof IQ&&e._bypassWebAudio}))||!lB.webAudioMediaStreamDest))throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(var t=0;t<e.length;t++){var A=e[t];if(A instanceof _Q&&this.pendingLocalTracks.some((function(e){return e instanceof _Q})))throw new mC(pC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(A instanceof IQ&&this.pendingLocalTracks.some((function(e){return e instanceof IQ}))&&(!lB.webAudioMediaStreamDest||A._bypassWebAudio||this.pendingLocalTracks.some((function(e){return e instanceof IQ&&e._bypassWebAudio}))))throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}},{key:"getLowVideoTrack",value:function(e,t){var A=!Th.DISABLE_DUAL_STREAM_USE_ENCODING&&lB.supportDualStreamEncoding;t=jr(jr({},{width:160,height:120,framerate:15,bitrate:50}),t);var n=A?e._mediaStreamTrack.clone():Kr(e,t),r=At(8,"track-low-"),i=new _Q(n,jr(jr({},A&&{scaleResolutionDownBy:dA(t,e)}),{},{frameRate:t.framerate,bitrateMax:t.bitrate,bitrateMin:t.bitrate}),void 0,void 0,r);return i.on(fB.TRANSCEIVER_UPDATED,(function(t){e._updateRtpTransceiver(t,dB.LOW_STREAM)})),i._hints.push(CB.LOW_STREAM),e.addListener(EB.NEED_CLOSE,(function(){i.close()})),i}},{key:"globalLock",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.recvMutex.lock("From P2PChannel2.globalLock"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reportVideoFirstFrameDecoded",value:function(e,t,A,n){var r,i=Array.from(NI(r=this.remoteUserMap).call(r)).find((function(t){return t._videoSSRC===e}));if(i){n||this.store.subscribe(i.uid,"video",void 0,void 0,void 0,void 0,Date.now());var o=(r=this.store.keyMetrics).subscribe.find((function(e){return e.userId===i.uid&&"video"===e.type}));$h.firstRemoteVideoDecode(this.store.sessionId,Hh.FIRST_VIDEO_DECODE,jh.FIRST_VIDEO_DECODE,{peer:i._uintid,videowidth:t,videoheight:A,subscribeElapse:L_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==o?void 0:o.subscribeEnd)||0,subscriberStart:(null==o?void 0:o.subscribeStart)||0,videoAddNotify:(null==o?void 0:o.streamAdded)||0,state:n?1:0})}}},{key:"remoteMediaSsrcChanged",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.recvConnection){e.next=2;break}return e.abrupt("return",!1);case 2:if(r=this.remoteUserMap.get(t)){e.next=5;break}return e.abrupt("return",!1);case 5:if(i=r.get(A)){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,this.recvConnection.getRemoteSSRC(i);case 10:return o=e.sent,e.abrupt("return",void 0!==o&&o!==n);case 12:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"resetConnection",value:function(e){qh.debug("[".concat(this.store.clientId,"] [P2PChannel2] reset connection to ").concat(e)),this.state===Zp.Connected?(qh.debug("[".concat(this.store.clientId,"] [P2PChannel2] fallback to websocket but P2PChannel2 state still connected, disconnect first")),this.disconnectForReconnect()):(this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0))}},{key:"publishDataChannel",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"unpublishDataChannel",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeDataChannel",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED);case 1:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unsubscribeDataChannel",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED);case 1:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"hasPendingRemoteDataChannel",value:function(e,t){throw new mC(pC.NOT_SUPPORTED)}},{key:"setPendingRemoteDataChannel",value:function(e,t){throw new mC(pC.NOT_SUPPORTED)}},{key:"preConnect",value:function(){var e=pa(O.mark((function e(t,A,n,r,i,o){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED);case 1:case"end":return e.stop()}}),e)})));return function(t,A,n,r,i,o){return e.apply(this,arguments)}}()},{key:"getEstablishParams",value:function(){throw new mC(pC.NOT_SUPPORTED)}},{key:"reSubscribe",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateVideoStreamParameter",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED);case 1:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unbindRtpTransceiver",value:function(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((function(e){var t=(e=Lb(e,2))[1].track;e[0]===zp.LocalVideoLowTrack?t._updateRtpTransceiver(void 0,dB.LOW_STREAM):t._updateRtpTransceiver(void 0)}))}}]),t}(UC);Ht([Wr(yb.SEND_ONLY),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],_b.prototype,"p2pConnect",null),Ht([Wr(yb.SEND_ONLY),jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],_b.prototype,"unpublish",null),Ht([Wr(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],_b.prototype,"unpublishLowStream",null),Ht([Wr(yb.RECEIVE_ONLY),jt("design:type",Function),jt("design:paramtypes",[mb,String,Number,String]),jt("design:returntype",IC)],_b.prototype,"subscribe",null),Ht([Wr(yb.RECEIVE_ONLY),jt("design:type",Function),jt("design:paramtypes",[mb,String,Number,String]),jt("design:returntype",IC)],_b.prototype,"mockSubscribe",null),Ht([Wr(yb.RECEIVE_ONLY),jt("design:type",Function),jt("design:paramtypes",[mb,String,Boolean]),jt("design:returntype",IC)],_b.prototype,"unsubscribe",null),Ht([Wr(yb.RECEIVE_ONLY),jt("design:type",Function),jt("design:paramtypes",[mb,String]),jt("design:returntype",IC)],_b.prototype,"muteRemote",null),Ht([Wr(yb.RECEIVE_ONLY),jt("design:type",Function),jt("design:paramtypes",[mb,String]),jt("design:returntype",IC)],_b.prototype,"unmuteRemote",null),Ht([Wr(yb.RECEIVE_ONLY),jt("design:type",Function),jt("design:paramtypes",[mb,String]),jt("design:returntype",IC)],_b.prototype,"hasRemoteMediaWithLock",null),Ht([Wr(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],_b.prototype,"disconnectForReconnect",null),Ht([Wr(yb.RECEIVE_ONLY),jt("design:type",Function),jt("design:paramtypes",[mb,String,Number]),jt("design:returntype",IC)],_b.prototype,"remoteMediaSsrcChanged",null);var bb=function(){function e(t){var A=this;zb(this,e),Z(this,"store",void 0),Z(this,"onStatsException",void 0),Z(this,"onUploadPublishDuration",void 0),Z(this,"onStatsChanged",void 0),Z(this,"localStats",new Map),Z(this,"remoteStats",new Map),Z(this,"updateStatsInterval",void 0),Z(this,"trafficStats",void 0),Z(this,"trafficStatsPeerList",[]),Z(this,"uplinkStats",void 0),Z(this,"exceptionMonitor",void 0),Z(this,"p2pChannel",void 0),Z(this,"scalabilityMode",rp.L1T1),Z(this,"updateStats",(function(){A.p2pChannel&&(A.updateRemoteStats(A.p2pChannel),A.updateLocalStats(A.p2pChannel))})),this.store=t,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new T_,this.exceptionMonitor.on("exception",(function(e,t,n){A.onStatsException&&A.onStatsException(e,t,n)}))}return Ib(e,[{key:"reset",value:function(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}},{key:"getLocalAudioTrackStats",value:function(){return this.localStats.get(zp.LocalAudioTrack)||zr({},MB)}},{key:"getLocalVideoTrackStats",value:function(){return this.localStats.get(zp.LocalVideoTrack)||zr({},UB)}},{key:"getRemoteAudioTrackStats",value:function(e){var t=this,A=function(e){function t(t,A){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,A){if(!t.trafficStats)return A;var n=t.trafficStats.peer_delay.find((function(t){return t.peer_uid===e}));return n&&(A.publishDuration=n.B_ppad+(Date.now()-t.trafficStats.timestamp)),A})),n={};if(e){var r,i=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.audioStats;i&&(n[e]=A(e,i))}else Array.from(this.remoteStats.entries()).forEach((function(e){var t=Lb(e,2);e=t[0],(t=t[1].audioStats)&&(n[e]=A(e,t))}));return n}},{key:"getRemoteNetworkQualityStats",value:function(e){var t={};if(e){var A,n=null===(A=this.remoteStats.get(e))||void 0===A?void 0:A.networkStats;n&&(t[e]=n)}else Array.from(this.remoteStats.entries()).forEach((function(e){var A=Lb(e,2);e=A[0],(A=A[1].networkStats)&&(t[e]=A)}));return t}},{key:"getRemoteVideoTrackStats",value:function(e){var t=this,A=function(e){function t(t,A){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,A){if(!t.trafficStats)return A;var n=t.trafficStats.peer_delay.find((function(t){return t.peer_uid===e}));return n&&(A.publishDuration=n.B_ppvd+(Date.now()-t.trafficStats.timestamp)),A})),n={};if(e){var r,i=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.videoStats;i&&(n[e]=A(e,i))}else Array.from(this.remoteStats.entries()).forEach((function(e){var t=Lb(e,2);e=t[0],(t=t[1].videoStats)&&(n[e]=A(e,t))}));return n}},{key:"getRTCStats",value:function(){var e=0,t=0,A=0,n=0,r=this.localStats.get(zp.LocalAudioTrack);return r&&(e+=r.sendBytes,t+=r.sendBitrate),(r=this.localStats.get(zp.LocalVideoTrack))&&(e+=r.sendBytes,t+=r.sendBitrate),(r=this.localStats.get(zp.LocalVideoLowTrack))&&(e+=r.sendBytes,t+=r.sendBitrate),this.remoteStats.forEach((function(e){var t=e.audioStats;e=e.videoStats,t&&(A+=t.receiveBytes,n+=t.receiveBitrate),e&&(A+=e.receiveBytes,n+=e.receiveBitrate)})),r=1,this.trafficStats&&(r+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:r,SendBitrate:t,SendBytes:e,RecvBytes:A,RecvBitrate:n,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}},{key:"addLocalStats",value:function(e){this.localStats.set(e,void 0)}},{key:"removeLocalStats",value:function(e){e?this.localStats.delete(e):this.localStats.clear()}},{key:"addRemoteStats",value:function(e){this.remoteStats.set(e,{})}},{key:"removeRemoteStats",value:function(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}},{key:"addP2PChannel",value:function(e){this.p2pChannel=e}},{key:"updateTrafficStats",value:function(e){var t=this;e.peer_delay=e.peer_delay.filter((function(e){return void 0!==e.B_ppad||void 0!==e.B_ppvd})),e.peer_delay.filter((function(e){return-1===t.trafficStatsPeerList.indexOf(e.peer_uid)})).forEach((function(e){var A,n=null===(A=t.p2pChannel)||void 0===A?void 0:A.getRemoteMedia(e.peer_uid);A=null!=n&&n.videoSSRC?L_.measureFromSubscribeStart(t.store.clientId,n.videoSSRC):0,n=null!=n&&n.audioSSRC?L_.measureFromSubscribeStart(t.store.clientId,n.audioSSRC):0,void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(t.onUploadPublishDuration&&t.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,A>n?A:n),t.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}},{key:"updateUplinkStats",value:function(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&qh.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}},{key:"isLocalVideoFreeze",value:function(e){return!(!e.inputFrame||!e.sentFrame)&&5<e.inputFrame.frameRate&&3>e.sentFrame.frameRate}},{key:"updateLocalStats",value:function(e){var t=this;Array.from(this.localStats.entries()).forEach((function(A){var n=(A=Lb(A,2))[0];switch(A=A[1],n){case zp.LocalVideoTrack:case zp.LocalVideoLowTrack:var r,i=zr({},UB),o=e.getStats(),a=e.getLocalMedia(n);if(o){if(o=o.videoSend.find((function(e){return e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)}))){var s=e.getLocalVideoSize(),c=e.getEncoderConfig(zp.LocalVideoTrack);"H264"!==o.codec&&"H265"!==o.codec&&"VP8"!==o.codec&&"VP9"!==o.codec&&"AV1X"!==o.codec&&"AV1"!==o.codec||(i.codecType=o.codec),i.sendBytes=o.bytes,i.sendBitrate=A?8*Math.max(0,i.sendBytes-A.sendBytes):0,o.inputFrame?(i.captureFrameRate=o.inputFrame.frameRate,i.captureResolutionHeight=o.inputFrame.height,i.captureResolutionWidth=o.inputFrame.width):s&&(i.captureResolutionWidth=s.width,i.captureResolutionHeight=s.height),o.sentFrame?(i.sendFrameRate=o.sentFrame.frameRate,i.sendResolutionHeight=o.sentFrame.height,i.sendResolutionWidth=o.sentFrame.width):s&&(i.sendResolutionWidth=s.width,i.sendResolutionHeight=s.height),o.avgEncodeMs&&(i.encodeDelay=o.avgEncodeMs),c&&c.bitrateMax&&(i.targetSendBitrate=1e3*c.bitrateMax),i.sendPackets=o.packets,i.sendPacketsLost=o.packetsLost,i.sendJitterMs=o.jitterMs,i.sendRttMs=o.rttMs,i.totalDuration=A?A.totalDuration+1:1,i.totalFreezeTime=A?A.totalFreezeTime:0,t.isLocalVideoFreeze(o)&&(i.totalFreezeTime+=1),o.scalabilityMode&&t.scalabilityMode!==o.scalabilityMode&&(qh.debug("[".concat(t.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(o.scalabilityMode)),t.scalabilityMode=o.scalabilityMode)}t.trafficStats&&(i.currentPacketLossRate=(t.trafficStats.B_pvlr4||0)/100)}t.localStats.set(n,i),((null==A?void 0:A.sendResolutionWidth)!==i.sendResolutionWidth||(null==A?void 0:A.sendResolutionHeight)!==i.sendResolutionHeight)&&(null===(r=t.onStatsChanged)||void 0===r||r.call(t,"resolution",{width:i.sendResolutionWidth,height:i.sendResolutionHeight})),i&&a&&t.exceptionMonitor.setLocalVideoStats(t.store.uid,a.track,i);break;case zp.LocalAudioTrack:r=zr({},MB),i=e.getStats();var u=e.getLocalMedia(n);i&&(n=i.audioSend.find((function(e){return e.ssrc===(null==u?void 0:u.ssrcs[0].ssrcId)})))&&("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(r.codecType=n.codec),n.inputLevel?r.sendVolumeLevel=Math.round(32767*n.inputLevel):(i=e.getLocalAudioVolume())&&(r.sendVolumeLevel=Math.round(32767*i)),r.sendBytes=n.bytes,r.sendPackets=n.packets,r.sendPacketsLost=n.packetsLost,r.sendJitterMs=n.jitterMs,r.sendRttMs=n.rttMs,r.sendBitrate=A?8*Math.max(0,r.sendBytes-A.sendBytes):0),t.trafficStats&&(r.currentPacketLossRate=(t.trafficStats.B_palr4||0)/100),t.localStats.set(zp.LocalAudioTrack,r),r&&u&&t.exceptionMonitor.setLocalAudioStats(t.store.uid,u.track,r)}}))}},{key:"updateRemoteStats",value:function(t){var A=this;Array.from(this.remoteStats.entries()).forEach((function(n){var r=(n=Lb(n,2))[0],i=n[1];n=i.audioStats;var o=i.videoStats;i=i.videoPcStats;var a=zr({},xB),s=zr({},GB),c=zr({},PB),u=t.getRemoteMedia(r),g=u.audioTrack,I=u.videoTrack,l=u.audioSSRC,E=u.videoSSRC,C=t instanceof _b?t.getStats(!0):t.getStats();u=null==C?void 0:C.audioRecv.find((function(e){return e.ssrc===l})),C=null==C?void 0:C.videoRecv.find((function(e){return e.ssrc===E}));var d=A.trafficStats&&A.trafficStats.peer_delay.find((function(e){return e.peer_uid===r}));u&&("opus"!==u.codec&&"aac"!==u.codec&&"PCMU"!==u.codec&&"PCMA"!==u.codec&&"G722"!==u.codec||(a.codecType=u.codec),u.outputLevel?a.receiveLevel=Math.round(32767*u.outputLevel):g&&(a.receiveLevel=Math.round(32767*g.getVolumeLevel())),a.receiveBytes=u.bytes,a.receivePackets=u.packets,a.receivePacketsLost=u.packetsLost,a.packetLossRate=a.receivePacketsLost/(a.receivePackets+a.receivePacketsLost),a.receiveBitrate=n?8*Math.max(0,a.receiveBytes-n.receiveBytes):0,a.totalDuration=n?n.totalDuration+1:1,a.totalFreezeTime=n?n.totalFreezeTime:0,a.freezeRate=a.totalFreezeTime/a.totalDuration,a.receiveDelay=u.jitterBufferMs,10<a.totalDuration&&e.isRemoteAudioFreeze(g)&&(a.totalFreezeTime+=1)),C&&("H264"!==C.codec&&"H265"!==C.codec&&"VP8"!==C.codec&&"VP9"!==C.codec&&"AV1X"!==C.codec&&"AV1"!==C.codec||(s.codecType=C.codec),s.receiveBytes=C.bytes,s.receiveBitrate=o?8*Math.max(0,s.receiveBytes-o.receiveBytes):0,s.decodeFrameRate=0>C.decodeFrameRate?0:C.decodeFrameRate,s.renderFrameRate=0>C.decodeFrameRate?0:C.decodeFrameRate,C.outputFrame&&(s.renderFrameRate=C.outputFrame.frameRate),C.receivedFrame?(s.receiveFrameRate=C.receivedFrame.frameRate,s.receiveResolutionHeight=C.receivedFrame.height,s.receiveResolutionWidth=C.receivedFrame.width):I&&(s.receiveResolutionHeight=I._videoHeight||0,s.receiveResolutionWidth=I._videoWidth||0),void 0!==C.framesRateFirefox&&(s.receiveFrameRate=Math.round(C.framesRateFirefox)),s.receivePackets=C.packets,s.receivePacketsLost=C.packetsLost,s.packetLossRate=s.receivePacketsLost/(s.receivePackets+s.receivePacketsLost),s.totalDuration=o?o.totalDuration+1:1,s.totalFreezeTime=o?o.totalFreezeTime:0,s.receiveDelay=C.jitterBufferMs||0,n=!!E&&t.getRemoteVideoIsReady(E),I&&n&&e.isRemoteVideoFreeze(I,C,i)&&(s.totalFreezeTime+=1),s.freezeRate=s.totalFreezeTime/s.totalDuration),d&&(a.end2EndDelay=d.B_ad,s.end2EndDelay=d.B_vd,a.transportDelay=d.B_ed,s.transportDelay=d.B_ed,a.currentPacketLossRate=d.B_ealr4/100,s.currentPacketLossRate=d.B_evlr4/100,c.uplinkNetworkQuality=d.B_punq?d.B_punq:0,c.downlinkNetworkQuality=d.B_pdnq?d.B_pdnq:0),A.remoteStats.set(r,{audioStats:a,videoStats:s,videoPcStats:C,networkStats:c}),g&&A.exceptionMonitor.setRemoteAudioStats(g,a),I&&A.exceptionMonitor.setRemoteVideoStats(I,s)}))}}],[{key:"isRemoteVideoFreeze",value:function(e,t,A){return!!e&&(e=!A||t.framesDecodeCount>A.framesDecodeCount,!!A&&t.framesDecodeFreezeTime>A.framesDecodeFreezeTime||!e)}},{key:"isRemoteAudioFreeze",value:function(e){return!!e&&e._isFreeze()}}]),e}(),Rb=function(e){function t(e,A,r,i){zb(this,t);var o=n.call(this);return Z(V(o),"spec",void 0),Z(V(o),"token",void 0),Z(V(o),"websocket",void 0),Z(V(o),"pingpongTimer",void 0),Z(V(o),"reconnectMode","retry"),Z(V(o),"serviceMode",void 0),Z(V(o),"reqId",0),Z(V(o),"commandReqId",0),Z(V(o),"handleWebSocketOpen",(function(){o.reconnectMode="retry",o.startPingPong()})),Z(V(o),"handleWebSocketMessage",(function(e){e.data&&((e=JSON.parse(e.data)).requestId?o.emit("@".concat(e.requestId,"-").concat(e.sid),e):o.serviceMode===fp.INJECT?o.emit(bp.INJECT_STREAM_STATUS,e):($h.workerEvent(o.spec.sid,{actionType:"status",serverCode:e.code,workerType:o.serviceMode===fp.TRANSCODE?1:2}),o.emit(bp.PUBLISH_STREAM_STATUS,e)))})),o.spec=A,o.token=e,o.serviceMode=i,o.websocket=new Df("live-streaming",r),o.websocket.on(pp.CONNECTED,o.handleWebSocketOpen),o.websocket.on(pp.ON_MESSAGE,o.handleWebSocketMessage),o.websocket.on(pp.REQUEST_NEW_URLS,(function(e,t){Me(V(o),bp.REQUEST_NEW_ADDRESS).then(e).catch(t)})),o.websocket.on(pp.RECONNECTING,(function(){o.websocket.reconnectMode=o.reconnectMode})),o}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"init",value:function(e){return this.websocket.init(e)}},{key:"request",value:(A=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reqId+=1,"request"===t&&(this.commandReqId+=1),i=this.commandReqId,(o=this.reqId)&&this.websocket){e.next=4;break}throw new _p(pC.UNEXPECTED_ERROR);case 4:if(a=$r({command:t,sdkVersion:"4.20.1"===Dh?"0.0.1":Dh,seq:o,requestId:o,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},A),"closed"!==this.websocket.state){e.next=7;break}throw new _p(pC.WS_DISCONNECT);case 7:if(s=function(){return new IC((function(e,t){I.websocket.once(pp.CLOSED,(function(){return t(new _p(pC.WS_ABORT))})),I.websocket.once(pp.CONNECTED,e)}))},e.t0="connected"!==this.websocket.state,!e.t0){e.next=12;break}return e.next=12,s();case 12:return a.clientRequest&&(a.clientRequest.workerToken=this.token),c=new IC((function(e,t){var A=function(){t(new _p(pC.WS_ABORT))};I.websocket.once(pp.RECONNECTING,A),I.websocket.once(pp.CLOSED,A),I.once("@".concat(o,"-").concat(I.spec.sid),(function(t){e(t)}))})),r&&$h.workerEvent(this.spec.sid,$r($r({},r),{},{requestId:i,actionType:"request",payload:JSON.stringify(A.clientRequest),serverCode:0,code:0})),u=Date.now(),this.websocket.sendMessage(a),g=null,e.prev=18,e.next=21,c;case 21:g=e.sent,e.next=33;break;case 24:if(e.prev=24,e.t1=e.catch(18),"closed"!==this.websocket.state){e.next=28;break}throw e.t1;case 28:return e.next=30,s();case 30:return e.next=32,this.request(t,A,n);case 32:return e.abrupt("return",e.sent);case 33:return e.abrupt("return",(r&&$h.workerEvent(this.spec.sid,$r($r({},r),{},{requestId:i,actionType:"response",payload:JSON.stringify(g.serverResponse),serverCode:g.code,success:200===g.code,responseTime:Date.now()-u})),200!==g.code&&this.handleResponseError(g),g));case 34:case"end":return e.stop()}}),e,this,[[18,24]])}))),function(e,t,n,r){return A.apply(this,arguments)})},{key:"tryNextAddress",value:function(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}},{key:"close",value:function(){var e="4.20.1"===Dh?"0.0.1":Dh;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}},{key:"handleResponseError",value:function(e){switch(e.code){case Sp.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void qh.warning("live stream response already exists stream");case Sp.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case Sp.LIVE_STREAM_RESPONSE_BAD_STREAM:case Sp.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new _p(pC.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case Sp.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)break;throw new _p(pC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Sp.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new _p(pC.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case Sp.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:var t=new _p(pC.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(bp.WARNING,t,e.serverResponse.url);case Sp.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:return t=new _p(pC.LIVE_STREAMING_WARN_FREQUENT_REQUEST),this.emit(bp.WARNING,t,e.serverResponse.url);case Sp.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new _p(pC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Sp.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new _p(pC.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case Sp.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:return t=new _p(pC.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT),this.emit(bp.WARNING,t,e.serverResponse.url);case Sp.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new _p(pC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case Sp.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new _p(pC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case Sp.LIVE_STREAM_RESPONSE_WORKER_LOST:case Sp.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)break;throw new _p(pC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Sp.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)break;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new _p(pC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new _p(pC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Sp.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Sp.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Sp.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Sp.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new _p(pC.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}},{key:"startPingPong",value:function(){var e=this;this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((function(){"connected"===e.websocket.state&&e.request("ping",{}).catch(WC)}),6e3)}}]),t}(UC),Sb=function(e){function t(e){zb(this,t);var A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:td,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:td,i=n.call(this);return Z(V(i),"onLiveStreamWarning",void 0),Z(V(i),"onLiveStreamError",void 0),Z(V(i),"onInjectStatusChange",void 0),Z(V(i),"spec",void 0),Z(V(i),"retryTimeout",1e4),Z(V(i),"connection",void 0),Z(V(i),"httpRetryConfig",void 0),Z(V(i),"wsRetryConfig",void 0),Z(V(i),"streamingTasks",new Map),Z(V(i),"isStartingStreamingTask",!1),Z(V(i),"taskMutex",new ed("live-streaming")),Z(V(i),"cancelToken",wh.CancelToken.source()),Z(V(i),"transcodingConfig",void 0),Z(V(i),"injectConfig",ti({},Vp)),Z(V(i),"injectLoopTimes",0),Z(V(i),"uapResponse",void 0),Z(V(i),"lastTaskId",1),Z(V(i),"statusError",new Map),i.spec=e,i.httpRetryConfig=r,i.wsRetryConfig=A,i}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"setTranscodingConfig",value:(A=pa(O.mark((function e(t){var A,n,r,i,o,a=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 66!==(A=ti(ti({},Kp),t)).videoCodecProfile&&77!==A.videoCodecProfile&&100!==A.videoCodecProfile&&(qh.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(A.videoCodecProfile," -> 100")),A.videoCodecProfile=100),A.transcodingUsers||(A.transcodingUsers=A.userConfigs),A.transcodingUsers&&(A.transcodingUsers=A.transcodingUsers.map((function(e){return ti(ti(ti({},Gp),e),{},{zOrder:e.zOrder?e.zOrder+1:1})}))),null==(s=A).width||ve(s.width,"config.width",0,1e4),null==s.height||ve(s.height,"config.height",0,1e4),null==s.videoBitrate||ve(s.videoBitrate,"config.videoBitrate",1,1e6),null==s.videoFrameRate||ve(s.videoFrameRate,"config.videoFrameRate"),null==s.lowLatency||Qe(s.lowLatency,"config.lowLatency"),null==s.audioSampleRate||ye(s.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),null==s.audioBitrate||ve(s.audioBitrate,"config.audioBitrate",1,128),null==s.audioChannels||ye(s.audioChannels,"config.audioChannels",[1,2,3,4,5]),null==s.videoGop||ve(s.videoGop,"config.videoGop"),null==s.videoCodecProfile||ye(s.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),null==s.userCount||ve(s.userCount,"config.userCount",0,17),null==s.backgroundColor||ve(s.backgroundColor,"config.backgroundColor",0,16777215),null==s.userConfigExtraInfo||_e(s.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),s.transcodingUsers&&null!=s.transcodingUsers&&(be(s.transcodingUsers,"config.transcodingUsers"),s.transcodingUsers.forEach((function(e,t){Xt(e.uid),null==e.x||ve(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),null==e.y||ve(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),null==e.width||ve(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),null==e.height||ve(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),null==e.zOrder||ve(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),null==e.alpha||ve(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),null==s.watermark||zt(s.watermark,"watermark"),null==s.backgroundImage||zt(s.backgroundImage,"backgroundImage"),s.images&&null!=s.images&&(be(s.images,"config.images"),s.images.forEach((function(e,t){zt(e,"images[".concat(t,"]"))}))),n=[],A.images&&n.push.apply(n,rb(A.images.map((function(e){return ti(ti(ti({},Fp),e),{},{zOrder:255})})))),A.backgroundImage&&(n.push(ti(ti(ti({},Fp),A.backgroundImage),{},{zOrder:0})),delete A.backgroundImage),A.watermark&&(n.push(ti(ti(ti({},Fp),A.watermark),{},{zOrder:255})),delete A.watermark),A.images=n,A.transcodingUsers&&(A.userConfigs=A.transcodingUsers.map((function(e){return ti({},e)})),A.userCount=A.transcodingUsers.length,delete A.transcodingUsers),r=(A.userConfigs||[]).map((function(e){return"number"==typeof e.uid?IC.resolve(e.uid):OA(e.uid,a.spec,a.cancelToken.token,a.httpRetryConfig)})),e.next=7,IC.all(r);case 7:if(e.sent.forEach((function(e,t){A.userConfigs&&A.userConfigs[t]&&(A.userConfigs[t].uid=e)})),this.transcodingConfig=A,!this.connection){e.next=22;break}return e.prev=10,e.next=13,this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(mp(i=this.streamingTasks).call(i)).map((function(e){return e.taskId})).join("#")});case 13:o=e.sent,qh.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(o.code,", config:"),JSON.stringify(this.transcodingConfig)),e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(10),e.t0.data&&e.t0.data.retry){e.next=21;break}throw e.t0;case 21:e.t0.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((function(t){qh.warning("[".concat(a.spec.clientId,"] live streaming receive error"),e.t0.toString(),"try to republish",t.url),a.startLiveStreamingTask(t.url,t.mode,e.t0).then((function(){qh.debug("[".concat(a.spec.clientId,"] live streaming republish ").concat(t.url," success"))})).catch((function(e){qh.error("[".concat(a.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),a.onLiveStreamError&&a.onLiveStreamError(t.url,e)}))}));case 22:case"end":return e.stop()}var s}),e,this,[[10,17]])}))),function(e){return A.apply(this,arguments)})},{key:"setInjectStreamConfig",value:function(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}},{key:"startLiveStreamingTask",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.from(mp(r=this.streamingTasks).call(r)).find((function(e){return e.mode===fp.INJECT}))||A!==fp.INJECT){e.next=2;break}return e.abrupt("return",new _p(pC.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw());case 2:if(this.transcodingConfig||A!==fp.TRANSCODE){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");case 4:return i={command:"PublishStream",ts:Date.now(),url:t,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0},qh.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(t,", mode: ").concat(A)),e.next=8,this.taskMutex.lock();case 8:if(o=e.sent,this.connection||!n){e.next=11;break}return e.abrupt("return",void o());case 11:if(!this.streamingTasks.get(t)||n){e.next=13;break}return e.abrupt("return",(o(),new _p(pC.LIVE_STREAMING_TASK_CONFLICT).throw()));case 13:if(e.prev=13,e.t0=this.connection,e.t0){e.next=19;break}return e.next=18,this.connect(A);case 18:this.connection=e.sent;case 19:e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(13),o(),e.t1;case 24:e.t2=A,e.next=e.t2===fp.TRANSCODE?27:e.t2===fp.RAW?29:e.t2===fp.INJECT?30:31;break;case 27:return i.transcodingConfig=ti({},this.transcodingConfig),e.abrupt("break",31);case 29:return e.abrupt("break",31);case 30:i={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:t,loopTimes:this.injectLoopTimes};case 31:return this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0,a=this.lastTaskId++,e.prev=33,s=new IC((function(e,A){tt(u.retryTimeout).then((function(){if(n)return A(n);var e=u.statusError.get(t);return e?(u.statusError.delete(t),A(e)):void 0}))})),e.next=37,IC.race([this.connection.request("request",{clientRequest:i},!0,{url:t,command:"PublishStream",workerType:A===fp.TRANSCODE?1:2,requestByUser:!n,tid:a.toString()}),s]);case 37:c=e.sent,this.isStartingStreamingTask=!1,qh.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(c.code)),this.streamingTasks.set(t,{clientRequest:i,mode:A,url:t,taskId:a}),o(),e.next=56;break;case 41:if(e.prev=41,e.t3=e.catch(33),o(),this.isStartingStreamingTask=!1,e.t3.data&&e.t3.data.retry&&!n){e.next=45;break}throw e.t3;case 45:if(!e.t3.data.changeAddress){e.next=52;break}return this.connection.tryNextAddress(),e.next=49,this.startLiveStreamingTask(t,A,e.t3);case 49:e.t4=e.sent,e.next=55;break;case 52:return e.next=54,this.startLiveStreamingTask(t,A,e.t3);case 54:e.t4=e.sent;case 55:return e.abrupt("return",e.t4);case 56:case"end":return e.stop()}}),e,this,[[13,21],[33,41]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"stopLiveStreamingTask",value:function(e){var t=this;return new IC((function(A,n){var r=t.streamingTasks.get(e);if(!r||!t.connection)return new _p(pC.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();var i=r.mode;r.abortTask=function(){qh.debug("[".concat(t.spec.clientId,"] stop live streaming success(worker exception)")),t.streamingTasks.delete(e),A()},t.connection.request("request",{clientRequest:{command:i===fp.INJECT?"UninjectStream":"UnpublishStream",url:r.url}},!1,{url:e,command:"UnPublishStream",workerType:i===fp.TRANSCODE?1:2,requestByUser:!0,tid:(t.lastTaskId++).toString()}).then((function(n){qh.debug("[".concat(t.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),t.streamingTasks.delete(e),0===t.streamingTasks.size&&i!==fp.INJECT&&(t.connection&&t.connection.close(),t.connection=void 0),A(),i===fp.INJECT&&t.onInjectStatusChange&&t.onInjectStatusChange(Bp.INJECT_STREAM_STATUS_STOP_SUCCESS,t.spec.uid,e)})).catch(n)}))}},{key:"controlInjectStream",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.streamingTasks.get(t))&&this.connection&&i.mode===fp.INJECT){e.next=3;break}throw new _p(pC.INVALID_OPERATION,"can not find inject stream task to control");case 3:return e.next=5,this.connection.request("request",{clientRequest:{command:"ControlStream",url:t,control:A,audioVolume:n,position:r}});case 5:return e.abrupt("return",e.sent.serverResponse);case 6:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"resetAllTask",value:function(){var e,t=this,A=Array.from(mp(e=this.streamingTasks).call(e));this.terminate(),e=function(e){var n=A[e];t.startLiveStreamingTask(n.url,n.mode).catch((function(e){t.onLiveStreamError&&t.onLiveStreamError(n.url,e)}))};for(var n=0;n<A.length;n++)e(n)}},{key:"terminate",value:function(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=wh.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}},{key:"connect",value:function(){var e=pa(O.mark((function e(t){var A,n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=2;break}throw new _p(pC.UNEXPECTED_ERROR,"live streaming connection has already connected");case 2:return e.next=4,Me(this,Rp.REQUEST_WORKER_MANAGER_LIST,t);case 4:return this.uapResponse=A=e.sent,this.connection=new Rb(A.workerToken,this.spec,this.wsRetryConfig,t),this.connection.on(bp.WARNING,(function(e,t){return n.onLiveStreamWarning&&n.onLiveStreamWarning(t,e)})),this.connection.on(bp.PUBLISH_STREAM_STATUS,(function(e){return n.handlePublishStreamServer(e)})),this.connection.on(bp.INJECT_STREAM_STATUS,(function(e){return n.handleInjectStreamServerStatus(e)})),this.connection.on(bp.REQUEST_NEW_ADDRESS,(function(e,A){if(!n.connection)return A(new _p(pC.UNEXPECTED_ERROR,"can not get new live streaming address list"));Me(n,Rp.REQUEST_WORKER_MANAGER_LIST,t).then((function(t){n.uapResponse=t,e(t.addressList)})).catch(A)})),e.next=13,this.connection.init(A.addressList);case 13:return e.abrupt("return",this.connection);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePublishStreamServer",value:function(e){var t=this,A=e.serverStatus&&e.serverStatus.url||"empty_url",n=this.streamingTasks.get(A),r=e.reason;switch(e.code){case Sp.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Sp.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Sp.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Sp.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:var i=new _p(pC.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return qh.error(i.toString()),this.onLiveStreamError&&this.onLiveStreamError(A,i);if(!this.isStartingStreamingTask)break;this.statusError.set(A,i);case Sp.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:return n=new _p(pC.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,r),this.onLiveStreamWarning&&this.onLiveStreamWarning(A,n);case Sp.LIVE_STREAM_RESPONSE_WORKER_LOST:case Sp.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(this.connection){this.connection.tryNextAddress();var o=Array.from(mp(i=this.streamingTasks).call(i));for(A=function(A){var n=o[A];n.abortTask?n.abortTask():(qh.warning("[".concat(t.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),t.startLiveStreamingTask(n.url,n.mode,new _p(pC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((function(){qh.debug("[".concat(t.spec.clientId,"] republish live stream success"),n.url)})).catch((function(e){qh.error(e.toString()),t.onLiveStreamError&&t.onLiveStreamError(n.url,e)})))},n=0;n<o.length;n++)A(n)}}}},{key:"handleInjectStreamServerStatus",value:function(e){var t=Number(e.uid),A=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(Bp.INJECT_STREAM_STATUS_START_SUCCESS,t,A));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(Bp.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,A),void this.streamingTasks.delete(A);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(Bp.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,A),void this.streamingTasks.delete(A);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(Bp.INJECT_STREAM_STATUS_BROKEN,t,A),void this.streamingTasks.delete(A);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(Bp.INJECT_STREAM_STATUS_START_TIMEOUT,t,A),void this.streamingTasks.delete(A);default:return void qh.debug("inject stream server status",e)}}},{key:"hasUrl",value:function(e){return this.streamingTasks.has(e)}}]),t}(UC),wb=function(){function e(){zb(this,e),Z(this,"destChannelMediaInfos",new Map),Z(this,"srcChannelMediaInfo",void 0)}return Ib(e,[{key:"setSrcChannelInfo",value:function(e){Zt(e),this.srcChannelMediaInfo=e}},{key:"addDestChannelInfo",value:function(e){Zt(e),this.destChannelMediaInfos.set(e.channelName,e)}},{key:"removeDestChannelInfo",value:function(e){Wt(e),this.destChannelMediaInfos.delete(e)}},{key:"getSrcChannelMediaInfo",value:function(){return this.srcChannelMediaInfo}},{key:"getDestChannelMediaInfo",value:function(){return this.destChannelMediaInfos}}]),e}(),Db=function(e){function t(e,A,r){zb(this,t);var i=n.call(this);return Z(V(i),"ws",void 0),Z(V(i),"requestId",1),Z(V(i),"heartBeatTimer",void 0),Z(V(i),"joinInfo",void 0),Z(V(i),"clientId",void 0),Z(V(i),"onOpen",(function(){i.emit("open"),i.startHeartBeatCheck()})),Z(V(i),"onClose",(function(e){i.emit("close"),i.dispose()})),Z(V(i),"onMessage",(function(e){if(!(e=JSON.parse(e.data))||"serverResponse"!==e.command||!e.requestId)return e&&"serverStatus"===e.command&&e.serverStatus&&e.serverStatus.command?(i.emit("status",e.serverStatus),void i.emit(e.serverStatus.command,e.serverStatus)):void 0;i.emit("req_".concat(e.requestId),e)})),i.joinInfo=e,i.clientId=A,i.ws=new Df("cross-channel-".concat(i.clientId),r),i.ws.on(pp.RECONNECTING,(function(){i.ws.reconnectMode="retry",i.emit("reconnecting")})),i.ws.on(pp.CONNECTED,i.onOpen),i.ws.on(pp.ON_MESSAGE,i.onMessage),i.ws.on(pp.CLOSED,i.onClose),i}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"isConnect",value:function(){return"connected"===this.ws.state}},{key:"sendMessage",value:function(e){var t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}},{key:"waitStatus",value:function(e){var t=this;return new IC((function(A,n){var r=window.setTimeout((function(){n(new _p(pC.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);t.once(e,(function(t){window.clearTimeout(r),t.state&&0!==t.state?n(new _p(pC.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):A(void 0)})),t.once("dispose",(function(){window.clearTimeout(r),n(new _p(pC.WS_ABORT))}))}))}},{key:"request",value:(A=pa(O.mark((function e(t){var A,n,r,i,o=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("closed"!==this.ws.state){e.next=2;break}throw new _p(pC.WS_DISCONNECT);case 2:if(A=function(){return new IC((function(e,t){o.ws.once(pp.CLOSED,(function(){return t(new _p(pC.WS_ABORT))})),o.ws.once(pp.CONNECTED,e)}))},e.t0="connected"!==this.ws.state,!e.t0){e.next=7;break}return e.next=7,A();case 7:return n=this.sendMessage(t),r=new IC((function(e,t){var A=function(){t(new _p(pC.WS_ABORT))};o.ws.once(pp.RECONNECTING,A),o.ws.once(pp.CLOSED,A),o.once("req_".concat(n),e),tt(3e3).then((function(){o.removeAllListeners("req_".concat(n)),o.ws.off(pp.RECONNECTING,A),o.ws.off(pp.CLOSED,A),t(new _p(pC.TIMEOUT,"cross channel ws request timeout"))}))})),e.next=11,r;case 11:if((i=e.sent)&&200===i.code){e.next=14;break}throw new _p(pC.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(i)));case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"connect",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ws.removeAllListeners(pp.REQUEST_NEW_URLS),this.ws.on(pp.REQUEST_NEW_URLS,(function(e){e(t)})),e.next=4,this.ws.init(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}},{key:"sendPing",value:function(e){var t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}},{key:"startHeartBeatCheck",value:function(){var e=this;this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((function(){e.sendPing({command:"ping",appId:e.joinInfo.appId,cname:e.joinInfo.cname,uid:e.joinInfo.uid.toString(),sid:e.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}},{key:"clearHeartBeatCheck",value:function(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}]),t}(UC),kb=function(e){function t(e,A,r,i,o){zb(this,t);var a=n.call(this);return Z(V(a),"joinInfo",void 0),Z(V(a),"sid",void 0),Z(V(a),"clientId",void 0),Z(V(a),"cancelToken",wh.CancelToken.source()),Z(V(a),"workerToken",void 0),Z(V(a),"requestId",0),Z(V(a),"signal",void 0),Z(V(a),"prevChannelMediaConfig",void 0),Z(V(a),"httpRetryConfig",void 0),Z(V(a),"_resolution",void 0),Z(V(a),"_state",Np.RELAY_STATE_IDLE),Z(V(a),"errorCode",Tp.RELAY_OK),Z(V(a),"onStatus",(function(e){qh.debug("[".concat(a.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&a.emit("event",kp.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&a.emit("event",kp.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(a.errorCode=Tp.SRC_TOKEN_EXPIRED,a.state=Np.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(a.errorCode=Tp.DEST_TOKEN_EXPIRED,a.state=Np.RELAY_STATE_FAILURE))})),Z(V(a),"onReconnect",pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qh.debug("[".concat(a.clientId,"] ChannelMediaSocket disconnect, reconnecting")),a.emit("event",kp.NETWORK_DISCONNECTED),a.state=Np.RELAY_STATE_IDLE,a.prevChannelMediaConfig&&a.sendStartRelayMessage(a.prevChannelMediaConfig).catch((function(e){a.state!==Np.RELAY_STATE_IDLE&&(qh.error("auto restart channel media relay failed",e.toString()),a.errorCode=Tp.SERVER_CONNECTION_LOST,a.state=Np.RELAY_STATE_FAILURE)}));case 1:case"end":return e.stop()}}),e)})))),a.joinInfo=e,a.clientId=A,a.sid=At(32,"").toUpperCase(),a.signal=new Db(a.joinInfo,a.clientId,r),a.httpRetryConfig=i,a._resolution=o,a}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(e!==Np.RELAY_STATE_FAILURE&&(this.errorCode=Tp.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}},{key:"startChannelMediaRelay",value:(A=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state===Np.RELAY_STATE_IDLE){e.next=2;break}throw new _p(pC.INVALID_OPERATION);case 2:return this.state=Np.RELAY_STATE_CONNECTING,e.next=5,this.connect();case 5:return qh.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success")),e.prev=6,e.next=9,this.sendStartRelayMessage(t);case 9:e.next=20;break;case 11:if(e.prev=11,e.t0=e.catch(6),!e.t0.data||!e.t0.data.serverResponse||"SetSourceChannel"!==e.t0.data.serverResponse.command){e.next=15;break}throw new _p(pC.CROSS_CHANNEL_FAILED_JOIN_SRC);case 15:if(!e.t0.data||!e.t0.data.serverResponse||"SetDestChannelStatus"!==e.t0.serverResponse.command){e.next=17;break}throw new _p(pC.CROSS_CHANNEL_FAILED_JOIN_DEST);case 17:if(!e.t0.data||!e.t0.data.serverResponse||"StartPacketTransfer"!==e.t0.serverResponse.command){e.next=19;break}throw new _p(pC.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);case 19:throw e.t0;case 20:this.prevChannelMediaConfig=t;case 21:case"end":return e.stop()}}),e,this,[[6,11]])}))),function(e){return A.apply(this,arguments)})},{key:"updateChannelMediaRelay",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state===Np.RELAY_STATE_RUNNING){e.next=2;break}throw new _p(pC.INVALID_OPERATION);case 2:return e.next=4,this.sendUpdateMessage(t);case 4:this.prevChannelMediaConfig=t;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setVideoProfile",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._resolution=t,this.state===Np.RELAY_STATE_RUNNING){e.next=2;break}throw new _p(pC.INVALID_OPERATION);case 2:return A=this.genMessage(Dp.SetVideoProfile),e.next=5,this.signal.request(A);case 5:qh.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopChannelMediaRelay",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendStopRelayMessage();case 2:qh.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=Np.RELAY_STATE_IDLE,this.dispose();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){qh.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=wh.CancelToken.source(),this.state=Np.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}},{key:"connect",value:function(){var e=pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KA(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);case 2:return t=e.sent,this.workerToken=t.workerToken,e.next=6,this.signal.connect(t.addressList);case 6:this.emit("event",kp.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendStartRelayMessage",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=this.genMessage(Dp.StopPacketTransfer),e.next=3,this.signal.request(A);case 3:return e.next=5,this.signal.waitStatus("Normal Quit");case 5:return qh.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success")),n=this.genMessage(Dp.SetSdkProfile,t),e.next=9,this.signal.request(n);case 9:return qh.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success")),r=this.genMessage(Dp.SetSourceChannel,t),e.next=13,this.signal.request(r);case 13:return e.next=15,this.signal.waitStatus("SetSourceChannelStatus");case 15:return this.emit("event",kp.PACKET_JOINED_SRC_CHANNEL),qh.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success")),i=this.genMessage(Dp.SetSourceUserId,t),e.next=20,this.signal.request(i);case 20:return qh.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success")),o=this.genMessage(Dp.SetDestChannel,t),e.next=24,this.signal.request(o);case 24:return e.next=26,this.signal.waitStatus("SetDestChannelStatus");case 26:return this.emit("event",kp.PACKET_JOINED_DEST_CHANNEL),qh.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success")),a=this.genMessage(Dp.StartPacketTransfer,t),e.next=31,this.signal.request(a);case 31:this.emit("event",kp.PACKET_SENT_TO_DEST_CHANNEL),this.state=Np.RELAY_STATE_RUNNING,qh.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution);case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendUpdateMessage",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=this.genMessage(Dp.UpdateDestChannel,t),e.next=3,this.signal.request(A);case 3:this.emit("event",kp.PACKET_UPDATE_DEST_CHANNEL),qh.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendStopRelayMessage",value:function(){var e=pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.genMessage(Dp.StopPacketTransfer),e.next=3,this.signal.request(t);case 3:qh.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"genMessage",value:function(e,t){var A=this,n=[],r=[],i=[];this.requestId+=1;var o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:Dh,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.20.1"===o.sdkVersion&&(o.sdkVersion="0.0.1");var a=null,s=null;switch(e){case Dp.SetSdkProfile:return o.clientRequest={command:"SetSdkProfile",type:"multi_channel"},o;case Dp.SetSourceChannel:if(!(s=t&&t.getSrcChannelMediaInfo()))throw new _p(pC.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceChannel",uid:"0",channelName:s.channelName,token:s.token||this.joinInfo.appId},o;case Dp.SetSourceUserId:if(!(s=t&&t.getSrcChannelMediaInfo()))throw new _p(pC.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceUserId",uid:s.uid+""},o;case Dp.SetDestChannel:if(!(a=t&&t.getDestChannelMediaInfo()))throw new _p(pC.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((function(e){n.push(e.channelName),r.push(e.uid+""),i.push(e.token||A.joinInfo.appId)})),o.clientRequest={command:"SetDestChannel",channelName:n,uid:r,token:i},o;case Dp.StartPacketTransfer:return o.clientRequest={command:"StartPacketTransfer"},o;case Dp.Reconnect:return o.clientRequest={command:"Reconnect"},o;case Dp.StopPacketTransfer:return o.clientRequest={command:"StopPacketTransfer"},o;case Dp.UpdateDestChannel:if(!(a=t&&t.getDestChannelMediaInfo()))throw new _p(pC.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((function(e){n.push(e.channelName),r.push(e.uid+""),i.push(e.token||A.joinInfo.appId)})),o.clientRequest={command:"UpdateDestChannel",channelName:n,uid:r,token:i},o;case Dp.SetVideoProfile:o.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return o}}]),t}(UC),Nb=t(U_),Tb=function(e){function t(e,A){zb(this,t);var r=n.call(this,e,A);return Z(V(r),"store",void 0),Z(V(r),"peerConnection",void 0),Z(V(r),"remoteSDP",void 0),Z(V(r),"initialOffer",void 0),Z(V(r),"statsFilter",void 0),Z(V(r),"useRTX",!1),Z(V(r),"localCapabilities",void 0),Z(V(r),"localCandidateCount",0),Z(V(r),"allCandidatesReceived",!1),Z(V(r),"establishPromise",void 0),Z(V(r),"mutex",new ed("P2PConnection-mutex")),r.store=A,r.peerConnection=new RTCPeerConnection(t.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),r.statsFilter=hr(r.peerConnection,Th.STATS_UPDATE_INTERVAL,void 0,oe()?1200:void 0),r.bindPCEvents(),r.bindStatsEvents(),r.store.p2pId+=1,r.establishPromise=r.establish(),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"peerConnectionState",get:function(){return this.peerConnection.connectionState}},{key:"iceConnectionState",get:function(){return this.peerConnection.iceConnectionState}},{key:"currentLocalDescription",get:function(){return this.peerConnection.currentLocalDescription}},{key:"currentRemoteDescription",get:function(){return this.peerConnection.currentRemoteDescription}},{key:"localCodecs",get:function(){return rb(new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map((function(e){return e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||""})).filter((function(e){var t;return Xs(t=Object.keys(Lh)).call(t,e)}))))}},{key:"establish",value:(A=pa(O.mark((function e(){var t,A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 3:if((t=e.sent).sdp){e.next=6;break}throw Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");case 6:return A=Qr(t.sdp),n=Br(t.sdp,{filterRTX:!this.useRTX,filterVideoFec:Th.FILTER_VIDEO_FEC,filterAudioFec:Th.FILTER_AUDIO_FEC,filterAudioCodec:["opus"]}),e.abrupt("return",(this.localCapabilities=n,this.initialOffer=t,ai(ai({},A),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:t.sdp})));case 10:throw e.prev=10,e.t0=e.catch(0),new mC(pC.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.t0.toString());case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return A.apply(this,arguments)})},{key:"connect",value:function(){var e=pa(O.mark((function e(t,A,n,r,i,o){var a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.initialOffer){e.next=3;break}throw Error("Cannot establish P2PConnection without initial offer.");case 3:return this.remoteSDP=new(function(){function e(t){zb(this,e),Z(this,"sessionDesc",void 0),Z(this,"localCapabilities",void 0),Z(this,"rtpCapabilities",void 0),Z(this,"candidates",void 0),Z(this,"iceParameters",void 0),Z(this,"dtlsParameters",void 0),Z(this,"setup",void 0),Z(this,"currentMidIndex",void 0),Z(this,"cname",void 0);var A=t=Je(t);t=A.remoteIceParameters;var n=A.remoteDtlsParameters,r=A.candidates,i=A.remoteRTPCapabilities,o=A.remoteSetup,a=A.localCapabilities,s=A.sdkCodec,c=A.cname;for(A=ib.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n"),this.rtpCapabilities=i,this.candidates=r,this.iceParameters=t,this.dtlsParameters=n,this.setup=o,this.localCapabilities=a,this.cname=c,a=0;a<A.mediaDescriptions.length;a++){if((c=A.mediaDescriptions[a]).attributes.iceUfrag=t.iceUfrag,c.attributes.icePwd=t.icePwd,c.attributes.fingerprints=n.fingerprints,c.attributes.candidates=r,c.attributes.setup=o,"video"===c.media.mediaType){c.media.fmts=i.videoCodecs.map((function(e){return e.payloadType.toString(10)}));var u=i.videoCodecs.filter((function(e){var t,A;return null===(t=e.rtpMap)||void 0===t?void 0:Xs(A=t.encodingName.toLowerCase()).call(A,s)}));0===u.length&&(u=i.videoCodecs),c.attributes.payloads=u,c.attributes.extmaps=i.videoExtensions}"audio"===c.media.mediaType&&(c.media.fmts=i.audioCodecs.map((function(e){return e.payloadType.toString(10)})),c.attributes.payloads=i.audioCodecs,c.attributes.extmaps=i.audioExtensions),A.mediaDescriptions[a]=this.mungMediaDesc(c)}this.sessionDesc=A,this.currentMidIndex=A.mediaDescriptions.length-1}return Ib(e,[{key:"toString",value:function(){return ib.print(this.sessionDesc)}},{key:"send",value:function(e,t,A){t=(A=mr(t,this.cname)).ssrcs,A=A.ssrcGroups;var n=this.sessionDesc.mediaDescriptions.find((function(t){return e===jp.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType})),r=t[0].attributes.label,i=t[0].attributes.mslabel;return n.attributes.ssrcs=n.attributes.ssrcs.concat(t),n.attributes.ssrcGroups=n.attributes.ssrcGroups.concat(A),{id:r,mslabel:i}}},{key:"batchSend",value:function(e){var t=this;return e.map((function(e){return t.send(e.kind,e.ssrcMsg,void 0)}))}},{key:"stopSending",value:function(e){this.sessionDesc.mediaDescriptions.forEach((function(t){var A=[],n=[],r=[];t.attributes.ssrcs.forEach((function(t){Xs(e).call(e,t.attributes.label||"")?r.push(t):A.push(t)})),t.attributes.ssrcGroups.forEach((function(e){var t;Xs(t=r.map((function(e){return e.ssrcId}))).call(t,e.ssrcIds[0])||n.push(e)})),t.attributes.ssrcs=A,t.attributes.ssrcGroups=n}))}},{key:"mute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}},{key:"unmute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}},{key:"receive",value:function(e,t,A){var n=this;e.forEach((function(e,t){var A=e._mediaStreamTrack;t=n.sessionDesc.mediaDescriptions.findIndex((function(e){return e.attributes.mid===A.kind})),e=n.mungRecvMediaDsec(n.sessionDesc.mediaDescriptions[t],e),n.sessionDesc.mediaDescriptions[t]=e}))}},{key:"stopReceiving",value:function(e){}},{key:"updateCandidates",value:function(e){var t=this;e===Wp.TCP?this.candidates.forEach((function(e){-1===t.candidates.findIndex((function(t){return"tcp"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port}))&&t.candidates.push(ii(ii({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))})):this.candidates=this.candidates.filter((function(e){return"tcp"!==e.transport})),e=0;for(var A=this.sessionDesc.mediaDescriptions;e<A.length;e++)A[e].attributes.candidates=this.candidates}},{key:"restartICE",value:function(e){this.iceParameters=e=Je(e),this.sessionDesc.mediaDescriptions.forEach((function(t){t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}},{key:"predictReceivingMids",value:function(e){for(var t=[],A=0;A<e;A++)t.push((this.currentMidIndex+A+1).toString(10));return t}},{key:"mungRecvMediaDsec",value:function(e,t){return _r(e=Je(e),t),Rr(e,t),e}},{key:"updateRecvMedia",value:function(e,t){var A=this.sessionDesc.mediaDescriptions.findIndex((function(t){return t.attributes.mid===e}));-1!==A&&(t=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[A],t),this.sessionDesc.mediaDescriptions[A]=t)}},{key:"bumpMid",value:function(e){this.currentMidIndex+=e}},{key:"updateTrackLabel",value:function(e,t,A){var n,r=this.sessionDesc.mediaDescriptions.find((function(t){return e===jp.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid}));r&&(r=r.attributes.ssrcs.find((function(e){return e.attributes.label===t})))&&(r.attributes.label=A,null===(n=r.attributes.msid)||void 0===n||n.replace(t,A))}},{key:"mungMediaDesc",value:function(e){return br(e=Je(e)),(A=(t=e).attributes.extmaps.find((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName})))&&t.attributes.extmaps.splice(t.attributes.extmaps.indexOf(A),1),t.attributes.payloads.forEach((function(e){var t=e.rtcpFeedbacks.findIndex((function(e){return"transport-cc"===e.type}));-1!==t&&e.rtcpFeedbacks.splice(t,1)})),e;var t,A}},{key:"getSSRC",value:function(e){for(var t=0,A=this.sessionDesc.mediaDescriptions;t<A.length;t++)for(var n=0,r=A[t].attributes.ssrcs;n<r.length;n++){var i=r[n];if(i.attributes.label===e)return[i]}}}]),e}())({remoteIceParameters:t,remoteDtlsParameters:A,candidates:n,remoteRTPCapabilities:r.send,remoteSetup:i,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:o}),a=this.remoteSDP.toString(),e.next=7,this.peerConnection.setLocalDescription(this.initialOffer);case 7:return e.next=9,this.peerConnection.setRemoteDescription({type:"answer",sdp:a});case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.t0.toString()));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,A,n,r,i,o){return e.apply(this,arguments)}}()},{key:"updateRemoteRTPCapabilities",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new mC(pC.NOT_SUPPORTED,"Planb mode does not support createDataChannels.");case 1:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t){var A=this;return ar(O.mark((function n(){var r,i,o,a,s,c,u,g;return O.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ir(A.mutex.lock());case 2:if(r=n.sent,n.prev=3,A.remoteSDP){n.next=6;break}throw Error("Cannot call P2PConnection.send before remote SDP created");case 6:return i=e.map((function(e){return A.peerConnection.addTrack(e._mediaStreamTrack)})),n.next=9,ir(A.peerConnection.createOffer());case 9:return o=n.sent,a=ib.parse(o.sdp),s=e.map((function(e){var t=e._mediaStreamTrack;if(!(e=a.mediaDescriptions.find((function(e){return e.attributes.mid===t.kind}))))throw Error("Cannot extract ssrc from mediaDescription.");return function(e,t,A){var n=e.attributes.ssrcs.filter((function(e){return e.attributes.label===t}));if(e=e.attributes.ssrcGroups,0===n.length)throw Error("Cannot extract ssrc from plan-b SDP.");return e&&1<n.length&&(e=e.find((function(e){return-1!==e.ssrcIds.indexOf(n[0].ssrcId)})))?[{ssrcId:e.ssrcIds[0],rtx:A?e.ssrcIds[1]:void 0}]:[{ssrcId:n[0].ssrcId}]}(e,t.id,A.useRTX)})),n.prev=12,n.next=15,s;case 15:c=n.sent,n.next=21;break;case 18:throw n.prev=18,n.t0=n.catch(12),i.forEach((function(e){ie()&&e.replaceTrack(null),A.peerConnection.removeTrack(e)})),n.t0;case 21:return u=A.mungSendOfferSDP(o.sdp,e),A.remoteSDP.receive(e,t,c),g=A.remoteSDP.toString(),n.next=26,ir(A.peerConnection.setLocalDescription({type:"offer",sdp:u}));case 26:return n.next=28,ir(A.applySendEncodings(i,e));case 28:return n.next=30,ir(A.peerConnection.setRemoteDescription({type:"answer",sdp:g}));case 30:return n.abrupt("return",e.map((function(e,t){return{localSSRC:s[t],id:e._mediaStreamTrack.id}})));case 33:throw n.prev=33,n.t1=n.catch(3),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(n.t1.toString()));case 36:return n.prev=36,r(),n.finish(36);case 39:case"end":return n.stop()}}),n,null,[[3,33,36,39],[12,18]])})))()}},{key:"stopSending",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.stopSending before remote SDP created");case 3:if((A=this.peerConnection.getSenders().filter((function(e){var A;return-1!==t.indexOf((null===(A=e.track)||void 0===A?void 0:A.id)||"")}))).length===t.length){e.next=6;break}throw Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");case 6:return A.map((function(e){ie()&&e.replaceTrack(null),i.peerConnection.removeTrack(e)})),e.next=9,this.peerConnection.createOffer();case 9:return n=e.sent,e.next=12,this.peerConnection.setLocalDescription(n);case 12:return this.remoteSDP.stopReceiving(t),r=this.remoteSDP.toString(),e.next=16,this.peerConnection.setRemoteDescription({type:"answer",sdp:r});case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.t0.toString()));case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));case 3:return i=this.remoteSDP.send(t,A,r),o=i.id,a=i.mslabel,s=new IC((function(e,A){var n=setTimeout((function(){A(Error("Cannot receive track, id: ".concat(o)))}),1e4);g.peerConnection.addEventListener("track",(function A(r){var i,s=ee();return("Safari"===s.name&&11===Number(s.version)||ae())&&r.track.id!==o&&r.streams[0].id===a?(s=r.streams[0].getTracks()[0],null===(i=g.remoteSDP)||void 0===i||i.updateTrackLabel(t,o,r.track.id),g.peerConnection.removeEventListener("track",A),clearTimeout(n),void e(s)):r.track.id===o?(g.peerConnection.removeEventListener("track",A),clearTimeout(n),void e(r.track)):void 0}))})),c=this.remoteSDP.toString(),e.next=6,this.peerConnection.setRemoteDescription({type:"offer",sdp:c});case 6:return e.next=8,this.peerConnection.createAnswer();case 8:return u=e.sent,e.next=11,this.peerConnection.setLocalDescription(u);case 11:return e.next=13,s;case 13:return e.t0=e.sent,e.t1=o,e.abrupt("return",{track:e.t0,id:e.t1});case 18:throw e.prev=18,e.t2=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t2.toString()));case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=pa(O.mark((function e(t){var A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");case 3:return this.remoteSDP.stopSending(t),A=this.remoteSDP.toString(),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:A});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return n=e.sent,e.next=12,this.peerConnection.setLocalDescription(n);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.t0.toString()));case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"muteRemote",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteRemote",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"muteLocal",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.muteLocal before remote SDP created.");case 3:if((A=this.peerConnection.getSenders().filter((function(e){var A;return-1!==t.indexOf((null===(A=e.track)||void 0===A?void 0:A.id)||"")}))).length===t.length){e.next=6;break}throw Error("sender' length doesn't match mids' length.");case 6:A.map((function(e){if(ie()&&e.track)e.track.enabled=!1;else{var t=e.getParameters();t.encodings.forEach((function(e){return e.active=!1})),e.setParameters(t)}})),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.t0.toString()));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteLocal",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");case 3:if((A=this.peerConnection.getSenders().filter((function(e){var A;return-1!==t.indexOf((null===(A=e.track)||void 0===A?void 0:A.id)||"")}))).length===t.length){e.next=6;break}throw Error("Senders' length doesn't match mids' length.");case 6:return A.map(function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie()||!t.track){e.next=4;break}t.track.enabled=!0,e.next=8;break;case 4:return(A=t.getParameters()).encodings.forEach((function(e){return e.active=!0})),e.next=8,t.setParameters(A);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,this.peerConnection.createOffer();case 9:return n=e.sent,e.next=12,this.peerConnection.setLocalDescription(n);case 12:return r=this.remoteSDP.toString(),e.next=15,this.peerConnection.setRemoteDescription({type:"answer",sdp:r});case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.t0.toString()));case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"restartICE",value:function(e){var t=this;return ar(O.mark((function A(){var n,r,i,o,a,s,c,u;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,ir(t.mutex.lock("From P2PConnection.restartICE"));case 2:if(n=A.sent,A.prev=3,t.remoteSDP){A.next=6;break}throw Error("Cannot restartICE before remoteSDP created.");case 6:if(!lB.supportPCSetConfiguration){A.next=11;break}r=t.peerConnection.getConfiguration(),i=e===Wp.RELAY?"relay":"all",r.iceTransportPolicy!==i&&(qh.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(r.iceTransportPolicy,"] to [").concat(i,"]")),r.iceTransportPolicy=i,t.peerConnection.setConfiguration(r)),A.next=13;break;case 11:if(e!==Wp.RELAY){A.next=13;break}return A.abrupt("return");case 13:return e!==Wp.RELAY&&t.remoteSDP.updateCandidates(e),A.next=16,ir(t.peerConnection.createOffer({iceRestart:!0}));case 16:if((o=A.sent).sdp){A.next=19;break}throw Error("Cannot restartICE because restart offer SDP does not exist.");case 19:return a=Qr(o.sdp),A.next=22,a.iceParameters;case 22:return s=A.sent,c=s.remoteIceParameters,t.remoteSDP.restartICE(c),u=t.remoteSDP.toString(),A.next=28,ir(t.peerConnection.setLocalDescription(o));case 28:return A.next=30,ir(t.peerConnection.setRemoteDescription({type:"answer",sdp:u}));case 30:A.next=35;break;case 32:A.prev=32,A.t0=A.catch(3),qh.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),A.t0);case 35:return A.prev=35,n(),A.finish(35);case 38:case"end":return A.stop()}}),A,null,[[3,32,35,38]])})))()}},{key:"close",value:function(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}},{key:"getStats",value:function(){return this.statsFilter.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){return this.statsFilter.getVideoIsReady(e)}},{key:"updateEncoderConfig",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");case 3:return e.next=5,this.peerConnection.createOffer();case 5:return n=e.sent,r=this.mungSendOfferSDP(n.sdp,[A]),this.remoteSDP.updateRecvMedia(A._mediaStreamTrack.kind,A),i=this.remoteSDP.toString(),e.next=11,this.peerConnection.setLocalDescription({type:"offer",sdp:r});case 11:return e.next=13,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,e.t0.toString());case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"updateSendParameters",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.peerConnection.getSenders().filter((function(e){var A;return(null===(A=e.track)||void 0===A?void 0:A.id)===t})),e.t0=1===n.length,!e.t0){e.next=5;break}return e.next=5,this.applySendEncodings(n,[A]);case 5:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setStatsRemoteVideoIsReady",value:function(e,t){this.statsFilter.setVideoIsReady2(e,t)}},{key:"replaceTrack",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.peerConnection.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.id)===A})),e.t0=n,!e.t0){e.next=5;break}return e.next=5,n.replaceTrack(t._mediaStreamTrack);case 5:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"createDataChannels",value:function(e,t){throw new mC(pC.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}},{key:"stopDataChannels",value:function(e){throw new mC(pC.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}},{key:"bindPCEvents",value:function(){var e=this;this.peerConnection.oniceconnectionstatechange=function(){var t;null===(t=e.onICEConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=function(){var t;null===(t=e.onConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.connectionState)},this.peerConnection.onicecandidate=function(t){t.candidate?e.localCandidateCount+=1:(e.peerConnection.onicecandidate=null,e.allCandidatesReceived=!0,qh.debug("[".concat(e.store.clientId,"] [pc-").concat(e.store.p2pId,"] local candidate count"),e.localCandidateCount))},setTimeout((function(){e.allCandidatesReceived||(e.allCandidatesReceived=!0,qh.debug("[".concat(e.store.clientId,"] [pc-").concat(e.store.p2pId,"] onicecandidate timeout, local candidate count"),e.localCandidateCount))}),Th.CANDIDATE_TIMEOUT)}},{key:"unbindPCEvents",value:function(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}},{key:"updateRtpSenderEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A||(A=this.peerConnection.getSenders().find((function(e){var A;return(null===(A=e.track)||void 0===A?void 0:A.id)===t._mediaStreamTrack.id}))),A){e.next=3;break}return e.abrupt("return",qh.warn("[".concat(t.getTrackId(),"] no rtpSender found}")));case 3:if(lB.supportSetRtpSenderParameters){e.next=5;break}return e.abrupt("return",qh.warn("Browser not support set rtp-sender parameters"));case 5:if(r={},i={},!(t instanceof _Q)){e.next=15;break}e.t0=t._optimizationMode,e.next="motion"===e.t0?10:"detail"===e.t0?12:14;break;case 10:return r.degradationPreference="maintain-framerate",e.abrupt("break",15);case 12:return r.degradationPreference="maintain-resolution",e.abrupt("break",15);case 14:r.degradationPreference="balanced";case 15:return Th.DSCP_TYPE&&fe()&&(a=Th.DSCP_TYPE,Xs(o=["very-low","low","medium","high"]).call(o,a)&&(i.networkPriority=a)),s=A.getParameters(),(c=null===(n=s.encodings)||void 0===n?void 0:n[0])&&Object.assign(c,i),Object.assign(s,r),qh.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(s.encodings))),e.next=22,A.setParameters(s);case 22:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"applySendEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,lB.supportSetRtpSenderParameters){e.next=3;break}return e.abrupt("return");case 3:if(t.length===A.length){e.next=5;break}return e.abrupt("return");case 5:n=0;case 6:if(!(n<t.length)){e.next=15;break}if(r=t[n],i=A[n],e.t0=r&&i,!e.t0){e.next=12;break}return e.next=12,this.updateRtpSenderEncodings(i,r);case 12:n++,e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),qh.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."));case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"mungSendOfferSDP",value:function(e,t){var A=ib.parse(e);return t.forEach((function(e,t){var n=e._mediaStreamTrack;(t=A.mediaDescriptions.find((function(e){return e.attributes.mid===n.kind})))&&_r(t,e)})),ib.print(A)}},{key:"bindStatsEvents",value:function(){var e=this;this.statsFilter.onFirstAudioReceived=function(t){var A;null===(A=e.onFirstAudioReceived)||void 0===A||A.call(e,t)},this.statsFilter.onFirstVideoReceived=function(t){var A;null===(A=e.onFirstVideoReceived)||void 0===A||A.call(e,t)},this.statsFilter.onFirstAudioDecoded=function(t){var A;null===(A=e.onFirstAudioDecoded)||void 0===A||A.call(e,t)},this.statsFilter.onFirstVideoDecoded=function(t,A,n){var r;null===(r=e.onFirstVideoDecoded)||void 0===r||r.call(e,t,A,n)},this.statsFilter.onSelectedLocalCandidateChanged=function(t,A){var n;null===(n=e.onSelectedLocalCandidateChanged)||void 0===n||n.call(e,t,A)},this.statsFilter.onSelectedRemoteCandidateChanged=function(t,A){var n;null===(n=e.onSelectedRemoteCandidateChanged)||void 0===n||n.call(e,t,A)}}},{key:"unbindStatsEvents",value:function(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}},{key:"batchReceive",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");case 3:return A=this.remoteSDP.batchSend(t).map((function(e,A){var n=e.id,r=e.mslabel,o=t[A].kind;return new IC((function(e,t){var A=setTimeout((function(){t(Error("Cannot receive track, id: ".concat(n)))}),1e4);i.peerConnection.addEventListener("track",(function t(a){var s,c=ee();return"Safari"===c.name&&11===Number(c.version)&&a.track.id!==n&&a.streams[0].id===r?(c=a.streams[0].getTracks()[0],null===(s=i.remoteSDP)||void 0===s||s.updateTrackLabel(o,n,a.track.id),i.peerConnection.removeEventListener("track",t),clearTimeout(A),void e({track:c,id:n})):a.track.id===n?(i.peerConnection.removeEventListener("track",t),clearTimeout(A),void e({track:a.track,id:n})):void 0}))}))})),n=this.remoteSDP.toString(),e.next=6,this.peerConnection.setRemoteDescription({type:"offer",sdp:n});case 6:return e.next=8,this.peerConnection.createAnswer();case 8:return r=e.sent,e.next=11,this.peerConnection.setLocalDescription(r);case 11:return e.next=13,IC.all(A);case 13:return e.abrupt("return",e.sent);case 16:throw e.prev=16,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t0.toString()));case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRemoteSSRC",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.remoteSDP){e.next=2;break}return e.abrupt("return");case 2:return A=this.remoteSDP.getSSRC(t),e.abrupt("return",null==A?void 0:A[0].ssrcId);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setConfiguration",value:function(e){lB.supportPCSetConfiguration&&(e=t.resolvePCConfiguration(e),this.peerConnection.setConfiguration(e))}}],[{key:"resolvePCConfiguration",value:function(e){var A,n,r={iceServers:[],sdpSemantics:"plan-b"};return e.iceServers?r.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(Te(e.turnServer.servers)?r.iceServers=e.turnServer.servers:(r.iceServers&&(A=r.iceServers).push.apply(A,rb(t.turnServerConfigToIceServers(e.turnServer.servers))),Th.USE_TURN_SERVER_OF_GATEWAY&&r.iceServers&&e.turnServer.serversFromGateway&&(n=r.iceServers).push.apply(n,rb(t.turnServerConfigToIceServers(e.turnServer.serversFromGateway))),e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((function(e){e.forceturn&&(r.iceTransportPolicy="relay")})))),r}},{key:"turnServerConfigToIceServers",value:function(e){var t=[];return e.forEach((function(e){e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}}]),t}(ff);Ht([si,jt("design:type",Function),jt("design:paramtypes",[Object,Object,Array,Object,String,String]),jt("design:returntype",IC)],Tb.prototype,"connect",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Tb.prototype,"stopSending",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[String,Array,String,Object]),jt("design:returntype",IC)],Tb.prototype,"receive",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Tb.prototype,"stopReceiving",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Tb.prototype,"muteRemote",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Tb.prototype,"unmuteRemote",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Tb.prototype,"muteLocal",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Tb.prototype,"unmuteLocal",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],Tb.prototype,"close",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],Tb.prototype,"updateEncoderConfig",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],Tb.prototype,"updateSendParameters",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[YB,String]),jt("design:returntype",IC)],Tb.prototype,"replaceTrack",null),Ht([si,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Tb.prototype,"getRemoteSSRC",null);var Ob=function(e){function t(e,A){zb(this,t);var r=n.call(this,e,A);return Z(V(r),"store",void 0),Z(V(r),"peerConnection",void 0),Z(V(r),"remoteSDP",void 0),Z(V(r),"initialOffer",void 0),Z(V(r),"transportEventReceiver",void 0),Z(V(r),"statsFilter",void 0),Z(V(r),"useXR",Th.USE_XR),Z(V(r),"localCapabilities",void 0),Z(V(r),"remoteCodecs",void 0),Z(V(r),"localCandidateCount",0),Z(V(r),"allCandidatesReceived",!1),Z(V(r),"dataStreamChannelMap",new Map),Z(V(r),"establishPromise",void 0),Z(V(r),"recoveredDataChannelIds",[]),Z(V(r),"currentDataChannelId",1),Z(V(r),"mutex",new ed("P2PConnection-mutex")),r.store=A,r.peerConnection=new RTCPeerConnection(t.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),r.statsFilter=hr(r.peerConnection,Th.STATS_UPDATE_INTERVAL,void 0,oe()?1200:void 0),r.bindPCEvents(),r.bindStatsEvents(),r.store.p2pId+=1,r.establishPromise=r.establish(),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"currentLocalDescription",get:function(){return this.peerConnection.currentLocalDescription}},{key:"currentRemoteDescription",get:function(){return this.peerConnection.currentRemoteDescription}},{key:"peerConnectionState",get:function(){return this.peerConnection.connectionState}},{key:"iceConnectionState",get:function(){return this.peerConnection.iceConnectionState}},{key:"dtlsTransportState",get:function(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}},{key:"localCodecs",get:function(){return rb(new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((function(e){return e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||""})).filter((function(e){var t;return Xs(t=Object.keys(Lh)).call(t,e)}))))}},{key:"updateRemoteRTPCapabilities",value:(A=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.remoteCodecs=A,this.remoteSDP){e.next=2;break}return e.abrupt("return",void qh.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(A)));case 2:if(!this.remoteSDP.updateRemoteCodec(t,A,this.store.codec)){e.next=15;break}return e.next=5,this.peerConnection.createOffer();case 5:return n=e.sent,r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal"),e.next=9,this.peerConnection.setLocalDescription(n);case 9:return i=this.remoteSDP.toString(),null==r||r(i),e.next=13,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 13:e.next=16;break;case 15:qh.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.");case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"establish",value:function(){var e=pa(O.mark((function e(){var t,A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"}),e.next=4,this.peerConnection.createOffer();case 4:if((t=e.sent).sdp){e.next=7;break}throw Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");case 7:return A=Qr(t.sdp),e.next=10,kr({filterRTX:!Th.USE_PUB_RTX&&!Th.USE_SUB_RTX,filterVideoFec:Th.FILTER_VIDEO_FEC,filterAudioFec:Th.FILTER_AUDIO_FEC,filterVideoCodec:Th.FILTER_VIDEO_CODEC},{useXR:this.useXR});case 10:return n=e.sent,e.abrupt("return",(this.localCapabilities=Lr(n),this.initialOffer=t,Ii(Ii({},A),{},{rtpCapabilities:n,offerSDP:t.sdp})));case 14:throw e.prev=14,e.t0=e.catch(0),new mC(pC.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.t0.toString());case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=pa(O.mark((function e(t,A,n,r,i,o){var a,s,c,u,g,I,l,E;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.initialOffer){e.next=3;break}throw Error("Cannot establish P2PConnection without initial offer.");case 3:return this.remoteSDP=new(function(){function e(t){zb(this,e),Z(this,"sessionDesc",void 0),Z(this,"_localCapabilities",void 0),Z(this,"_rtpCapabilities",void 0),Z(this,"_candidates",void 0),Z(this,"_iceParameters",void 0),Z(this,"_dtlsParameters",void 0),Z(this,"setup",void 0),Z(this,"currentMidIndex",void 0),Z(this,"cname",void 0),Z(this,"firefoxSsrcMidMap",new Map);var A=t=Je(t);t=A.remoteIceParameters;var n=A.remoteDtlsParameters,r=A.candidates,i=A.remoteRTPCapabilities,o=A.remoteSetup,a=A.localCapabilities,s=A.cname;for(A=ib.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"),this._rtpCapabilities=i,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=o,this.cname=s,i=this.rtpCapabilities.send,a=0,s=A.mediaDescriptions;a<s.length;a++){var c=s[a];if(c.attributes.iceUfrag=t.iceUfrag,c.attributes.icePwd=t.icePwd,c.attributes.fingerprints=n.fingerprints,c.attributes.candidates=r,c.attributes.setup=o,"video"===c.media.mediaType&&(c.media.fmts=i.videoCodecs.map((function(e){return e.payloadType.toString(10)})),c.attributes.payloads=i.videoCodecs,c.attributes.extmaps=i.videoExtensions,0<Th.PRELOAD_MEDIA_COUNT)){var u=mr([{ssrcId:4e4,rtx:Th.USE_SUB_RTX?40001:void 0}],this.cname),g=u.ssrcGroups;c.attributes.ssrcs=u.ssrcs,c.attributes.ssrcGroups=g}"audio"===c.media.mediaType&&(c.media.fmts=i.audioCodecs.map((function(e){return e.payloadType.toString(10)})),c.attributes.payloads=i.audioCodecs,c.attributes.extmaps=i.audioExtensions,Mr(c),0<Th.PRELOAD_MEDIA_COUNT)&&(g=(u=mr([{ssrcId:2e4}],this.cname)).ssrcGroups,c.attributes.ssrcs=u.ssrcs,c.attributes.ssrcGroups=g)}this.sessionDesc=A,this.currentMidIndex=A.mediaDescriptions.length-1}return Ib(e,[{key:"localCapabilities",get:function(){return Je(this._localCapabilities)}},{key:"rtpCapabilities",get:function(){return Je(this._rtpCapabilities)}},{key:"candidates",get:function(){return Je(this._candidates)}},{key:"iceParameters",get:function(){return Je(this._iceParameters)}},{key:"dtlsParameters",get:function(){return Je(this._dtlsParameters)}},{key:"preloadRemoteMedia",value:function(){var e=Th.PRELOAD_MEDIA_COUNT;this.rtpCapabilities;for(var t=this.candidates,A=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send,i=1;i<e;i++){var o=2*i+4e4,a=mr([{ssrcId:2*i+2e4}],this.cname),s=a.ssrcs;a=a.ssrcGroups;var c=mr([{ssrcId:o,rtx:Th.USE_SUB_RTX?o+1:void 0}],this.cname);o=c.ssrcs,c=c.ssrcGroups,this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:r.videoCodecs.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:A.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:o,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*i)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:r.audioCodecs.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:A.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:s,ssrcGroups:a,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*i+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}},{key:"toString",value:function(){return ib.print(this.sessionDesc)}},{key:"send",value:function(e,t,A,n){t=(A=mr(t,this.cname,Th.SYNC_GROUP?A:void 0)).ssrcs,A=A.ssrcGroups;var r,i=this.findPreloadMediaDesc(t);return i?(oe()&&this.firefoxSsrcMidMap.set(t[0].ssrcId,i.attributes.mid),n&&(n.twcc||n.remb)?(e=this.sessionDesc.mediaDescriptions.indexOf(i),this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(i,n),{mid:i.attributes.mid,needExchangeSDP:!0}):{mid:i.attributes.mid,needExchangeSDP:!1}):(-1===(i=this.findAvailableMediaIndex(e,t))||1===i&&(ie()||ge())||0===i&&Th.USE_SUB_RTX||Ie()?(r=this.createOrRecycleSendMedia(e,t,A,"sendonly",n),this.updateBundleMids()):((r=Je(this.sessionDesc.mediaDescriptions[i])).attributes.direction="sendonly",r.attributes.ssrcs=t,r.attributes.ssrcGroups=A,this.sessionDesc.mediaDescriptions[i]=this.mungSendMediaDesc(r,n)),oe()&&this.firefoxSsrcMidMap.set(t[0].ssrcId,r.attributes.mid),{mid:r.attributes.mid,needExchangeSDP:!0})}},{key:"sendDataChannel",value:function(){var e=this.createOrRecycleDataChannel(),t=e.mediaDesc;return e=e.needExchangeSDP,this.updateBundleMids(),{mid:t.attributes.mid,needExchangeSDP:e}}},{key:"batchSend",value:function(e){var t=this,A=[],n=!1;return e.map((function(e){return t.send(e.kind,e.ssrcMsg,e.mslabel)})).forEach((function(e){var t=e.mid;e.needExchangeSDP&&(n=!0),A.push(t)})),{mids:A,needExchangeSDP:n}}},{key:"stopSending",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((function(e){"0"===e.attributes.mid||oe()||Ie()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}},{key:"mute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}},{key:"unmute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}},{key:"muteRemote",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return Xs(e).call(e,t.attributes.mid||"")}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((function(e){e.attributes.direction="inactive"}))}},{key:"unmuteRemote",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return Xs(e).call(e,t.attributes.mid||"")}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((function(e){e.attributes.direction="recvonly"}))}},{key:"receive",value:function(e,t,A,n){var r=this;e.forEach((function(e,i){r.createOrRecycleRecvMedia(e,[],"recvonly",t,A,n[i])})),this.updateBundleMids()}},{key:"stopReceiving",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return-1!==e.indexOf(t.attributes.mid)}));if(t.length!==e.length)throw Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((function(e){e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}},{key:"updateCandidates",value:function(e){var t=this._candidates.filter((function(e){return"udp"===e.transport}));if(e===Wp.TCP){if(0===t.length)return;if(Th.TCP_CANDIDATE_ONLY){var A=this._candidates.filter((function(e){return"tcp"===e.transport}));t.forEach((function(e){-1===A.findIndex((function(t){return t.connectionAddress===e.connectionAddress}))&&A.push(ui(ui({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))})),this._candidates=A}else{var n=[];t.forEach((function(e){n.push(ui(ui({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))})),this._candidates=[].concat(rb(t),n)}}else if(e===Wp.RELAY){if(0!==t.length)return;(e=this._candidates.filter((function(e){return"tcp"===e.transport}))).forEach((function(e){t.push(ui(ui({},e),{},{foundation:"udpcandidate",priority:Number(e.priority)+1+"",transport:"udp",port:Number(e.port)-90+""}))})),this._candidates=[].concat(rb(t),rb(e))}else 0===t.length?(this._candidates.filter((function(e){return"tcp"===e.transport})).forEach((function(e){t.push(ui(ui({},e),{},{foundation:"udpcandidate",priority:Number(e.priority)+1+"",transport:"udp",port:Number(e.port)-90+""}))})),this._candidates=t):this._candidates=this._candidates.filter((function(e){return"tcp"!==e.transport}));e=0;for(var r=this.sessionDesc.mediaDescriptions;e<r.length;e++)r[e].attributes.candidates=this.candidates}},{key:"restartICE",value:function(e){this._iceParameters=e=Je(e),this.sessionDesc.mediaDescriptions.forEach((function(t){t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}},{key:"predictReceivingMids",value:function(e){for(var t=[],A=0;A<e;A++)t.push((this.currentMidIndex+A+1).toString(10));return t}},{key:"findAvailableMediaIndex",value:function(e,t){var A=this;return this.sessionDesc.mediaDescriptions.findIndex((function(n){var r=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;return oe()?!(!r||((r=A.firefoxSsrcMidMap.get(t[0].ssrcId))||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)&&(!r||r!==n.attributes.mid)):r}))}},{key:"createOrRecycleDataChannel",value:function(){for(var e=0,t=this.sessionDesc.mediaDescriptions;e<t.length;e++){var A=t[e];if("application"===A.media.mediaType)return{mediaDesc:A,needExchangeSDP:!1}}return this.currentMidIndex+=1,e="".concat(this.currentMidIndex),e={media:{mediaType:"application",port:"9",protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(e),sctpPort:"5000"}},this.sessionDesc.mediaDescriptions.push(e),{mediaDesc:e,needExchangeSDP:!0}}},{key:"createOrRecycleRecvMedia",value:function(e,t,A,n,r,i){var o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv;return n=xr(o,a,this.localCapabilities.send,o===jp.VIDEO?n:r),a=o===jp.VIDEO?a.videoExtensions:a.audioExtensions,this.currentMidIndex+=1,r="".concat(this.currentMidIndex),t={media:{mediaType:o,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:n.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:n,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:A,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(r)}},t=this.mungRecvMediaDsec(t,e,i),(e=this.findFirstClosedMedia(o))?(e=this.sessionDesc.mediaDescriptions.indexOf(e),this.sessionDesc.mediaDescriptions[e]=t):this.sessionDesc.mediaDescriptions.push(t),t}},{key:"updateRemoteCodec",value:function(e,t,A){var n=rb(new Set(this._rtpCapabilities.recv.videoCodecs.map((function(e){return e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||""})).filter((function(e){var t;return Xs(t=Object.keys(Lh)).call(t,e)})))),r=new Set(t);if(n.every((function(e){return r.has(e)})))return qh.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(t)),!1;var i=this._rtpCapabilities.recv.videoCodecs.filter((function(e){return t.some((function(t){var A;return Xs(A=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(A,t)}))}));if(0===i.length)return qh.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(n," codecs: ").concat(t)),!1;var o=rb(new Set(i.map((function(e){return e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||""}))));if(qh.debug("updateRemoteCodec, from ".concat(n," to ").concat(o)),0===e.length)var a=this.sessionDesc.mediaDescriptions.filter((function(e){return"video"===e.media.mediaType&&"recvonly"===e.attributes.direction}));else if((a=this.sessionDesc.mediaDescriptions.filter((function(t){return t.attributes.mid&&Xs(e).call(e,t.attributes.mid)&&"recvonly"===t.attributes.direction}))).length!==e.length)return qh.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(e,", codecs: ").concat(t)),!1;this._rtpCapabilities.recv.videoCodecs=i;var s=xr(jp.VIDEO,this.rtpCapabilities.recv,this.localCapabilities.send,A);return a.forEach((function(e){var t=s.map((function(e){return e.payloadType.toString(10)}));qh.debug("updateRemoteCodec mid: ".concat(e.attributes.mid,", from ").concat(e.attributes.payloads," to ").concat(s)),e.attributes.payloads=s,e.media.fmts=t})),!0}},{key:"createOrRecycleSendMedia",value:function(e,t,A,n,r){var i=this.rtpCapabilities.send,o=e===jp.VIDEO?i.videoCodecs:i.audioCodecs;i=e===jp.VIDEO?i.videoExtensions:i.audioExtensions,this.currentMidIndex+=1;var a="".concat(this.currentMidIndex);return t={media:{mediaType:e,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:o.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:i,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:A,rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(a)}},t=this.mungSendMediaDesc(t,r),(e=this.findFirstClosedMedia(e))?(e=this.sessionDesc.mediaDescriptions.indexOf(e),this.sessionDesc.mediaDescriptions[e]=t):this.sessionDesc.mediaDescriptions.push(t),t}},{key:"updateBundleMids",value:function(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((function(e){return"0"!==e.media.port})).map((function(e){return e.attributes.mid}))}},{key:"mungRecvMediaDsec",value:function(e,t,A){return br(e=Je(e)),_r(e,t),Rr(e,t),Sr(e),wr(e,A,this.localCapabilities.send),e}},{key:"mungSendMediaDesc",value:function(e,t){return wr(e=Je(e),t,this.localCapabilities.recv),Mr(e),e}},{key:"updateRecvMedia",value:function(e,t){var A=this.sessionDesc.mediaDescriptions.findIndex((function(t){return t.attributes.mid===e}));-1!==A&&(t=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[A],t),this.sessionDesc.mediaDescriptions[A]=t)}},{key:"bumpMid",value:function(e){this.currentMidIndex+=e}},{key:"findFirstClosedMedia",value:function(e){return this.sessionDesc.mediaDescriptions.find((function(t){return oe()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port}))}},{key:"findPreloadMediaDesc",value:function(e){return this.sessionDesc.mediaDescriptions.find((function(t){var A;return(null===(A=t.attributes)||void 0===A||null===(A=A.ssrcs[0])||void 0===A?void 0:A.ssrcId)===e[0].ssrcId}))}},{key:"getSSRC",value:function(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e})))||void 0===t?void 0:t.attributes.ssrcs}}]),e}())({remoteIceParameters:t,remoteDtlsParameters:A,candidates:n,remoteRTPCapabilities:r,remoteSetup:i,localCapabilities:this.localCapabilities,cname:o}),Array.isArray(this.remoteCodecs)&&0<this.remoteCodecs.length&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec),a=this.remoteSDP.toString(),s=ib.parse(this.initialOffer.sdp),(c=s.mediaDescriptions.find((function(e){return"audio"===e.media.mediaType})))&&Mr(c),this.useXR&&Ur(s),u=ib.print(s),g=this.logSDPExchange(u||"","offer","local","connect"),this.store.descriptionStart(),e.next=10,this.peerConnection.setLocalDescription({type:"offer",sdp:u});case 10:return null==g||g(a),e.next=13,this.peerConnection.setRemoteDescription({type:"answer",sdp:a});case 13:if(null!=(I=this.peerConnection.getTransceivers()[0])&&I.receiver&&this.tryBindTransportEvents(I.receiver),!(0<Th.PRELOAD_MEDIA_COUNT)){e.next=24;break}return this.remoteSDP.preloadRemoteMedia(),l=this.remoteSDP.toString(),e.next=19,this.peerConnection.setRemoteDescription({type:"offer",sdp:l});case 19:return e.next=21,this.peerConnection.createAnswer();case 21:return E=e.sent,e.next=24,this.peerConnection.setLocalDescription(E);case 24:e.next=29;break;case 26:throw e.prev=26,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.t0.toString()));case 29:case"end":return e.stop()}}),e,this,[[0,26]])})));return function(t,A,n,r,i,o){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t,A){var n=this;return ar(O.mark((function r(){var i,o,a,s,c,u,g,I,l,E,C;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ir(n.mutex.lock("From P2PConnection.send"));case 2:if(i=r.sent,r.prev=3,n.remoteSDP){r.next=6;break}throw Error("Cannot call P2PConnection.send before remote SDP created");case 6:if(o=[],e.forEach((function(e){var t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t),e._updateRtpTransceiver(t)})),r.t0=oe()&&!0===Th.SIMULCAST,!r.t0){r.next=12;break}return r.next=12,ir(n.applySimulcastForFirefox(o,e));case 12:return r.next=14,ir(n.peerConnection.createOffer());case 14:return a=r.sent,s=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(a.sdp,e,s),u=ib.parse(c),g=s.map((function(e){var t=u.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("Cannot extract ssrc from mediaDescription.");return yr(t,Th.USE_PUB_RTX)})),r.prev=19,r.next=22,g;case 22:I=r.sent,r.next=36;break;case 25:return r.prev=25,r.t1=r.catch(19),I=[],n.remoteSDP.receive(e,t,A,I),l=n.remoteSDP.toString(),r.next=31,ir(n.peerConnection.setLocalDescription({type:"offer",sdp:c}));case 31:return r.next=33,ir(n.peerConnection.setRemoteDescription({type:"answer",sdp:l}));case 33:return r.next=35,ir(n.stopSending(s,!0));case 35:throw r.t1;case 36:return n.remoteSDP.receive(e,t,A,I),E=n.remoteSDP.toString(),C=n.logSDPExchange(c,"offer","local","send"),r.next=40,ir(n.peerConnection.setLocalDescription({type:"offer",sdp:c}));case 40:return r.next=42,ir(n.applySimulcastEncodings(o,e));case 42:return r.next=44,ir(n.applySendEncodings(o,e));case 44:return null==C||C(E),r.next=47,ir(n.peerConnection.setRemoteDescription({type:"answer",sdp:E}));case 47:return r.abrupt("return",o.map((function(e,t){return{localSSRC:g[t],id:s[t],transceiver:e}})));case 50:throw r.prev=50,r.t2=r.catch(3),r.t2 instanceof mC?r.t2:new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(r.t2.toString()));case 53:return r.prev=53,i(),r.finish(53);case 56:case"end":return r.stop()}}),r,null,[[3,50,53,56],[19,25]])})))()}},{key:"createDataChannels",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.createDataChannels before remote SDP created");case 3:if(!(n=this.dataStreamChannelMap.get(t))||"open"!==n.readyState){e.next=8;break}qh.debug("[P2PConnection] Channels are already available and can be reused directly."),e.next=12;break;case 8:if("number"==typeof(r=1023>this.currentDataChannelId?this.currentDataChannelId++:this.recoveredDataChannelIds.shift())){e.next=11;break}throw Error("create DataChannel error, because cannot get dc id");case 11:(n=this.peerConnection.createDataChannel("datastream-channel",{id:r,negotiated:!0,ordered:!1,maxRetransmits:Th.DATASTREAM_MAX_RETRANSMITS})).binaryType="arraybuffer",this.dataStreamChannelMap.set(t,n);case 12:if(A.forEach((function(e){e._updateOriginDataChannel(n)})),!this.remoteSDP.sendDataChannel().needExchangeSDP){e.next=26;break}return i=this.remoteSDP.toString(),e.next=18,this.peerConnection.setRemoteDescription({type:"offer",sdp:i});case 18:return e.next=20,this.peerConnection.createAnswer();case 20:return o=e.sent,e.next=23,this.peerConnection.setLocalDescription(o);case 23:qh.debug("[P2PConnection] createDataChannels by exchanging SDP."),e.next=27;break;case 26:qh.debug("[P2PConnection] createDataChannels no need to exchange SDP.");case 27:return e.abrupt("return");case 30:throw e.prev=30,e.t0=e.catch(0),e.t0 instanceof mC?e.t0:new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(e.t0.toString()));case 33:case"end":return e.stop()}}),e,this,[[0,30]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"stopDataChannels",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A=this.dataStreamChannelMap.get(t),e.abrupt("return",(A&&(A.id&&this.recoveredDataChannelIds.push(A.id),A.close()),void this.dataStreamChannelMap.delete(t)));case 5:throw e.prev=5,e.t0=e.catch(0),e.t0 instanceof mC?e.t0:new mC(pC.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=4;break}e.t0=void 0,e.next=7;break;case 4:return e.next=6,this.mutex.lock("From P2PConnection.stopSending");case 6:e.t0=e.sent;case 7:if(n=e.t0,e.prev=8,this.remoteSDP){e.next=11;break}throw Error("Cannot call P2PConnection.stopSending before remote SDP created");case 11:if((r=this.peerConnection.getTransceivers().filter((function(e){return-1!==t.indexOf(e.mid)}))).length===t.length){e.next=14;break}throw Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");case 14:return r.map((function(e){var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)})),e.next=17,this.peerConnection.createOffer();case 17:return i=e.sent,o=this.logSDPExchange(i.sdp||"","offer","local","stopSending"),e.next=21,this.peerConnection.setLocalDescription(i);case 21:return this.remoteSDP.stopReceiving(t),a=this.remoteSDP.toString(),null==o||o(a),e.next=26,this.peerConnection.setRemoteDescription({type:"answer",sdp:a});case 26:e.next=31;break;case 28:throw e.prev=28,e.t1=e.catch(8),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.t1.toString()));case 31:return e.prev=31,n&&n(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[8,28,31,34]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));case 3:if(i=this.remoteSDP.send(t,A,n,r),o=i.mid,!i.needExchangeSDP){e.next=18;break}return a=this.remoteSDP.toString(),s=this.logSDPExchange(a,"offer","remote","receive"),e.next=8,this.peerConnection.setRemoteDescription({type:"offer",sdp:a});case 8:return e.next=10,this.peerConnection.createAnswer();case 10:return c=e.sent,u=this.mungReceiveAnswerSDP(c.sdp,o,t),null==s||s(u||""),e.next=15,this.peerConnection.setLocalDescription({type:"answer",sdp:u});case 15:qh.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP.")),e.next=19;break;case 18:qh.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," no need to exchange SDP."));case 19:if(g=this.peerConnection.getTransceivers().find((function(e){return e.mid===o}))){e.next=22;break}throw Error("Cannot get transceiver after setLocalDescription.");case 22:return e.abrupt("return",{track:g.receiver.track,id:o,transceiver:g});case 25:throw e.prev=25,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t0.toString()));case 28:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"batchReceive",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");case 3:if(A=this.remoteSDP.batchSend(t),n=A.mids,!A.needExchangeSDP){e.next=17;break}return r=this.remoteSDP.toString(),i=this.logSDPExchange(r,"offer","remote","receive"),e.next=8,this.peerConnection.setRemoteDescription({type:"offer",sdp:r});case 8:return e.next=10,this.peerConnection.createAnswer();case 10:return o=e.sent,null==i||i(o.sdp||""),e.next=14,this.peerConnection.setLocalDescription(o);case 14:qh.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP.")),e.next=18;break;case 17:qh.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive no need to exchange SDP."));case 18:return e.abrupt("return",n.map((function(e){var t=a.peerConnection.getTransceivers().find((function(t){return t.mid===e}));if(!t)throw Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e,transceiver:t}})));case 21:throw e.prev=21,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t0.toString()));case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");case 3:return this.remoteSDP.stopSending(t),A=this.remoteSDP.toString(),n=this.logSDPExchange(A,"offer","remote","stopReceiving"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:A});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return r=e.sent,null==n||n(r.sdp||""),e.next=13,this.peerConnection.setLocalDescription(r);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"muteRemote",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.muteRemote mid=".concat(t," before remote SDP created."));case 3:return this.remoteSDP.mute(t),A=this.remoteSDP.toString(),n=this.logSDPExchange(A,"offer","remote","muteRemote"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:A});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return r=e.sent,null==n||n(r.sdp||""),e.next=13,this.peerConnection.setLocalDescription(r);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteRemote",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.unmuteRemote mid=".concat(t," before remote SDP created."));case 3:return this.remoteSDP.unmute(t),A=this.remoteSDP.toString(),n=this.logSDPExchange(A,"offer","remote","unmuteRemote"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:A});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return r=e.sent,null==n||n(r.sdp||""),e.next=13,this.peerConnection.setLocalDescription(r);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"muteLocal",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.muteLocal before remote SDP created.");case 3:if((A=this.peerConnection.getTransceivers().filter((function(e){return e.mid&&-1!==t.indexOf(e.mid)}))).length===t.length){e.next=6;break}throw Error("Transceivers' length doesn't match mids' length.");case 6:return A.map((function(e){e.direction="inactive"})),e.next=9,this.peerConnection.createOffer();case 9:return n=e.sent,r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal"),e.next=13,this.peerConnection.setLocalDescription(n);case 13:return this.remoteSDP.muteRemote(t),i=this.remoteSDP.toString(),null==r||r(i),e.next=18,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.t0.toString()));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteLocal",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");case 3:if((A=this.peerConnection.getTransceivers().filter((function(e){return e.mid&&-1!==t.indexOf(e.mid)}))).length===t.length){e.next=6;break}throw Error("Transceivers' length doesn't match mids' length.");case 6:return A.map(function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.direction="sendonly";case 1:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}()),e.next=9,this.peerConnection.createOffer();case 9:return n=e.sent,r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal"),e.next=13,this.peerConnection.setLocalDescription(n);case 13:return this.remoteSDP.unmuteRemote(t),i=this.remoteSDP.toString(),null==r||r(i),e.next=18,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.t0.toString()));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"restartICE",value:function(e){var t=this;return ar(O.mark((function A(){var n,r,i,o,a,s,c,u,g;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,ir(t.mutex.lock("From P2PConnection.restartICE"));case 2:if(n=A.sent,A.prev=3,t.remoteSDP){A.next=6;break}throw Error("Cannot restartICE before remoteSDP created.");case 6:if(!lB.supportPCSetConfiguration){A.next=11;break}r=t.peerConnection.getConfiguration(),i=e===Wp.RELAY?"relay":"all",r.iceTransportPolicy!==i&&(qh.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(r.iceTransportPolicy,"] to [").concat(i,"]")),r.iceTransportPolicy=i,t.peerConnection.setConfiguration(r)),A.next=13;break;case 11:if(e!==Wp.RELAY){A.next=13;break}return A.abrupt("return");case 13:return t.remoteSDP.updateCandidates(e),A.next=16,ir(t.peerConnection.createOffer({iceRestart:!0}));case 16:if((o=A.sent).sdp){A.next=19;break}throw Error("Cannot restartICE because restart offer SDP does not exist.");case 19:return a=Qr(o.sdp),A.next=22,a.iceParameters;case 22:return s=A.sent,c=s.remoteIceParameters,t.remoteSDP.restartICE(c),u=t.remoteSDP.toString(),g=t.logSDPExchange(o.sdp||"","offer","local","restartICE"),t.store.descriptionStart(),A.next=29,ir(t.peerConnection.setLocalDescription(o));case 29:return null==g||g(u),A.next=32,ir(t.peerConnection.setRemoteDescription({type:"answer",sdp:u}));case 32:A.next=37;break;case 34:A.prev=34,A.t0=A.catch(3),qh.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),A.t0);case 37:return A.prev=37,n(),A.finish(37);case 40:case"end":return A.stop()}}),A,null,[[3,34,37,40]])})))()}},{key:"close",value:function(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}},{key:"getStats",value:function(){return this.statsFilter.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){return this.statsFilter.getVideoIsReady(e)}},{key:"updateEncoderConfig",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");case 3:return e.next=5,this.peerConnection.createOffer();case 5:return n=e.sent,r=this.mungSendOfferSDP(n.sdp,[A],[t]),this.remoteSDP.updateRecvMedia(t,A),i=this.remoteSDP.toString(),o=this.logSDPExchange(r,"offer","local","updateEncoderConfig"),e.next=11,this.peerConnection.setLocalDescription({type:"offer",sdp:r});case 11:return null==o||o(i),e.next=14,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),new mC(pC.EXCHANGE_SDP_FAILED,e.t0.toString());case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"updateSendParameters",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.peerConnection.getTransceivers().filter((function(e){return e.mid===t})),e.t0=1===n.length,!e.t0){e.next=12;break}if(!this.isVP8Simulcast(A)){e.next=10;break}if(e.t1=oe(),e.t1){e.next=8;break}return e.next=8,this.applySimulcastEncodings(n,[A]);case 8:e.next=12;break;case 10:return e.next=12,this.applySendEncodings(n,[A]);case 12:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setStatsRemoteVideoIsReady",value:function(e,t){this.statsFilter.setVideoIsReady2(e,t)}},{key:"replaceTrack",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.peerConnection.getTransceivers().find((function(e){return e.mid===A})),e.t0=n,!e.t0){e.next=5;break}return e.next=5,n.sender.replaceTrack(t._mediaStreamTrack);case 5:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getSelectedCandidatePair",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0<(t=this.peerConnection.getReceivers()).length&&t[0].transport&&t[0].transport.iceTransport&&t[0].transport.iceTransport.getSelectedCandidatePair&&t[0].transport.iceTransport.getSelectedCandidatePair())){e.next=4;break}return A=t[0].transport.iceTransport,n=A.getSelectedCandidatePair(),r=n.local,i=n.remote,e.abrupt("return",{local:Ii(Ii({},ab),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port}),remote:Ii(Ii({},ab),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port})});case 4:return e.abrupt("return",this.statsFilter.getSelectedCandidatePair());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bindPCEvents",value:function(){var e=this;this.peerConnection.oniceconnectionstatechange=function(){var t;null===(t=e.onICEConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=function(){var t;null===(t=e.onConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.connectionState)},this.peerConnection.onicecandidate=function(t){t.candidate?e.localCandidateCount+=1:(e.peerConnection.onicecandidate=null,e.allCandidatesReceived=!0,qh.debug("[".concat(e.store.clientId,"] [pc-").concat(e.store.p2pId,"] local candidate count"),e.localCandidateCount))},setTimeout((function(){e.allCandidatesReceived||(e.allCandidatesReceived=!0,qh.debug("[".concat(e.store.clientId,"] [pc-").concat(e.store.p2pId,"] onicecandidate timeout, local candidate count"),e.localCandidateCount))}),Th.CANDIDATE_TIMEOUT)}},{key:"unbindPCEvents",value:function(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}},{key:"tryBindTransportEvents",value:function(e){var t=this,A=e.transport;if(A){this.transportEventReceiver=e,A.onstatechange=function(){var e;null!=A&&A.state&&(null===(e=t.onDTLSTransportStateChange)||void 0===e||e.call(t,A.state))},A.onerror=function(e){var A;null===(A=t.onDTLSTransportError)||void 0===A||A.call(t,"error"in e?e.error:e)};var n=A.iceTransport;n&&(n.onstatechange=function(){var e,n=null==A?void 0:A.iceTransport.state;n&&(null===(e=t.onICETransportStateChange)||void 0===e||e.call(t,n))},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=function(){if(n.getSelectedCandidatePair()){var e=n.getSelectedCandidatePair(),A=e.local;e=e.remote,qh.info("[".concat(t.store.clientId,"] [pc-").concat(t.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:A.type,protocol:A.protocol}),", remote ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol,address:e.address,port:e.port})," )"))}}))}}},{key:"tryUnbindTransportEvents",value:function(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}},{key:"updateRtpSenderEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A||(A=this.peerConnection.getSenders().find((function(e){return e.track===t._mediaStreamTrack}))),A){e.next=3;break}return e.abrupt("return",qh.warn("[".concat(t.getTrackId(),"] no rtpSender found}")));case 3:if(!this.isVP8Simulcast(t)){e.next=5;break}return e.abrupt("return",qh.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings"));case 5:if(lB.supportSetRtpSenderParameters){e.next=7;break}return e.abrupt("return",qh.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters"));case 7:r={},i={},e.t0=t._optimizationMode,e.next="motion"===e.t0?11:"detail"===e.t0?13:15;break;case 11:return r.degradationPreference="maintain-framerate",e.abrupt("break",16);case 13:return r.degradationPreference="maintain-resolution",e.abrupt("break",16);case 15:r.degradationPreference="balanced";case 16:return t._encoderConfig&&(a=t._encoderConfig,s=a.bitrateMax,c=a.frameRate,u=a.scaleResolutionDownBy,s&&(i.maxBitrate=1e3*s),(Xs(o=t._hints).call(o,CB.LOW_STREAM)||t.isUseScaleResolutionDownBy)&&(c&&(i.maxFramerate=uA(c)),u&&1<=u&&(i.scaleResolutionDownBy=u))),Th.DSCP_TYPE&&fe()&&(I=Th.DSCP_TYPE,Xs(g=["very-low","low","medium","high"]).call(g,I)&&(i.networkPriority=I)),l=A.getParameters(),E=null===(n=l.encodings)||void 0===n?void 0:n[0],oe()&&!E&&(r.encodings=[i]),E&&Object.assign(E,i),Object.assign(l,r),qh.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(l.encodings))),e.next=25,A.setParameters(l);case 25:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"applySendEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,lB.supportSetRtpSenderParameters){e.next=3;break}return e.abrupt("return");case 3:if(t.length===A.length){e.next=5;break}return e.abrupt("return");case 5:n=0;case 6:if(!(n<t.length)){e.next=15;break}if(r=t[n],i=A[n],e.t0=i instanceof _Q&&!this.isVP8Simulcast(i),!e.t0){e.next=12;break}return e.next=12,this.updateRtpSenderEncodings(i,r.sender);case 12:n++,e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),qh.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."));case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"mungSendOfferSDP",value:function(e,t,A){var n=this,r=ib.parse(e);return t.forEach((function(e,t){var i=A[t];(t=r.mediaDescriptions.find((function(e){return e.attributes.mid===i})))&&(_r(t,e),Dr(t,e,n.store.codec))})),ib.print(r)}},{key:"mungReceiveAnswerSDP",value:function(e,t,A){var n=(e=ib.parse(e)).mediaDescriptions.find((function(e){return e.attributes.mid===t}));return n&&(A===jp.AUDIO&&"audio"===n.media.mediaType&&Mr(n),this.useXR&&Ur(e)),ib.print(e)}},{key:"bindStatsEvents",value:function(){var e=this;this.statsFilter.onFirstAudioReceived=function(t){var A;null===(A=e.onFirstAudioReceived)||void 0===A||A.call(e,t)},this.statsFilter.onFirstVideoReceived=function(t){var A;null===(A=e.onFirstVideoReceived)||void 0===A||A.call(e,t)},this.statsFilter.onFirstAudioDecoded=function(t){var A;null===(A=e.onFirstAudioDecoded)||void 0===A||A.call(e,t)},this.statsFilter.onFirstVideoDecoded=function(t,A,n){var r;null===(r=e.onFirstVideoDecoded)||void 0===r||r.call(e,t,A,n)},this.statsFilter.onSelectedLocalCandidateChanged=function(t,A){var n;null===(n=e.onSelectedLocalCandidateChanged)||void 0===n||n.call(e,t,A)},this.statsFilter.onSelectedRemoteCandidateChanged=function(t,A){var n;null===(n=e.onSelectedRemoteCandidateChanged)||void 0===n||n.call(e,t,A)},this.statsFilter.onFirstVideoDecodedTimeout=function(t){var A;null===(A=e.onFirstVideoDecodedTimeout)||void 0===A||A.call(e,t)}}},{key:"unbindStatsEvents",value:function(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}},{key:"applySimulcastForFirefox",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length!==A.length){e.next=13;break}r=0;case 2:if(!(r<t.length)){e.next=13;break}if(u=t[r],!((g=A[r])instanceof _Q&&!Xs(i=g._hints).call(i,CB.LOW_STREAM)&&null!==(o=g._encoderConfig)&&void 0!==o&&o.bitrateMax&&200<(null===(a=g._encoderConfig)||void 0===a?void 0:a.bitrateMax)&&null!==(s=g._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&1<(null===(c=g._scalabilityMode)||void 0===c?void 0:c.numSpatialLayers)&&"vp8"===this.store.codec)){e.next=10;break}return I={},n=1e3*(g._encoderConfig.bitrateMax-50),I.encodings=[{rid:"m",active:!0,maxBitrate:5e4,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:n}],l=u.sender.getParameters(),e.next=10,u.sender.setParameters(Object.assign(l,I));case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"applySimulcastEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe()||t.length!==A.length){e.next=13;break}r=0;case 2:if(!(r<t.length)){e.next=13;break}if(!((i=A[r])instanceof _Q&&this.isVP8Simulcast(i))){e.next=10;break}return o=t[r],a={},n=1e3*(i._encoderConfig.bitrateMax-50),a.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:n},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:5e4,scaleResolutionDownBy:4}],s=o.sender.getParameters(),e.next=10,o.sender.setParameters(Object.assign(s,a));case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"isVP8Simulcast",value:function(e){var t,A,n,r,i;return!!(e instanceof _Q&&Th.SIMULCAST&&"vp8"===this.store.codec&&!Xs(t=e._hints).call(t,CB.LOW_STREAM)&&null!==(A=e._encoderConfig)&&void 0!==A&&A.bitrateMax&&200<(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&1<(null===(i=e._scalabilityMode)||void 0===i?void 0:i.numSpatialLayers))}},{key:"logSDPExchange",value:function(e,t,A,n){var r=this;if(Th.SDP_LOGGING)return qh.upload("[".concat(this.store.clientId,"] exchanging ").concat(A," ").concat(t," SDP during P2PConnection.").concat(n,"\n"),e),"offer"===t?function(e){r.logSDPExchange(e,"answer","local"===A?"remote":"local",n)}:void 0}},{key:"getRemoteSSRC",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.remoteSDP){e.next=2;break}return e.abrupt("return");case 2:return A=this.remoteSDP.getSSRC(t),e.abrupt("return",null==A?void 0:A[0].ssrcId);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setConfiguration",value:function(e){lB.supportPCSetConfiguration&&(e=t.resolvePCConfiguration(e),this.peerConnection.setConfiguration(e))}}],[{key:"resolvePCConfiguration",value:function(e){var A,n,r={iceServers:[]};return e.iceServers?r.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(Te(e.turnServer.servers)?r.iceServers=e.turnServer.servers:(r.iceServers&&(A=r.iceServers).push.apply(A,rb(t.turnServerConfigToIceServers(e.turnServer.servers))),Th.USE_TURN_SERVER_OF_GATEWAY&&r.iceServers&&e.turnServer.serversFromGateway&&(n=r.iceServers).push.apply(n,rb(t.turnServerConfigToIceServers(e.turnServer.serversFromGateway))),Th.FORCE_TURN_TCP?r.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((function(e){e.forceturn&&(r.iceTransportPolicy="relay")})))),Th.ENABLE_ENCODED_TRANSFORM&&lB.supportWebRTCEncodedTransform&&(r.encodedInsertableStreams=!0),r}},{key:"turnServerConfigToIceServers",value:function(e){var t=[];return e.forEach((function(e){e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(sA(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!Th.FORCE_TURN_TCP&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}}]),t}(ff);Ht([li,jt("design:type",Function),jt("design:paramtypes",[Array,Array]),jt("design:returntype",IC)],Ob.prototype,"updateRemoteRTPCapabilities",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[Object,Object,Array,Object,String,String]),jt("design:returntype",IC)],Ob.prototype,"connect",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[Object,Array]),jt("design:returntype",IC)],Ob.prototype,"createDataChannels",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[String,Array,String,Object]),jt("design:returntype",IC)],Ob.prototype,"receive",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Ob.prototype,"batchReceive",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Ob.prototype,"stopReceiving",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Ob.prototype,"muteRemote",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Ob.prototype,"unmuteRemote",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Ob.prototype,"muteLocal",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Ob.prototype,"unmuteLocal",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],Ob.prototype,"close",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],Ob.prototype,"updateEncoderConfig",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],Ob.prototype,"updateSendParameters",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[YB,String]),jt("design:returntype",IC)],Ob.prototype,"replaceTrack",null),Ht([li,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Ob.prototype,"getRemoteSSRC",null);var Mb=function(){function e(t){zb(this,e),Z(this,"sessionDesc",void 0),Z(this,"_localCapabilities",void 0),Z(this,"_rtpCapabilities",void 0),Z(this,"_candidates",void 0),Z(this,"_iceParameters",void 0),Z(this,"_dtlsParameters",void 0),Z(this,"setup",void 0),Z(this,"currentMidIndex",void 0),Z(this,"cname",void 0),Z(this,"firefoxSsrcMidMap",new Map);var A=t=Je(t);t=A.remoteIceParameters;var n=A.remoteDtlsParameters,r=A.candidates,i=A.remoteRTPCapabilities,o=A.remoteSetup,a=A.localCapabilities,s=A.cname;for(A=ib.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0\na=msid-semantic: WMS\na=ice-lite\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\nc=IN IP4 127.0.0.1\na=mid:0\n"),this._rtpCapabilities=i,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=o,this.cname=s,i=this.rtpCapabilities.send,a=0,s=A.mediaDescriptions;a<s.length;a++){var c=s[a];if(c.attributes.iceUfrag=t.iceUfrag,c.attributes.icePwd=t.icePwd,c.attributes.fingerprints=n.fingerprints,c.attributes.candidates=r,c.attributes.setup=o,"application"===c.media.mediaType&&(c.attributes.sctpPort="5000"),"video"===c.media.mediaType&&(c.media.fmts=i.videoCodecs.map((function(e){return e.payloadType.toString(10)})),c.attributes.payloads=i.videoCodecs,c.attributes.extmaps=i.videoExtensions,0<Th.PRELOAD_MEDIA_COUNT)){var u=mr([{ssrcId:4e4,rtx:Th.USE_SUB_RTX?40001:void 0}],this.cname),g=u.ssrcGroups;c.attributes.ssrcs=u.ssrcs,c.attributes.ssrcGroups=g}"audio"===c.media.mediaType&&(c.media.fmts=i.audioCodecs.map((function(e){return e.payloadType.toString(10)})),c.attributes.payloads=i.audioCodecs,c.attributes.extmaps=i.audioExtensions,Mr(c),0<Th.PRELOAD_MEDIA_COUNT)&&(g=(u=mr([{ssrcId:2e4}],this.cname)).ssrcGroups,c.attributes.ssrcs=u.ssrcs,c.attributes.ssrcGroups=g)}this.sessionDesc=A,this.currentMidIndex=A.mediaDescriptions.length-1}return Ib(e,[{key:"localCapabilities",get:function(){return Je(this._localCapabilities)}},{key:"rtpCapabilities",get:function(){return Je(this._rtpCapabilities)}},{key:"candidates",get:function(){return Je(this._candidates)}},{key:"iceParameters",get:function(){return Je(this._iceParameters)}},{key:"dtlsParameters",get:function(){return Je(this._dtlsParameters)}},{key:"updateRemoteRTPCapabilities",value:function(e){var t=ib.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0\na=msid-semantic: WMS\na=ice-lite\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\nc=IN IP4 127.0.0.1\na=mid:0\n");this._rtpCapabilities=e,e=this.rtpCapabilities.send;for(var A=0,n=t.mediaDescriptions;A<n.length;A++){var r=n[A];if(r.attributes.iceUfrag=this._iceParameters.iceUfrag,r.attributes.icePwd=this._iceParameters.icePwd,r.attributes.fingerprints=this._dtlsParameters.fingerprints,r.attributes.candidates=this._candidates,r.attributes.setup=this.setup,"application"===r.media.mediaType&&(r.attributes.sctpPort="5000"),"video"===r.media.mediaType&&(r.media.fmts=e.videoCodecs.map((function(e){return e.payloadType.toString(10)})),r.attributes.payloads=e.videoCodecs,r.attributes.extmaps=e.videoExtensions,0<Th.PRELOAD_MEDIA_COUNT)){var i=mr([{ssrcId:4e4,rtx:Th.USE_SUB_RTX?40001:void 0}],this.cname),o=i.ssrcGroups;r.attributes.ssrcs=i.ssrcs,r.attributes.ssrcGroups=o}"audio"===r.media.mediaType&&(r.media.fmts=e.audioCodecs.map((function(e){return e.payloadType.toString(10)})),r.attributes.payloads=e.audioCodecs,r.attributes.extmaps=e.audioExtensions,0<Th.PRELOAD_MEDIA_COUNT)&&(o=(i=mr([{ssrcId:2e4}],this.cname)).ssrcGroups,r.attributes.ssrcs=i.ssrcs,r.attributes.ssrcGroups=o)}this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1}},{key:"preloadRemoteMedia",value:function(e){this.rtpCapabilities;for(var t=this.candidates,A=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send,i=1;i<e;i++){var o=2*i+4e4,a=mr([{ssrcId:2*i+2e4}],this.cname),s=a.ssrcs;a=a.ssrcGroups;var c=mr([{ssrcId:o,rtx:Th.USE_SUB_RTX?o+1:void 0}],this.cname);o=c.ssrcs,c=c.ssrcGroups,this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:r.videoCodecs.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:A.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:o,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*i-1)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:r.audioCodecs.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:A.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:s,ssrcGroups:a,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*i)}}),this.currentMidIndex+=2}this.updateBundleMids()}},{key:"toString",value:function(){return ib.print(this.sessionDesc)}},{key:"send",value:function(e,t,A,n){t=(A=mr(t,this.cname,Th.SYNC_GROUP?A:void 0)).ssrcs,A=A.ssrcGroups;var r,i=this.findPreloadMediaDesc(t);return i?(oe()&&this.firefoxSsrcMidMap.set(t[0].ssrcId,i.attributes.mid),n&&(n.twcc||n.remb)?(e=this.sessionDesc.mediaDescriptions.indexOf(i),this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(i,n),{mid:i.attributes.mid,needExchangeSDP:!0}):{mid:i.attributes.mid,needExchangeSDP:!1}):(-1===(i=this.findAvailableMediaIndex(e,t))||ie()||ae()||ge()||0===i&&Th.USE_SUB_RTX?(r=this.createOrRecycleSendMedia(e,t,A,"sendonly",n),this.updateBundleMids()):((r=Je(this.sessionDesc.mediaDescriptions[i])).attributes.direction="sendonly",r.attributes.ssrcs=t,r.attributes.ssrcGroups=A,this.sessionDesc.mediaDescriptions[i]=this.mungSendMediaDesc(r,n)),oe()&&this.firefoxSsrcMidMap.set(t[0].ssrcId,r.attributes.mid),{mid:r.attributes.mid,needExchangeSDP:!0})}},{key:"batchSend",value:function(e){var t=this,A=[],n=!1;return e.map((function(e){return t.send(e.kind,e.ssrcMsg,e.mslabel)})).forEach((function(e){var t=e.mid;e.needExchangeSDP&&(n=!0),A.push(t)})),{mids:A,needExchangeSDP:n}}},{key:"stopSending",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((function(e){"0"===e.attributes.mid||oe()||ie()||ae()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}},{key:"mute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}},{key:"unmute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}},{key:"muteRemote",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return Xs(e).call(e,t.attributes.mid||"")}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((function(e){e.attributes.direction="inactive"}))}},{key:"unmuteRemote",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return Xs(e).call(e,t.attributes.mid||"")}));if(t.length!==e.length)throw Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((function(e){e.attributes.direction="recvonly"}))}},{key:"receive",value:function(e,t,A,n){var r=this;e.forEach((function(e,i){r.createOrRecycleRecvMedia(e,[],"recvonly",t,A,n[i])})),this.updateBundleMids()}},{key:"stopReceiving",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return-1!==e.indexOf(t.attributes.mid)}));if(t.length!==e.length)throw Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((function(e){e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}},{key:"updateCandidates",value:function(e){var t=this;e===Wp.TCP?this._candidates.forEach((function(e){-1===t._candidates.findIndex((function(t){return"tcp"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port}))&&t._candidates.push(Ci(Ci({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))})):this._candidates=this._candidates.filter((function(e){return"tcp"!==e.transport})),e=0;for(var A=this.sessionDesc.mediaDescriptions;e<A.length;e++)A[e].attributes.candidates=this.candidates}},{key:"restartICE",value:function(e){this._iceParameters=e=Je(e),this.sessionDesc.mediaDescriptions.forEach((function(t){t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}},{key:"predictReceivingMids",value:function(e){for(var t=[],A=0;A<e;A++)t.push((this.currentMidIndex+A+1).toString(10));return t}},{key:"findAvailableMediaIndex",value:function(e,t){var A=this;return this.sessionDesc.mediaDescriptions.findIndex((function(n){var r=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;return oe()?!(!r||((r=A.firefoxSsrcMidMap.get(t[0].ssrcId))||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)&&(!r||r!==n.attributes.mid)):r}))}},{key:"createOrRecycleRecvMedia",value:function(e,t,A,n,r,i){var o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv;return n=xr(o,a,this.localCapabilities.send,o===jp.VIDEO?n:r),a=o===jp.VIDEO?a.videoExtensions:a.audioExtensions,this.currentMidIndex+=1,r="".concat(this.currentMidIndex),t={media:{mediaType:o,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:n.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:n,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:A,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(r)}},t=this.mungRecvMediaDsec(t,e,i),(e=this.findFirstClosedMedia(o))?(e=this.sessionDesc.mediaDescriptions.indexOf(e),this.sessionDesc.mediaDescriptions[e]=t):this.sessionDesc.mediaDescriptions.push(t),t}},{key:"updateRemoteCodec",value:function(e,t,A){var n=rb(new Set(this._rtpCapabilities.recv.videoCodecs.map((function(e){return e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||""})).filter((function(e){var t;return Xs(t=Object.keys(Lh)).call(t,e)})))),r=new Set(t);if(n.every((function(e){return r.has(e)})))return qh.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(t)),!1;var i=this._rtpCapabilities.recv.videoCodecs.filter((function(e){return t.some((function(t){var A;return Xs(A=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(A,t)}))}));if(0===i.length)return qh.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(n," codecs: ").concat(t)),!1;var o=rb(new Set(i.map((function(e){return e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||""}))));if(qh.debug("updateRemoteCodec, from ".concat(n," to ").concat(o)),0===e.length)var a=this.sessionDesc.mediaDescriptions.filter((function(e){return"video"===e.media.mediaType&&"recvonly"===e.attributes.direction}));else if((a=this.sessionDesc.mediaDescriptions.filter((function(t){return t.attributes.mid&&Xs(e).call(e,t.attributes.mid)&&"recvonly"===t.attributes.direction}))).length!==e.length)return qh.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(e,", codecs: ").concat(t)),!1;this._rtpCapabilities.recv.videoCodecs=i;var s=xr(jp.VIDEO,this.rtpCapabilities.recv,this.localCapabilities.send,A);return a.forEach((function(e){var t=s.map((function(e){return e.payloadType.toString(10)}));qh.debug("updateRemoteCodec mid: ".concat(e.attributes.mid,", from ").concat(e.attributes.payloads," to ").concat(s)),e.attributes.payloads=s,e.media.fmts=t})),!0}},{key:"createOrRecycleSendMedia",value:function(e,t,A,n,r){var i=this.rtpCapabilities.send,o=e===jp.VIDEO?i.videoCodecs:i.audioCodecs;i=e===jp.VIDEO?i.videoExtensions:i.audioExtensions,this.currentMidIndex+=1;var a="".concat(this.currentMidIndex);return t={media:{mediaType:e,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:o.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:i,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:A,rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(a)}},t=this.mungSendMediaDesc(t,r),(e=this.findFirstClosedMedia(e))?(e=this.sessionDesc.mediaDescriptions.indexOf(e),this.sessionDesc.mediaDescriptions[e]=t):this.sessionDesc.mediaDescriptions.push(t),t}},{key:"updateBundleMids",value:function(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((function(e){return"0"!==e.media.port})).map((function(e){return e.attributes.mid}))}},{key:"mungRecvMediaDsec",value:function(e,t,A){return br(e=Je(e)),_r(e,t),Rr(e,t),Sr(e),wr(e,A,this.localCapabilities.send),e}},{key:"mungSendMediaDesc",value:function(e,t){return wr(e=Je(e),t,this.localCapabilities.recv),Mr(e),e}},{key:"updateRecvMedia",value:function(e,t){var A=this.sessionDesc.mediaDescriptions.findIndex((function(t){return t.attributes.mid===e}));-1!==A&&(t=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[A],t),this.sessionDesc.mediaDescriptions[A]=t)}},{key:"bumpMid",value:function(e){this.currentMidIndex+=e}},{key:"findFirstClosedMedia",value:function(e){return this.sessionDesc.mediaDescriptions.find((function(t){return oe()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port}))}},{key:"findPreloadMediaDesc",value:function(e){return this.sessionDesc.mediaDescriptions.find((function(t){var A;return(null===(A=t.attributes)||void 0===A||null===(A=A.ssrcs[0])||void 0===A?void 0:A.ssrcId)===e[0].ssrcId}))}},{key:"getSSRC",value:function(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e})))||void 0===t?void 0:t.attributes.ssrcs}}]),e}(),Ub=function(e){function t(e,A,r){return zb(this,t),Z(V(e=n.call(this,e,A)),"store",void 0),Z(V(e),"peerConnection",void 0),Z(V(e),"remoteSDP",void 0),Z(V(e),"initialOffer",void 0),Z(V(e),"transportEventReceiver",void 0),Z(V(e),"statsFilter",void 0),Z(V(e),"useXR",Th.USE_XR),Z(V(e),"localCapabilities",void 0),Z(V(e),"localCandidateCount",0),Z(V(e),"allCandidatesReceived",!1),Z(V(e),"remoteCodecs",void 0),Z(V(e),"dataStreamChannelMap",new Map),Z(V(e),"establishPromise",void 0),Z(V(e),"mutex",new ed("NVExtentionsConnection-mutex")),Z(V(e),"rtcMedia",void 0),e.store=A,e.peerConnection=r,e.statsFilter=hr(e.peerConnection,Th.STATS_UPDATE_INTERVAL,void 0,oe()?1200:void 0),e.bindPCEvents(),e.bindStatsEvents(),e.store.p2pId+=1,e.establishPromise=e.establish(),e}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"currentLocalDescription",get:function(){return this.peerConnection.currentLocalDescription}},{key:"currentRemoteDescription",get:function(){return this.peerConnection.currentRemoteDescription}},{key:"peerConnectionState",get:function(){return this.peerConnection.connectionState}},{key:"iceConnectionState",get:function(){return this.peerConnection.iceConnectionState}},{key:"localCodecs",get:function(){var e;return this.localCapabilities&&(e=Lr(this.localCapabilities)),rb(new Set(e&&e.send.videoCodecs.map((function(e){return e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||""})).filter((function(e){var t;return Xs(t=Object.keys(Lh)).call(t,e)}))))}},{key:"establish",value:(A=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.peerConnection.createOffer();case 3:if((A=e.sent).sdp){e.next=6;break}throw Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");case 6:return n=Qr(A.sdp),e.next=9,kr({filterRTX:!Th.USE_PUB_RTX&&!Th.USE_SUB_RTX,filterVideoFec:Th.FILTER_VIDEO_FEC,filterAudioFec:Th.FILTER_AUDIO_FEC,filterVideoCodec:Th.FILTER_VIDEO_CODEC},{useXR:this.useXR});case 9:return r=e.sent,e.abrupt("return",(this.localCapabilities=r,this.initialOffer=A,hi(hi({},n),{},{rtpCapabilities:r,offerSDP:A.sdp})));case 13:throw e.prev=13,e.t0=e.catch(0),new _p(pC.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.t0.toString());case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e){return A.apply(this,arguments)})},{key:"connect",value:function(){var e=pa(O.mark((function e(t,A,n,r,i,o){var a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.initialOffer){e.next=3;break}throw Error("Cannot establish NVConnection without initial offer.");case 3:return this.remoteSDP=new Mb({remoteIceParameters:t,remoteDtlsParameters:A,candidates:n,remoteRTPCapabilities:r,remoteSetup:i,localCapabilities:Lr(this.localCapabilities),cname:o}),a=this.remoteSDP.toString(),s=ib.parse(this.initialOffer.sdp),(c=s.mediaDescriptions.find((function(e){return"audio"===e.media.mediaType})))&&Mr(c),this.useXR&&Ur(s),u=ib.print(s),g=this.logSDPExchange(u||"","offer","local","connect"),e.next=9,this.peerConnection.setLocalDescription({type:"offer",sdp:u});case 9:return null==g||g(a),e.next=12,this.peerConnection.setRemoteDescription({type:"answer",sdp:a});case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,"NV.connect failed; ".concat(e.t0.toString()));case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,A,n,r,i,o){return e.apply(this,arguments)}}()},{key:"updateRemoteRTPCapabilities",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.remoteCodecs=A,this.remoteSDP){e.next=2;break}return e.abrupt("return",void qh.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(A)));case 2:if(!this.remoteSDP.updateRemoteCodec(t,A,this.store.codec)){e.next=15;break}return e.next=5,this.peerConnection.createOffer();case 5:return n=e.sent,r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal"),e.next=9,this.peerConnection.setLocalDescription(n);case 9:return i=this.remoteSDP.toString(),null==r||r(i),e.next=13,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 13:e.next=16;break;case 15:qh.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.");case 16:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"updateRemoteConnect",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(A=this.remoteSDP)||void 0===A||A.updateRemoteRTPCapabilities(t),Array.isArray(this.remoteCodecs)&&0<this.remoteCodecs.length&&(null===(i=this.remoteSDP)||void 0===i||i.updateRemoteCodec([],this.remoteCodecs,this.store.codec)),null===(n=this.remoteSDP)||void 0===n||n.preloadRemoteMedia(2),o=null===(r=this.remoteSDP)||void 0===r?void 0:r.toString(),e.next=5,this.peerConnection.setRemoteDescription({type:"offer",sdp:o});case 5:return e.next=7,this.peerConnection.createAnswer();case 7:return a=e.sent,e.next=10,this.peerConnection.setLocalDescription(a);case 10:qh.debug("[NVExtentionsConnection] updateRemoteRTPCapabilities by exchanging SDP.");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t,A){var n=this;return ar(O.mark((function r(){var i,o,a,s,c,u,g,I,l,E,C;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ir(n.mutex.lock("From NVExtentionsConnection.send"));case 2:if(i=r.sent,r.prev=3,n.remoteSDP){r.next=6;break}throw Error("Cannot call NVExtentionsConnection.send before remote SDP created");case 6:if(o=[],e.forEach((function(e){e=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"}),o.push(e)})),r.t0=oe()&&!0===Th.SIMULCAST,!r.t0){r.next=12;break}return r.next=12,ir(n.applySimulcastForFirefox(o,e));case 12:return r.next=14,ir(n.peerConnection.createOffer());case 14:return a=r.sent,s=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(a.sdp,e,s),u=ib.parse(c),g=s.map((function(e){var t=u.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw Error("Cannot extract ssrc from mediaDescription.");return yr(t,Th.USE_PUB_RTX)})),r.prev=19,r.next=22,g;case 22:I=r.sent,r.next=36;break;case 25:return r.prev=25,r.t1=r.catch(19),I=[],n.remoteSDP.receive(e,t,A,I),l=n.remoteSDP.toString(),r.next=31,ir(n.peerConnection.setLocalDescription({type:"offer",sdp:c}));case 31:return r.next=33,ir(n.peerConnection.setRemoteDescription({type:"answer",sdp:l}));case 33:return r.next=35,ir(n.stopSending(s,!0));case 35:throw r.t1;case 36:return n.remoteSDP.receive(e,t,A,I),E=n.remoteSDP.toString(),C=n.logSDPExchange(c,"offer","local","send"),r.next=40,ir(n.peerConnection.setLocalDescription({type:"offer",sdp:c}));case 40:return r.next=42,ir(n.applySimulcastEncodings(o,e));case 42:return r.next=44,ir(n.applySendEncodings(o,e));case 44:return null==C||C(E),r.next=47,ir(n.peerConnection.setRemoteDescription({type:"answer",sdp:E}));case 47:return r.abrupt("return",o.map((function(e,t){return{localSSRC:g[t],id:s[t],transceiver:e}})));case 50:throw r.prev=50,r.t2=r.catch(3),r.t2 instanceof _p?r.t2:new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.send failed; ".concat(r.t2.toString()));case 53:return r.prev=53,i(),r.finish(53);case 56:case"end":return r.stop()}}),r,null,[[3,50,53,56],[19,25]])})))()}},{key:"stopSending",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=4;break}e.t0=void 0,e.next=7;break;case 4:return e.next=6,this.mutex.lock("From NVExtentionsConnection.stopSending");case 6:e.t0=e.sent;case 7:if(n=e.t0,e.prev=8,this.remoteSDP){e.next=11;break}throw Error("Cannot call NVExtentionsConnection.stopSending before remote SDP created");case 11:if((r=this.peerConnection.getTransceivers().filter((function(e){return-1!==t.indexOf(e.mid)}))).length===t.length){e.next=14;break}throw Error("Transceivers' length doesn't match mids' length when trying to call NVExtentionsConnection.stopSending.");case 14:return r.map((function(e){var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)})),e.next=17,this.peerConnection.createOffer();case 17:return i=e.sent,o=this.logSDPExchange(i.sdp||"","offer","local","stopSending"),e.next=21,this.peerConnection.setLocalDescription(i);case 21:return this.remoteSDP.stopReceiving(t),a=this.remoteSDP.toString(),null==o||o(a),e.next=26,this.peerConnection.setRemoteDescription({type:"answer",sdp:a});case 26:e.next=31;break;case 28:throw e.prev=28,e.t1=e.catch(8),new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.stopSending failed; ".concat(e.t1.toString()));case 31:return e.prev=31,n&&n(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[8,28,31,34]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"createDataChannels",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.createDataChannels before remote SDP created");case 3:return n=this.dataStreamChannelMap.get(t),e.abrupt("return",(n&&"open"===n.readyState?qh.debug("[P2PConnection] Channels are already available and can be reused directly."):((n=this.peerConnection.createDataChannel("datastream-channel",{ordered:!1,maxRetransmits:Th.DATASTREAM_MAX_RETRANSMITS})).binaryType="arraybuffer",this.dataStreamChannelMap.set(t,n)),void A.forEach((function(e){e._updateOriginDataChannel(n)}))));case 7:throw e.prev=7,e.t0=e.catch(0),e.t0 instanceof _p?e.t0:new _p(pC.DATACHANNEL_FAILED,"NVExtentionsConnection.createDataChannels failed; ".concat(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"stopDataChannels",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A=this.dataStreamChannelMap.get(t),e.abrupt("return",(null==A||A.close(),void this.dataStreamChannelMap.delete(t)));case 5:throw e.prev=5,e.t0=e.catch(0),e.t0 instanceof _p?e.t0:new _p(pC.DATACHANNEL_FAILED,"NVExtentionsConnection.stopDataChannels failed; ".concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.receive ".concat(t," before remoteSDP created."));case 3:if(i=this.remoteSDP.send(t,A,n,r),o=i.mid,!i.needExchangeSDP){e.next=18;break}return a=this.remoteSDP.toString(),s=this.logSDPExchange(a,"offer","remote","receive"),e.next=8,this.peerConnection.setRemoteDescription({type:"offer",sdp:a});case 8:return e.next=10,this.peerConnection.createAnswer();case 10:return c=e.sent,u=this.mungReceiveAnswerSDP(c.sdp,o,t),null==s||s(u||""),e.next=15,this.peerConnection.setLocalDescription({type:"answer",sdp:u});case 15:qh.debug("[NVExtentionsConnection] receive ".concat(t," by exchanging SDP.")),e.next=19;break;case 18:qh.debug("[NVExtentionsConnection] receive ".concat(t," no need to exchange SDP."));case 19:if(g=this.peerConnection.getTransceivers().find((function(e){return e.mid===o}))){e.next=22;break}throw Error("Cannot get transceiver after setLocalDescription.");case 22:return e.abrupt("return",{track:g.receiver.track,id:o});case 25:throw e.prev=25,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.receive failed; ".concat(e.t0.toString()));case 28:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"batchReceive",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.batchReceive before remoteSDP created.");case 3:if(A=this.remoteSDP.batchSend(t),n=A.mids,!A.needExchangeSDP){e.next=17;break}return r=this.remoteSDP.toString(),i=this.logSDPExchange(r,"offer","remote","receive"),e.next=8,this.peerConnection.setRemoteDescription({type:"offer",sdp:r});case 8:return e.next=10,this.peerConnection.createAnswer();case 10:return o=e.sent,null==i||i(o.sdp||""),e.next=14,this.peerConnection.setLocalDescription(o);case 14:qh.debug("[NVExtentionsConnection] batchReceive by exchanging SDP."),e.next=18;break;case 17:qh.debug("[NVExtentionsConnection] batchReceive no need to exchange SDP.");case 18:return e.abrupt("return",n.map((function(e){var t=a.peerConnection.getTransceivers().find((function(t){return t.mid===e}));if(!t)throw Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e}})));case 21:throw e.prev=21,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.receive failed; ".concat(e.t0.toString()));case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.stopReceiving before remote SDP created.");case 3:return this.remoteSDP.stopSending(t),A=this.remoteSDP.toString(),n=this.logSDPExchange(A,"offer","remote","stopReceiving"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:A});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return r=e.sent,null==n||n(r.sdp||""),e.next=13,this.peerConnection.setLocalDescription(r);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection stopReceiving failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"muteRemote",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.muteRemote mid=".concat(t," before remote SDP created."));case 3:return this.remoteSDP.mute(t),A=this.remoteSDP.toString(),n=this.logSDPExchange(A,"offer","remote","muteRemote"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:A});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return r=e.sent,null==n||n(r.sdp||""),e.next=13,this.peerConnection.setLocalDescription(r);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.muteRemote failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteRemote",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.unmuteRemote mid=".concat(t," before remote SDP created."));case 3:return this.remoteSDP.unmute(t),A=this.remoteSDP.toString(),n=this.logSDPExchange(A,"offer","remote","unmuteRemote"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:A});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return r=e.sent,null==n||n(r.sdp||""),e.next=13,this.peerConnection.setLocalDescription(r);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.unmuteRemote failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"muteLocal",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.muteLocal before remote SDP created.");case 3:if((A=this.peerConnection.getTransceivers().filter((function(e){return e.mid&&-1!==t.indexOf(e.mid)}))).length===t.length){e.next=6;break}throw Error("Transceivers' length doesn't match mids' length.");case 6:return A.map((function(e){e.direction="inactive"})),e.next=9,this.peerConnection.createOffer();case 9:return n=e.sent,r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal"),e.next=13,this.peerConnection.setLocalDescription(n);case 13:return this.remoteSDP.muteRemote(t),i=this.remoteSDP.toString(),null==r||r(i),e.next=18,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.muteLocal failed; ".concat(e.t0.toString()));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteLocal",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.unmuteLocal before remote SDP created.");case 3:if((A=this.peerConnection.getTransceivers().filter((function(e){return e.mid&&-1!==t.indexOf(e.mid)}))).length===t.length){e.next=6;break}throw Error("Transceivers' length doesn't match mids' length.");case 6:return A.map(function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.direction="sendonly";case 1:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}()),e.next=9,this.peerConnection.createOffer();case 9:return n=e.sent,r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal"),e.next=13,this.peerConnection.setLocalDescription(n);case 13:return this.remoteSDP.unmuteRemote(t),i=this.remoteSDP.toString(),null==r||r(i),e.next=18,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.unmuteLocal failed; ".concat(e.t0.toString()));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"restartICE",value:function(e){var t=this;return ar(O.mark((function A(){var n,r,i,o,a,s,c,u,g;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,ir(t.mutex.lock("From NVExtentionsConnection.restartICE"));case 2:if(n=A.sent,A.prev=3,t.remoteSDP){A.next=6;break}throw Error("Cannot restartICE before remoteSDP created.");case 6:if(!lB.supportPCSetConfiguration){A.next=11;break}r=t.peerConnection.getConfiguration(),i=e===Wp.RELAY?"relay":"all",r.iceTransportPolicy!==i&&(qh.debug("restartICE change iceTransportPolicy from [".concat(r.iceTransportPolicy,"] to [").concat(i,"]")),r.iceTransportPolicy=i,t.peerConnection.setConfiguration(r)),A.next=13;break;case 11:if(e!==Wp.RELAY){A.next=13;break}return A.abrupt("return");case 13:return e!==Wp.RELAY&&t.remoteSDP.updateCandidates(e),A.next=16,ir(t.peerConnection.createOffer({iceRestart:!0}));case 16:if((o=A.sent).sdp){A.next=19;break}throw Error("Cannot restartICE because restart offer SDP does not exist.");case 19:return a=Qr(o.sdp),A.next=22,a.iceParameters;case 22:return s=A.sent,c=s.remoteIceParameters,t.remoteSDP.restartICE(c),u=t.remoteSDP.toString(),g=t.logSDPExchange(o.sdp||"","offer","local","restartICE"),A.next=28,ir(t.peerConnection.setLocalDescription(o));case 28:return null==g||g(u),A.next=31,ir(t.peerConnection.setRemoteDescription({type:"answer",sdp:u}));case 31:A.next=36;break;case 33:A.prev=33,A.t0=A.catch(3),qh.warning("restart ICE failed, abort operation",A.t0);case 36:return A.prev=36,n(),A.finish(36);case 39:case"end":return A.stop()}}),A,null,[[3,33,36,39]])})))()}},{key:"close",value:function(){var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}},{key:"getStats",value:function(){return this.statsFilter.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){return this.statsFilter.getVideoIsReady(e)}},{key:"updateEncoderConfig",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw Error("Cannot call NVExtentionsConnection.updateEncoderConfig before remote SDP created.");case 3:return e.next=5,this.peerConnection.createOffer();case 5:return n=e.sent,r=this.mungSendOfferSDP(n.sdp,[A],[t]),this.remoteSDP.updateRecvMedia(t,A),i=this.remoteSDP.toString(),o=this.logSDPExchange(r,"offer","local","updateEncoderConfig"),e.next=11,this.peerConnection.setLocalDescription({type:"offer",sdp:r});case 11:return null==o||o(i),e.next=14,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),new _p(pC.EXCHANGE_SDP_FAILED,e.t0.toString());case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"updateSendParameters",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.peerConnection.getTransceivers().filter((function(e){return e.mid===t})),e.t0=1===n.length,!e.t0){e.next=12;break}if(!this.isVP8Simulcast(A)){e.next=10;break}if(e.t1=oe(),e.t1){e.next=8;break}return e.next=8,this.applySimulcastEncodings(n,[A]);case 8:e.next=12;break;case 10:return e.next=12,this.applySendEncodings(n,[A]);case 12:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setStatsRemoteVideoIsReady",value:function(e,t){this.statsFilter.setVideoIsReady2(e,t)}},{key:"replaceTrack",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.peerConnection.getTransceivers().find((function(e){return e.mid===A})),e.t0=n,!e.t0){e.next=5;break}return e.next=5,n.sender.replaceTrack(t._mediaStreamTrack);case 5:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getP2PConnectionParams",value:function(){var e;if(null===(e=this.peerConnection.currentLocalDescription)||void 0===e||!e.sdp||!this.localCapabilities)throw Error();return hi(hi({},Qr(this.peerConnection.currentLocalDescription.sdp)),{},{rtpCapabilities:this.localCapabilities})}},{key:"bindPCEvents",value:function(){var e=this;this.peerConnection.oniceconnectionstatechange=function(){var t;null===(t=e.onICEConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=function(){var t;null===(t=e.onConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.connectionState)},this.peerConnection.onicecandidate=function(t){t.candidate?e.localCandidateCount+=1:(e.peerConnection.onicecandidate=null,e.allCandidatesReceived=!0,qh.debug("[pc-".concat(e.store.p2pId,"] local candidate count"),e.localCandidateCount))},setTimeout((function(){e.allCandidatesReceived||(e.allCandidatesReceived=!0,qh.debug("[pc-".concat(e.store.p2pId,"] onicecandidate timeout, local candidate count"),e.localCandidateCount))}),Th.CANDIDATE_TIMEOUT)}},{key:"unbindPCEvents",value:function(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}},{key:"applySendEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,lB.supportSetRtpSenderParameters){e.next=3;break}return e.abrupt("return");case 3:if(t.length===A.length){e.next=5;break}return e.abrupt("return");case 5:n=0;case 6:if(!(n<t.length)){e.next=32;break}if(r=t[n],!((i=A[n])&&i instanceof _Q)){e.next=29;break}if(!this.isVP8Simulcast(i)){e.next=11;break}return e.abrupt("continue",29);case 11:c={},u={},e.t0=i._optimizationMode,e.next="motion"===e.t0?15:"detail"===e.t0?17:19;break;case 15:return c.degradationPreference="maintain-framerate",e.abrupt("break",20);case 17:return c.degradationPreference="maintain-resolution",e.abrupt("break",20);case 19:c.degradationPreference="balanced";case 20:return null!==(o=i._encoderConfig)&&void 0!==o&&o.bitrateMax&&(u.maxBitrate=1e3*(null===(g=i._encoderConfig)||void 0===g?NaN:g.bitrateMax)),Xs(a=i._hints).call(a,CB.LOW_STREAM)&&(null!==(I=i._encoderConfig)&&void 0!==I&&I.frameRate&&(u.maxFramerate=uA(i._encoderConfig.frameRate)),null!==(l=i._encoderConfig)&&void 0!==l&&l.scaleResolutionDownBy&&1<(null===(E=i._encoderConfig)||void 0===E?void 0:E.scaleResolutionDownBy)&&(u.scaleResolutionDownBy=i._encoderConfig.scaleResolutionDownBy)),Th.DSCP_TYPE&&fe()&&(d=Th.DSCP_TYPE,Xs(C=["very-low","low","medium","high"]).call(C,d)&&(u.networkPriority=d)),h=r.sender.getParameters(),p=null===(s=h.encodings)||void 0===s?void 0:s[0],oe()&&!p&&(c.encodings=[u]),p&&Object.assign(p,u),Object.assign(h,c),e.next=29,r.sender.setParameters(h);case 29:n++,e.next=6;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),qh.debug("Apply RTPSendEncodings failed.");case 37:case"end":return e.stop()}}),e,this,[[0,34]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"mungSendOfferSDP",value:function(e,t,A){var n=this,r=ib.parse(e);return t.forEach((function(e,t){var i=A[t];(t=r.mediaDescriptions.find((function(e){return e.attributes.mid===i})))&&(_r(t,e),Dr(t,e,n.store.codec))})),ib.print(r)}},{key:"mungReceiveAnswerSDP",value:function(e,t,A){var n=(e=ib.parse(e)).mediaDescriptions.find((function(e){return e.attributes.mid===t}));return n&&A===jp.AUDIO&&"audio"===n.media.mediaType&&Mr(n),this.useXR&&Ur(e),ib.print(e)}},{key:"bindStatsEvents",value:function(){var e=this;this.statsFilter.onFirstAudioReceived=function(t){var A;null===(A=e.onFirstAudioReceived)||void 0===A||A.call(e,t)},this.statsFilter.onFirstVideoReceived=function(t){var A;null===(A=e.onFirstVideoReceived)||void 0===A||A.call(e,t)},this.statsFilter.onFirstAudioDecoded=function(t){var A;null===(A=e.onFirstAudioDecoded)||void 0===A||A.call(e,t)},this.statsFilter.onFirstVideoDecoded=function(t,A,n){var r;null===(r=e.onFirstVideoDecoded)||void 0===r||r.call(e,t,A,n)},this.statsFilter.onSelectedLocalCandidateChanged=function(t,A){var n;null===(n=e.onSelectedLocalCandidateChanged)||void 0===n||n.call(e,t,A)},this.statsFilter.onSelectedRemoteCandidateChanged=function(t,A){var n;null===(n=e.onSelectedRemoteCandidateChanged)||void 0===n||n.call(e,t,A)},this.statsFilter.onFirstVideoDecodedTimeout=function(t){var A;null===(A=e.onFirstVideoDecodedTimeout)||void 0===A||A.call(e,t)}}},{key:"unbindStatsEvents",value:function(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}},{key:"applySimulcastForFirefox",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length!==A.length){e.next=13;break}r=0;case 2:if(!(r<t.length)){e.next=13;break}if(u=t[r],!((g=A[r])instanceof _Q&&!Xs(i=g._hints).call(i,CB.LOW_STREAM)&&null!==(o=g._encoderConfig)&&void 0!==o&&o.bitrateMax&&200<(null===(a=g._encoderConfig)||void 0===a?void 0:a.bitrateMax)&&null!==(s=g._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&1<(null===(c=g._scalabilityMode)||void 0===c?void 0:c.numSpatialLayers)&&"vp8"===this.store.codec)){e.next=10;break}return I={},n=1e3*(g._encoderConfig.bitrateMax-50),I.encodings=[{rid:"m",active:!0,maxBitrate:5e4,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:n}],l=u.sender.getParameters(),e.next=10,u.sender.setParameters(Object.assign(l,I));case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"applySimulcastEncodings",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe()||t.length!==A.length){e.next=13;break}r=0;case 2:if(!(r<t.length)){e.next=13;break}if(!((i=A[r])instanceof _Q&&this.isVP8Simulcast(i))){e.next=10;break}return o=t[r],a={},n=1e3*(i._encoderConfig.bitrateMax-50),a.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:n},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:5e4,scaleResolutionDownBy:4}],s=o.sender.getParameters(),e.next=10,o.sender.setParameters(Object.assign(s,a));case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"isVP8Simulcast",value:function(e){var t,A,n,r,i;return!!(e instanceof _Q&&Th.SIMULCAST&&"vp8"===this.store.codec&&!Xs(t=e._hints).call(t,CB.LOW_STREAM)&&null!==(A=e._encoderConfig)&&void 0!==A&&A.bitrateMax&&200<(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&1<(null===(i=e._scalabilityMode)||void 0===i?void 0:i.numSpatialLayers))}},{key:"logSDPExchange",value:function(e,t,A,n){var r=this;if(Th.SDP_LOGGING)return qh.upload("exchanging ".concat(A," ").concat(t," SDP during NVExtentionsConnection.").concat(n,"\n"),e),"offer"===t?function(e){r.logSDPExchange(e,"answer","local"===A?"remote":"local",n)}:void 0}},{key:"getRemoteSSRC",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.remoteSDP){e.next=2;break}return e.abrupt("return");case 2:return A=this.remoteSDP.getSSRC(t),e.abrupt("return",null==A?void 0:A[0].ssrcId);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setConfiguration",value:function(e){lB.supportPCSetConfiguration&&(e=t.resolvePCConfiguration(e),this.peerConnection.setConfiguration(e))}}],[{key:"resolvePCConfiguration",value:function(e){var A,n,r={iceServers:[]};return e.iceServers?r.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(Te(e.turnServer.servers)?r.iceServers=e.turnServer.servers:(r.iceServers&&(A=r.iceServers).push.apply(A,rb(t.turnServerConfigToIceServers(e.turnServer.servers))),Th.USE_TURN_SERVER_OF_GATEWAY&&r.iceServers&&e.turnServer.serversFromGateway&&(n=r.iceServers).push.apply(n,rb(t.turnServerConfigToIceServers(e.turnServer.serversFromGateway))),Th.FORCE_TURN_TCP?r.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((function(e){e.forceturn&&(r.iceTransportPolicy="relay")})))),r}},{key:"turnServerConfigToIceServers",value:function(e){var t=[];return e.forEach((function(e){e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(sA(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!Th.FORCE_TURN_TCP&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}}]),t}(ff);Ht([pi,jt("design:type",Function),jt("design:paramtypes",[Object,Object,Array,Object,String,String]),jt("design:returntype",IC)],Ub.prototype,"connect",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[Array,Array]),jt("design:returntype",IC)],Ub.prototype,"updateRemoteRTPCapabilities",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],Ub.prototype,"updateRemoteConnect",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[Object,Array]),jt("design:returntype",IC)],Ub.prototype,"createDataChannels",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[String,Array,String,Object]),jt("design:returntype",IC)],Ub.prototype,"receive",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Ub.prototype,"batchReceive",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Ub.prototype,"stopReceiving",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Ub.prototype,"muteRemote",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Ub.prototype,"unmuteRemote",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Ub.prototype,"muteLocal",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Ub.prototype,"unmuteLocal",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],Ub.prototype,"close",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],Ub.prototype,"updateEncoderConfig",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],Ub.prototype,"updateSendParameters",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[YB,String]),jt("design:returntype",IC)],Ub.prototype,"replaceTrack",null),Ht([pi,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],Ub.prototype,"getRemoteSSRC",null);var xb=function(e){function t(e,A){zb(this,t);var r=n.call(this,e,A);return Z(V(r),"store",void 0),Z(V(r),"peerConnection",void 0),Z(V(r),"cname",void 0),Z(V(r),"mutex",new ed("DataChannelConnection-mutex")),Z(V(r),"dataChannel",void 0),Z(V(r),"_p2pConnection",void 0),Z(V(r),"establishPromise",void 0),Z(V(r),"_nvMedia",void 0),r.store=A,r.store.dcId+=1,r.peerConnection=new RTCPeerConnection(t.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),r.dataChannel=r.peerConnection.createDataChannel("agora-signal",{ordered:!1,maxPacketLifeTime:50}),r.dataChannel.binaryType="arraybuffer",r._p2pConnection=new Ub(e,A,r.peerConnection),r.bindPCEvents(),r.establishPromise=r._p2pConnection.establishPromise,r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"currentLocalDescription",get:function(){return this.peerConnection.currentLocalDescription}},{key:"currentRemoteDescription",get:function(){return this.peerConnection.currentRemoteDescription}},{key:"peerConnectionState",get:function(){return this.peerConnection.connectionState}},{key:"iceConnectionState",get:function(){return this.peerConnection.iceConnectionState}},{key:"localCodecs",get:function(){return this._p2pConnection.localCodecs}},{key:"establish",value:(A=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=null===(t=this._nvMedia)||void 0===t?void 0:t.getLocalRtpCapabilities(),e.next=3,this._p2pConnection.establish(A);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"getP2PConnectionParams",value:function(){return this._p2pConnection.getP2PConnectionParams()}},{key:"connect",value:function(){var e=pa(O.mark((function e(t,A,n,r,i,o){var a=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cname=o,e.next=3,this._p2pConnection.connect(t,A,n,r,i,o);case 3:return e.next=5,new IC((function(e,t){var A=setTimeout((function(){a.closeSignal(),t(new _p(pC.DATACHANNEL_CONNECTION_TIMEOUT,"Datachannel connection timed out, candidates: ".concat(JSON.stringify(n))))}),2e3);a.dataChannel.onopen=function(){if("open"===a.dataChannel.readyState)return clearTimeout(A),void e()},a.dataChannel.onerror=function(e){a.closeSignal(),t(e)}}));case 5:return e.abrupt("return",{transmitter:this.dataChannel,close:this.closeSignal.bind(this)});case 6:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r,i,o){return e.apply(this,arguments)}}()},{key:"updateRemoteRTPCapabilities",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._p2pConnection.updateRemoteRTPCapabilities(t,A));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t,A){var n=this;return ar(O.mark((function r(){var i;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ir(n.mutex.lock("From DataChannelConnection.send"));case 2:return i=r.sent,r.prev=3,r.delegateYield(ni(fi(n._p2pConnection.send(e,t,A))),"t0",5);case 5:return r.abrupt("return",r.t0);case 6:return r.prev=6,i(),r.finish(6);case 9:case"end":return r.stop()}}),r,null,[[3,,6,9]])})))()}},{key:"stopSending",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._p2pConnection.stopSending(t,A));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"createDataChannels",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._p2pConnection.createDataChannels(t,A));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"stopDataChannels",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._p2pConnection.stopDataChannels(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=pa(O.mark((function e(t,A,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._nvMedia){e.next=7;break}return qh.debug("[DataChannelConnection] receive ".concat(t," by DataChannel.")),e.next=4,this._nvMedia.reveiveByRTCMedia(t,A,this.cname);case 4:e.t0=e.sent,e.next=11;break;case 7:return qh.debug("[DataChannelConnection] receive ".concat(t," by WebRTC.")),e.next=10,this._p2pConnection.receive(t,A,n,r);case 10:e.t0=e.sent;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"batchReceive",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=rb,e.next=3,this._p2pConnection.batchReceive(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p2pConnection.stopReceiving(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"muteRemote",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p2pConnection.muteRemote(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteRemote",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p2pConnection.unmuteRemote(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"muteLocal",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p2pConnection.muteLocal(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteLocal",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p2pConnection.unmuteLocal(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartICE",value:function(e){var t=this;return ar(O.mark((function A(){return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.delegateYield(ni(fi(t._p2pConnection.restartICE(e))),"t0",1);case 1:return A.abrupt("return",A.t0);case 2:case"end":return A.stop()}}),A)})))()}},{key:"close",value:function(){var e;null===(e=this._nvMedia)||void 0===e||e.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}},{key:"getStats",value:function(){return this._p2pConnection.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){return this._p2pConnection.getRemoteVideoIsReady(e)}},{key:"updateRemoteConnect",value:function(e){var t;null===(t=this._nvMedia)||void 0===t||t.setRemoteRtpCapabilities(e),this._p2pConnection.updateRemoteConnect(e)}},{key:"updateEncoderConfig",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p2pConnection.updateEncoderConfig(t,A);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"updateSendParameters",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p2pConnection.updateSendParameters(t,A);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setStatsRemoteVideoIsReady",value:function(e,t){this._p2pConnection.setStatsRemoteVideoIsReady(e,t)}},{key:"replaceTrack",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p2pConnection.replaceTrack(t,A);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getRemoteSSRC",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._p2pConnection.getRemoteSSRC(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logSDPExchange",value:function(e,t,A,n){var r=this;if(Th.SDP_LOGGING)return qh.upload("exchanging ".concat(A," ").concat(t," SDP during DataChannelConnection.").concat(n,"\n"),e),"offer"===t?function(e){r.logSDPExchange(e,"answer","local"===A?"remote":"local",n)}:void 0}},{key:"bindPCEvents",value:function(){var e=this;this._p2pConnection.onICEConnectionStateChange=function(t){var A;return null===(A=e.onICEConnectionStateChange)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onConnectionStateChange=function(t){var A;return null===(A=e.onConnectionStateChange)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onDTLSTransportStateChange=function(t){var A;return null===(A=e.onDTLSTransportStateChange)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onDTLSTransportError=function(t){var A;return null===(A=e.onDTLSTransportError)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onICETransportStateChange=function(t){var A;return null===(A=e.onICETransportStateChange)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onFirstAudioReceived=function(t){var A;return null===(A=e.onFirstAudioReceived)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onFirstVideoReceived=function(t){var A;return null===(A=e.onFirstVideoReceived)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onFirstAudioDecoded=function(t){var A;return null===(A=e.onFirstAudioDecoded)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onFirstVideoDecoded=function(t,A,n){var r;return null===(r=e.onFirstVideoDecoded)||void 0===r?void 0:r.call(e,t,A,n)},this._p2pConnection.onFirstVideoDecodedTimeout=function(t){var A;return null===(A=e.onFirstVideoDecodedTimeout)||void 0===A?void 0:A.call(e,t)},this._p2pConnection.onSelectedLocalCandidateChanged=function(t,A){var n;return null===(n=e.onSelectedLocalCandidateChanged)||void 0===n?void 0:n.call(e,t,A)},this._p2pConnection.onSelectedRemoteCandidateChanged=function(t,A){var n;return null===(n=e.onSelectedRemoteCandidateChanged)||void 0===n?void 0:n.call(e,t,A)}}},{key:"closeSignal",value:function(){this.dataChannel.close(),this.peerConnection.close()}},{key:"unbindConnectionEvents",value:function(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}},{key:"setConfiguration",value:function(e){this._p2pConnection.setConfiguration(e)}}],[{key:"resolvePCConfiguration",value:function(e){var A,n,r={iceServers:[]};return e.iceServers?r.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(Te(e.turnServer.servers)?r.iceServers=e.turnServer.servers:(r.iceServers&&(A=r.iceServers).push.apply(A,rb(t.turnServerConfigToIceServers(e.turnServer.servers))),Th.USE_TURN_SERVER_OF_GATEWAY&&r.iceServers&&e.turnServer.serversFromGateway&&(n=r.iceServers).push.apply(n,rb(t.turnServerConfigToIceServers(e.turnServer.serversFromGateway))),Th.FORCE_TURN_TCP?r.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((function(e){e.forceturn&&(r.iceTransportPolicy="relay")})))),r}},{key:"turnServerConfigToIceServers",value:function(e){var t=[];return e.forEach((function(e){e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(sA(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!Th.FORCE_TURN_TCP&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}}]),t}(ff);Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[Object,Object,Array,Object,String,String]),jt("design:returntype",IC)],xb.prototype,"connect",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[Array,Array]),jt("design:returntype",IC)],xb.prototype,"updateRemoteRTPCapabilities",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[Object,Array]),jt("design:returntype",IC)],xb.prototype,"createDataChannels",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[String,Array,String,Object]),jt("design:returntype",IC)],xb.prototype,"receive",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],xb.prototype,"stopReceiving",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],xb.prototype,"muteRemote",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],xb.prototype,"unmuteRemote",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],xb.prototype,"muteLocal",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],xb.prototype,"unmuteLocal",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],xb.prototype,"close",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],xb.prototype,"updateEncoderConfig",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[String,YB]),jt("design:returntype",IC)],xb.prototype,"updateSendParameters",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[YB,String]),jt("design:returntype",IC)],xb.prototype,"replaceTrack",null),Ht([Qi,jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],xb.prototype,"getRemoteSSRC",null);var Pb=function(e){function t(e,A){zb(this,t);var r,i=n.call(this);return Z(V(i),"store",void 0),Z(V(i),"statsUploader",void 0),Z(V(i),"connection",void 0),Z(V(i),"localTrackMap",new Map),Z(V(i),"remoteUserMap",new Map),Z(V(i),"localDataChannels",[]),Z(V(i),"remoteDataChannelMap",new Map),Z(V(i),"pendingLocalTracks",[]),Z(V(i),"pendingRemoteTracks",[]),Z(V(i),"pendingLocalDataChannels",[]),Z(V(i),"pendingRemoteDataChannels",[]),Z(V(i),"statsCollector",void 0),Z(V(i),"isPlanB",!1),Z(V(i),"shouldForwardP2PCreation",void 0),Z(V(i),"iceFailedCount",0),Z(V(i),"dtlsFailedCount",0),Z(V(i),"mutex",new ed("P2PChannel-mutex")),Z(V(i),"_state",Zp.Disconnected),Z(V(i),"_pcStatsUploadType",Th.NEW_ICE_RESTART?Xp.FIRST_CONNECTION:Xp.OLD_FIRST_CONNECTION),Z(V(i),"_isInRestartIce",!1),Z(V(i),"_isStartRestartIce",!1),Z(V(i),"_restartStates",["disconnected","failed"]),Z(V(i),"_restartTimer",void 0),Z(V(i),"_isFirstConnected",!0),Z(V(i),"handleMuteLocalTrack",(r=pa(O.mark((function e(t,A,n){var r,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");case 2:if(r=e.sent,e.prev=3,i.connection&&i.state===Zp.Connected){e.next=6;break}return e.abrupt("return",void n(new mC(pC.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established.")));case 6:if(0!==(o=i.filterTobeMutedTracks(t)).length){e.next=9;break}return e.abrupt("return",void A());case 9:return(a=o.find((function(e){return"videoLowTrack"===e[0]})))&&a[1].track._originMediaStreamTrack.stop(),e.next=13,i.connection.muteLocal(o.map((function(e){return Lb(e,2)[1].id})));case 13:return s=i.createMuteMessage(o),e.next=16,Ue(V(i),$p.RequestMuteLocal,s);case 16:A(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),n(e.t0);case 22:return e.prev=22,r(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[3,19,22,25]])}))),function(e,t,A){return r.apply(this,arguments)})),Z(V(i),"handleUnmuteLocalTrack",function(){var e=pa(O.mark((function e(t,A,n){var r,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");case 2:if(r=e.sent,e.prev=3,i.connection&&i.state===Zp.Connected){e.next=6;break}return e.abrupt("return",void n(new mC(pC.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.")));case 6:if(0!==(o=i.filterTobeUnmutedTracks(t)).length){e.next=9;break}return e.abrupt("return",void A());case 9:if(!(a=o.find((function(e){return"videoLowTrack"===e[0]})))){e.next=15;break}return(s=a[1]).track._originMediaStreamTrack.stop(),!Th.DISABLE_DUAL_STREAM_USE_ENCODING&&lB.supportDualStreamEncoding?(c=t._mediaStreamTrack.clone(),s.track._mediaStreamTrack=c,s.track._originMediaStreamTrack=c):(u=Kr(t,Pe(V(i),$p.RequestLowStreamParameter)),s.track._mediaStreamTrack=u,s.track._originMediaStreamTrack=u),e.next=15,new IC((function(e,t){i.handleReplaceTrack(s.track,e,t,!0)}));case 15:return e.next=17,i.connection.unmuteLocal(o.map((function(e){return Lb(e,2)[1].id})));case 17:return g=i.createUnmuteMessage(o),e.next=20,Ue(V(i),$p.RequestUnmuteLocal,g);case 20:A(),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),n(e.t0);case 26:return e.prev=26,r(),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[3,23,26,29]])})));return function(t,A,n){return e.apply(this,arguments)}}()),Z(V(i),"handleUpdateVideoEncoder",function(){var e=pa(O.mark((function e(t,A,n){var r,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");case 2:if(r=e.sent,e.prev=3,o=i.localTrackMap.get(zp.LocalVideoTrack),i.connection&&o&&o.track===t&&i.state===Zp.Connected){e.next=7;break}return e.abrupt("return",void A());case 7:return a=o.id,s=o.track,e.next=10,i.connection.updateSendParameters(a,s);case 10:return e.next=12,i.connection.updateEncoderConfig(a,s);case 12:i.emit($p.UpdateVideoEncoder,s),A(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),n(e.t0);case 19:return e.prev=19,r(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})));return function(t,A,n){return e.apply(this,arguments)}}()),Z(V(i),"handleSetOptimizationMode",function(){var e=pa(O.mark((function e(t,A,n){var r,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutex.lock("Locking from P2PChannel.handleSetOptimizationMode");case 2:if(r=e.sent,e.prev=3,o=i.localTrackMap.get(zp.LocalVideoTrack),i.connection&&o&&o.track===t&&i.state===Zp.Connected){e.next=7;break}return e.abrupt("return");case 7:return a=o.id,s=o.track,e.next=10,i.connection.updateSendParameters(a,s);case 10:A(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n(e.t0);case 16:return e.prev=16,r(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t,A,n){return e.apply(this,arguments)}}()),Z(V(i),"handleReplaceMixingTrack",function(){var e=pa(O.mark((function e(t,A,n,r){var o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.connection&&i.state===Zp.Connected){e.next=2;break}return e.abrupt("return",void A());case 2:if(o=qr([t]),qh.debug("[".concat(i.store.clientId,"] [p2pId: ").concat(i.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(o.getTrackId(),"]")),e.t0="boolean"==typeof r&&r,e.t0){e.next=9;break}return e.next=8,i.mutex.lock("From P2PChannel.handleReplaceMixingTrack");case 8:a=e.sent;case 9:return e.prev=9,e.next=12,i.replaceTrack(t,o);case 12:A(),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(9),n(e.t1);case 18:return e.prev=18,null===(s=a)||void 0===s||s(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[9,15,18,21]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()),Z(V(i),"handleReplaceTrack",function(){var e=pa(O.mark((function e(t,A,n,r){var o,a,s,c,u,g,I;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.debug("[".concat(i.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(t.getTrackId(),"]")),e.t0="boolean"==typeof r&&r,e.t0){e.next=6;break}return e.next=5,i.mutex.lock("From P2PChannel.handleReplaceTrack");case 5:o=e.sent;case 6:if(e.prev=6,s=Array.from(i.localTrackMap.entries()).find((function(e){return e=Lb(e,2)[1].track,t===e})),i.connection&&s&&i.state===Zp.Connected){e.next=10;break}return e.abrupt("return",void A());case 10:return e.next=12,null===(a=i.connection)||void 0===a?void 0:a.replaceTrack(t,s[1].id);case 12:if(!i.isPlanB){e.next=15;break}(c=s[1]).id=t._mediaStreamTrack.id,i.localTrackMap.set(s[0],c);case 15:if(s[0]!==zp.LocalVideoTrack||Th.DISABLE_DUAL_STREAM_USE_ENCODING||!lB.supportDualStreamEncoding){e.next=24;break}if(!(u=i.localTrackMap.get(zp.LocalVideoLowTrack))){e.next=24;break}return g=t._mediaStreamTrack.clone(),u.track._originMediaStreamTrack.stop(),u.track._mediaStreamTrack=g,u.track._originMediaStreamTrack=g,e.next=24,new IC((function(e,t){i.handleReplaceTrack(u.track,e,t,!0)}));case 24:A(),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(6),n(e.t1);case 30:return e.prev=30,null===(I=o)||void 0===I||I(),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[6,27,30,33]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()),Z(V(i),"handleGetRTCStats",(function(e){e(i.statsCollector.getRTCStats())})),Z(V(i),"handleGetLocalVideoStats",(function(e){e(i.statsCollector.getLocalVideoTrackStats())})),Z(V(i),"handleGetLocalAudioStats",(function(e){e(i.statsCollector.getLocalAudioTrackStats())})),Z(V(i),"handleGetRemoteVideoStats",(function(e){return i.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid]})),Z(V(i),"handleGetRemoteAudioStats",(function(e){return i.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid]})),i.store=e,i.statsCollector=A,i.statsCollector.addP2PChannel(V(i)),i.statsUploader=new vb(i.store),i.bindStatsUploaderEvents(),i.isPlanB=!lB.supportUnifiedPlan||Th.CHROME_FORCE_PLAN_B&&fe(),i.shouldForwardP2PCreation=Th.FORWARD_P2P_CREATION&&lB.supportPCSetConfiguration&&function(){var e=ee().os;return e===cC.ANDROID||e===cC.IOS||e===cC.HARMONY_OS}(),i.shouldForwardP2PCreation&&(i.connection=i.store.useDataChannel?new xb({},i.store):i.isPlanB?new Tb({},i.store):new Ob({},i.store),i.bindConnectionEvents(i.connection)),i}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;this._state=e,this.emit($p.StateChange,t,this._state)}},{key:"startP2PConnection",value:(A=pa(O.mark((function e(t,A){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state=Zp.New,r=this.shouldForwardP2PCreation&&"closed"===(null===(n=this.connection)||void 0===n?void 0:n.peerConnectionState),this.shouldForwardP2PCreation&&!r||(r&&this.connection&&(qh.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.store.useDataChannel?new xb(t,this.store):this.isPlanB?new Tb(t,this.store):new Ob(t,this.store),this.bindConnectionEvents(this.connection)),this.connection){e.next=4;break}throw new mC(pC.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");case 4:return e.abrupt("return",(this._pcStatsUploadType=Th.NEW_ICE_RESTART?Xp.FIRST_CONNECTION:Xp.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(t),this.connection.establishPromise));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"connect",value:function(){var e=pa(O.mark((function e(t,A,n,r,i,o){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}throw new mC(pC.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");case 2:if(!(this.connection instanceof xb)){e.next=6;break}this.connection.updateRemoteConnect(r),e.next=12;break;case 6:return this.store.peerConnectionStart(),e.next=9,this.connection.connect(t,A,n,r,i,o);case 9:this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Zp.Connected;case 12:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r,i,o){return e.apply(this,arguments)}}()},{key:"updateRemoteRTPCapabilities",value:function(e){var t=Array.from(this.localTrackMap.entries()).filter((function(e){var t;return e=Lb(e,1)[0],Xs(t=[zp.LocalVideoLowTrack,zp.LocalVideoTrack]).call(t,e)})),A=t.map((function(e){return Lb(e,2)[1].id}));t=t.map((function(e){return Lb(e,1)[0]})),this.connection instanceof Ob&&($h.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(t),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e)}),Xs(e).call(e,this.store.codec)||(t=["vp8","h264"].find((function(t){return Xs(e).call(e,t)})))&&(this.store.codec=t,qh.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(t,"."))),this.connection.updateRemoteRTPCapabilities(A,e))}},{key:"preConnect",value:function(){var e=pa(O.mark((function e(t,A,n,r,i,o){var a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}throw new mC(pC.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");case 2:return this.store.peerConnectionStart(),e.next=5,this.connection.connect(t,A,n,r,i,o);case 5:return a=e.sent,e.abrupt("return",(this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Zp.Connected,a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r,i,o){return e.apply(this,arguments)}}()},{key:"getEstablishParams",value:function(){if(this.connection instanceof xb)return this.connection.getP2PConnectionParams();throw Error("Only DataChannelConnection needs to obtain establishParams")}},{key:"publishDataChannel",value:function(){var e=pa(O.mark((function e(t){var A,n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection&&this.state===Zp.Connected){e.next=4;break}if(this.state!==Zp.Disconnected){e.next=3;break}throw new mC(pC.UNEXPECTED_ERROR,"PeerConnection already disconnected.");case 3:return e.abrupt("return",void t.forEach((function(e){var t;Xs(t=n.pendingLocalDataChannels).call(t,e)||n.pendingLocalDataChannels.push(e)})));case 4:if(A=this.filterTobePublishedDataChannels(t),e.t0=0!==A.length,!e.t0){e.next=11;break}return A.forEach((function(e){var t=Date.now();n.store.publish(e.id.toString(),"datachannel",t)})),e.next=10,this.connection.createDataChannels(this.store.uid,A);case 10:A.forEach((function(e){n.localDataChannels.push(e);var t=Date.now();n.store.publish(e.id+"","datachannel",void 0,t)}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publish",value:function(e,t,A){var n=this;return ar(O.mark((function r(){var i,o,a;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ir(n.mutex.lock("From P2PChannel.publish"));case 2:if(i=r.sent,r.prev=3,n.connection&&n.state===Zp.Connected){r.next=10;break}if(n.state!==Zp.Disconnected){r.next=7;break}throw new mC(pC.UNEXPECTED_ERROR,"PeerConnection already disconnected.");case 7:return n.throwIfTrackTypeNotMatch(e),o=e.filter((function(e){return-1===n.pendingLocalTracks.indexOf(e)})),r.abrupt("return",void(n.pendingLocalTracks=n.pendingLocalTracks.concat(o)));case 10:if(n.store.pubId+=1,L_.markPublishStart(n.store.clientId,n.store.pubId),0!==(a=n.filterTobePublishedTracks(e,t,A)).length){r.next=16;break}return r.next=15,ir(n.tryToUnmuteAudio(e));case 15:return r.abrupt("return",void 0);case 16:return r.delegateYield(ni(mi(n.doPublish(n.connection,a))),"t0",17);case 17:return r.prev=17,i(),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[3,,17,20]])})))()}},{key:"doPublish",value:function(e,t){var A=this;return ar(O.mark((function n(){var r,i,o,a,s,c,u,g;return O.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.forEach((function(e){var t=e.track;e=e.type;var n=Date.now();A.store.publish(t.getTrackId(),e===zp.LocalAudioTrack?"audio":"video",n)})),A.bindLocalTrackEvents(t),r=t.map((function(e){return e.track})),n.next=4,ir(e.send(t.map((function(e){return e.track})),A.store.codec,A.store.audioCodec));case 4:return i=n.sent,n.next=7,ir(i.next());case 7:return o=n.sent.value,a=A.createGatewayPublishMessage(t,o),n.prev=9,n.next=12,a;case 12:s=n.sent,n.next=18;break;case 15:throw n.prev=15,n.t0=n.catch(9),i.throw(n.t0),(null==n.t0?void 0:n.t0.code)===pC.WS_ABORT&&t.forEach((function(e){e=e.track,-1===A.pendingLocalTracks.indexOf(e)&&A.pendingLocalTracks.push(e)})),A.unbindLocalTrackEvents(t),n.t0;case 18:return c=A.mapPubResToRemoteConfig(a,s),n.next=21,ir(i.next(c));case 21:u=n.sent.value,g=Th.ENABLE_VIDEO_SEI,r.forEach(function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=t.getRTCRtpTransceiver(),e.t0=A&&g,!e.t0){e.next=12;break}if(t.trackMediaType!==jp.VIDEO){e.next=8;break}return e.next=6,function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener("ended",u)}var e=k_.get(t);if(e){k_.delete(t);try{var A,n;null===(A=e.controller)||void 0===A||A.terminate(),null===(n=e.worker)||void 0===n||n.terminate()}catch(e){qh.warning(e&&e.message)}}},lB.supportWebRTCEncodedTransform){e.next=3;break}return e.abrupt("return",void qh.warning("browser not support video encoded transform"));case 3:if(!k_.has(t)){e.next=5;break}return e.abrupt("return");case 5:if(t.track){e.next=7;break}return e.abrupt("return");case 7:if(n={track:t.track},!re()){e.next=25;break}if(t.createEncodedStreams){e.next=11;break}return e.abrupt("return",void qh.warning("browser not support createEncodedStreams() API"));case 11:r=null,e.prev=12,r=t.createEncodedStreams(),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(12),e.abrupt("return",void qh.error("create video-encoded-streams error",e.t0&&e.t0.message));case 19:i=[],A.on("sei-to-send",(function(e){i.push(e)})),o=new TransformStream({transform:function(e,A){n.controller||(n.controller=A),t.track&&t.track.id!==n.track.id&&(qh.debug("video track changed: ".concat(n.track.id," => ").concat(t.track.id)),n.track.removeEventListener("ended",u),n.track=t.track,n.track.addEventListener("ended",u));var r=i.shift();if(r){for(var o=e.data,a=r.length,s=[],c=0;c<a;)c+2<a&&0===r[c]&&0===r[c+1]&&(0===r[c+2]||1===r[c+2]||2===r[c+2]||3===r[c+2])?(s.push(r[c],r[c+1],3,r[c+2]),c+=3):(s.push(r[c]),c++);a=(r=new Uint8Array(s)).length,s=Math.floor(a/255),c=a%255;var g=new Uint8Array(6+s+1+a+o.byteLength);g[0]=0,g[1]=0,g[2]=0,g[3]=1,g[4]=6,g[5]=101;for(var I=0;I<s;)g[6+I]=255,I++;g[6+I]=c,I++,g.set(r,6+I),g.set(new Uint8Array(o),6+I+a),o=g.buffer,e.data=o}A.enqueue(e)}}),r.readable.pipeThrough(o).pipeTo(r.writable),e.next=39;break;case 25:if(ie()){e.next=27;break}return e.abrupt("return");case 27:if("undefined"!=typeof RTCRtpScriptTransform){e.next=29;break}return e.abrupt("return",void qh.warning("browser not support RTCRtpScriptTransform"));case 29:return a=$n(),s=new MessageChannel,e.next=32,new IC((function(e){return a.onmessage=function(t){"registered"===t.data&&e(void 0)}}));case 32:return c=new RTCRtpScriptTransform(a,{name:"tx",port:s.port2},[s.port2]),t.transform=c,e.next=36,new IC((function(e){return a.onmessage=function(t){"started"===t.data&&e(void 0)}}));case 36:A.on("sei-to-send",(function(e){s.port1.postMessage({sei:e})})),s.port1.onmessage=function(e){var A;e.data.transformed&&t.track&&(null===(A=t.track)||void 0===A?void 0:A.id)!==n.track.id&&(qh.debug("video track changed: ".concat(n.track.id," => ").concat(t.track.id)),n.track.removeEventListener("ended",u),n.track=t.track,n.track.addEventListener("ended",u))},n.worker=a;case 39:k_.set(t,n),t.track.addEventListener("ended",u);case 40:case"end":return e.stop()}}),e,null,[[12,16]])})));return function(t,A){return e.apply(this,arguments)}}()(A.sender,t);case 6:e.next=12;break;case 8:if(e.t1=t.trackMediaType===jp.AUDIO,!e.t1){e.next=12;break}return e.next=12,function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener("ended",s)}var e=w_.get(t);if(e){w_.delete(t);try{var A,n;null===(A=e.controller)||void 0===A||A.terminate(),null===(n=e.worker)||void 0===n||n.terminate()}catch(e){qh.warning(e&&e.message)}}},lB.supportWebRTCEncodedTransform){e.next=3;break}return e.abrupt("return",void qh.warning("browser not support audio encoded transform"));case 3:if(!w_.has(t)){e.next=5;break}return e.abrupt("return");case 5:if(t.track){e.next=7;break}return e.abrupt("return");case 7:if(A={track:t.track},!re()){e.next=23;break}if(t.createEncodedStreams){e.next=11;break}return e.abrupt("return",void qh.warning("browser not support createEncodedStreams() API"));case 11:n=null,e.prev=12,n=t.createEncodedStreams(),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(12),e.abrupt("return",void qh.error("create audio-encoded-streams error",e.t0&&e.t0.message));case 19:r=new TransformStream({transform:function(e,n){A.controller||(A.controller=n),t.track&&t.track.id!==A.track.id&&(qh.debug("audio track changed: ".concat(A.track.id," => ").concat(t.track.id)),A.track.removeEventListener("ended",s),A.track=t.track,A.track.addEventListener("ended",s)),n.enqueue(e)}}),n.readable.pipeThrough(r).pipeTo(n.writable),e.next=35;break;case 23:if(!ie()){e.next=35;break}if("undefined"!=typeof RTCRtpScriptTransform){e.next=26;break}return e.abrupt("return",void qh.warning("browser not support RTCRtpScriptTransform"));case 26:return i=$n(),o=new MessageChannel,e.next=29,new IC((function(e){return i.onmessage=function(t){"registered"===t.data&&e(void 0)}}));case 29:return a=new RTCRtpScriptTransform(i,{name:"tx",port:o.port2},[o.port2]),t.transform=a,e.next=33,new IC((function(e){return i.onmessage=function(t){"started"===t.data&&e(void 0)}}));case 33:o.port1.onmessage=function(e){var n;e.data.transformed&&t.track&&(null===(n=t.track)||void 0===n?void 0:n.id)!==A.track.id&&(qh.debug("audio track changed: ".concat(A.track.id," => ").concat(t.track.id)),A.track.removeEventListener("ended",s),A.track=t.track,A.track.addEventListener("ended",s))},A.worker=i;case 35:w_.set(t,A),t.track.addEventListener("ended",s);case 36:case"end":return e.stop()}}),e,null,[[12,16]])})));return function(t){return e.apply(this,arguments)}}()(A.sender);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.forEach((function(e){A.statsCollector.addLocalStats(e.type)})),A.assignLocalTracks(t,u),A.statsUploader.startUploadOutboundStats(),t.forEach((function(e){var t=e.track;e=e.type;var n=Date.now();A.store.publish(t.getTrackId(),e===zp.LocalAudioTrack?"audio":"video",void 0,n)}));case 24:case"end":return n.stop()}}),n,null,[[9,15]])})))()}},{key:"updateVideoStreamParameter",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.localTrackMap.get(A)){e.next=3;break}return e.abrupt("return");case 3:if(n.track instanceof _Q){e.next=5;break}return e.abrupt("return",qh.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack"));case 5:if(this.connection instanceof Ob||this.connection instanceof Tb){e.next=7;break}return e.abrupt("return",qh.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB"));case 7:if(r=n.track,s=r,c=void 0,c={},(a=t).height&&a.width&&(c.scaleResolutionDownBy=dA(a,s)),c.maxFramerate=a.framerate?uA(a.framerate):void 0,c.maxBitrate=a.bitrate?1e3*a.bitrate:void 0,i=c,r._encoderConfig||(r._encoderConfig={}),A===zp.LocalVideoLowTrack&&(Th.DISABLE_DUAL_STREAM_USE_ENCODING||!lB.supportDualStreamEncoding)){e.next=12;break}null!=i.scaleResolutionDownBy&&(r._encoderConfig.scaleResolutionDownBy=i.scaleResolutionDownBy),e.next=16;break;case 12:if((o=r._originMediaStreamTrack).canvas){e.next=15;break}return e.abrupt("return",qh.warn("[".concat(r.getTrackId(),"] no canvas on track")));case 15:!function(e,t){var A=e.canvas;t.width&&(A.width=uA(t.width)),t.height&&(A.height=uA(t.height)),t.framerate&&(A.stopCapture&&A.stopCapture(),A.stopCapture=sn((function(){!A.startCapture&&A.stopCapture&&A.stopCapture(),A.startCapture&&A.startCapture()}),uA(t.framerate)))}(o,t);case 16:return null!=i.maxBitrate&&(r._encoderConfig.bitrateMax=i.maxBitrate/1e3),null!=i.maxFramerate&&(r._encoderConfig.frameRate&&"object"==ub(r._encoderConfig.frameRate)?r._encoderConfig.frameRate.max=i.maxFramerate:r._encoderConfig.frameRate={max:i.maxFramerate}),qh.debug("[".concat(r.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(r._encoderConfig))),e.next=21,this.connection.updateRtpSenderEncodings(r);case 21:case"end":return e.stop()}var a,s,c}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"publishLowStream",value:function(e){var t=this;return ar(O.mark((function A(){var n,r,i,o,a;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t.connection&&t.state===Zp.Connected){A.next=2;break}return A.abrupt("return");case 2:return A.next=4,ir(t.mutex.lock("Locking from P2PChannel.publishLowStream"));case 4:if(n=A.sent,A.prev=5,r=t.localTrackMap.get(zp.LocalVideoTrack)){A.next=9;break}throw new mC(pC.UNEXPECTED_ERROR,"Could not find high stream");case 9:if(!t.localTrackMap.has(zp.LocalVideoLowTrack)){A.next=11;break}throw new mC(pC.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));case 11:return i=[{track:t.getLowVideoTrack(r.track,e),type:zp.LocalVideoLowTrack}],A.delegateYield(ni(mi(t.doPublish(t.connection,i))),"t0",13);case 13:if(!r.track.muted&&r.track.enabled){A.next=19;break}if(a=null===(o=t.localTrackMap.get(zp.LocalVideoLowTrack))||void 0===o?void 0:o.id,A.t1=void 0!==a,!A.t1){A.next=19;break}return A.next=19,ir(t.connection.muteLocal([a]));case 19:return A.prev=19,n(),A.finish(19);case 22:case"end":return A.stop()}}),A,null,[[5,,19,22]])})))()}},{key:"republish",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0<this.pendingLocalTracks.length,!e.t0){e.next=7;break}return qh.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),e.next=5,Me(this,$p.RequestRePublish,this.pendingLocalTracks);case 5:this.emit($p.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[];case 7:if(e.t1=0<this.pendingLocalDataChannels.length,!e.t1){e.next=13;break}return qh.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),e.next=12,Me(this,$p.RequestRePublishDataChannel,this.pendingLocalDataChannels);case 12:this.pendingLocalDataChannels=[];case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reSubscribe",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(A=this.pendingRemoteTracks.length-1;0<=A;A--)n=this.pendingRemoteTracks[A],r=n.user,((i=n.kind)!==jp.AUDIO||r._audio_added_&&r._audioSSRC)&&(i!==jp.VIDEO||r._video_added_&&r._videoSSRC)||this.pendingRemoteTracks.splice(A,1);if(!t){e.next=6;break}return e.next=4,Me(this,$p.RequestReSubscribe,this.pendingRemoteTracks);case 4:e.next=14;break;case 6:o=0,a=this.pendingRemoteTracks;case 7:if(!(o<a.length)){e.next=14;break}return s=a[o],c=s.user,u=s.kind,e.next=11,this.subscribe(c,u,u===jp.VIDEO?c._videoSSRC:c._audioSSRC);case 11:o++,e.next=7;break;case 14:this.pendingRemoteTracks.forEach((function(e){g.emit($p.MediaReconnectEnd,e.user.uid)})),this.pendingRemoteTracks=[];case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unpublish",value:function(){var e=pa(O.mark((function e(t){var A,n,r=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection&&this.state===Zp.Connected){e.next=2;break}return e.abrupt("return",void t.forEach((function(e){-1!==(e=r.pendingLocalTracks.indexOf(e))&&r.pendingLocalTracks.splice(e,1)})));case 2:if(0!==(A=this.filterTobeUnpublishedTracks(t)).length){e.next=5;break}return e.abrupt("return");case 5:return(n=A.find((function(e){return"videoLowTrack"===e[0]})))&&n[1].track.close(),e.abrupt("return",this.doUnpublish(this.connection,A));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unpublishDataChannel",value:function(){var e=pa(O.mark((function e(t){var A,n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection&&this.state===Zp.Connected){e.next=2;break}return e.abrupt("return",void t.forEach((function(e){-1!==(e=n.pendingLocalDataChannels.indexOf(e))&&n.pendingLocalDataChannels.splice(e,1)})));case 2:if(0===(A=this.filterTobeUnpublishedDataChannels(t)).length){e.next=12;break}if(A.forEach((function(e){-1!==(e=n.localDataChannels.indexOf(e))&&n.localDataChannels.splice(e,1)})),e.t1=0===this.localDataChannels.length,!e.t1){e.next=9;break}return e.next=9,this.connection.stopDataChannels(this.store.uid);case 9:e.t0=A.map((function(e){return e.id})),e.next=13;break;case 12:e.t0=void 0;case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unpublishLowStream",value:function(){var e=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection&&this.state===Zp.Connected){e.next=2;break}return e.abrupt("return");case 2:if(t=this.localTrackMap.get(zp.LocalVideoLowTrack)){e.next=5;break}return e.abrupt("return");case 5:return t.track.close(),A=[[zp.LocalVideoLowTrack,t]],e.abrupt("return",this.doUnpublish(this.connection,A));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doUnpublish",value:function(){var e=pa(O.mark((function e(t,A){var n,r=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createGatewayUnpublishMessage(A),e.next=3,t.stopSending(A.map((function(e){return Lb(e,2)[1].id})));case 3:return this.withdrawLocalTracks(A),this.unbindLocalTrackEvents(A.map((function(e){return{type:(e=Lb(e,2))[0],track:e[1].track}}))),A.forEach((function(e){e=Lb(e,1)[0],r.statsCollector.removeLocalStats(e)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadOutboundStats(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"subscribeDataChannel",value:function(){var e=pa(O.mark((function e(t,A){var n,r=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection&&this.state===Zp.Connected){e.next=2;break}throw new mC(pC.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");case 2:if(0===(n=A.filter((function(e){var A;return!(null!==(A=r.remoteDataChannelMap.get(t))&&void 0!==A&&A.get(e.id))}))).length){e.next=8;break}return e.next=6,this.connection.createDataChannels(t.uid,n);case 6:return n.forEach((function(e){var A;r.remoteDataChannelMap.has(t)?null===(A=r.remoteDataChannelMap.get(t))||void 0===A||A.set(e.id,e):r.remoteDataChannelMap.set(t,new Map([[e.id,e]])),-1!==(A=r.pendingRemoteDataChannels.findIndex((function(A){var n=A.id;return A.user.uid===t.uid&&n===e.id})))&&r.pendingRemoteDataChannels.splice(A,1)})),e.abrupt("return",n.map((function(e){return e.id})));case 8:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=pa(O.mark((function e(t,A,n,r,i){var o,a,s,c,u,g,I,l,E;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection&&this.state===Zp.Connected){e.next=2;break}throw new mC(pC.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");case 2:if(null===(o=this.remoteUserMap.get(t))||void 0===o||!o.has(A)){e.next=4;break}return e.abrupt("return");case 4:if(!i){e.next=14;break}if(u=i.find((function(e){return e.stream_type===A}))){e.next=8;break}throw new mC(pC.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(A," for user: ").concat(t.uid," because subscribe answer from gateway does not contain stream_type: ").concat(A,"."));case 8:return e.next=10,this.connection.receive(A,u.ssrcs,String(t._uintid),u.attributes);case 10:g=e.sent,this.connection instanceof Ob&&(c=g.transceiver),a=g.track,s=g.id,e.next=18;break;case 14:return e.next=16,this.connection.receive(A,[{ssrcId:n,rtx:r}],String(t._uintid),void 0);case 16:I=e.sent,this.connection instanceof Ob&&(c=I.transceiver),a=I.track,s=I.id;case 18:if(A===jp.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(a):(t._audioTrack=new wQ(a,t.uid,t._uintid,this.store),qh.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),c&&t._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(a):(t._videoTrack=new SQ(a,t.uid,t._uintid,this.store),qh.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),c&&t._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._videoTrack)),e.t0=Th.ENABLE_VIDEO_SEI&&c,!e.t0){e.next=30;break}if(A!=jp.VIDEO){e.next=26;break}return e.next=24,Ar(c.receiver,{onSei:function(e){var A;null===(A=t._videoTrack)||void 0===A||A._onSei(e)}});case 24:e.next=30;break;case 26:if(e.t1=A==jp.AUDIO,!e.t1){e.next=30;break}return e.next=30,er(c.receiver);case 30:(l=this.remoteUserMap.get(t))?l.set(A,s):this.remoteUserMap.set(t,new Map([[A,s]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats(),-1!==(E=this.pendingRemoteTracks.findIndex((function(e){var n=e.kind;return e.user.uid===t.uid&&A===n})))&&(this.pendingRemoteTracks.splice(E,1),this.emit($p.MediaReconnectEnd,t.uid));case 34:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r,i){return e.apply(this,arguments)}}()},{key:"massSubscribe",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.massSubscribeNoLock(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"massSubscribeNoLock",value:function(){var e=pa(O.mark((function e(t){var A,n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection&&this.state===Zp.Connected){e.next=2;break}throw new mC(pC.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");case 2:return t=t.filter((function(e){var t,A=e.mediaType;return!(null!==(t=n.remoteUserMap.get(e.user))&&void 0!==t&&t.has(A))})),e.next=5,this.connection.batchReceive(t.map((function(e){return{kind:e.mediaType,ssrcMsg:[{ssrcId:e.ssrcId,rtx:e.rtxSsrcId}],mslabel:String(e.user._uintid)}})));case 5:A=e.sent,t.forEach((function(e,t){var r=e.user,i=e.mediaType,o=A[t];t=o.track,e=o.id,o=o.transceiver,i===jp.AUDIO?(r._audioTrack?r._audioTrack._updateOriginMediaStreamTrack(t):(r._audioTrack=new wQ(t,r.uid,r._uintid,n.store),qh.info("[".concat(n.store.clientId,"] [").concat(n.store.p2pId,"] create remote audio track: ").concat(r._audioTrack.getTrackId()))),o&&r._audioTrack._updateRtpTransceiver(o),n.bindRemoteTrackEvents(r,r._audioTrack)):(r._videoTrack?r._videoTrack._updateOriginMediaStreamTrack(t):(r._videoTrack=new SQ(t,r.uid,r._uintid,n.store),qh.info("[".concat(n.store.clientId,"] [").concat(n.store.p2pId,"] create remote video track: ").concat(r._videoTrack.getTrackId()))),o&&r._videoTrack._updateRtpTransceiver(o),n.bindRemoteTrackEvents(r,r._videoTrack)),(t=n.remoteUserMap.get(r))?t.set(i,e):n.remoteUserMap.set(r,new Map([[i,e]])),n.statsCollector.addRemoteStats(r.uid),n.statsUploader.startUploadInboundStats(),-1!==(e=n.pendingRemoteTracks.findIndex((function(e){var t=e.kind;return e.user.uid===r.uid&&i===t})))&&(n.pendingRemoteTracks.splice(e,1),n.emit($p.MediaReconnectEnd,r.uid))}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.pendingRemoteTracks.filter((function(e){var n=e.user;return e=e.kind,void 0!==A?n.uid===t.uid&&A===e:n.uid===t.uid}))).forEach((function(e){e=a.pendingRemoteTracks.indexOf(e),a.pendingRemoteTracks.splice(e,1)})),this.connection&&this.state===Zp.Connected||n||r.forEach((function(e){var A;if((e=e.kind)===jp.AUDIO)null===(A=t._audioTrack)||void 0===A||A._destroy(),t._audioTrack=void 0;else if(e===jp.VIDEO){var n;null===(n=t._videoTrack)||void 0===n||n._destroy(),t._videoTrack=void 0}})),this.connection&&this.state===Zp.Connected){e.next=3;break}return e.abrupt("return");case 3:if(0!==(i=this.filterTobeUnSubscribedTracks(t,A)).length){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.connection.stopReceiving(i.map((function(e){return Lb(e,2)[1].id})));case 8:return o=this.createUnsubscribeMessage(i),e.abrupt("return",(this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),i.forEach((function(e){var t,A,r=Lb(e,2);if(e=r[0],(r=r[1].kind)===jp.VIDEO&&e._videoSSRC&&(null===(t=a.connection)||void 0===t||t.setStatsRemoteVideoIsReady(e._videoSSRC,!1)),r===jp.VIDEO)a.unbindRemoteTrackEvents(e._videoTrack),n||(null===(A=e._videoTrack)||void 0===A||A._destroy(),e._videoTrack=void 0);else if(r===jp.AUDIO){var i;a.unbindRemoteTrackEvents(e._audioTrack),n||(null===(i=e._audioTrack)||void 0===i||i._destroy(),e._audioTrack=void 0)}})),o));case 10:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"unsubscribeDataChannel",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.forEach((function(e){var t=i.pendingRemoteDataChannels.findIndex((function(t){return t.id===e.id}));-1!==t&&i.pendingRemoteDataChannels.splice(t,1)})),this.connection){e.next=2;break}return e.abrupt("return");case 2:if(0!==(n=this.filterTobeUnSubscribedDataChannels(t,A)).length){e.next=5;break}return e.abrupt("return");case 5:if(A.forEach((function(e){e._close()})),r=this.remoteDataChannelMap.get(t),n.forEach((function(e){r&&r.delete(e.id)})),e.t0=r&&0===r.size,!e.t0){e.next=13;break}return this.remoteDataChannelMap.delete(t),e.next=13,this.connection.stopDataChannels(t.uid);case 13:return e.abrupt("return",n.map((function(e){return e.id})));case 14:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"massUnsubscribe",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.massUnsubscribeNoLock(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"massUnsubscribeNoLock",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(A=[],n=function(e){var t=(e=r[e]).user,n=e.mediaType,r=a.pendingRemoteTracks.filter((function(e){var A=e.user;return e=e.kind,void 0!==n?A.uid===t.uid&&n===e:A.uid===t.uid}));r.forEach((function(e){e=a.pendingRemoteTracks.indexOf(e),a.pendingRemoteTracks.splice(e,1)})),A=A.concat(r)},r=0;r<t.length;r++)n(r);if(this.connection&&this.state===Zp.Connected){e.next=5;break}return e.abrupt("return",void A.forEach((function(e){var t,A=e.user;if((e=e.kind)===jp.AUDIO)null===(t=A._audioTrack)||void 0===t||t._destroy(),A._audioTrack=void 0;else if(e===jp.VIDEO){var n;null===(n=A._videoTrack)||void 0===n||n._destroy(),A._videoTrack=void 0}})));case 5:if(0!==(i=HC(t).call(t,(function(e,t){return t=a.filterTobeUnSubscribedTracks(t.user,t.mediaType),e.concat(t)}),[])).length){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,this.connection.stopReceiving(i.map((function(e){return Lb(e,2)[1].id})));case 10:return o=this.createUnsubscribeAllMessage(i),e.abrupt("return",(this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),i.forEach((function(e){var t,A,n=Lb(e,2);if(e=n[0],(n=n[1].kind)===jp.VIDEO&&e._videoSSRC&&(null===(t=a.connection)||void 0===t||t.setStatsRemoteVideoIsReady(e._videoSSRC,!1)),n===jp.VIDEO)a.unbindRemoteTrackEvents(e._videoTrack),null===(A=e._videoTrack)||void 0===A||A._destroy(),e._videoTrack=void 0;else if(n===jp.AUDIO){var r;a.unbindRemoteTrackEvents(e._audioTrack),null===(r=e._audioTrack)||void 0===r||r._destroy(),e._audioTrack=void 0}})),o));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"muteRemote",value:function(){var e=pa(O.mark((function e(t,A){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}return e.abrupt("return");case 2:if(n=this.remoteUserMap.get(t)){e.next=5;break}return e.abrupt("return",void qh.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(t.uid,".")));case 5:if(n.get(A)){e.next=7;break}return e.abrupt("return",void qh.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(t.uid," media type ").concat(A,".")));case 7:void 0!==(r=A===jp.VIDEO?t._videoSSRC:t._audioSSRC)&&this.connection.setStatsRemoteVideoIsReady(r,!1);case 9:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unmuteRemote",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.unmuteRemoteNoLock(t,A));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unmuteRemoteNoLock",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}return e.abrupt("return");case 2:if(n=this.remoteUserMap.get(t)){e.next=5;break}return e.abrupt("return",void qh.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(t.uid,".")));case 5:n.get(A)||qh.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(t.uid," media type ").concat(A,"."));case 6:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getAllTracks",value:function(e){var t=this.localTrackMap.get(zp.LocalAudioTrack);return(null==t?void 0:t.track)instanceof CQ?(t=t.track,Array.from(this.localTrackMap.entries()).filter((function(e){return Lb(e,1)[0]!==zp.LocalAudioTrack})).filter((function(t){return t=Lb(t,1)[0],!(e&&t===zp.LocalVideoLowTrack)})).map((function(e){return Lb(e,2)[1].track})).concat(t.trackList)):Array.from(this.localTrackMap.entries()).filter((function(t){return t=Lb(t,1)[0],!(e&&t===zp.LocalVideoLowTrack)})).map((function(e){return Lb(e,2)[1].track}))}},{key:"getAllDataChannels",value:function(){return this.localDataChannels}},{key:"reportPublishEvent",value:function(e,t,A,n,r){if(e){var i=this.localTrackMap.get(zp.LocalAudioTrack);n=n?this.localTrackMap.get(zp.LocalVideoLowTrack):this.localTrackMap.get(zp.LocalVideoTrack),$h.publish(this.store.sessionId,{eventElapse:L_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==n?void 0:n.track.getTrackLabel(),screenshare:-1!==(null==n?void 0:n.track._hints.indexOf(CB.SCREEN_TRACK)),audio:!!i,video:!!n,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{A||(A=[]);var o=A.find((function(e){return e instanceof IQ}));n=n?null===(i=this.localTrackMap.get(zp.LocalVideoTrack))||void 0===i?void 0:i.track:A.find((function(e){return e instanceof _Q})),$h.publish(this.store.sessionId,{eventElapse:L_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==o?void 0:o.getTrackLabel(),videoName:null==n?void 0:n.getTrackLabel(),screenshare:-1!==(null==n?void 0:n._hints.indexOf(CB.SCREEN_TRACK)),audio:!!o,video:!!n,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}},{key:"reportSubscribeEvent",value:function(e,t,A,n){var r=n===jp.VIDEO?A._videoSSRC:A._audioSSRC;r&&$h.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===jp.VIDEO,audio:n===jp.AUDIO,peerid:A.uid,subscribeRequestid:n===jp.VIDEO?A._videoSSRC:A._audioSSRC,p2pid:this.store.p2pId,eventElapse:L_.measureFromSubscribeStart(this.store.clientId,r)})}},{key:"reset",value:function(){qh.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new ed("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new xb({},this.store):this.isPlanB?new Tb({},this.store):new Ob({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();var e=this.localTrackMap.get(zp.LocalAudioTrack);if((null==e?void 0:e.track)instanceof CQ){if(0<e.track.trackList.length){var t=e.track;e.track.trackList.forEach((function(e){t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=this.iceFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=Zp.Disconnected}},{key:"getStats",value:function(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}},{key:"getLocalAudioVolume",value:function(){var e=this.localTrackMap.get(zp.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}},{key:"getLocalVideoSize",value:function(){var e=this.localTrackMap.get(zp.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}},{key:"getEncoderConfig",value:function(e){return(e=this.localTrackMap.get(e))&&e.track instanceof _Q||e&&e.track instanceof IQ?e.track._encoderConfig:void 0}},{key:"getLocalMedia",value:function(e){return this.localTrackMap.get(e)}},{key:"hasLocalMedia",value:function(){return 0<this.localTrackMap.size}},{key:"hasRemoteMedia",value:function(e,t){return e?!!(e=this.remoteUserMap.get(e))&&(!t||e.has(t)):0<this.remoteUserMap.size}},{key:"hasRemoteMediaWithLock",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0<this.remoteUserMap.size);case 2:return n=this.remoteUserMap.get(t),e.abrupt("return",!!n&&(!A||n.has(A)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getRemoteMedia",value:function(e){var t,A=Array.from(NI(t=this.remoteUserMap).call(t)).find((function(t){return t.uid===e}));return A?{audioTrack:A.audioTrack,audioSSRC:A._audioSSRC,videoTrack:A.videoTrack,videoSSRC:A._videoSSRC}:{}}},{key:"getAudioLevels",value:function(){var e=Array.from(this.remoteUserMap.entries()).map((function(e){return{uid:(e=Lb(e,1)[0]).uid,level:e.audioTrack?100*e.audioTrack._source.getAccurateVolumeLevel():0}})),t=this.localTrackMap.get(zp.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=ZI(e).call(e,(function(e,t){return e.level-t.level}))}},{key:"disconnectForReconnect",value:function(){var e=pa(O.mark((function e(){var t=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.connection&&(qh.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=Zp.Reconnecting,Th.KEEP_LAST_FRAME&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((function(e){var t;(e=Lb(e,1)[0])._videoTrack&&e._videoTrack._player&&(null===(t=e._videoTrack._player.getVideoElement())||void 0===t||t.pause(),e._videoTrack._player.isKeepLastFrame=!0,e._videoTrack._originMediaStreamTrack.stop())})),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new xb({},this.store):this.isPlanB?new Tb({},this.store):new Ob({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((function(e){var A,n=(e=Lb(e,2))[1].track;switch(e[0]){case zp.LocalVideoTrack:Xs(A=n._hints).call(A,CB.LOW_STREAM)?n.close():t.pendingLocalTracks.push(n);break;case zp.LocalAudioTrack:n instanceof CQ?t.pendingLocalTracks=t.pendingLocalTracks.concat(n.trackList):t.pendingLocalTracks.push(n)}})),this.emit($p.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((function(e){var A=(e=Lb(e,2))[0];e=e[1],Array.from(NI(e).call(e)).forEach((function(e){t.setPendingRemoteMedia(A,e)})),t.emit($p.MediaReconnectStart,A.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach((function(e){t.pendingLocalDataChannels.push(e)})),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach((function(e){var A=(e=Lb(e,2))[0];e=e[1],Array.from(NI(e).call(e)).forEach((function(e){t.setPendingRemoteDataChannel(A,e)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),qh.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasPendingRemoteDataChannel",value:function(e,t){for(var A=0,n=this.pendingRemoteDataChannels;A<n.length;A++){var r=n[A],i=r.id;if((e instanceof mb?e.uid:e)===r.user.uid&&i===t)return!0}return!1}},{key:"setPendingRemoteDataChannel",value:function(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}},{key:"hasPendingRemoteMedia",value:function(e,t){for(var A=0,n=this.pendingRemoteTracks;A<n.length;A++){var r=n[A],i=r.kind;if((e instanceof mb?e.uid:e)===r.user.uid&&t===i)return!0}return!1}},{key:"setPendingRemoteMedia",value:function(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}},{key:"restartICE",value:function(e){var t=this;return ar(O.mark((function A(){var n,r,i,o,a,s;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t.connection&&t.state===Zp.Connected&&!(t.connection instanceof xb)){A.next=2;break}return A.abrupt("return");case 2:return A.next=4,ir(t.mutex.lock("From P2PChannel.restartICE"));case 4:return n=A.sent,A.prev=5,A.next=8,ir(t.connection.restartICE(e));case 8:return r=A.sent,A.next=11,ir(r.next());case 11:if(!(i=A.sent).done){A.next=14;break}return A.abrupt("return");case 14:return o=i.value,A.next=17,o;case 17:a=A.sent,A.t0=(t.reportPCDisconnectedOrFailed(e),e),A.next=A.t0===Wp.TCP?21:A.t0===Wp.RELAY?23:25;break;case 21:return t._pcStatsUploadType=Xp.TCP_RESTART,A.abrupt("break",26);case 23:return t._pcStatsUploadType=Xp.RELAY_RESTART,A.abrupt("break",26);case 25:t._pcStatsUploadType=Xp.OLD_RESTART;case 26:t._isInRestartIce=!0,r.next(a),A.next=32;break;case 29:A.prev=29,A.t1=A.catch(5),null===(s=r)||void 0===s||s.throw(A.t1);case 32:return A.prev=32,n(),A.finish(32);case 35:case"end":return A.stop()}}),A,null,[[5,29,32,35]])})))()}},{key:"getUplinkNetworkQuality",value:function(){if(!this.connection)return 0;var e=this.connection.getStats(),t=this.localTrackMap.get(zp.LocalVideoTrack),A=this.localTrackMap.get(zp.LocalAudioTrack),n=e.videoSend.find((function(e){return e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId)})),r=e.audioSend.find((function(e){return e.ssrc===(null==A?void 0:A.ssrcs[0].ssrcId)}));if(!n||!r)return 1;var i=xe(this,$p.NeedSignalRTT);return n=n?n.rttMs:void 0,r=r?r.rttMs:void 0,r=n&&r?(n+r)/2:n||r,i=.17>(i=70*e.sendPacketLossRate/50+.3*((r&&i?(r+i)/2:r||i)||0)/1500)?1:.36>i?2:.59>i?3:.1>i?4:5,(r=null==t?void 0:t.track)&&r._encoderConfig&&-1===r._hints.indexOf(CB.SCREEN_TRACK)&&(r=r._encoderConfig.bitrateMax,e=e.bitrate.actualEncoded,r&&e)?Ap[.15>(e=(1e3*r-e)/(1e3*r))?0:.3>e?1:.45>e?2:.6>e?3:4][i]:i}},{key:"getDownlinkNetworkQuality",value:function(){var e=this;if(!this.connection)return 0;var t=this.connection.getStats(),A=0;return Array.from(this.remoteUserMap.entries()).forEach((function(n){var r=(n=Lb(n,1)[0])._audioSSRC,i=n._videoSSRC;n=t.audioRecv.find((function(e){return e.ssrc===r}));var o=t.videoRecv.find((function(e){return e.ssrc===i}));if(n||o){o=xe(e,$p.NeedSignalRTT);var a=t.rtt;o=(a&&o?(a+o)/2:a||o)||0,n=n?n.jitterMs:void 0;var s=70*(a=t.recvPacketLossRate)/50+.3*o/1500;n&&(s=60*a/50+.2*o/1500+.2*n/400),A+=.1>s?1:.17>s?2:.36>s?3:.59>s?4:5}else A+=1})),0<this.remoteUserMap.size?Math.round(A/this.remoteUserMap.size):A}},{key:"muteLocalTrack",value:function(){var e=pa(O.mark((function e(t){var A=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new IC((function(e,n){A.handleMuteLocalTrack(t,e,n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.debug("[".concat(this.store.clientId,"] P2PChannel replaceTrack from [").concat(t.getTrackId(),"] to [").concat(A.getTrackId(),"]")),this.connection&&this.state===Zp.Connected){e.next=2;break}return e.abrupt("return");case 2:if(r=Array.from(this.localTrackMap.entries()).find((function(e){return e=Lb(e,2)[1].track,t===e}))){e.next=5;break}return e.abrupt("return");case 5:return i=r[0],t!==A&&(this.unbindLocalTrackEvents([{track:t,type:i}]),this.bindLocalTrackEvents([{track:A,type:i}]),r[1].track=A),e.next=9,null===(n=this.connection)||void 0===n?void 0:n.replaceTrack(A,r[1].id);case 9:if(!this.isPlanB){e.next=12;break}(o=r[1]).id=A._mediaStreamTrack.id,this.localTrackMap.set(i,o);case 12:if(i!==zp.LocalVideoTrack||Th.DISABLE_DUAL_STREAM_USE_ENCODING||!lB.supportDualStreamEncoding){e.next=21;break}if(!(a=this.localTrackMap.get(zp.LocalVideoLowTrack))){e.next=21;break}return s=t._mediaStreamTrack.clone(),a.track._originMediaStreamTrack.stop(),a.track._mediaStreamTrack=s,a.track._originMediaStreamTrack=s,e.next=21,new IC((function(e,t){c.handleReplaceTrack(a.track,e,t,!0)}));case 21:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"filterTobePublishedTracks",value:function(e,t,A){var n=[],r=this.getAllTracks();e=Ve(e=e.filter((function(e){return-1===r.indexOf(e)})));for(var i,o=!1,a=this.localTrackMap.get(zp.LocalAudioTrack),s=0;s<e.length;s++){var c=e[s];if(c instanceof _Q&&(this.localTrackMap.has(zp.LocalVideoTrack)||o?new mC(pC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:c,type:zp.LocalVideoTrack}),o=!0),t)){var u=this.getLowVideoTrack(c,A);n.push({track:u,type:zp.LocalVideoLowTrack})}c instanceof IQ&&(a?(u=a.track)instanceof CQ?(Jr([c]),u.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0)):(c=qr([u,c]),qh.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(c.getTrackId(),"]")),this.replaceTrack(u,c)):i instanceof CQ?(Jr([c]),i.addAudioTrack(c)):i=i||!c._useAudioElement&&lB.webAudioMediaStreamDest&&!c._bypassWebAudio?qr(i?[c,i]:[c]):c)}return i&&(qh.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will send audioTrack [").concat(i.getTrackId(),"]")),n.push({track:i,type:zp.LocalAudioTrack})),n}},{key:"filterTobeUnpublishedTracks",value:function(e){var t=[],A=this.getAllTracks();e=Ve(e=e.filter((function(e){return-1!==A.indexOf(e)})));for(var n=0;n<e.length;n++){var r=e[n];if(r instanceof IQ){var i=this.localTrackMap.get(zp.LocalAudioTrack);if(!i)continue;i.track instanceof CQ?(i.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),0===i.track.trackList.length&&(t.push([zp.LocalAudioTrack,i]),i.track.close())):t.push([zp.LocalAudioTrack,i])}r instanceof _Q&&(r=this.localTrackMap.get(zp.LocalVideoTrack))&&(t.push([zp.LocalVideoTrack,r]),(r=this.localTrackMap.get(zp.LocalVideoLowTrack))&&t.push([zp.LocalVideoLowTrack,r]))}return t}},{key:"filterTobePublishedDataChannels",value:function(e){var t=this;return(e=Ve(e)).filter((function(e){return-1===t.localDataChannels.findIndex((function(t){return t.id===e.id}))}))}},{key:"filterTobeUnpublishedDataChannels",value:function(e){var t=this;return(e=(e=Ve(e)).filter((function(e){return-1!==t.localDataChannels.indexOf(e)}))).filter((function(e){return e._originDataChannel}))}},{key:"bindLocalTrackEvents",value:function(e){var t=this;e.forEach((function(e){var A=e.track;switch(e.type){case zp.LocalVideoTrack:A.addListener(EB.GET_STATS,t.handleGetLocalVideoStats),A.addListener(EB.GET_RTC_STATS,t.handleGetRTCStats),A.addListener(EB.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),A.addListener(EB.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),A.addListener(EB.NEED_UPDATE_VIDEO_ENCODER,t.handleUpdateVideoEncoder),A.addListener(EB.SET_OPTIMIZATION_MODE,t.handleSetOptimizationMode),A.addListener(EB.NEED_REPLACE_TRACK,t.handleReplaceTrack),A.addListener(EB.NEED_MUTE_TRACK,t.handleMuteLocalTrack),A.addListener(EB.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack);break;case zp.LocalAudioTrack:t.bindLocalAudioTrackEvents(A)}}))}},{key:"bindLocalAudioTrackEvents",value:function(e,t){var A=this;e instanceof CQ?e.trackList.forEach((function(e){e.addListener(EB.NEED_DISABLE_TRACK,A.handleMuteLocalTrack),e.addListener(EB.NEED_ENABLE_TRACK,A.handleUnmuteLocalTrack),e.addListener(EB.GET_STATS,A.handleGetLocalAudioStats),e.addListener(EB.NEED_MUTE_TRACK,A.handleMuteLocalTrack),e.addListener(EB.NEED_UNMUTE_TRACK,A.handleUnmuteLocalTrack)})):(e.addListener(EB.GET_STATS,this.handleGetLocalAudioStats),e.addListener(EB.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(EB.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(EB.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(EB.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||(e.addListener(EB.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(EB.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}},{key:"unbindLocalTrackEvents",value:function(e){var t=this;e||(e=Array.from(this.localTrackMap.entries()).map((function(e){return{track:(e=Lb(e,2))[1].track,type:e[0]}}))),e.forEach((function(e){var A=e.track;switch(e.type){case zp.LocalVideoTrack:A.off(EB.GET_STATS,t.handleGetLocalVideoStats),A.off(EB.GET_RTC_STATS,t.handleGetRTCStats),A.off(EB.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),A.off(EB.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),A.off(EB.NEED_UPDATE_VIDEO_ENCODER,t.handleUpdateVideoEncoder),A.off(EB.SET_OPTIMIZATION_MODE,t.handleSetOptimizationMode),A.off(EB.NEED_REPLACE_TRACK,t.handleReplaceTrack),A.off(EB.NEED_MUTE_TRACK,t.handleMuteLocalTrack),A.off(EB.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack);break;case zp.LocalAudioTrack:t.unbindLocalAudioTrackEvents(A)}}))}},{key:"unbindLocalAudioTrackEvents",value:function(e){var t=this;e instanceof CQ?e.trackList.forEach((function(e){e.off(EB.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),e.off(EB.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),e.off(EB.GET_STATS,t.handleGetLocalAudioStats),e.off(EB.NEED_MUTE_TRACK,t.handleMuteLocalTrack),e.off(EB.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack)})):(e.off(EB.GET_STATS,this.handleGetLocalAudioStats),e.off(EB.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(EB.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(EB.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(EB.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),e.off(EB.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(EB.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}},{key:"bindRemoteTrackEvents",value:function(e,t){var A=this;t instanceof SQ&&t.addListener(EB.GET_STATS,(function(t){t(A.handleGetRemoteVideoStats(e))})),t instanceof wQ&&t.addListener(EB.GET_STATS,(function(t){t(A.handleGetRemoteAudioStats(e))}))}},{key:"unbindRemoteTrackEvents",value:function(e){e&&e.removeAllListeners(EB.GET_STATS)}},{key:"unbindAllRemoteTrackEvents",value:function(){var e=this;Array.from(this.remoteUserMap.entries()).forEach((function(t){var A=Lb(t,2);t=A[0],(A=A[1]).has(jp.AUDIO)&&e.unbindRemoteTrackEvents(t._audioTrack),A.has(jp.VIDEO)&&e.unbindRemoteTrackEvents(t._videoTrack)}))}},{key:"createGatewayPublishMessage",value:function(e,t){var A=this;return e.map((function(e,n){var r,i=e.track;switch(e.type){case zp.LocalAudioTrack:var o=Op.Audio,a={dtx:i instanceof lQ&&i._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case zp.LocalVideoTrack:o=Xs(r=i._hints).call(r,CB.SCREEN_TRACK)?Op.Screen:Op.High,a=vi(vi({},gA(i)),{},{codec:A.store.codec});break;case zp.LocalVideoLowTrack:o=Op.Low,a=vi(vi({},gA(i)),{},{codec:A.store.codec})}return{stream_type:o,attributes:a,ssrcs:t[n]}}))}},{key:"createGatewayUnpublishMessage",value:function(e){return e.map((function(e){var t,A=(e=Lb(e,2))[1],n=A.track,r=A.ssrcs;switch(A=A.id,e[0]){case zp.LocalVideoTrack:var i=Xs(t=n._hints).call(t,CB.SCREEN_TRACK)?Op.Screen:Op.High;break;case zp.LocalAudioTrack:i=Op.Audio;break;case zp.LocalVideoLowTrack:i=Op.Low}return{stream_type:i,ssrcs:r,mid:A}}))}},{key:"assignLocalTracks",value:function(e,t){var A=this;e.forEach((function(e,n){A.localTrackMap.set(e.type,{track:e.track,id:t[n].id,ssrcs:t[n].localSSRC})}))}},{key:"withdrawLocalTracks",value:function(e){var t=this;e.forEach((function(e){e=Lb(e,1)[0],t.localTrackMap.delete(e)}))}},{key:"bindConnectionEvents",value:function(e){var t,A=this;e.onConnectionStateChange=(t=pa(O.mark((function t(n){var r,i,o,a;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(n,")")),A.emit($p.PeerConnectionStateChange,n),"connected"!==n||A.store.keyMetrics.peerConnectionEnd||A.store.peerConnectionEnd(),"connected"===n&&(A._restartTimer&&(clearTimeout(A._restartTimer),A._restartTimer=void 0),(A._isFirstConnected||A._isInRestartIce)&&A.reportPCStats(Date.now(),!0,A._pcStatsUploadType),A._isInRestartIce=!1,A._isFirstConnected=!1,A._isStartRestartIce=!1),!Th.NEW_ICE_RESTART){t.next=9;break}if(!Xs(r=A._restartStates).call(r,n)){t.next=7;break}if(!A._isStartRestartIce){t.next=4;break}return t.abrupt("return");case 4:return A._isStartRestartIce=!0,i=function(t){"disconnected"!==e.iceConnectionState&&"checking"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||(qh.debug("[".concat(A.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(t)),"CONNECTED"===xe(A,$p.QueryClientConnectionState)&&A.emit($p.RequestRestartICE,t))},o=function(){"disconnected"!==e.iceConnectionState&&"checking"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||(A.reportPCStats(Date.now(),!1,A._pcStatsUploadType),qh.debug("[".concat(A.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout((function(){return A.emit($p.P2PLost)}),0),A.iceFailedCount+=1,A.requestReconnect())},a=Th.ICE_RESTART_INTERVAL,t.abrupt("return",void(A._restartTimer=window.setTimeout((function(){if(Th.JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE&&lB.supportPCSetConfiguration)i(Wp.RELAY),A._restartTimer=window.setTimeout(o,a);else if(oe())i(Wp.UDP),A._restartTimer=window.setTimeout(o,4e3);else{if(i(Wp.TCP),lB.supportPCSetConfiguration)return void(A._restartTimer=window.setTimeout((function(){i(Wp.RELAY),A._restartTimer=window.setTimeout(o,a)}),a));A._restartTimer=window.setTimeout(o,a)}}),800)));case 7:t.next=19;break;case 9:if("disconnected"!==n||"disconnected"!==e.iceConnectionState){t.next=11;break}return t.abrupt("return",(setTimeout((function(){"disconnected"===e.iceConnectionState&&Th.ICE_RESTART&&"CONNECTED"===xe(A,$p.QueryClientConnectionState)&&A.emit($p.RequestRestartICE)}),800),void setTimeout((function(){"disconnected"===e.peerConnectionState&&(qh.debug("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),A.reportPCStats(Date.now(),!1,A._pcStatsUploadType),A._isInRestartIce=!1,setTimeout((function(){return A.emit($p.P2PLost)}),0),A.iceFailedCount+=1,A.requestReconnect())}),4e3)));case 11:if(t.t0="failed"===n,!t.t0){t.next=19;break}return qh.debug("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection state failed, force reconnect")),A.reportPCDisconnectedOrFailed(),setTimeout((function(){return A.emit($p.P2PLost)}),0),A.iceFailedCount+=1,t.next=19,A.requestReconnect();case 19:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)}),e.onICEConnectionStateChange=function(e){"connected"!==e||A.store.keyMetrics.iceConnectionEnd||A.store.iceConnectionEnd(),qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),$h.reportApiInvoke(A.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:bC.TRACER}).onSuccess(),A.emit($p.IceConnectionStateChange,e)},e.onICETransportStateChange=function(e){qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=function(e){qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=function(e){qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=function(e){var t,n,r=Array.from(NI(t=A.remoteUserMap).call(t)).find((function(t){return t._audioSSRC===e}));r&&(A.store.subscribe(r.uid,"audio",void 0,void 0,void 0,Date.now()),null===(n=r.audioTrack)||void 0===n||n.emit(QB.FIRST_FRAME_DECODED),$h.firstRemoteFrame(A.store.sessionId,Hh.FIRST_AUDIO_DECODE,jh.FIRST_AUDIO_DECODE,{peer:r._uintid,subscribeElapse:L_.measureFromSubscribeStart(A.store.clientId,e),subscribeRequestid:e,p2pid:A.store.p2pId}))},e.onFirstAudioReceived=function(e){var t,n=Array.from(NI(t=A.remoteUserMap).call(t)).find((function(t){return t._audioSSRC===e}));n&&$h.firstRemoteFrame(A.store.sessionId,Hh.FIRST_AUDIO_RECEIVED,jh.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:L_.measureFromSubscribeStart(A.store.clientId,e),subscribeRequestid:e,p2pid:A.store.p2pId})},e.onFirstVideoDecoded=function(e,t,n){A.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=function(e){var t,n=Array.from(NI(t=A.remoteUserMap).call(t)).find((function(t){return t._videoSSRC===e}));n&&$h.firstRemoteFrame(A.store.sessionId,Hh.FIRST_VIDEO_RECEIVED,jh.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:L_.measureFromSubscribeStart(A.store.clientId,e),subscribeRequestid:e,p2pid:A.store.p2pId})},e.onSelectedLocalCandidateChanged=function(e,t){var n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||A.emit($p.ConnectionTypeChange,n),qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(hA(t))," -> ").concat(JSON.stringify(hA(e)),")"))},e.onSelectedRemoteCandidateChanged=function(e,t){qh.info("[".concat(A.store.clientId,"] [p2pId: ").concat(A.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(hA(t))," -> ").concat(JSON.stringify(hA(e)),")"))},e.onFirstVideoDecodedTimeout=function(e){A.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}},{key:"unbindConnectionEvents",value:function(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}},{key:"filterTobeMutedTracks",value:function(e){var t=[];if(-1===this.getAllTracks().indexOf(e))return t;var A=this.localTrackMap.get(zp.LocalAudioTrack);return e instanceof IQ&&(null==A?void 0:A.track)instanceof CQ?(A.track.isActive||t.push([zp.LocalAudioTrack,A]),t):((A=Array.from(this.localTrackMap.entries()).find((function(t){return t=Lb(t,2)[1].track,e===t})))&&(t.push(A),A[0]===zp.LocalVideoTrack)&&(A=this.localTrackMap.get(zp.LocalVideoLowTrack))&&t.push([zp.LocalVideoLowTrack,A]),t)}},{key:"filterTobeUnmutedTracks",value:function(e){var t=[],A=this.localTrackMap.get(zp.LocalAudioTrack);return e instanceof IQ&&(null==A?void 0:A.track)instanceof CQ?(A.track.isActive&&t.push([zp.LocalAudioTrack,A]),t):((A=Array.from(this.localTrackMap.entries()).find((function(t){return t=Lb(t,2)[1].track,e===t})))&&(A[0]===zp.LocalVideoTrack?(t.push(A),(A=this.localTrackMap.get(zp.LocalVideoLowTrack))&&t.push([zp.LocalVideoLowTrack,A])):t.push(A)),t)}},{key:"createMuteMessage",value:function(e){return e.map((function(e){var t,A=(e=Lb(e,2))[1],n=A.track,r=A.ssrcs;switch(A=A.id,e[0]){case zp.LocalAudioTrack:var i=Op.Audio;break;case zp.LocalVideoTrack:i=Xs(t=n._hints).call(t,CB.SCREEN_TRACK)?Op.Screen:Op.High;break;case zp.LocalVideoLowTrack:i=Op.Low}return{stream_type:i,ssrcs:r,mid:A}}))}},{key:"createUnmuteMessage",value:function(e){return e.map((function(e){var t,A=(e=Lb(e,2))[1],n=A.track,r=A.ssrcs;switch(A=A.id,e[0]){case zp.LocalAudioTrack:var i=Op.Audio;break;case zp.LocalVideoTrack:i=Xs(t=n._hints).call(t,CB.SCREEN_TRACK)?Op.Screen:Op.High;break;case zp.LocalVideoLowTrack:i=Op.Low}return{stream_type:i,ssrcs:r,mid:A}}))}},{key:"filterTobeUnSubscribedTracks",value:function(e,t){var A=[],n=this.remoteUserMap.get(e);if(!n)return A;if(t){if(!(n=n.get(t)))return A;A.push([e,{kind:t,id:n}])}else Array.from(n.entries()).forEach((function(t){t=Lb(t,2),A.push([e,{kind:t[0],id:t[1]}])}));return A}},{key:"filterTobeUnSubscribedDataChannels",value:function(e,t){var A=this,n=[];return t.forEach((function(t){var r;null!==(r=A.remoteDataChannelMap.get(e))&&void 0!==r&&r.has(t.id)&&n.push(t)})),n}},{key:"createUnsubscribeMessage",value:function(e){var t=[];return e.forEach((function(e){var A=Lb(e,2);e=A[0];var n=(A=A[1]).kind;switch(A.id,n){case jp.VIDEO:return void(e._videoSSRC&&t.push({stream_type:jp.VIDEO,ssrcId:e._videoSSRC}));case jp.AUDIO:return void(e._audioSSRC&&t.push({stream_type:jp.AUDIO,ssrcId:e._audioSSRC}))}})),t}},{key:"createUnsubscribeAllMessage",value:function(e){var t=new Map;return e.forEach((function(e){var A=Lb(e,2);if(e=A[0],A=A[1].kind,t.has(e)){var n=t.get(e);A===jp.VIDEO?n|=Up.Video:n|=Up.Audio,t.set(e,n)}else A===jp.VIDEO?t.set(e,Up.Video):t.set(e,Up.Audio)})),{users:Array.from(t.entries()).map((function(e){return{stream_id:(e=Lb(e,2))[0].uid,stream_type:e[1]}}))}}},{key:"withdrawRemoteTracks",value:function(e){var t=this;e.forEach((function(e){var A=Lb(e,2);e=A[0],A=A[1].kind;var n=t.remoteUserMap.get(e);n&&(n.delete(A),0===Array.from(n.entries()).length&&t.remoteUserMap.delete(e))}))}},{key:"updateBitrateLimit",value:function(){var e=pa(O.mark((function e(t){var A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=this.localTrackMap.get(zp.LocalVideoTrack),n=this.localTrackMap.get(zp.LocalVideoLowTrack),e.t0=A,!e.t0){e.next=5;break}return e.next=5,A.track.setBitrateLimit(t.uplink);case 5:if(e.t1=n&&t.low_stream_uplink,!e.t1){e.next=9;break}return e.next=9,n.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isP2PDisconnected",value:function(){return!this.connection||"connected"!==this.connection.peerConnectionState}},{key:"mapPubResToRemoteConfig",value:function(e,t){return e.map((function(e,A){var n,r=e.stream_type;return null===(n=t.find((function(e){return r===e.stream_type})))||void 0===n?void 0:n.attributes}))}},{key:"tryToUnmuteAudio",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A=0;case 1:if(!(A<t.length)){e.next=15;break}if(!(t[A]instanceof IQ)){e.next=12;break}if(0!==(r=this.filterTobeUnmutedTracks(t[A])).length){e.next=6;break}return e.abrupt("continue",12);case 6:return e.next=8,null===(n=this.connection)||void 0===n?void 0:n.unmuteLocal(r.map((function(e){return Lb(e,2)[1].id})));case 8:return i=this.createUnmuteMessage(r),e.next=11,Ue(this,$p.RequestUnmuteLocal,i);case 11:return e.abrupt("return",void 0);case 12:A++,e.next=1;break;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"bindStatsUploaderEvents",value:function(){var e=this;this.statsUploader.requestStats=function(){return e.getStats()},this.statsUploader.requestLocalMedia=function(){return Array.from(e.localTrackMap.entries())},this.statsUploader.requestRemoteMedia=function(){return Array.from(e.remoteUserMap.entries())},this.statsUploader.requestVideoIsReady=function(t){var A;return!(null===(A=e.connection)||void 0===A||!A.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=function(t,A){return e.emit($p.RequestUpload,t,A)},this.statsUploader.requestUploadStats=function(t){return e.emit($p.RequestUploadStats,t)},this.statsUploader.requestAllTracks=function(){return e.getAllTracks()}}},{key:"unbindStatsUploaderEvents",value:function(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}},{key:"requestReconnect",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dtlsFailedCount+=1,e.next=3,tt(at(this.dtlsFailedCount,td));case 3:this.emit($p.RequestReconnect);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reconnectP2P",value:function(){var e=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Array.from(this.localTrackMap.entries()),A=this.createGatewayUnpublishMessage(t),Array.from(this.remoteUserMap.entries()),e.t0=0<A.length,!e.t0){e.next=6;break}return e.next=6,Me(this,$p.RequestUnpublishForReconnectPC,A);case 6:this.disconnectForReconnect(),this.emit($p.RequestReconnectPC);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"canPublishLowStream",value:function(){return this.localTrackMap.has(zp.LocalVideoTrack)||this.pendingLocalTracks.some((function(e){return e instanceof _Q}))}},{key:"throwIfTrackTypeNotMatch",value:function(e){if(1<e.filter((function(e){return e instanceof _Q})).length)throw new mC(pC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(1<e.filter((function(e){return e instanceof IQ})).length&&(e.some((function(e){return e instanceof IQ&&e._bypassWebAudio}))||!lB.webAudioMediaStreamDest))throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(var t=0;t<e.length;t++){var A=e[t];if(A instanceof _Q&&this.pendingLocalTracks.some((function(e){return e instanceof _Q})))throw new mC(pC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(A instanceof IQ&&this.pendingLocalTracks.some((function(e){return e instanceof IQ}))&&(!lB.webAudioMediaStreamDest||A._bypassWebAudio||this.pendingLocalTracks.some((function(e){return e instanceof IQ&&e._bypassWebAudio}))))throw new mC(pC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}},{key:"getLowVideoTrack",value:function(e,t){var A=!Th.DISABLE_DUAL_STREAM_USE_ENCODING&&lB.supportDualStreamEncoding;t=vi(vi({},{width:160,height:120,framerate:15,bitrate:50}),t);var n=A?e._mediaStreamTrack.clone():Kr(e,t),r=At(8,"track-low-"),i=new _Q(n,vi(vi({},A&&{scaleResolutionDownBy:dA(t,e)}),{},{frameRate:t.framerate,bitrateMax:t.bitrate,bitrateMin:t.bitrate}),void 0,void 0,r);return i.on(fB.TRANSCEIVER_UPDATED,(function(t){e._updateRtpTransceiver(t,dB.LOW_STREAM)})),i._hints.push(CB.LOW_STREAM),e.on("sei-to-send",(function(e){i.emit("sei-to-send",e)})),e.addListener(EB.NEED_CLOSE,(function(){i.close()})),i}},{key:"globalLock",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutex.lock("From P2PChannel.globalLock"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reportPCStats",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=3<h.length&&void 0!==h[3]?h[3]:null,!(this.connection&&this.connection instanceof Ob)){e.next=13;break}return c=this.store.keyMetrics.descriptionStart||0,u=this.connection,g=u.iceConnectionState,I=u.dtlsTransportState,l=u.peerConnectionState,e.next=9,this.connection.getSelectedCandidatePair();case 9:E=e.sent,C=E.local,d=E.remote,$h.pcStats(this.store.sessionId,{startTime:c,eventElapse:t-c||0,iceconnectionsate:g,dtlsstate:I,connectionstate:l,intSucc:A?1:2,error:r,selectedLocalCandidateProtocol:null!==(i=null==C?void 0:C.protocol)&&void 0!==i?i:"",selectedLocalCandidateType:null!==(o=C.candidateType)&&void 0!==o?o:"",selectedLocalCandidateAddress:"".concat(C.address,":").concat(C.port),selectedRemoteCandidateProtocol:null!==(a=d.protocol)&&void 0!==a?a:"",selectedRemoteCandidateType:null!==(s=d.candidateType)&&void 0!==s?s:"",selectedRemoteCandidateAddress:"".concat(d.address,":").concat(d.port),restartCnt:n});case 13:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"reportVideoFirstFrameDecoded",value:function(e,t,A,n){var r,i=Array.from(NI(r=this.remoteUserMap).call(r)).find((function(t){return t._videoSSRC===e}));if(i){n||this.store.subscribe(i.uid,"video",void 0,void 0,void 0,void 0,Date.now());var o=(r=this.store.keyMetrics).subscribe.find((function(e){return e.userId===i.uid&&"video"===e.type}));$h.firstRemoteVideoDecode(this.store.sessionId,Hh.FIRST_VIDEO_DECODE,jh.FIRST_VIDEO_DECODE,{peer:i._uintid,videowidth:t,videoheight:A,subscribeElapse:L_.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==o?void 0:o.subscribeEnd)||0,subscriberStart:(null==o?void 0:o.subscribeStart)||0,videoAddNotify:(null==o?void 0:o.streamAdded)||0,state:n?1:0})}}},{key:"remoteMediaSsrcChanged",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}return e.abrupt("return",!1);case 2:if(r=this.remoteUserMap.get(t)){e.next=5;break}return e.abrupt("return",!1);case 5:if(i=r.get(A)){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,this.connection.getRemoteSSRC(i);case 10:return o=e.sent,e.abrupt("return",void 0!==o&&o!==n);case 12:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"resetConnection",value:function(e){qh.debug("[".concat(this.store.clientId,"] [P2PChannel] reset connection to ").concat(e)),this.state===Zp.Connected?(qh.debug("[".concat(this.store.clientId,"] [P2PChannel] fallback to websocket but P2PChannel state still connected, disconnect first")),this.disconnectForReconnect()):(this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=e===xp.datachannel?new xb({},this.store):this.isPlanB?new Tb({},this.store):new Ob({},this.store),this.bindConnectionEvents(this.connection)))}},{key:"unbindRtpTransceiver",value:function(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((function(e){var t=(e=Lb(e,2))[1].track;e[0]===zp.LocalVideoLowTrack?t._updateRtpTransceiver(void 0,dB.LOW_STREAM):t._updateRtpTransceiver(void 0)}))}},{key:"reportPCDisconnectedOrFailed",value:function(e){this.connection&&this.connection instanceof Ob&&("disconnected"!==this.connection.iceConnectionState&&"checking"!==this.connection.iceConnectionState&&"failed"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===Xp.TCP_RESTART&&e===Wp.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,Xp.DISCONNECTED_OR_FAILED)))}}]),t}(UC);Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Object,Boolean]),jt("design:returntype",IC)],Pb.prototype,"startP2PConnection",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Object,Object,Array,Object,String,String]),jt("design:returntype",IC)],Pb.prototype,"connect",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",void 0)],Pb.prototype,"updateRemoteRTPCapabilities",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Object,Object,Array,Object,String,String]),jt("design:returntype",IC)],Pb.prototype,"preConnect",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Pb.prototype,"publishDataChannel",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Pb.prototype,"unpublish",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Pb.prototype,"unpublishDataChannel",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],Pb.prototype,"unpublishLowStream",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[mb,Array]),jt("design:returntype",IC)],Pb.prototype,"subscribeDataChannel",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[mb,String,Number,Number,Array]),jt("design:returntype",IC)],Pb.prototype,"subscribe",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Pb.prototype,"massSubscribe",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[mb,String,Boolean]),jt("design:returntype",IC)],Pb.prototype,"unsubscribe",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[mb,Array]),jt("design:returntype",IC)],Pb.prototype,"unsubscribeDataChannel",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],Pb.prototype,"massUnsubscribe",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[mb,String]),jt("design:returntype",IC)],Pb.prototype,"muteRemote",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[mb,String]),jt("design:returntype",IC)],Pb.prototype,"unmuteRemote",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[mb,String]),jt("design:returntype",IC)],Pb.prototype,"hasRemoteMediaWithLock",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],Pb.prototype,"disconnectForReconnect",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],Pb.prototype,"updateBitrateLimit",null),Ht([bi,jt("design:type",Function),jt("design:paramtypes",[mb,String,Number]),jt("design:returntype",IC)],Pb.prototype,"remoteMediaSsrcChanged",null);var Gb=new Float32Array(1);new Uint8Array(Gb.buffer);var Fb=new Float64Array(1),Kb=new Uint8Array(Fb.buffer),Vb=[],Yb=new Map([["moderation",1],["supervise",2]]),Jb=function(e){function t(e){zb(this,t);var A=n.call(this);return Z(V(A),"name","AgoraRTCVideoContentInspect"),Z(V(A),"_connectionState",tf.CONNECTING),Z(V(A),"_innerConnectionState",void 0),Z(V(A),"sequence",0),Z(V(A),"inspectStartTime",void 0),Z(V(A),"workerManagerConnection",void 0),Z(V(A),"workerConnection",void 0),Z(V(A),"workerMessageLengthLimit",void 0),Z(V(A),"inspectIntervalMinimum",void 0),Z(V(A),"qualityRatio",void 0),Z(V(A),"_connectInfo",void 0),Z(V(A),"_cancelTokenSource",wh.CancelToken.source()),Z(V(A),"_retryConfig",void 0),Z(V(A),"wmSequence",0),Z(V(A),"inspectInterval",void 0),Z(V(A),"inspectTimer",null),Z(V(A),"ossFilePrefix",void 0),Z(V(A),"extraInfo",void 0),Z(V(A),"_inspectType",void 0),Z(V(A),"_inspectMode",void 0),Z(V(A),"_quality",1),Z(V(A),"qualityTimer",null),Z(V(A),"_inspectId",void 0),Z(V(A),"_needWorkUrlOnly",!1),Z(V(A),"inspectImage",(function(){if(A.connectionState!==tf.CONNECTED)throw new _p(pC.OPERATION_ABORTED,"content inspect service connection status is ".concat(A.connectionState));A.inspectTimer&&(window.clearInterval(A.inspectTimer),A.inspectTimer=null),A.inspectTimer=window.setInterval((function(){A.connectionState===tf.CONNECTED?A.requestToInspectImage():qh.debug("[".concat(A._inspectId,"] Inspect State is not connected , "),A.connectionState)}),A.inspectInterval<A.inspectIntervalMinimum?A.inspectIntervalMinimum:A.inspectInterval),A.requestToInspectImage()})),A._inspectId=At(5,"inspect-"),A.workerMessageLengthLimit=Th.VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT,A.inspectIntervalMinimum=Th.VIDEO_INSPECT_INTERVAL_MINIMUM,A.qualityRatio=Th.VIDEO_INSPECT_QUALITY_RATIO,A.inspectInterval=e.interval,A.ossFilePrefix=e.ossFilePrefix,A.extraInfo=e.extraInfo,A.inspectType=e.inspectType,A.inspectStartTime=Number(Date.now()),A.workerManagerConnection=new Df("worker-manager-"+A._inspectId,td),A.on(nf.STATE_CHANGE,(function(e,t){A._innerConnectionState=e,qh.debug("[".concat(A._inspectId,"] Inspect operation :").concat(Af[e]," ").concat(t||""))})),A.handleWorkerManagerEvents(),A.workerConnection=new Df("worker-"+A._inspectId,td),A.handleWorkerEvents(),A}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){if(this._connectionState!==e){var t=this._connectionState;this._connectionState=e,this.emit(nf.CONNECTION_STATE_CHANGE,t,e)}}},{key:"inspectType",get:function(){return this._inspectType},set:function(e){var t;this._inspectMode=HC(t=e.map((function(e){return Yb.get(e)||0}))).call(t,(function(e,t){return e+t})),this._inspectType=e}},{key:"quality",get:function(){return this._quality},set:function(e){var t=this;this._quality=1<e?1:.1>e?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),1<=this._quality||(this.qualityTimer=window.setTimeout((function(){t.quality=t._quality/t.qualityRatio}),6e4))}},{key:"init",value:(A=pa(O.mark((function e(t,A){var n,r=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emit(nf.STATE_CHANGE,Af.CONNECT_AP),this._connectInfo=t,n=this._cancelTokenSource.token,e.abrupt("return",(this._retryConfig=A,new IC((function(e,i){r.on(nf.CONNECTION_STATE_CHANGE,(function(t,A){A===tf.CONNECTED&&e()})),r.requestAP(t,n,A).then((function(e){r.connectWorkerManager(e)})).catch((function(e){i(e)}))}))));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"requestAP",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Th.WEBCS_DOMAIN.map((function(e){return"https://".concat(e,"/api/v1")})),e.next=3,function(e,t,A,n){var r=t.appId,i=t.areaCode,o=t.cname,a=t.sid,s=t.token;t=t.uid,uB++;var c,u,g={service_name:"image_moderation_api",json_body:JSON.stringify({appId:r,areaCode:i,cname:o,command:"allocateEdge",requestId:uB,seq:uB,sid:a,token:s,ts:Date.now(),uid:t+""})},I=e[0];return st(pa(O.mark((function e(){var t,n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Date.now(),e.next=3,QA(I,{data:g,cancelToken:A,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});case 3:if(t=e.sent,u=Date.now()-c,0===t.code){e.next=7;break}throw n=new _p(pC.UNEXPECTED_RESPONSE,"image inspect ap error, code"+t.code,{retry:!0,responseTime:u}),qh.error(n.toString()),n;case 7:if(200===(r=JSON.parse(t.json_body)).code){e.next=11;break}throw i=new _p(pC.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(r.code,", reason: ").concat(r.reason),{code:r.code,responseTime:u}),qh.error(i.toString()),i;case 11:if(r.servers&&Array.isArray(r.servers)&&0!==r.servers.length){e.next=14;break}throw o=new _p(pC.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:r.code,responseTime:u}),qh.error(o.toString()),o;case 14:return a=Th.VIDEO_INSPECT_WORKER_MANAGER_HOST,s=Th.VIDEO_INSPECT_WORKER_MANAGER_PORT,e.abrupt("return",{addressList:r.servers.map((function(e){var t=e.address;if(e=e.wss,t&&e)return"wss://".concat(t.replace(/\./g,"-"),".").concat(a,":").concat(s||e)})).filter((function(e){return!!e})),workerToken:r.workerToken,vid:r.vid,responseTime:u});case 16:case"end":return e.stop()}}),e)}))),(function(t,A){return $h.apworkerEvent(a,{success:!0,sc:200,serviceName:"image_moderation_api",responseDetail:JSON.stringify(t.addressList),firstSuccess:0===A,responseTime:u,serverIp:e[A%e.length]}),!1}),(function(t,A){return $h.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:"image_moderation_api",responseTime:u,serverIp:e[A%e.length]}),!!(t.code!==pC.OPERATION_ABORTED&&t.code!==pC.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(I=e[(A+1)%e.length],!0)}),n)}(r,t,A,n);case 3:return i=e.sent,this.emit(nf.STATE_CHANGE,Af.AP_CONNECTED),o=i.addressList,e.abrupt("return",(this.wmSequence++,o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"connectWorkerManager",value:function(){var e=pa(O.mark((function e(t){var A=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._needWorkUrlOnly=1<A.length&&void 0!==A[1]&&A[1],this.emit(nf.STATE_CHANGE,Af.CONNECT_WORKER_MANAGER),e.next=5,this.workerManagerConnection.init(t,1e4);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connectWorker",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.workerConnection.init([t]);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleWorkerManagerEvents",value:function(){var e,t=this;this.workerManagerConnection.on(pp.CONNECTED,pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.emit(nf.STATE_CHANGE,Af.WORKER_MANAGER_CONNECTED,t.workerManagerConnection.url),t.workerManagerConnection.sendMessage({appId:t._connectInfo.appId,cname:t._connectInfo.cname,uid:t._connectInfo.uid+"",sdkVersion:"4.20.1",sid:t._connectInfo.sid,seq:t.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0);case 1:case"end":return e.stop()}}),e)})))),this.workerManagerConnection.on(pp.CLOSED,(function(){t._innerConnectionState<Af.GET_WORKER_MANAGER_RESPONSE&&qh.debug("[".concat(t._inspectId,"] Inspect worker manager is closed before connecting worker"))})),this.workerManagerConnection.on(pp.FAILED,(function(){t._innerConnectionState<Af.GET_WORKER_MANAGER_RESPONSE&&qh.debug("[".concat(t._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))})),this.workerManagerConnection.on(pp.RECONNECTING,(function(){t._innerConnectionState<Af.GET_WORKER_MANAGER_RESPONSE&&qh.debug("[".concat(t._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))})),this.workerManagerConnection.on(pp.ON_MESSAGE,(e=pa(O.mark((function e(A){var n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.emit(nf.STATE_CHANGE,Af.GET_WORKER_MANAGER_RESPONSE),n=t.workerManagerConnection.url,t.workerManagerConnection.close(),200===(r=JSON.parse(A.data)).code){e.next=6;break}throw qh.error("[".concat(t._inspectId,"] Unexpected code ").concat(r.code," from worker manager")),new _p(pC.UNEXPECTED_RESPONSE,"response code of worker is unexpected",r);case 6:if(r.serverResponse&&r.serverResponse.portWss&&n){e.next=8;break}throw qh.error("[".concat(t._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(r))),new _p(pC.UNEXPECTED_RESPONSE,"response content of worker is unexpected",r);case 8:if(i=Th.VIDEO_INSPECT_WORKER_PORT||r.serverResponse.portWss,o=n.replace(/:\d+\/?$/,":".concat(i)),t.emit(nf.STATE_CHANGE,Af.CONNECT_WORKER,o),!t._needWorkUrlOnly){e.next=14;break}t.emit(nf.REQUEST_NEW_WORKER_URL,o),e.next=16;break;case 14:return e.next=16,t.connectWorker(o);case 16:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})),this.workerManagerConnection.on(pp.WILL_RECONNECT,(function(e,t,A){A(e)})),this.workerManagerConnection.on(pp.REQUEST_NEW_URLS,(function(e,A){t.requestAP(t._connectInfo,t._cancelTokenSource.token,t._retryConfig).then(e).catch(A)}))}},{key:"handleWorkerEvents",value:function(){var e,t=this;this.workerConnection.on(pp.CONNECTED,pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.emit(nf.STATE_CHANGE,Af.WORKER_CONNECTED,t.workerConnection.url),t.connectionState=tf.CONNECTED;case 1:case"end":return e.stop()}}),e)})))),this.workerConnection.on(pp.ON_MESSAGE,(e=pa(O.mark((function e(A){var n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(A.data instanceof ArrayBuffer)){e.next=11;break}if(n=Si(new Uint8Array(A.data)),Th.SHOW_VIDEO_INSPECT_WORKER_MESSAGE&&qh.debug("[".concat(t._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200!==n.code){e.next=8;break}if(!Array.isArray(t.inspectType)||1!==t.inspectType.length||"supervise"!==t.inspectType[0]){e.next=5;break}return e.abrupt("return",void t.emit(nf.INSPECT_RESULT,void 0,void 0));case 5:n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral?(i={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},o=HC(r=Object.keys(i)).call(r,(function(e,t){return i[e]>i[t]?e:t}),"porn"),a=Object.keys(i).find((function(e){return e===o})),t.emit(nf.INSPECT_RESULT,a)):t.emit(nf.INSPECT_RESULT,void 0,new _p(pC.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message")),e.next=9;break;case 8:t.emit(nf.INSPECT_RESULT,void 0,new _p(pC.UNEXPECTED_RESPONSE,n.code+"",n.msg));case 9:e.next=12;break;case 11:qh.error("[".concat(t._inspectId,"] Unexpected message type from worker")),t.emit(nf.INSPECT_RESULT,void 0,new _p(pC.UNEXPECTED_RESPONSE,"invalid worker message type"));case 12:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})),this.workerConnection.on(pp.CLOSED,(function(){t.connectionState=tf.CLOSED})),this.workerConnection.on(pp.FAILED,(function(){t.connectionState=tf.CLOSED})),this.workerConnection.on(pp.RECONNECTING,(function(){t.connectionState=t.connectionState===tf.CONNECTED?tf.RECONNECTING:tf.CONNECTING})),this.workerConnection.on(pp.WILL_RECONNECT,(function(e,t,A){"recover"===e&&A(e),A("tryNext")})),this.workerConnection.on(pp.REQUEST_NEW_URLS,(function(e,A){t.workerManagerConnection.close(),t.once(nf.REQUEST_NEW_WORKER_URL,(function(t){e([t])})),t.requestAP(t._connectInfo,t._cancelTokenSource.token,t._retryConfig).then((function(e){t.connectWorkerManager(e,!0)})).catch((function(e){A(e)}))}))}},{key:"requestToInspectImage",value:function(){var e=pa(O.mark((function e(){var t,A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sequence++,t=xe(this,nf.CLIENT_LOCAL_VIDEO_TRACK),A={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid},!t){e.next=11;break}if(t.isPlaying){e.next=5;break}return e.abrupt("return",void this.emit(nf.INSPECT_RESULT,void 0,new _p(pC.INVALID_OPERATION,"Only the track being played can be inspected")));case 5:return e.next=7,this.generateRequestData(t,A);case 7:n=e.sent,this.workerConnection.sendMessage(n,!0,!0),e.next=12;break;case 11:this.emit(nf.INSPECT_RESULT,void 0,new _p(pC.INVALID_OPERATION,"Only the track being published can be inspected"));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateRequestData",value:function(){var e=pa(O.mark((function e(A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.appId,i=n.cname,o=n.cid,a=n.vid,s=n.sid,c=n.uid,u=Date.now(),e.next=4,A.getCurrentFrameImage("image/jpeg",this.quality);case 4:return g=e.sent,e.next=7,mQ(g,r,i);case 7:if(I=e.sent,l=this.sequence+"-"+o+"-"+c+"-"+u+"-"+At(12,""),E={appId:r,cid:o,cname:i,deviceId:"",elapse:t.intToLong(Number(u-this.inspectStartTime)),fileSize:I.byteLength,jpgEncryption:2,height:g.height,width:g.width,jpg:I,networkType:6,osType:7,requestId:l,sdkVersion:"4.20.1",sequence:this.sequence,sid:s,timestamp:t.intToLong(u),uid:c,vid:a,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix},void 0===this.extraInfo&&delete E.callbackData,void 0===this.ossFilePrefix&&delete E.ossFilePrefix,!((C=Ri(E)).byteLength<this.workerMessageLengthLimit)){e.next=15;break}return Th.SHOW_VIDEO_INSPECT_WORKER_MESSAGE&&(delete(d=function(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):Ki(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}({},E)).jpg,qh.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(d))),e.abrupt("return",C);case 15:return this.quality=this.quality*this.qualityRatio,e.next=19,this.generateRequestData(A,{appId:r,cname:i,cid:o,vid:a,sid:s,uid:c});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"close",value:function(){this._cancelTokenSource.cancel(),this._cancelTokenSource=wh.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=tf.CLOSED,this.emit(nf.STATE_CHANGE,Af.CLOSED)}}],[{key:"intToLong",value:function(e){return{low:e|=0,high:e>>31,unsigned:0<=e}}}]),t}(UC),qb=[],Hb={},jb={},Wb=0x10000000000000000,eR=Wb/2,tR=to(0,!0),AR=to(0),nR=Ao(0,-2147483648,!1),rR=Ao(-1,2147483647,!1),iR=Ao(-1,-1,!0),oR=function(e){function t(e){var A;zb(this,t);var r=n.call(this);return Z(V(r),"name","AgoraRTCImageModeration"),Z(V(r),"_connectionState",cf.CONNECTING),Z(V(r),"_sequence",0),Z(V(r),"_moderationStartTime",void 0),Z(V(r),"_workerConnection",void 0),Z(V(r),"_workerMessageLengthLimit",void 0),Z(V(r),"_qualityRatio",void 0),Z(V(r),"_connectInfo",void 0),Z(V(r),"_cancelTokenSource",wh.CancelToken.source()),Z(V(r),"_retryConfig",void 0),Z(V(r),"_moderationInterval",void 0),Z(V(r),"_moderationTimer",null),Z(V(r),"_moderationMode",1),Z(V(r),"_quality",1),Z(V(r),"_qualityTimer",null),Z(V(r),"_ticket",void 0),Z(V(r),"_moderationIntervalMinimum",void 0),Z(V(r),"_uploadFailedNum",0),Z(V(r),"_uploadNum",0),Z(V(r),"_uploadTimer",null),Z(V(r),"_extraInfo",void 0),Z(V(r),"_vendor",""),Z(V(r),"_encoder",new TextEncoder),Z(V(r),"_moderationId",void 0),Z(V(r),"inspectImage",(function(){if(r.connectionState!==cf.CONNECTED)throw new _p(pC.OPERATION_ABORTED,"image moderation service connection status is ".concat(r.connectionState));r._moderationTimer&&(window.clearInterval(r._moderationTimer),r._moderationTimer=null),r._moderationTimer=window.setInterval((function(){r.connectionState===cf.CONNECTED?r.requestToInspectImage():qh.debug("[".concat(r._moderationId,"] Moderation State is not connected , "),r.connectionState)}),r._moderationInterval<r._moderationIntervalMinimum?r._moderationIntervalMinimum:r._moderationInterval),r.requestToInspectImage()})),r._moderationId=At(5,"image-moderation-"),r._workerMessageLengthLimit=Th.IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT,r._moderationIntervalMinimum=Th.IMAGE_MODERATION_INTERVAL_MINIMUM,r._moderationInterval=null!==(A=e.interval)&&void 0!==A?A:1e3,e.extraInfo&&(r._extraInfo=r._encoder.encode(e.extraInfo)),e.vendor&&(r._vendor=e.vendor),r._qualityRatio=Th.IMAGE_MODERATION_QUALITY_RATIO,r._moderationStartTime=Number(Date.now()),r._workerConnection=new Df("worker-"+r._moderationId,td),r.on(uf.STATE_CHANGE,(function(e,t){qh.debug("[".concat(r._moderationId,"] Moderation operation :").concat(gf[e]," ").concat(t||""))})),r.handleWorkerEvents(),r}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){if(this._connectionState!==e){var t=this._connectionState;this._connectionState=e,this.emit(uf.CONNECTION_STATE_CHANGE,e,t)}}},{key:"quality",get:function(){return this._quality},set:function(e){var t=this;this._quality=1<e?1:.1>e?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),1<=this._quality||(this._qualityTimer=window.setTimeout((function(){t.quality=t._quality/t._qualityRatio}),6e4))}},{key:"init",value:(A=pa(O.mark((function e(t,A){var n,r=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emit(uf.STATE_CHANGE,gf.CONNECT_AP),this._connectInfo=t,n=this._cancelTokenSource.token,e.abrupt("return",(this._retryConfig=A,new IC((function(e,i){r.on(uf.CONNECTION_STATE_CHANGE,(function(t,A){t===cf.CONNECTED&&e()})),r.requestAP(t,n,A).then((function(e){r.connectWorker(e)})).catch((function(e){i(e)}))}))));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"updateConfig",value:function(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),qh.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(e))),this.connectionState===cf.CONNECTED&&this.inspectImage()}},{key:"requestAP",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Th.WEBCS_DOMAIN.map((function(e){return"https://".concat(e,"/api/v1")})),e.next=3,function(e,t,A,n){var r=t.appId,i=t.areaCode,o=t.cname,a=t.sid,s=t.token;t=t.uid,uB++;var c,u,g={service_name:"moderation_plugin",json_body:JSON.stringify({appId:r,areaCode:i,cname:o,command:"allocateEdge",requestId:uB,seq:uB,sid:a,appToken:s,ts:Date.now(),uid:t+""})},I=e[0];return st(pa(O.mark((function e(){var t,n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Date.now(),e.next=3,QA(I,{data:g,cancelToken:A,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});case 3:if(t=e.sent,u=Date.now()-c,0===t.code){e.next=7;break}throw n=new _p(pC.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+t.code,{retry:!0,responseTime:u}),qh.error(n.toString()),n;case 7:if(200===(r=JSON.parse(t.json_body)).code){e.next=11;break}throw i=new _p(pC.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(r.code,", reason: ").concat(r.reason),{code:r.code,responseTime:u}),qh.error(i.toString()),i;case 11:if(r.servers&&Array.isArray(r.servers)&&0!==r.servers.length){e.next=14;break}throw o=new _p(pC.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:r.code,responseTime:u}),qh.error(o.toString()),o;case 14:if(r.servers.some((function(e){return!!e.wss}))){e.next=17;break}throw a=new _p(pC.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:r.code,responseTime:u}),qh.error(a.toString()),a;case 17:return s=Th.IMAGE_MODERATION_WORKER_HOST,e.abrupt("return",{addressList:r.servers.map((function(e){var t=e.address;if(e=e.wss,t&&e)return"wss://".concat(t.replace(/\./g,"-"),".").concat(s,":").concat(e,"/moderation")})).filter((function(e){return!!e})),workerToken:r.workerToken,vid:r.vid,ticket:r.appTicket,responseTime:u});case 19:case"end":return e.stop()}}),e)}))),(function(t,A){return $h.apworkerEvent(a,{success:!0,sc:200,serviceName:"moderation_plugin",responseDetail:JSON.stringify(t.addressList),firstSuccess:0===A,responseTime:u,serverIp:e[A%e.length]}),!1}),(function(t,A){return $h.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:"moderation_plugin",responseTime:u,serverIp:e[A%e.length]}),!!(t.code!==pC.OPERATION_ABORTED&&t.code!==pC.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(I=e[(A+1)%e.length],!0)}),n)}(r,t,A,n);case 3:return i=e.sent,this.emit(uf.STATE_CHANGE,gf.AP_CONNECTED),o=i.addressList,a=i.ticket,e.abrupt("return",(this._ticket=a,o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"connectWorker",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emit(uf.STATE_CHANGE,gf.CONNECT_WORKER),e.next=3,this._workerConnection.init(t,1e4);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleWorkerEvents",value:function(){var e,t=this;this._workerConnection.on(pp.CONNECTED,pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.emit(uf.STATE_CHANGE,gf.WORKER_CONNECTED,t._workerConnection.url),t.connectionState=cf.CONNECTED;case 1:case"end":return e.stop()}}),e)})))),this._workerConnection.on(pp.CLOSED,(function(){t.connectionState=cf.CLOSED})),this._workerConnection.on(pp.FAILED,(function(){t.connectionState=cf.CLOSED})),this._workerConnection.on(pp.RECONNECTING,(function(){t.connectionState=t.connectionState===cf.CONNECTED?cf.RECONNECTING:cf.CONNECTING})),this._workerConnection.on(pp.ON_MESSAGE,(e=pa(O.mark((function e(A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.data instanceof ArrayBuffer?(n=Yi(new Uint8Array(A.data)),Th.SHOW_IMAGE_MODERATION_WORKER_MESSAGE&&qh.debug("[".concat(t._moderationId,"] Response message for worker of image moderation "),JSON.stringify(n)),t._uploadNum++,void 0===n.code||0===n.code||(t._uploadFailedNum++,qh.error("[".concat(t._moderationId,"] Error response from worke, code is ").concat(n.code,", msg is ").concat(n.msg)),t._uploadTimer||(t._uploadTimer=window.setTimeout((function(){$h.reportApiInvoke(t._connectInfo.sid||null,{name:_C.IMAGE_MODERATION_UPLOAD,options:[t._uploadFailedNum,t._uploadNum,n.code],tag:bC.TRACER}).onError(new _p(pC.IMAGE_MODERATION_UPLOAD_FAILED,n.msg)),t._uploadTimer=null}),Th.IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL)))):qh.error("[".concat(t._moderationId,"] Unexpected message type from worker"));case 1:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})),this._workerConnection.on(pp.WILL_RECONNECT,(function(e,t,A){"recover"===e&&A(e),A("tryNext")})),this._workerConnection.on(pp.REQUEST_NEW_URLS,(function(e,A){t.requestAP(t._connectInfo,t._cancelTokenSource.token,t._retryConfig).then(e).catch(A)}))}},{key:"requestToInspectImage",value:function(){var e=pa(O.mark((function e(){var t,A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xe(this,uf.CLIENT_LOCAL_VIDEO_TRACK),A={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid},!t){e.next=11;break}if(t.isPlaying){e.next=4;break}return e.abrupt("return",void(Th.SHOW_IMAGE_MODERATION_WORKER_MESSAGE&&qh.debug("Only the track being played can be inspected")));case 4:return this._sequence++,e.next=7,this.generateRequestData(t,A);case 7:n=e.sent,this._workerConnection.sendMessage(n,!0,!0),e.next=12;break;case 11:Th.SHOW_IMAGE_MODERATION_WORKER_MESSAGE&&qh.debug("Only the track being published can be inspected");case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateRequestData",value:function(){var e=pa(O.mark((function e(A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.appId,i=n.cname,o=n.cid,a=n.vid,s=n.sid,c=n.uid,u=Date.now(),e.next=4,A.getCurrentFrameImage("image/jpeg",this.quality);case 4:return g=e.sent,e.next=7,mQ(g,r,i);case 7:if(I=e.sent,l=this._sequence+"-"+o+"-"+c+"-"+u+"-"+At(12,""),E={appId:r,cid:o,cname:i,deviceId:"",elapse:t.intToLong(Number(u-this._moderationStartTime)),fileSize:g.buffer.byteLength,height:g.height,width:g.width,jpg:I,networkType:6,osType:7,requestId:l,sdkVersion:"4.20.1",sequence:this._sequence,sid:s,timestamp:no(u),uid:c,vid:a,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor},void 0===this._extraInfo&&delete E.callbackData,!((C=Vi(E)).byteLength<this._workerMessageLengthLimit)){e.next=15;break}return Th.SHOW_IMAGE_MODERATION_WORKER_MESSAGE&&(delete(d=function(e){for(var t=1;t<arguments.length;t++){var A=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(A),!0).forEach((function(t){Z(e,t,A[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(A)):ro(Object(A)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(A,t))}))}return e}({},E)).jpg,qh.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(d))),e.abrupt("return",C);case 15:return this.quality=this.quality*this._qualityRatio,e.next=19,this.generateRequestData(A,{appId:r,cname:i,cid:o,vid:a,sid:s,uid:c});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"close",value:function(){this._cancelTokenSource.cancel(),this._cancelTokenSource=wh.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=cf.CLOSED,this.emit(uf.STATE_CHANGE,gf.CLOSED)}}],[{key:"intToLong",value:function(e){return{low:e|=0,high:e>>31,unsigned:0<=e}}}]),t}(UC),aR=Date.now(),sR=new Map,cR=new Map,uR=ee().name;ed.setLogger(qh);var gR=function(e){function t(e){var A,r;if(zb(this,t),Z(V(A=n.call(this)),"store",void 0),Z(V(A),"_uid",void 0),Z(V(A),"_channelName",void 0),Z(V(A),"_uintUid",void 0),Z(V(A),"_users",[]),Z(V(A),"_config",void 0),Z(V(A),"_clientId",void 0),Z(V(A),"_appId",void 0),Z(V(A),"_sessionId",null),Z(V(A),"_key",void 0),Z(V(A),"_rtmConfig",{}),Z(V(A),"_joinInfo",void 0),Z(V(A),"_gateway",void 0),Z(V(A),"_statsCollector",void 0),Z(V(A),"_configDistribute",void 0),Z(V(A),"_leaveMutex",new ed("client-leave")),Z(V(A),"_publishMutex",new ed("client-publish")),Z(V(A),"_renewTokenMutex",new ed("client-renewtoken")),Z(V(A),"_subscribeMutex",new ed("client-subscribe")),Z(V(A),"_encryptionMode","none"),Z(V(A),"_encryptionSecret",null),Z(V(A),"_encryptionSalt",null),Z(V(A),"_encryptDataStream",!1),Z(V(A),"_encryptDataStreamKey",null),Z(V(A),"_encryptDataStreamIv",null),Z(V(A),"_proxyServer",void 0),Z(V(A),"_turnServer",{servers:[],mode:"auto"}),Z(V(A),"_cloudProxyServerMode","disabled"),Z(V(A),"_isDualStreamEnabled",!1),Z(V(A),"_defaultStreamFallbackType",void 0),Z(V(A),"_lowStreamParameter",void 0),Z(V(A),"_streamFallbackTypeCacheMap",new Map),Z(V(A),"_remoteStreamTypeCacheMap",new Map),Z(V(A),"_axiosCancelSource",wh.CancelToken.source()),Z(V(A),"_audioVolumeIndicationInterval",void 0),Z(V(A),"_networkQualityInterval",void 0),Z(V(A),"_userOfflineTimeout",void 0),Z(V(A),"_streamRemovedTimeout",void 0),Z(V(A),"_injectStreamingClient",void 0),Z(V(A),"_liveTranscodeStreamingClient",void 0),Z(V(A),"_liveRawStreamingClient",void 0),Z(V(A),"_channelMediaRelayClient",void 0),Z(V(A),"_networkQualitySensitivity","normal"),Z(V(A),"_p2pChannel",void 0),Z(V(A),"_useLocalAccessPoint",!1),Z(V(A),"_setLocalAPVersion",void 0),Z(V(A),"_joinAndNotLeaveYet",!1),Z(V(A),"_numberOfJoinCount",0),Z(V(A),"_remoteDefaultVideoStreamType",void 0),Z(V(A),"_inspect",void 0),Z(V(A),"_moderation",void 0),Z(V(A),"_license",void 0),Z(V(A),"_pendingPublishedUsers",[]),Z(V(A),"ntpAlignErrorCount",0),Z(V(A),"remoteInboundOffset",0),Z(V(A),"_handleLocalTrackEnable",(function(e,t,n){A.publish(e,!1).then(t).catch(n)})),Z(V(A),"_handleLocalTrackDisable",(function(e,t,n){A.unpublish(e).then(t).catch(n)})),Z(V(A),"_handleUserOnline",(function(e){if(Th.BLOCK_LOCAL_CLIENT&&qt(e.uid,A.channelName))qh.debug("[".concat(e.uid,"] will be ignored in local"));else{A.isStringUID&&"string"!=typeof e.uid&&qh.error("[".concat(A._clientId,"] StringUID is Mixed with UintUID"));var t=A._users.find((function(t){return t.uid===e.uid}));t?(t._trust_in_room_=!0,t._is_pre_created&&(t._is_pre_created=!1,A.safeEmit(wC.USER_JOINED,t))):(t=new mb(e.uid,e.uint_id||e.uid),A._users.push(t),qh.debug("[".concat(A._clientId,"] user online"),e.uid),A.safeEmit(wC.USER_JOINED,t))}})),Z(V(A),"_handleUserOffline",(function(e){if(!Th.BLOCK_LOCAL_CLIENT||!qt(e.uid,A.channelName)){var t=A._users.find((function(t){return t.uid===e.uid}));t&&(A._handleRemoveStream(e),A._handleRemoveDataChannels(e),t._audio_pre_subscribed||t._video_pre_subscribed?t._is_pre_created=!0:Ke(A._users,t),A._remoteStreamTypeCacheMap.delete(t.uid),A._streamFallbackTypeCacheMap.delete(t.uid),qh.debug("[".concat(A._clientId,"] user offline"),e.uid,"reason:",e.reason),A.safeEmit(wC.USER_LEAVED,t,e.reason))}})),Z(V(A),"_handleAddAudioOrVideoStream",(function(e,t,n,r,i,o,a){if(!Th.BLOCK_LOCAL_CLIENT||!qt(t,A.channelName)){var s=A._users.find((function(e){return e.uid===t}));if(!s)return void qh.error("[".concat(A._clientId,"] can not find target user!(on_add_stream)"));qh.debug("[".concat(A._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),A.store.subscribe(s.uid,e,void 0,void 0,void 0,Date.now());var c="audio"===e?s.hasAudio:s.hasVideo;s._uintid||(s._uintid=i||t),"audio"===e?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,"audio"===e?(s._audio_added_=!0,void 0!==n&&(s._audioSSRC=n),void 0!==r&&(s._cname=r),o&&(s._audioOrtc=o)):(s._video_added_=!0,void 0!==n&&(s._videoSSRC=n),void 0!==r&&(s._cname=r),void 0!==a&&(s._rtxSsrcId=a),o&&(s._videoOrtc=o)),("audio"===e?s.hasAudio:s.hasVideo)&&!c&&(qh.info("[".concat(A._clientId,"] remote user ").concat(s.uid," published ").concat(e)),A.safeEmit(wC.USER_PUBLISHED,s,e)),"video"===e?$h.onGatewayStream(A._sessionId,Hh.ON_ADD_VIDEO_STREAM,jh.ON_ADD_VIDEO_STREAM,{peer:i||t,ssrc:s._videoSSRC}):$h.onGatewayStream(A._sessionId,Hh.ON_ADD_AUDIO_STREAM,jh.ON_ADD_AUDIO_STREAM,{peer:i||t,ssrc:s._audioSSRC}),A._p2pChannel.remoteMediaSsrcChanged(s,e,n).then((function(t){if(t&&(qh.debug("[".concat(A._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after rejoin because SSRC id changed.")),A._p2pChannel instanceof Pb))return A._p2pChannel.unsubscribe(s,e,!0).then((function(){return A._subscribe(s,e,!0).catch((function(e){qh.error("[".concat(A._clientId,"] resubscribe error"),e.toString())}))}))})),A._p2pChannel.hasPendingRemoteMedia(s,e)&&(qh.debug("[".concat(A._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after reconnect.")),A._subscribe(s,e,!0).catch((function(e){qh.error("[".concat(A._clientId,"] resubscribe error"),e.toString())})))}})),Z(V(A),"_handleRemoveStream",(function(e){if(!Th.BLOCK_LOCAL_CLIENT||!qt(e.uid,A.channelName)){var t=A._users.find((function(t){return t.uid===e.uid}));if(!t)return void qh.warning("[".concat(A._clientId,"] can not find target user!(on_remove_stream)"));qh.debug("[".concat(A._clientId,"] stream removed with uid ").concat(e.uid));var n=function(){};t.hasAudio&&t.hasVideo?n=function(){qh.info("[".concat(A._clientId,"] remote user ").concat(t.uid," unpublished audio track")),A.safeEmit(wC.USER_UNPUBLISHED,t,"audio"),qh.info("[".concat(A._clientId,"] remote user ").concat(t.uid," unpublished video track")),A.safeEmit(wC.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=function(){qh.info("[".concat(A._clientId,"] remote user ").concat(t.uid," unpublished video track")),A.safeEmit(wC.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=function(){qh.info("[".concat(A._clientId,"] remote user ").concat(t.uid," unpublished audio track")),A.safeEmit(wC.USER_UNPUBLISHED,t,"audio")}),t._video_pre_subscribed||t._audio_pre_subscribed||(t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,A._p2pChannel instanceof Pb&&A._p2pChannel.unsubscribe(t).then((function(e){if(e)return A._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0),$h.onGatewayStream(A._sessionId,Hh.ON_REMOVE_STREAM,jh.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()}})),Z(V(A),"_handleSetStreamLocalEnable",(function(e,t,n){if(!Th.BLOCK_LOCAL_CLIENT||!qt(t,A.channelName)){var r=A._users.find((function(e){return e.uid===t}));if(!r)return void qh.error("[".concat(A._clientId,"] can not find target user!(disable_local)"));qh.debug("[".concat(A._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));var i="audio"===e?r.hasAudio:r.hasVideo;if("audio"===e){r._trust_audio_enabled_state_=!0;var o=r._audio_enabled_;if(r._audio_enabled_=n,r._audio_enabled_===o)return;n=r._audio_enabled_?"enable-local-audio":"disable-local-audio",qh.debug("[".concat(A._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(n)),A.safeEmit(wC.USER_INFO_UPDATED,t,n)}else{if(r._trust_video_enabled_state_=!0,o=r._video_enabled_,r._video_enabled_=n,r._video_enabled_===o)return;n=r._video_enabled_?"enable-local-video":"disable-local-video",qh.debug("[".concat(A._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(n)),A.safeEmit(wC.USER_INFO_UPDATED,t,n)}return i!==(n="audio"===e?r.hasAudio:r.hasVideo)?!i&&n?(qh.info("[".concat(A._clientId,"] remote user ").concat(t," published ").concat(e)),void A.safeEmit(wC.USER_PUBLISHED,r,e)):("video"===e&&r._videoTrack&&r._videoTrack._destroy(),"audio"===e&&r._audioTrack,A._p2pChannel.muteRemote(r,e),qh.info("[".concat(A._clientId,"] remote user ").concat(t," unpublished ").concat(e)),void A.safeEmit(wC.USER_UNPUBLISHED,r,e)):void 0}})),Z(V(A),"_handleMuteStream",(function(e,t,n){if(!Th.BLOCK_LOCAL_CLIENT||!qt(e,A.channelName)){qh.debug("[".concat(A._clientId,"] receive mute message"),e,t,n);var r=A._users.find((function(t){return t.uid===e}));if(!r)return void qh.warning("[".concat(A._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e));var i="audio"===t?r.hasAudio:r.hasVideo;if("audio"===t){r._trust_audio_mute_state_=!0;var o=r._audio_muted_;if(r._audio_muted_=n,r._audio_muted_===o)return;n=r._audio_muted_?"mute-audio":"unmute-audio",qh.debug("[".concat(A._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(n)),A.safeEmit(wC.USER_INFO_UPDATED,e,n)}else{if(r._trust_video_mute_state_=!0,o=r._video_muted_,r._video_muted_=n,r._video_muted_===o)return;n=r._video_muted_?"mute-video":"unmute-video",qh.debug("[".concat(A._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(n)),A.safeEmit(wC.USER_INFO_UPDATED,e,n)}if(i!==(n="audio"===t?r.hasAudio:r.hasVideo)){if(!i&&n)return("audio"===t?r._audioSSRC:r._videoSSRC)?(qh.info("[".concat(A._clientId,"] remote user ").concat(e," published ").concat(t)),void A.safeEmit(wC.USER_PUBLISHED,r,t)):void qh.warning("[".concat(A._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&r._videoTrack&&!r._video_pre_subscribed&&r._videoTrack._destroy(),"audio"===t&&r._audioTrack,A._p2pChannel.muteRemote(r,t),qh.info("[".concat(A._clientId,"] remote user ").concat(e," unpublished ").concat(t)),A.safeEmit(wC.USER_UNPUBLISHED,r,t)}}})),Z(V(A),"_handleP2PLost",(r=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qh.debug("[".concat(A._clientId,"] receive p2p lost"),t),parseInt(t.p2pid,10)!==A.store.p2pId){e.next=6;break}return e.next=4,A._p2pChannel.requestReconnect();case 4:e.next=7;break;case 6:qh.warning("[".concat(A._clientId,"] P2PLost stream not found"),t);case 7:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})),Z(V(A),"_handleTokenWillExpire",(function(){qh.debug("[".concat(A._clientId,"] received message onTokenPrivilegeWillExpire")),A.safeEmit(wC.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),Z(V(A),"_handleBeforeUnload",(function(e){"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(A.leave(),qh.info("[".concat(A._clientId,"] auto leave onbeforeunload or pagehide")))})),Z(V(A),"_handleUpdateNetworkQuality",(function(){if("normal"!==A._networkQualitySensitivity){if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void A.safeEmit(wC.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});var e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=A._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=A._p2pChannel.getDownlinkNetworkQuality(),A.safeEmit(wC.NETWORK_QUALITY,e)}})),Z(V(A),"_handleP2PAddAudioOrVideoStream",(function(e,t,n,r){var i=A._users.find((function(e){return e.uid===t}));if(i){qh.debug("[".concat(A._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),A.store.subscribe(i.uid,e,void 0,void 0,void 0,Date.now());var o="audio"===e?i.hasAudio:i.hasVideo;"audio"===e?i._trust_audio_stream_added_state_=!0:i._trust_video_stream_added_state_=!0,"audio"===e?(i._audio_added_=!0,void 0!==n&&(i._audioSSRC=n),void 0!==r&&(i._audioMid=r)):(i._video_added_=!0,void 0!==n&&(i._videoSSRC=n),void 0!==r&&(i._videoMid=r)),("audio"===e?i.hasAudio:i.hasVideo)&&!o&&(qh.info("[".concat(A._clientId,"] remote user ").concat(i.uid," published ").concat(e)),A.safeEmit(wC.USER_PUBLISHED,i,e)),A._p2pChannel.hasPendingRemoteMedia(i,e)&&(qh.debug("[".concat(A._clientId,"] resubscribe ").concat(e," for user ").concat(i.uid," after reconnect.")),A._subscribe(i,e,!0).catch((function(e){qh.error("[".concat(A._clientId,"] resubscribe error"),e.toString())})))}else qh.error("[".concat(A._clientId,"] can not find target user!(on_add_stream)"))})),A._config=e,A._clientId=At(5,"client-"),A.store=new Uh(e.codec,e.audioCodec,e.mode,A._clientId),A.store.clientCreated(),e.proxyServer&&A.setProxyServer(e.proxyServer,!0),e.turnServer&&A.setTurnServer(e.turnServer,!0),qh.info("[".concat(A._clientId,"] Initializing AgoraRTC client v").concat(Dh," build: ").concat("v4.20.1-0-g369af267(2/26/2024, 10:45:44 AM)",", mode: ").concat(A.mode,", codec: ").concat(A.codec)),e.clientRoleOptions)try{Le(e.clientRoleOptions);var i=Object.assign({},e.clientRoleOptions)}catch(r){qh.warning("[".concat(A._clientId,"] ").concat(r.toString()))}return A._statsCollector=new bb(A.store),A._statsCollector.onStatsException=function(e,t,n){qh.debug("[".concat(A._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),A.safeEmit(wC.EXCEPTION,{code:e,msg:t,uid:n})},A._statsCollector.onUploadPublishDuration=function(e,t,n,r){var i=A._users.find((function(t){return t.uid===e}));i&&$h.peerPublishStatus(A._sessionId,{subscribeElapse:r,audioPublishDuration:t,videoPublishDuration:n,peer:i._uintid})},A.store.useDataChannel=lB.supportDataChannel&&Th.SIGNAL_CHANNEL,A.store.useP2P="p2p"===e.mode,A._gateway=new Wf(A.store,{clientId:A._clientId,mode:A.mode,codec:A.codec,websocketRetryConfig:e.websocketRetryConfig||td,httpRetryConfig:e.httpRetryConfig||td,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:A._statsCollector,role:e.role,clientRoleOptions:i}),A._configDistribute=new IB,A.store.useP2P?(A._p2pChannel=new _b(A.store,A._statsCollector),A._handleP2PEvents()):A._p2pChannel=new Pb(A.store,A._statsCollector),A._handleP2PChannelEvents(),A._handleGatewayEvents(),A._handleGatewaySignalEvents(),aw(A)}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"connectionState",get:function(){return this._gateway.state}},{key:"remoteUsers",get:function(){return this._users}},{key:"localTracks",get:function(){return this._p2pChannel.getAllTracks(!0)}},{key:"uid",get:function(){return this._uid}},{key:"channelName",get:function(){return this._channelName}},{key:"localDataChannels",get:function(){return this._p2pChannel.getAllDataChannels()}},{key:"mode",get:function(){return this._config.mode}},{key:"role",get:function(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||"audience"}},{key:"codec",get:function(){return this._config.codec}},{key:"audioCodec",get:function(){return this._config.audioCodec||"opus"}},{key:"isStringUID",get:function(){return!!this._joinInfo&&!!this._joinInfo.stringUid}},{key:"__className__",get:function(){return"Client"}},{key:"joinMeta",value:(A=pa(O.mark((function e(t,A,n,r,i){var o,a,s,c=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!(5<c.length&&void 0!==c[5])||c[5],a=6<c.length&&void 0!==c[6]&&c[6],Ut("JOIN_GATEWAY_USE_443PORT_ONLY",o),Ut("JOIN_GATEWAY_USE_DUAL_DOMAIN",a),s=this._gateway.signal.websocket,e.abrupt("return",(s instanceof wf&&(s.use443PortOnly=o,s.tryDoubleDomain=a),function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(EC.get(t)||EC.set(t,[]),CC.get(t)||CC.set(t,A),dC.get(t)||dC.set(t,0),r=EC.get(t),i=CC.get(t),r&&i){e.next=4;break}throw Error("concurrent: deferQueue or maxConcurrency is null");case 4:if(dC.get(t)!==i){e.next=9;break}return o=$(),r.push(o),e.next=9,o.promise;case 9:for(dC.set(t,dC.get(t)+1),a=g.length,s=Array(3<a?a-3:0),c=3;c<a;c++)s[c-3]=g[c];return e.next=13,n.apply(void 0,s);case 13:return u=e.sent,e.abrupt("return",(dC.set(t,dC.get(t)-1),dC.get(t)===i-1&&0<r.length&&(r[0].resolve(),r.shift()),0===dC.get(t)&&(EC.set(t,[]),CC.set(t,0),dC.set(t,0)),u));case 15:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}()("client.join",Th.JOIN_MAX_CONCURRENCY,this.join.bind(this),t,A,n,r,i)));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,i){return A.apply(this,arguments)})},{key:"join",value:function(){var e=pa(O.mark((function e(t,A,n,r,i){var o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=++this._numberOfJoinCount,this.store.joinStart(),r&&(this.store.uid=r),a="HTTPS"===(bh||bh||(bh=(window.location.protocol.split(":")[0]||"").toUpperCase())),s=void 0!==window.isSecureContext?window.isSecureContext:"Browser Not Support",(void 0!==window.isSecureContext||a)&&window.isSecureContext||qh.warning("The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser"),c=At(32,"").toUpperCase(),"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),qh.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart))),u=$h.reportApiInvoke(c,{name:_C.JOIN,options:[t,A,n,r],states:{isHttps:a,isSecureContext:s},tag:bC.TRACER}),$h.setAppId(t),e.prev=8,n||null===n){e.next=11;break}throw new _p(pC.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));case 11:n&&_e(n,"token",1,2047),_e(t,"appid",1,2047),Wt(A),r&&Xt(r),i&&_e(i,"optionalInfo",1,2047),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),u.onError(e.t0),e.t0;case 17:if(qh.info("[".concat(this._clientId,"] start join channel ").concat(A,", join number: ").concat(o)),!this._leaveMutex.isLocked){e.next=24;break}return qh.debug("[".concat(this._clientId,"] join: waiting leave operation")),e.next=21,this._leaveMutex.lock();case 21:e.t1=e.sent,(0,e.t1)(),qh.debug("[".concat(this._clientId,"] join: continue"));case 24:if(this._joinAndNotLeaveYet=!0,"DISCONNECTED"===this.connectionState){e.next=27;break}throw g=new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state")),u.onError(g),g;case 27:if(this._sessionId||(this._sessionId=c,this.store.sessionId=this._sessionId),this._gateway.state="CONNECTING",I=lo(lo({},this._rtmConfig),{},{clientId:this._clientId,appId:t,sid:this._sessionId,cname:A,uid:"string"!=typeof r?r:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||t,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:i,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),this._useLocalAccessPoint&&(I.setLocalAPVersion=this._setLocalAPVersion),"string"==typeof r&&(I.stringUid=r,this._uintUid?(I.uid=this._uintUid,this._uintUid=void 0):I.uid=0),"none"===this._encryptionMode||!this._encryptionSecret){e.next=37;break}return I.aesmode=this._encryptionMode,e.next=33,LC(this._encryptionSecret);case 33:if(I.aespassword=e.sent,this._joinAndNotLeaveYet){e.next=36;break}throw new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));case 36:this._encryptionSalt&&(I.aessalt=this._encryptionSalt);case 37:if(!this._encryptDataStream||"aes-128-gcm2"!==this._encryptionMode&&"aes-256-gcm2"!==this._encryptionMode){e.next=53;break}if(!this._encryptionSalt||!this._encryptionSecret){e.next=52;break}if(!window.crypto.subtle){e.next=49;break}return l=new TextEncoder,E=Th.USE_PURE_ENCRYPTION_MASTER_KEY?l.encode(I.appId+this._encryptionSecret+this._encryptionSecret):l.encode(I.appId+I.cname+this._encryptionSecret),e.next=43,function(){var e=pa(O.mark((function e(t,A,n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.importKey("raw",A,"PBKDF2",!1,["deriveBits","deriveKey"]);case 2:return r=e.sent,i="aes-128-gcm2"===t?128:256,e.next=6,window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:1e3,hash:"SHA-256",salt:n},r,i+96);case 6:return o=e.sent,e.abrupt("return",new Uint8Array(o).subarray(i/8));case 8:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}()(this._encryptionMode,E,We(this._encryptionSalt));case 43:return this._encryptDataStreamIv=e.sent,e.next=46,function(){var e=pa(O.mark((function e(t,A,n){var r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.importKey("raw",A,"PBKDF2",!1,["deriveBits","deriveKey"]);case 2:return r=e.sent,i="aes-128-gcm2"===t?128:256,e.next=6,window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:1e3,hash:"SHA-256",salt:n},r,{name:"AES-GCM",length:i},!0,["encrypt","decrypt"]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}()(this._encryptionMode,E,We(this._encryptionSalt));case 46:this._encryptDataStreamKey=e.sent,e.next=50;break;case 49:s?qh.warning("[".concat(this._clientId,"] encrypt datastream must be running in a secure context, fallback to plain data stream")):qh.warning("[".concat(this._clientId,"] current browser do not support WebCrypto ,fallback to plain data stream")),this._encryptDataStream=!1;case 50:e.next=53;break;case 52:this._encryptDataStream=!1,qh.debug("[".concat(this._clientId,"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream"));case 53:if(this._startSession(this._sessionId,{channel:A,appId:t,stringUid:I.stringUid}),C=this._sessionId,setTimeout((function(){"CONNECTING"===w.connectionState&&C===w._sessionId&&$h.joinChannelTimeout(w._sessionId,5)}),5e3),e.prev=56,p=I.cloudProxyServer,Xs(d=["proxy3","proxy4","proxy5"]).call(d,p)&&(f=Th.PROXY_SERVER_TYPE3,Array.isArray(f)?I.proxyServer=f[0]:I.proxyServer=f),$h.setProxyServer(I.proxyServer),qh.setProxyServer(I.proxyServer),this.store.requestAPStart(),!I.stringUid||I.uid){e.next=73;break}return e.next=62,IC.all([OA(I.stringUid,I,this._axiosCancelSource.token,this._config.httpRetryConfig||td,this.store),NA(I,this._axiosCancelSource.token,this._config.httpRetryConfig||td,!0,this.store)]);case 62:B=e.sent,Q=Lb(B,2),y=Q[0],h=Q[1],qh.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(I.stringUid," => ").concat(y)),I.uid=y,h.gatewayInfo.uid=y,h.gatewayInfo.res.uid=y,e.next=76;break;case 73:return e.next=75,NA(I,this._axiosCancelSource.token,this._config.httpRetryConfig||td,!0,this.store);case 75:h=e.sent;case 76:if(this._joinAndNotLeaveYet){e.next=78;break}throw new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));case 78:return this.store.requestAPEnd(),setTimeout((function(){w._configDistribute.startGetConfigDistribute(I,w._axiosCancelSource.token),w._configDistribute.on(qp.UPDATE_BITRATE_LIMIT,(function(e){w._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=n||t,v=h.gatewayInfo,m=I.uid?I.uid:v.uid,this._joinInfo=lo(lo({},I),{},{cid:v.cid,uid:m,vid:v.vid,apResponse:v.res,uni_lbs_ip:v.uni_lbs_ip,gatewayAddrs:v.gatewayAddrs}),this.store.intUid=m,e.next=83,this._joinGateway();case 83:if(_=e.sent,this._joinAndNotLeaveYet){e.next=86;break}throw new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));case 86:return u.onSuccess(_),this._appId=t,this._channelName=I.cname,this._uid=_,this.store.uid=_,setTimeout((function(){w._networkQualityInterval&&window.clearInterval(w._networkQualityInterval),w._networkQualityInterval=window.setInterval(w._handleUpdateNetworkQuality,2e3),window.addEventListener(ie()?"beforeunload":"pagehide",w._handleBeforeUnload)}),0),b=I.stringUid?"string uid: ".concat(I.stringUid,",uid: ").concat(I.uid):"uid: ".concat(this._uid),e.abrupt("return",(qh.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(A,",").concat(b)),setTimeout((function(){qh.startUpload()}),5e3),this.store.joinEnd(),S=this,Xs(np).call(np,S)||np.push(S),_));case 91:throw e.prev=91,e.t2=e.catch(56),(R=Array.isArray(e.t2)?e.t2[0]:e.t2)&&R.code===pC.OPERATION_ABORTED?qh.warning("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),R):qh.error("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),R),R.code!==pC.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state="DISCONNECTED",this._reset()),u.onError(R),R;case 95:case"end":return e.stop()}}),e,this,[[8,14],[56,91]])})));return function(t,A,n,r,i){return e.apply(this,arguments)}}()},{key:"_joinGateway",value:function(){var e=this;if(!this._joinInfo||!this._key)throw new _p(pC.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!Th.JOIN_WITH_FALLBACK_SIGNAL_PROXY)).then((function(e){return e})).catch((function(t){if(t.code===pC.INIT_WEBSOCKET_TIMEOUT||t.code===pC.INIT_DATACHANNEL_TIMEOUT)return e._gateway.leave(!0,SC.FALLBACK),t;throw t})).then((function(t){if(t instanceof _p){if(t.code===pC.INIT_WEBSOCKET_TIMEOUT){if(qh.info("[".concat(e._clientId,"] join timeout, fallback to proxy")),!e._joinInfo||!e._key)throw new _p(pC.INVALID_OPERATION);if(e._joinInfo.cloudProxyServer="fallback",e._cloudProxyServerMode="fallback",e.store.cloudProxyServerMode="fallback",t=Th.PROXY_SERVER_TYPE3,Array.isArray(t))if(e._joinInfo.apUrl){var A=/^https?:\/\/(.+?)(\/.*)?$/.exec(e._joinInfo.apUrl)[1].split("."),n=A.slice(A.length-2).join(".");t.forEach((function(t){e._joinInfo&&Xs(t).call(t,n)&&(e._joinInfo.proxyServer=t)})),e._joinInfo.proxyServer||(e._joinInfo.proxyServer=t[0])}else e._joinInfo.proxyServer=t[0];else e._joinInfo.proxyServer=t;return(t=Th.LOG_UPLOAD_SERVER.match(/.+:(\d{1,5})$/))&&t[1]&&"443"!==t[1]&&qh.setProxyServer(e._joinInfo.proxyServer),"443"!==Th.STATS_COLLECTOR_PORT.toString()&&$h.setProxyServer(e._joinInfo.proxyServer),$h.reportApiInvoke(e._sessionId,{name:_C.JOIN_FALLBACK_TO_PROXY,options:[e._joinInfo.proxyServer],tag:bC.TRACER}).onSuccess(),e.safeEmit(wC.JOIN_FALLBACK_TO_PROXY,e._joinInfo.proxyServer),Th.JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE&&e._joinInfo.turnServer.servers.forEach((function(e){"forceturn"in e&&(e.forceturn=!0)})),e._gateway.join(e._joinInfo,e._key)}if(qh.info("[".concat(e._clientId,"] join by datachannel timeout, fallback to websocket")),!e._joinInfo||!e._key)throw new _p(pC.INVALID_OPERATION);return $h.reportApiInvoke(e._sessionId,{name:_C.DATACHANNEL_FAILBACK,options:[e.store.clientId],tag:bC.TRACER}).onSuccess(),e._joinGateway()}return t})).then((function(e){return e}))}},{key:"leave",value:function(){var e=pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qh.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(ie()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset();var A=np.indexOf(this);return-1!==A&&np.splice(A,1),e.next=3,this._leaveMutex.lock();case 3:if(t=e.sent,"DISCONNECTED"!==this.connectionState){e.next=6;break}return e.abrupt("return",(qh.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void t()));case 6:return e.next=8,this._gateway.leave("CONNECTED"!==this.connectionState);case 8:qh.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publish",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a=this,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=!(1<s.length&&void 0!==s[1])||s[1],Array.isArray(t)){e.next=5;break}if(t instanceof YB){e.next=4;break}return e.abrupt("return",this._publishDataChannel(t));case 4:t=[t];case 5:if(0!==t.length){e.next=7;break}throw new _p(pC.INVALID_PARAMS,"param list is empty");case 7:if(n=t,"audience"!==this._gateway.role){e.next=10;break}throw new _p(pC.INVALID_OPERATION,"audience can not publish stream");case 10:r=0;case 11:if(!(r<n.length)){e.next=20;break}if((i=n[r])instanceof YB){e.next=15;break}throw new _p(pC.INVALID_PARAMS,"parameter is not local track");case 15:if(i._enabled||!A){e.next=17;break}throw new _p(pC.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(i.getTrackId()));case 17:r++,e.next=11;break;case 20:return qh.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(n.map((function(e){return"".concat(e.getTrackId()," ")})))),e.next=23,this._publishMutex.lock();case 23:return o=e.sent,e.next=26,this._configDistribute.awaitConfigDistributeComplete();case 26:return A&&n.forEach((function(e){var t=a._configDistribute.getBitrateLimit();e instanceof _Q&&t&&e.setBitrateLimit(t.uplink)})),e.prev=27,e.next=30,this._publishHighStream(n);case 30:qh.info("[".concat(this._clientId,"] Publish success, id ").concat(n.map((function(e){return"".concat(e.getTrackId()," ")})))),e.next=36;break;case 33:throw e.prev=33,e.t0=e.catch(27),qh.error("[".concat(this._clientId,"] publish error"),e.t0.toString()),e.t0;case 36:return e.prev=36,o(),e.finish(36);case 39:case"end":return e.stop()}}),e,this,[[27,33,36,39]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_publishDataChannel",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve(t.id,"id",0,65535,!0),Qe(t.ordered,"ordered"),_e(t.metadata,"metadata",0,512),qh.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(t.id)),e.next=3,this._publishMutex.lock();case 3:if(A=e.sent,e.prev=4,-1===this._p2pChannel.getAllDataChannels().findIndex((function(e){return e.id===t.id}))){e.next=7;break}throw new _p(pC.INVALID_PARAMS,"Invalid id: ".concat(t.id,". If you want to republish the datachannel, unpublish first"));case 7:if(this._joinInfo&&void 0!==this._uid){e.next=9;break}throw new _p(pC.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");case 9:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=11;break}throw new _p(pC.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));case 11:if("auto"!==this._turnServer.mode||!Th.FORCE_TURN||Th.TURN_ENABLE_TCP||Th.TURN_ENABLE_UDP){e.next=13;break}throw new _p(pC.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");case 13:return n=new iv(t),e.next=16,this._p2pChannel.publishDataChannel([n]);case 16:if(this._p2pChannel.isP2PDisconnected()){e.next=31;break}if("number"==typeof n._originDataChannelId){e.next=19;break}throw qh.error("[".concat(this._clientId,"] can not publish with mediaType datachannel, cannot get RTCDatachannel id")),new _p(pC.CREATE_DATACHANNEL_ERROR);case 19:return e.prev=19,r={streamId:t.id,ordered:t.ordered,maxRetransmits:Th.DATASTREAM_MAX_RETRANSMITS,metadata:t.metadata,channelId:n._originDataChannelId},e.next=23,this._gateway.publishDataChannel(this._uid,r,!0);case 23:return e.next=25,n._waitTillOpen();case 25:e.next=31;break;case 27:if(e.prev=27,e.t0=e.catch(19),e.t0.code===pC.DISCONNECT_P2P){e.next=31;break}throw e.t0;case 31:return e.abrupt("return",(qh.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(n.id)),n));case 34:throw e.prev=34,e.t1=e.catch(4),qh.error("[".concat(this._clientId,"] publish datachannels error"),e.t1.toString()),e.t1;case 37:return e.prev=37,A(),e.finish(37);case 40:case"end":return e.stop()}}),e,this,[[4,34,37,40],[19,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unpublish",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo&&void 0!==this._uid){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");case 2:if(A=[],!t){e.next=13;break}if(!Array.isArray(t)){e.next=8;break}A=t,e.next=11;break;case 8:if(t instanceof YB){e.next=10;break}return e.abrupt("return",this._unpublishDataChannel([t]));case 10:A=[t];case 11:e.next=18;break;case 13:if(e.t0=this.store.useP2P,e.t0){e.next=17;break}return e.next=17,this._unpublishDataChannel();case 17:A=this._p2pChannel.getAllTracks(!0);case 18:return qh.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(A.map((function(e){return"".concat(e.getTrackId()," ")}))," ")),e.next=21,this._publishMutex.lock();case 21:if(n=e.sent,e.prev=22,!(this._p2pChannel instanceof _b)){e.next=33;break}return e.next=26,this._p2pChannel.unpublish(A);case 26:if(r=e.sent,e.t1=r,!e.t1){e.next=31;break}return e.next=31,this._gateway.sendExtensionMessage(If.UNPUBLISH,{unpubMsg:r},!0);case 31:e.next=41;break;case 33:return e.next=35,this._p2pChannel.unpublish(A);case 35:if(i=e.sent,e.t2=i,!e.t2){e.next=40;break}return e.next=40,this._gateway.unpublish(i,this._uid);case 40:qh.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(A.map((function(e){return"".concat(e.getTrackId())}))));case 41:e.next=46;break;case 43:throw e.prev=43,e.t3=e.catch(22),qh.error("[".concat(this._clientId,"] unpublish error"),e.t3.toString()),e.t3;case 46:return e.prev=46,n&&n(),e.finish(46);case 49:case"end":return e.stop()}}),e,this,[[22,43,46,49]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_unpublishDataChannel",value:function(){var e=pa(O.mark((function e(t){var A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==t&&0!==t.length||(t=this._p2pChannel.getAllDataChannels()),qh.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(t.map((function(e){return"".concat(e.id," ")}))," ")),e.next=3,this._publishMutex.lock();case 3:return A=e.sent,e.prev=4,e.next=7,this._p2pChannel.unpublishDataChannel(t);case 7:if(n=e.sent,e.t0=n,!e.t0){e.next=12;break}return e.next=12,this._gateway.unpublishDataChannel(n);case 12:qh.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(t.map((function(e){return"".concat(e.id)})))),e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(4),qh.error("[".concat(this._clientId,"] unpublish dataChannel error"),e.t1.toString()),e.t1;case 18:return e.prev=18,A&&A(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[4,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=pa(O.mark((function e(t,A,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","datachannel"===A?this._subscribeDataChannel(t,n):this._subscribe(t,A));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"presubscribe",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye(A,"mediaType",["audio","video"]),!(this._p2pChannel instanceof _b)){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can't presub at p2p mode");case 2:if(this._joinInfo){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"can't presub when not join");case 4:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=6;break}throw new _p(pC.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));case 6:return n=A===jp.AUDIO,r=A===jp.VIDEO,e.next=10,this._subscribeMutex.lock();case 10:return i=e.sent,e.prev=11,e.next=14,this._gateway.presubscribe(t,A,!0);case 14:if(o=e.sent,a=o.ssrcId,s=o.ortc,c=o.rtxSsrcId,u=o.cname,g=o.uint_id,null!=a){e.next=22;break}throw new _p(pC.UNEXPECTED_RESPONSE,"no ssrc id");case 22:return(I=this._users.find((function(e){return e.uid===t})))||((I=new mb(t,g||t))._is_pre_created=!0,this._users.push(I)),u&&(I._cname=u),I._uintid||(I._uintid=g||t),n&&(I._audioSSRC=a,I._audio_pre_subscribed=!0,s&&(I._audioOrtc=s)),r&&(I._videoSSRC=a,I._video_pre_subscribed=!0,s&&(I._videoOrtc=s),null!=c&&(I._rtxSsrcId=c)),qh.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(a)),e.next=31,this._p2pChannel.subscribe(I,A,a,c,s);case 31:if(l=n?I._audioTrack:I._videoTrack){e.next=34;break}throw new _p(pC.UNEXPECTED_ERROR,"can not find remote track in user");case 34:return e.abrupt("return",(n&&(I._trust_audio_stream_added_state_=!0,I._audio_added_=!0),r&&(I._trust_video_stream_added_state_=!0,I._video_added_=!0),l));case 37:throw e.prev=37,e.t0=e.catch(11),qh.error("[".concat(this._clientId,"] presub user ").concat(t," error"),e.t0),e.t0;case 40:return e.prev=40,i(),e.finish(40);case 43:case"end":return e.stop()}}),e,this,[[11,37,40,43]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"_subscribeDataChannel",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve(A,"channelId",0,65535,!0),this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"Can't subscribe datachannel, not joined");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));case 4:if(this._users.find((function(e){return e===t}))){e.next=6;break}throw qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),new _p(pC.INVALID_REMOTE_USER,"user is not in the channel");case 6:if(t.hasAudio||t.hasVideo||0!==t._dataChannels.length){e.next=8;break}throw qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),new _p(pC.INVALID_REMOTE_USER,"user is not published");case 8:if(r=null===(n=t._dataChannels)||void 0===n?void 0:n.find((function(e){return e.id===A}))){e.next=11;break}throw qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType datachannel, remote datachannel is not published")),new _p(pC.REMOTE_USER_IS_NOT_PUBLISHED);case 11:return e.next=13,this._subscribeMutex.lock();case 13:return i=e.sent,qh.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: datachannel")),e.prev=15,e.next=18,this._p2pChannel.subscribeDataChannel(t,[r]);case 18:if(!(o=e.sent)||!Xs(o).call(o,r.id)){e.next=39;break}if(e.prev=20,"number"==typeof r._originDataChannelId){e.next=23;break}throw qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType datachannel, cannot get RTCDatachannel")),new _p(pC.CREATE_DATACHANNEL_ERROR);case 23:return s={id:r.id,datachannelId:r._originDataChannelId,ordered:r.ordered,maxRetransmits:r.maxRetransmits,metadata:null!==(a=r.metadata)&&void 0!==a?a:""},e.next=26,this._gateway.subscribeDataChannel(t.uid,s,!0);case 26:return e.next=28,r._waitTillOpen();case 28:e.next=39;break;case 30:if(e.prev=30,e.t0=e.catch(20),(null==e.t0?void 0:e.t0.code)===pC.WS_ABORT){e.next=36;break}return e.next=35,this._p2pChannel.unsubscribeDataChannel(t,[r]);case 35:throw e.t0;case 36:return e.next=38,this._p2pChannel.unsubscribeDataChannel(t,[r]);case 38:this._p2pChannel.setPendingRemoteDataChannel(t,r.id);case 39:return e.abrupt("return",(qh.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: datachannel")),r));case 40:return e.prev=40,i(),e.finish(40);case 43:case"end":return e.stop()}}),e,this,[[15,,40,43],[20,30]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"_p2pSubscribe",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye(A,"mediaType",["audio","video"]),this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"Can't subscribe stream, not joined");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));case 4:if(this._users.find((function(e){return e===t}))){e.next=7;break}throw r=new _p(pC.INVALID_REMOTE_USER,"user is not in the channel"),qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),r;case 7:if(t.hasAudio||t.hasVideo){e.next=10;break}throw i=new _p(pC.INVALID_REMOTE_USER,"user is not published"),qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),i;case 10:if(n||("audio"!==A||t.hasAudio)&&("video"!==A||t.hasVideo)){e.next=13;break}throw o=new _p(pC.REMOTE_USER_IS_NOT_PUBLISHED),qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType ").concat(A,", remote track is not published")),o;case 13:return e.next=15,this._subscribeMutex.lock();case 15:return a=e.sent,qh.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: ").concat(A)),e.prev=17,e.next=20,this._p2pChannel.hasRemoteMediaWithLock(t,A);case 20:if(!e.sent){e.next=25;break}return e.next=23,this._p2pChannel.unmuteRemote(t,A);case 23:e.next=37;break;case 25:if(e.prev=25,s="audio"===A?t._audioSSRC:t._videoSSRC,c="audio"===A?t._audioMid:t._videoMid,this.store.subscribe(t.uid,A,Date.now()),e.t0=this._p2pChannel instanceof _b,!e.t0){e.next=32;break}return e.next=32,this._p2pChannel.subscribe(t,A,s,c);case 32:e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(25),e.t1;case 37:if(qh.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: ").concat(A)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch((function(e){qh.warning("[".concat(g._clientId,"] auto set fallback failed"),e)})),u="audio"===A?t._audioTrack:t._videoTrack){e.next=41;break}throw new _p(pC.UNEXPECTED_ERROR,"can not find remote track in user object");case 41:return e.abrupt("return",u);case 44:throw e.prev=44,e.t2=e.catch(17),qh.error("[".concat(this._clientId,"] subscribe user ").concat(t.uid," error"),e.t2),e.t2;case 47:return e.prev=47,a(),e.finish(47);case 50:case"end":return e.stop()}}),e,this,[[17,44,47,50],[25,34]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._p2pChannel instanceof _b)){e.next=2;break}return e.abrupt("return",this._p2pSubscribe(t,A));case 2:if(ye(A,"mediaType",["audio","video"]),this._joinInfo){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"Can't subscribe stream, not joined");case 4:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=6;break}throw new _p(pC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));case 6:if(this._users.find((function(e){return e===t}))){e.next=9;break}throw r=new _p(pC.INVALID_REMOTE_USER,"user is not in the channel"),qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),r;case 9:if(t.hasAudio||t.hasVideo){e.next=12;break}throw i=new _p(pC.INVALID_REMOTE_USER,"user is not published"),qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),i;case 12:if(n||("audio"!==A||t.hasAudio&&void 0!==t._audioSSRC)&&("video"!==A||t.hasVideo&&void 0!==t._videoSSRC)){e.next=15;break}throw o=new _p(pC.REMOTE_USER_IS_NOT_PUBLISHED),qh.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType ").concat(A,", remote track is not published")),o;case 15:return a="audio"===A?t._audioSSRC:t._videoSSRC,s="audio"===A?t._audioOrtc:t._videoOrtc,c="video"===A?t._rtxSsrcId:void 0,u={stream_type:"audio"===A?jp.AUDIO:jp.VIDEO,ssrcId:a},e.next=18,this._subscribeMutex.lock();case 18:return g=e.sent,qh.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: ").concat(A)),e.prev=20,e.next=23,this._p2pChannel.hasRemoteMediaWithLock(t,A);case 23:if(!e.sent){e.next=28;break}return e.next=26,this._p2pChannel.unmuteRemote(t,A);case 26:e.next=55;break;case 28:return e.prev=28,void 0!==(I="audio"===A?t._audioSSRC:t._videoSSRC)&&I!==a&&(a=I,s="audio"===A?t._audioOrtc:t._videoOrtc,c="video"===A?t._rtxSsrcId:void 0,u={stream_type:"audio"===A?jp.AUDIO:jp.VIDEO,ssrcId:a}),L_.markSubscribeStart(this.store.clientId,a),this.store.subscribe(t.uid,A,Date.now()),e.next=35,this._p2pChannel.subscribe(t,A,a,c,s);case 35:return e.prev=35,e.next=38,this._gateway.subscribe(t.uid,u,!0);case 38:e.next=49;break;case 40:if(e.prev=40,e.t0=e.catch(35),(null==e.t0?void 0:e.t0.code)===pC.WS_ABORT){e.next=46;break}return e.next=45,this._p2pChannel.unsubscribe(t,A);case 45:throw e.t0;case 46:return e.next=48,this._p2pChannel.unsubscribe(t,A,!0);case 48:this._p2pChannel.setPendingRemoteMedia(t,A);case 49:this.store.subscribe(t.uid,A,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,t,A),e.next=55;break;case 52:throw e.prev=52,e.t1=e.catch(28),this._p2pChannel.reportSubscribeEvent(!1,null==e.t1?void 0:e.t1.code,t,A),e.t1;case 55:if(qh.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: ").concat(A)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch((function(e){qh.warning("[".concat(E._clientId,"] auto set fallback failed"),e)})),l="audio"===A?t._audioTrack:t._videoTrack){e.next=59;break}throw new _p(pC.UNEXPECTED_ERROR,"can not find remote track in user object");case 59:return e.abrupt("return",l);case 62:throw e.prev=62,e.t2=e.catch(20),qh.error("[".concat(this._clientId,"] subscribe user ").concat(t.uid," error"),e.t2),e.t2;case 65:return e.prev=65,g(),e.finish(65);case 68:case"end":return e.stop()}}),e,this,[[20,62,65,68],[28,52],[35,40]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"massSubscribe",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be(t,"subscribeList"),this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"Can't subscribe stream, not joined");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));case 4:return A=Date.now(),n=new Map,e.next=8,this._subscribeMutex.lock();case 8:return r=e.sent,qh.info("[".concat(this._clientId,"]start massSubscribe user ").concat(t.map((function(e){var t=e.user;return e=e.mediaType,"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(e)})).join("; "))),i=(t=rb(t)).map((function(e){return{user:e.user,mediaType:e.mediaType}})),e.next=13,this._p2pChannel.globalLock();case 13:o=e.sent,e.prev=14,s=function(e){var A=t[e],r=A.user;if(ye(A=A.mediaType,"mediaType",["audio","video"]),!r)throw e=new _p(pC.INVALID_PARAMS,"user property does not exist in subscribeList item"),qh.error("[".concat(_._clientId,"] user property does not exist in subscribeList item")),e;if(!_._users.find((function(e){return e===r})))return A=new _p(pC.INVALID_REMOTE_USER,"user is not in the channel"),qh.error("[".concat(_._clientId,"] can not massSubscribe ").concat(r.uid,", this user is not in the channel")),i[e].error=A,t.splice(e,1),"continue";if("audio"===A&&(!r.hasAudio||void 0===r._audioSSRC)||"video"===A&&(!r.hasVideo||void 0===r._videoSSRC)){var o=new _p(pC.REMOTE_USER_IS_NOT_PUBLISHED);return qh.error("[".concat(_._clientId,"] can not subscribe ").concat(r.uid," with mediaType ").concat(A,", remote user is not published")),i[e].error=o,t.splice(e,1),"continue"}o=Up.Video|Up.LwoVideo;var a=n.get(r);if(a){if("video"===A?a&o:a&Up.Audio)return t.splice(e,1),qh.warning("[".concat(_._clientId,"] repeat massSubscribe user:").concat(r.uid,", mediaType:").concat(A," twice")),"continue";n.set(r,a|("video"===A?o:Up.Audio))}else n.set(r,"video"===A?o:Up.Audio)},c=t.length-1;case 17:if(!(0<=c)){e.next=24;break}if("continue"!==s(c)){e.next=21;break}return e.abrupt("continue",21);case 21:c--,e.next=17;break;case 24:u=t.length-1;case 25:if(!(0<=u)){e.next=35;break}if(g=t[u],I=g.user,l=g.mediaType,E=Up.Video|Up.LwoVideo,!this._p2pChannel.hasRemoteMedia(I,l)){e.next=32;break}return e.next=30,this._p2pChannel.unmuteRemoteNoLock(I,l);case 30:C=n.get(I),n.set(I,"video"===l?C^E:C^Up.Audio),t.splice(u,1);case 32:u--,e.next=25;break;case 35:if(this.store.massSubscribe(t.map((function(e){return{userId:e.user.uid,type:e.mediaType}})),A),d=HC(a=Array.from(n.entries())).call(a,(function(e,t){var A=Lb(t,2);if(t=A[0],0===(A=A[1]))return e;var n={stream_id:t.uid,stream_type:A};return A&Up.Audio&&(n.audio_ssrc=t._audioSSRC),A&Up.Video&&(n.video_ssrc=t._videoSSRC),e.push(n),e}),[]),e.prev=37,e.t0=0<t.length,!e.t0){e.next=42;break}return e.next=42,this._p2pChannel.massSubscribeNoLock(t.map((function(e){var t=e.user;return{user:t,mediaType:e=e.mediaType,ssrcId:e===jp.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:e===jp.VIDEO?t._rtxSsrcId:void 0}})));case 42:if(h=new Map,!(0<d.length)){e.next=48;break}return e.next=46,this._gateway.subscribeAll(d,!0);case 46:((null==(p=e.sent)?void 0:p.users)||[]).forEach((function(e){var t=e.stream_id,A=e.video_error_code,n=e.audio_error_code;e=e.error_code,(A||n||e)&&h.set(t,{video_error_code:A,audio_error_code:n,error_code:e})}));case 48:if(!(0<Array.from(h.entries()).length)){e.next=55;break}if(f=[],Array.from(h.entries()).forEach((function(e){var t=(e=Lb(e,2))[0];e=e[1];var A,n=_.remoteUsers.find((function(e){return e.uid===t}));n&&(e.error_code||e.video_error_code&&e.audio_error_code?A=void 0:e.video_error_code?A=jp.VIDEO:e.audio_error_code&&(A=jp.AUDIO),f.push({user:n,mediaType:A}))})),e.t1=0<f.length,!e.t1){e.next=55;break}return e.next=55,this._p2pChannel.massUnsubscribeNoLock(f);case 55:for(B=0;B<i.length;B++)Q=i[B],(y=h.get(Q.user.uid))&&(v=y.error_code||"audio"===Q.mediaType&&y.audio_error_code||"video"===Q.mediaType&&y.video_error_code)&&(m=eA(v),qh.error("user:".concat(Q.user.uid," mediaType:").concat(Q.mediaType," has massSubscribe error ").concat(m.desc)),Q.error=new _p(pC.SUBSCRIBE_FAILED,"code ".concat(v,": ").concat(m.desc))),Q.error||("video"===Q.mediaType?Q.track=Q.user.videoTrack:Q.track=Q.user.audioTrack);return e.abrupt("return",(this.store.massSubscribe(i.filter((function(e){return!e.error})).map((function(e){return{userId:e.user.uid,type:e.mediaType}})),void 0,Date.now()),i.forEach((function(e){var t;$h.subscribe(_.store.sessionId,{succ:!!e.error,ec:(null===(t=e.error)||void 0===t?void 0:t.code)||null,video:e.mediaType===jp.VIDEO,audio:e.mediaType===jp.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===jp.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:_.store.p2pId,eventElapse:Math.floor(performance.now()-A)},!0)})),qh.info("[".concat(this._clientId,"] massSubscribe success ").concat(t.map((function(e){var t=e.user;return e=e.mediaType,"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(e)})).join("; "))),i));case 59:return e.prev=59,e.t2=e.catch(37),e.next=63,this._p2pChannel.massUnsubscribeNoLock(t);case 63:throw e.t2;case 64:return e.prev=64,o(),r(),e.finish(64);case 67:case"end":return e.stop()}}),e,this,[[14,,64,67],[37,59]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A&&!this.store.useP2P){e.next=5;break}if("datachannel"!==A){e.next=3;break}return e.abrupt("return",this._unsubscribeDataChannel(t,n));case 3:e.next=7;break;case 5:return e.next=7,this._unsubscribeDataChannel(t,n);case 7:if(A&&ye(A,"mediaType",["audio","video"]),this._joinInfo){e.next=9;break}throw new _p(pC.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");case 9:if(this._users.find((function(e){return e===t}))){e.next=12;break}throw r=new _p(pC.INVALID_REMOTE_USER,"user is not in the channel"),qh.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid,", user is not in the channel")),r;case 12:return qh.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(t.uid,", mediaType: ").concat(A)),e.next=15,this._subscribeMutex.lock();case 15:if(i=e.sent,e.prev=16,!(this._p2pChannel instanceof _b)){e.next=22;break}return e.next=20,this._p2pChannel.unsubscribe(t,A);case 20:e.next=33;break;case 22:return e.next=24,this._p2pChannel.unsubscribe(t,A);case 24:if(o=e.sent,e.t0=o,!e.t0){e.next=29;break}return e.next=29,this._gateway.unsubscribe(o,t.uid);case 29:A&&"audio"!==A||(t._audio_pre_subscribed=!1),A&&"video"!==A||(t._video_pre_subscribed=!1),t._is_pre_created&&Ke(this._users,t),qh.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(t.uid,", mediaType: ").concat(A));case 33:e.next=40;break;case 35:if(e.prev=35,e.t1=e.catch(16),e.t1.code!==pC.DISCONNECT_P2P){e.next=39;break}return e.abrupt("return",void qh.warning("disconnecting p2p, abort unsubscribe request."));case 39:throw qh.error("[".concat(this._clientId,"] unsubscribe user ").concat(t.uid," error"),e.t1.toString()),e.t1;case 40:return e.prev=40,i(),e.finish(40);case 43:case"end":return e.stop()}}),e,this,[[16,35,40,43]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"_unsubscribeDataChannel",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A&&ve(A,"id",0,65535,!0),this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");case 2:if(this._users.find((function(e){return e===t}))){e.next=5;break}throw n=new _p(pC.INVALID_REMOTE_USER,"user is not in the channel"),qh.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid,", user is not in the channel")),n;case 5:if("number"==typeof A?(i=t._dataChannels.find((function(e){return e.id===A})))&&(r=[i]):r=t._dataChannels,void 0!==r){e.next=9;break}throw o=new _p(pC.REMOTE_USER_IS_NOT_PUBLISHED),qh.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid," with channelId ").concat(A,", remote datachannel is not published")),o;case 9:return qh.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(t.uid,", mediaType: datachannel, ids: ").concat(r.map((function(e){return e.id})))),e.prev=10,e.next=13,this._p2pChannel.unsubscribeDataChannel(t,r);case 13:if(a=e.sent,e.t0=a,!e.t0){e.next=18;break}return e.next=18,this._gateway.unsubscribeDataChannel(a,t.uid);case 18:qh.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(t.uid,", mediaType: datachannel, ids: ").concat(a)),e.next=26;break;case 21:if(e.prev=21,e.t1=e.catch(10),e.t1.code!==pC.DISCONNECT_P2P){e.next=25;break}return e.abrupt("return",void qh.warning("disconnecting p2p, abort unsubscribe request."));case 25:throw qh.error("[".concat(this._clientId,"] unsubscribe user ").concat(t.uid," error"),e.t1.toString()),e.t1;case 26:case"end":return e.stop()}}),e,this,[[10,21]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"massUnsubscribe",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be(t,"unsubscribeList"),this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");case 2:qh.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(t.map((function(e){var t=e.user;return e=e.mediaType,"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(e,";")})).join())),t=rb(t),A=new Map,n=function(e){var n=t[e],r=n.user;if(n=n.mediaType,!r)throw e=new _p(pC.INVALID_PARAMS,"user property does not exist in unsubscribeList item"),qh.error("[".concat(o._clientId,"] user property does not exist in unsubscribeList item")),e;if(ye(n,"mediaType",["video","audio",void 0]),!o._users.find((function(e){return e===r})))return qh.warning("[".concat(o._clientId,"] can not unsubscribe ").concat(r.uid,", user is not in the channel")),t.splice(e,1),"continue";var i=Up.Video|Up.LwoVideo;if(A.has(r)){var a=A.get(r);switch(n){case"video":var s=a&i;break;case"audio":s=a&Up.Audio;break;default:s=a&(Up.Audio|i)}if(s)return qh.warning("[".concat(o._clientId,"] repeat massUnsubscribe user:").concat(r.uid,",mediaType:").concat(n," twice.")),t.splice(e,1),"continue";n?"audio"===n?A.set(r,a|Up.Audio):"video"===n&&A.set(r,a|i):A.set(r,a|Up.Audio|i)}else n?"audio"===n?A.set(r,Up.Audio):"video"===n&&A.set(r,i):A.set(r,Up.Audio|i)},r=t.length-1;case 6:if(!(0<=r)){e.next=13;break}if("continue"!==n(r)){e.next=10;break}return e.abrupt("continue",10);case 10:r--,e.next=6;break;case 13:return e.prev=13,e.next=16,this._p2pChannel.massUnsubscribe(t);case 16:if(i=e.sent,e.t0=i,!e.t0){e.next=21;break}return e.next=21,this._gateway.massUnsubscribe(i);case 21:qh.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(t.map((function(e){var t=e.user;return e=e.mediaType,"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(e,";")})).join())),e.next=29;break;case 24:if(e.prev=24,e.t1=e.catch(13),e.t1.code!==pC.DISCONNECT_P2P){e.next=28;break}return e.abrupt("return",void qh.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request.")));case 28:throw qh.error("[".concat(this._clientId,"] massUnsubscribe error"),e.t1.toString()),e.t1;case 29:case"end":return e.stop()}}),e,this,[[13,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setLowStreamParameter",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:var n=t;if(!n)throw new mC(pC.INVALID_PARAMS);if(null==n.width||me(n.width,"streamParameter.width"),null==n.height||me(n.height,"streamParameter.height"),null==n.framerate||me(n.framerate,"streamParameter.framerate"),null==n.bitrate||ve(n.bitrate,"streamParameter.bitrate"),(!t.width&&t.height||t.width&&!t.height)&&qh.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),qh.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(t)),(A=this._configDistribute.getLowStreamConfigDistribute())&&A.bitrate&&t.bitrate&&A.bitrate<t.bitrate&&(t.bitrate=A.bitrate),this._lowStreamParameter=t,!this._isDualStreamEnabled){e.next=4;break}return e.abrupt("return",this._p2pChannel.updateVideoStreamParameter(t,zp.LocalVideoLowTrack));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"enableDualStream",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lB.supportDualStream){e.next=2;break}throw $h.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new _p(pC.NOT_SUPPORTED,"Your browser is not support dual stream");case 2:if(!this._isDualStreamEnabled){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"Dual stream is already enabled");case 4:if(!this._p2pChannel.canPublishLowStream()){e.next=13;break}return e.prev=5,e.next=8,this._publishLowStream();case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),$h.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e.t0;case 13:this._isDualStreamEnabled=!0,$h.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),qh.info("[".concat(this._clientId,"] enable dual stream"));case 14:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"disableDualStream",value:function(){var e=pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isDualStreamEnabled){e.next=18;break}if(this._joinInfo){e.next=3;break}throw new _p(pC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");case 3:if(!this._p2pChannel.getLocalMedia(zp.LocalVideoLowTrack)){e.next=17;break}return e.prev=4,e.next=7,this._p2pChannel.unpublishLowStream();case 7:if(t=e.sent,e.t0=t,!e.t0){e.next=12;break}return e.next=12,this._gateway.unpublish(t,this._joinInfo.stringUid||this._joinInfo.uid);case 12:e.next=17;break;case 14:throw e.prev=14,e.t1=e.catch(4),$h.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e.t1;case 17:this._isDualStreamEnabled=!1,$h.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),qh.info("[".concat(this._clientId,"] disable dual stream"));case 18:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"setClientRole",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye(t,"role",["audience","host"]),A&&Le(A),"rtc"!==this.mode&&"p2p"!==this.mode){e.next=2;break}throw qh.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new _p(pC.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));case 2:if(!A||!A.level||"host"!==t){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"host mode can not set audience latency level");case 4:if("audience"!==t||!this._p2pChannel.hasLocalMedia()){e.next=6;break}throw new _p(pC.INVALID_OPERATION,"can not set client role to audience when publishing stream");case 6:return e.next=8,this._gateway.setClientRole(t,A);case 8:this._config.role=t,qh.info("[".concat(this._clientId,"] set client role to ").concat(t,", level: ").concat(A&&A.level));case 10:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getRemoteInboundOffset",value:function(){var e,t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];return t&&t.timestamp?(e=t.timestamp-Date.now(),Math.abs(e)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,3<=this.ntpAlignErrorCount?e:0):0}},{key:"getNtpWallTimeInMs",value:function(){return"visible"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}},{key:"setProxyServer",value:function(e,t){if(_e(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new _p(pC.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new _p(pC.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,$h.setProxyServer(this._proxyServer),qh.setProxyServer(this._proxyServer),qh.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success."))}},{key:"setTurnServer",value:function(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new _p(pC.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new _p(pC.INVALID_OPERATION,"You have already set the proxy")}if(Te(e))return this._turnServer={servers:e,mode:"original-manual"},void qh.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map((function(e){return e.urls})).join(","),"."));e.forEach((function(e){return Oe(e)})),this._turnServer={servers:e,mode:"manual"},qh.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success."))}},{key:"setLicense",value:function(e){if("DISCONNECTED"!==this.connectionState)throw new _p(pC.INVALID_OPERATION,"you should set license before join channel");if(_e(e,"license",32,32),!/^[A-Za-z\d]+$/.test(e))throw new _p(pC.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=e,qh.info("[".concat(this._clientId,"] set license success"),e)}},{key:"startProxyServer",value:function(e){if("DISCONNECTED"!==this.connectionState)throw new _p(pC.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint)throw new _p(pC.INVALID_OPERATION,"You have already set the proxy");var t=[3,4,5];switch(void 0===e&&(e=3),e){case 1:case 2:throw new _p(pC.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:e="proxy3";break;case 4:e="proxy4";break;case 5:e="proxy5";break;default:throw new _p(pC.INVALID_PARAMS,"proxy server mode must be ".concat(t.join("|")))}this._cloudProxyServerMode=e,this.store.cloudProxyServerMode=e,qh.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}},{key:"stopProxyServer",value:function(){if("DISCONNECTED"!==this.connectionState)throw new _p(pC.INVALID_OPERATION,"Stop proxy server after leave channel");$h.setProxyServer(),qh.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",qh.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}},{key:"setLocalAccessPointsV2",value:function(e){if(!e.accessPoints)throw new _p(pC.INVALID_PARAMS,"accessPoints is required.");be(e.accessPoints.serverList,"accessPoints.serverList"),_e(e.accessPoints.domain,"accessPoints.domain");var t=function(e){function t(t,A){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){ve(e,t,0,65535,!0)})),A=443;if(e.accessPoints.port&&(t(e.accessPoints.port,"accessPoints.port"),A=e.accessPoints.port),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new _p(pC.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");Th.CLOSE_AFB_FOR_LOCAL_AP&&(Ut("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),Ut("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));var n=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,r=e.accessPoints.domain,i=e.accessPoints.serverList.map((function(e){return n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(r):e})),o=i.map((function(e){return"".concat(e,":").concat(A)}));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,Ut("WEBCS_DOMAIN",o),Ut("WEBCS_DOMAIN_BACKUP_LIST",o),Ut("GATEWAY_DOMAINS",[r]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(be(e.report.hostname,"report.hostname"),Ut("EVENT_REPORT_DOMAIN",e.report.hostname[0]),Ut("EVENT_REPORT_BACKUP_DOMAIN",e.report.hostname[1]||e.report.hostname[0])):(Ut("EVENT_REPORT_DOMAIN",i[0]),Ut("EVENT_REPORT_BACKUP_DOMAIN",i[1]||i[0])),o=6443,e.report&&e.report.port&&(t(e.report.port,"report.port"),o=e.report.port),Ut("STATS_COLLECTOR_PORT",o),e.report?Ut("ENABLE_EVENT_REPORT",!0):Ut("ENABLE_EVENT_REPORT",!1),o="",e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(be(e.log.hostname,"log.hostname"),o=e.log.hostname[0]):o=i[0];var a=6444;e.log&&e.log.port&&(t(e.log.port,"log.port"),a=e.log.port),Ut("LOG_UPLOAD_SERVER","".concat(o,":").concat(a)),o=[],e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(be(e.cds.hostname,"cds.hostname"),o=e.cds.hostname):o=i;var s=443;e.cds&&e.cds.port&&(t(e.cds.port,"cds.port"),s=e.cds.port),Ut("CDS_AP",o.map((function(e){return"".concat(e,":").concat(s)}))),e.cds?Ut("ENABLE_CONFIG_DISTRIBUTE",!0):Ut("ENABLE_CONFIG_DISTRIBUTE",!1),qh.info("set local access point v2 success")}},{key:"setLocalAccessPoints",value:function(e,t){if(be(e,"serverList"),_e(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new _p(pC.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");var A=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map((function(e){return A.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e})),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,Ut("WEBCS_DOMAIN",e),Ut("WEBCS_DOMAIN_BACKUP_LIST",e),Ut("GATEWAY_DOMAINS",[t]),Ut("EVENT_REPORT_DOMAIN",e[0]),Ut("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),Ut("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),qh.info("[".concat(this._clientId,"] set local access point success"))}},{key:"setRemoteDefaultVideoStreamType",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye(t,"streamType",[0,1]),this._remoteDefaultVideoStreamType=t,!this._joinInfo){e.next=12;break}return e.prev=1,e.next=4,this._gateway.setDefaultRemoteVideoStreamType(t);case 4:this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),qh.error("[".concat(this._clientId,"] set default remote video stream type error"),e.t0.toString()),e.t0;case 10:e.next=13;break;case 12:qh.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(t));case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setRemoteVideoStreamType",value:function(){var e=pa(O.mark((function e(t,A){var n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(A,"streamType",[0,1]),e.prev=1,e.next=4,this._gateway.setRemoteVideoStreamType(t,A);case 4:setTimeout((function(){var e=n._users.find((function(e){return e.uid===t}));e&&e.videoTrack&&e.videoTrack.updateMediaStreamTrackResolution()}),2e3),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),qh.error("[".concat(this._clientId,"] set remote video stream type error"),e.t0.toString()),e.t0;case 10:qh.info("[".concat(this._clientId,"] set remote ").concat(t," video stream type to ").concat(A)),this._remoteStreamTypeCacheMap.set(t,A);case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setStreamFallbackOption",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(A,"fallbackType",[0,1,2]),e.prev=1,e.next=4,this._gateway.setStreamFallbackOption(t,A);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),qh.error("[".concat(this._clientId,"] set stream fallback option"),e.t0.toString()),e.t0;case 9:qh.info("[".concat(this._clientId,"] set remote ").concat(t," stream fallback type to ").concat(A)),this._streamFallbackTypeCacheMap.set(t,A);case 10:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setEncryptionConfig",value:function(e,t,A,n){ye(e,"encryptionMode","aes-128-xts aes-256-xts aes-128-ecb sm4-128-ecb aes-128-gcm aes-256-gcm aes-128-gcm2 aes-256-gcm2 none".split(" ")),_e(t,"secret");var r=["aes-128-gcm2","aes-256-gcm2"];if(Xs(r).call(r,e)){if(!(A&&A instanceof Uint8Array&&32===A.length))throw new _p(pC.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(A)throw new _p(pC.INVALID_PARAMS,"current encrypt mode does not need salt");if(n){if(Qe(n,"encryptDataStream"),!Xs(r).call(r,e))throw new _p(pC.INVALID_PARAMS,"current encrypt mode does not support data stream");this._encryptDataStream=!0}/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'"|{}\[\]])(?=.{8,})/.test(t)||qh.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),this._encryptionMode=e,this._encryptionSecret=t,A&&(this._encryptionSalt=Xe(A))}},{key:"renewToken",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e(t,"token",1,2047),this._key&&this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"renewToken should not be called before user join");case 2:return A=this._key,this._key=t,this._joinInfo&&(this._joinInfo.token=t),e.next=6,this._renewTokenMutex.lock();case 6:if(n=e.sent,e.prev=7,!Th.USE_NEW_TOKEN){e.next=18;break}return qh.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs")),e.next=12,YA(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||td);case 12:return r=e.sent,qh.debug("[".concat(this._clientId,"] get ticket from unilbs success")),e.next=16,this._gateway.renewToken({token:t,ticket:r});case 16:e.next=21;break;case 18:return qh.debug("[".concat(this._clientId,"] start renew token without ticket")),e.next=21,this._gateway.renewToken({token:t});case 21:qh.debug("[".concat(this._clientId,"] renewToken success")),e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(7),this._key=A,this._joinInfo.token=A,qh.error("[".concat(this._clientId,"] renewToken failed"),e.t0.toString()),e.t0;case 27:return e.prev=27,n(),e.finish(27);case 30:case"end":return e.stop()}}),e,this,[[7,24,27,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"enableAudioVolumeIndicator",value:function(){var e=this;this._audioVolumeIndicationInterval?qh.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval((function(){var t=e._p2pChannel.getAudioLevels();e.safeEmit(wC.VOLUME_INDICATOR,t)}),Th.AUDIO_VOLUME_INDICATION_INTERVAL||2e3)}},{key:"getRTCStats",value:function(){var e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}},{key:"startLiveStreaming",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=5;break}if("h264"===this.codec){e.next=3;break}throw new _p(pC.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");case 3:if(this._p2pChannel.hasLocalMedia()){e.next=5;break}throw new _p(pC.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming");case 5:if(!(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(t)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(t))){e.next=7;break}throw new _p(pC.LIVE_STREAMING_TASK_CONFLICT);case 7:return n=A?fp.TRANSCODE:fp.RAW,e.abrupt("return",this._createLiveStreamingClient(n).startLiveStreamingTask(t,n));case 9:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setLiveTranscoding",value:function(e){return this._createLiveStreamingClient(fp.TRANSCODE).setTranscodingConfig(e)}},{key:"stopLiveStreaming",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((A=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((function(e){return e&&e.hasUrl(t)}))).length){e.next=3;break}throw new _p(pC.INVALID_PARAMS,"can not find live streaming url to stop");case 3:return e.next=5,IC.all(A.map((function(e){return e&&e.stopLiveStreamingTask(t)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addInjectStreamUrl",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can not addInjectStreamUrl, no joininfo");case 2:return(n=this._createLiveStreamingClient(fp.INJECT)).setInjectStreamConfig(A,0),e.next=6,n.startLiveStreamingTask(t,fp.INJECT);case 6:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"removeInjectStreamUrl",value:function(){var e=pa(O.mark((function e(){var t,A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=this._createLiveStreamingClient(fp.INJECT),n=Array.from(mp(t=A.streamingTasks).call(t)).find((function(e){return e.mode===fp.INJECT})),this._joinInfo&&n){e.next=3;break}throw new _p(pC.INVALID_OPERATION,"can remove addInjectStreamUrl, no joininfo or inject task");case 3:return e.next=5,A.stopLiveStreamingTask(n.url);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startChannelMediaRelay",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ai(t),A=this._createChannelMediaRelayClient(),e.next=4,A.startChannelMediaRelay(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateChannelMediaRelay",value:function(){var e=pa(O.mark((function e(t){var A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ai(t),A=this._createChannelMediaRelayClient(),e.next=4,A.updateChannelMediaRelay(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopChannelMediaRelay",value:function(){var e=pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._createChannelMediaRelayClient(),e.next=3,t.stopChannelMediaRelay();case 3:this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendStreamMessage",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(1<o.length&&void 0!==o[1])||o[1],this._joinInfo){e.next=3;break}throw new _p(pC.INVALID_OPERATION,"can not send data stream, not joined");case 3:if(("string"==typeof t||t instanceof Uint8Array)&&(t={payload:t}),"string"==typeof t.payload&&(r=new TextEncoder,t.payload=r.encode(t.payload)),i=!1,e.t0=this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Xs(A=["aes-128-gcm2","aes-256-gcm2"]).call(A,this._encryptionMode),!e.t0){e.next=11;break}return i=!0,e.next=10,function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=HC(a=Array.from(n)).call(a,(function(e,t){return e+t}),0),r=Gh++,i=n.length,o=s,c=new Uint8Array(it(s,2)),u=new ArrayBuffer(10),(g=new DataView(u)).setUint32(0,0),g.setUint16(4,r),g.setUint16(6,i),g.setUint16(8,o),I=16-n.length%16,n=ze(n,new Uint8Array(I)),e.next=6,window.crypto.subtle.encrypt({name:"AES-GCM",iv:t,tagLength:128,additionalData:c},A,n);case 6:return l=e.sent,e.abrupt("return",ze(new Uint8Array(u),new Uint8Array(l)));case 8:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}()(this._encryptDataStreamIv,this._encryptDataStreamKey,t.payload);case 10:t.payload=e.sent;case 11:if(!(1024<new Blob([t.payload]).size)){e.next=13;break}throw new _p(pC.INVALID_PARAMS,i?"encrypted stream message out of range.":"stream message out of range.");case 13:return e.abrupt("return",this._gateway.signal.request(lp.DATA_STREAM,{payload:Xe(t.payload),syncWithAudio:t.syncWithAudio,sendTs:Date.now()-aR},!n));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMetadata",value:function(e){if(!this._joinInfo)throw new _p(pC.INVALID_OPERATION,"can not send metadata, not joined");if(1024<new Blob([e]).size)throw new _p(pC.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(lp.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:Xe(e)})}},{key:"sendCustomReportMessage",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)||(t=[t]),t.forEach(Kt),this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"can not send custom report, not joined");case 2:return e.next=4,$h.sendCustomReportMessage(this._joinInfo.sid,t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLocalAudioStats",value:function(){return this._statsCollector.getLocalAudioTrackStats()}},{key:"getRemoteAudioStats",value:function(){return this._statsCollector.getRemoteAudioTrackStats()}},{key:"getLocalVideoStats",value:function(){return this._statsCollector.getLocalVideoTrackStats()}},{key:"getRemoteVideoStats",value:function(){return this._statsCollector.getRemoteVideoTrackStats()}},{key:"getRemoteNetworkQuality",value:function(){return this._statsCollector.getRemoteNetworkQualityStats()}},{key:"pickSVCLayer",value:function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(A.spatialLayer,"spatialLayer",[0,1,2,3]),ye(A.temporalLayer,"temporalLayer",[0,1,2,3]),e.prev=1,e.next=4,this._gateway.pickSVCLayer(t,A);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),qh.error("[".concat(this._clientId,"] pick SVC layer failed"),e.t0.toString()),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setRTMConfig",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=t.apRTM,n=void 0!==A&&A,r=t.rtmFlag,Qe(n,"apRTM"),ve(r,"rtmFlag",0),this._rtmConfig.apRTM=n,this._rtmConfig.rtmFlag=r,qh.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(t)," in ").concat(this.connectionState," state")),"CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState||!this._joinInfo){e.next=3;break}return e.abrupt("return",(this._joinInfo.apRTM=n,this._joinInfo.rtmFlag=r,this._gateway.setRTM2Flag(r)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_reset",value:function(){if(qh.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=wh.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach((function(e){e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach((function(e){return e._close()})),e._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new ed("client-publish"),this._subscribeMutex=new ed("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}},{key:"_startSession",value:function(e,t){var A,n=e||At(32,"").toUpperCase();e?qh.debug("[".concat(this._clientId,"] new Session ").concat(n)):qh.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(n)),e=e?"":this._sessionId||"",this._sessionId=n,this.store.sessionId=n,e={lts:(new Date).getTime(),mode:this.mode,stringUid:(null==t?void 0:t.stringUid)||(null===(A=this._joinInfo)||void 0===A?void 0:A.stringUid),channelProfile:"live"===this.mode?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:e,clientRole:"audience"===this.role?2:1},t?$h.sessionInit(this._sessionId,lo({cname:t.channel,appid:t.appId},e)):this._joinInfo?$h.sessionInit(this._sessionId,lo({cname:this._joinInfo.cname,appid:this._joinInfo.appId},e)):this._gateway.joinInfo&&$h.sessionInit(this._sessionId,lo({cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId},e)),this._joinInfo&&(this._joinInfo.sid=n),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=n)}},{key:"_publishHighStream",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo&&void 0!==this._uid){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));case 4:if("auto"!==this._turnServer.mode||!Th.FORCE_TURN||Th.TURN_ENABLE_TCP||Th.TURN_ENABLE_UDP){e.next=6;break}throw new _p(pC.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");case 6:return qh.debug("[".concat(this._clientId,"] publish high stream")),e.prev=7,e.next=10,this._p2pChannel.publish(t,this._isDualStreamEnabled,this._lowStreamParameter);case 10:if(A=e.sent,!(this._p2pChannel instanceof _b)){e.next=29;break}return e.next=14,A.next();case 14:if(!(n=e.sent.value)){e.next=26;break}return e.prev=16,e.next=19,this._gateway.sendExtensionMessage(If.PUBLISH,n,!0);case 19:e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(16),A.throw(e.t0),e.t0;case 24:return e.next=26,A.next();case 26:this._p2pChannel.reportPublishEvent(!0,null),e.next=57;break;case 29:return e.next=31,A.next();case 31:if(!(r=e.sent.value)){e.next=45;break}return e.prev=33,e.next=36,this._gateway.publish(this._uid,r,!0);case 36:o=e.sent,e.next=43;break;case 39:if(e.prev=39,e.t1=e.catch(33),e.t1.code===pC.DISCONNECT_P2P){e.next=43;break}throw A.throw(e.t1),e.t1;case 43:return e.next=45,A.next((null===(i=o)||void 0===i?void 0:i.ortc)||[]);case 45:this._p2pChannel.reportPublishEvent(!0,null),a=0;case 47:if(!(a<t.length)){e.next=57;break}if((s=t[a])instanceof _Q&&s._encoderConfig&&this._gateway.setVideoProfile(s._encoderConfig),e.t2=!s.muted&&s.enabled,e.t2){e.next=54;break}return e.next=54,this._p2pChannel.muteLocalTrack(s);case 54:a++,e.next=47;break;case 57:e.next=64;break;case 59:if(e.prev=59,e.t3=e.catch(7),this._p2pChannel.reportPublishEvent(!1,null==e.t3?void 0:e.t3.code,t),(null==e.t3?void 0:e.t3.code)!==pC.WS_ABORT){e.next=63;break}return e.abrupt("return");case 63:throw e.t3;case 64:case"end":return e.stop()}}),e,this,[[7,59],[16,21],[33,39]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_publishLowStream",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo&&void 0!==this._uid){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));case 4:return qh.debug("[".concat(this._clientId,"] publish low stream")),(t=this._configDistribute.getLowStreamConfigDistribute())&&t.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&t.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=t.bitrate)),e.prev=7,e.next=10,this._p2pChannel.publishLowStream(this._lowStreamParameter);case 10:return A=e.sent,e.next=13,A.next();case 13:if(!(n=e.sent.value)){e.next=26;break}return e.prev=15,e.next=18,this._gateway.publish(this._uid,n,!0);case 18:i=e.sent,e.next=25;break;case 21:if(e.prev=21,e.t0=e.catch(15),e.t0.code===pC.DISCONNECT_P2P){e.next=25;break}throw A.throw(e.t0),e.t0;case 25:A.next((null===(r=i)||void 0===r?void 0:r.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0);case 26:e.next=33;break;case 28:if(e.prev=28,e.t1=e.catch(7),this._p2pChannel.reportPublishEvent(!1,null==e.t1?void 0:e.t1.code,void 0,!0),(null==e.t1?void 0:e.t1.code)!==pC.WS_ABORT){e.next=32;break}return e.abrupt("return");case 32:throw e.t1;case 33:case"end":return e.stop()}}),e,this,[[7,28],[15,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"_createLiveStreamingClient",value:function(e){var t=this;if(!this._joinInfo||!this._appId)return new _p(pC.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();var A=function(){return new Sb(t._joinInfo,t._config.websocketRetryConfig||td,t._config.httpRetryConfig||td)},n=function(e){e.onLiveStreamError=function(e,A){$h.reportApiInvoke(t._sessionId,{name:_C.ON_LIVE_STREAM_ERROR,options:[e,A],tag:bC.TRACER}).onSuccess(),t.safeEmit(wC.LIVE_STREAMING_ERROR,e,A)},e.onLiveStreamWarning=function(e,A){$h.reportApiInvoke(t._sessionId,{name:_C.ON_LIVE_STREAM_WARNING,options:[e,A],tag:bC.TRACER}).onSuccess(),t.safeEmit(wC.LIVE_STREAMING_WARNING,e,A)},e.on(Rp.REQUEST_WORKER_MANAGER_LIST,(function(e,A,n){if(!t._joinInfo)return n(new _p(pC.INVALID_OPERATION,"can not find join info to get worker manager"));GA(e,t._joinInfo,t._axiosCancelSource.token,td).then(A).catch(n)}))};switch(e){case fp.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=A(),n(this._liveRawStreamingClient)),this._liveRawStreamingClient;case fp.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=A(),n(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case fp.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=A(),this._injectStreamingClient.on(Rp.REQUEST_WORKER_MANAGER_LIST,(function(e,A,n){if(!t._joinInfo)return n(new _p(pC.INVALID_OPERATION,"can not find join info to get worker manager"));GA(e,t._joinInfo,t._axiosCancelSource.token,td).then(A).catch(n)})),this._injectStreamingClient.onInjectStatusChange=function(e,A,n){t.safeEmit(wC.INJECT_STREAM_STATUS,e,A,n)}),this._injectStreamingClient}}},{key:"_createChannelMediaRelayClient",value:function(){var e=this;if(!this._joinInfo)return new _p(pC.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){var t=this.getLocalVideoStats();this._channelMediaRelayClient=new kb(this._joinInfo,this._clientId,this._config.websocketRetryConfig||td,this._config.httpRetryConfig||td,{width:t.sendResolutionWidth,height:t.sendResolutionHeight}),this._channelMediaRelayClient.on("state",(function(t){t===Np.RELAY_STATE_FAILURE&&e._channelMediaRelayClient&&e._channelMediaRelayClient.dispose(),e.safeEmit(wC.CHANNEL_MEDIA_RELAY_STATE,t)})),this._channelMediaRelayClient.on("event",(function(t){e.safeEmit(wC.CHANNEL_MEDIA_RELAY_EVENT,t)})),this._statsCollector.onStatsChanged=function(t,A){var n;"resolution"!==t||null!==(n=e._channelMediaRelayClient)&&void 0!==n&&n.setVideoProfile(A)}}return this._channelMediaRelayClient}},{key:"_handleUpdateDataChannel",value:function(e,t){var A=this,n=e.added;e=e.deleted;var r=[];Array.isArray(n)&&0<n.length&&n.forEach((function(e){var n=e.uid,i=e.stream_id,o=e.ordered,a=e.max_retrans_times,s=e.metadata,c=A._users.find((function(e){return e._uintid===n}));c?(qh.debug("[".concat(A._clientId,"] data_channel added with uid ").concat(n)),Xs(r).call(r,c)||r.push(c),c._uintid||(c._uintid=n),-1===c._dataChannels.findIndex((function(t){return t.id===e.stream_id}))&&(o=new rv(i={id:i,ordered:!!o,maxRetransmits:a,metadata:s}),c._dataChannels.push(o),qh.info("[".concat(A._clientId,"] remote user ").concat(c.uid," published datachannel")),t||A.safeEmit(wC.USER_PUBLISHED,c,"datachannel",i)),A._p2pChannel.hasPendingRemoteDataChannel(c,e.stream_id)&&(qh.debug("[".concat(A._clientId,"] resubscribe datachannel for user ").concat(c.uid," after reconnect.")),A._subscribeDataChannel(c,e.stream_id).catch((function(e){qh.error("[".concat(A._clientId,"] resubscribe datachannel error"),e.toString())})))):qh.error("[".concat(A._clientId,"] can not find target user!(on_add_data_channel)"))})),t&&(this.safeEmit(wC.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(e)&&0<e.length&&e.forEach((function(e){var t=e.uid;e.stream_id;var n=A._users.find((function(e){return e._uintid===t}));if(n){var r=n._dataChannels.find((function(t){return t.id===e.stream_id}));r&&(qh.debug("[".concat(A._clientId,"] data_stream delete with uid ").concat(t)),A._p2pChannel.unsubscribeDataChannel(n,[r]).then((function(e){if(n._dataChannels=n._dataChannels.filter((function(e){return e!==r})),e)return A._gateway.unsubscribeDataChannel(e,n.uid)})),qh.info("[".concat(A._clientId,"] remote user ").concat(t," unpublished datachannel ,id:").concat(r.id)),A.safeEmit(wC.USER_UNPUBLISHED,n,"datachannel",r._config))}else qh.error("[".concat(A._clientId,"] can not find target user!(on_delete_data_channel)"))}))}},{key:"_handleRemoveDataChannels",value:function(e){var t=this,A=this._users.find((function(t){return t.uid===e.uid}));A?void 0!==A._dataChannels&&0<A._dataChannels.length&&(qh.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(e.uid)),this._p2pChannel.unsubscribeDataChannel(A,A._dataChannels).then((function(e){if(e)return t._gateway.unsubscribeDataChannel(e,A.uid)})),qh.info("[".concat(t._clientId,"] remote user ").concat(A.uid," unpublished datachannel")),A._dataChannels.forEach((function(e){t.safeEmit(wC.USER_UNPUBLISHED,A,"datachannel",e._config)}))):qh.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}},{key:"_handleGatewayEvents",value:function(){var e,t=this;this._gateway.on(Lp.DISCONNECT_P2P,pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._p2pChannel.disconnectForReconnect();case 2:case"end":return e.stop()}}),e)})))),this._gateway.on(Lp.CONNECTION_STATE_CHANGE,(function(e,A,n){var r;if(n!==SC.FALLBACK){if($h.reportApiInvoke(t._sessionId||(null===(r=t._gateway.joinInfo)||void 0===r?void 0:r.sid)||null,{name:_C.CONNECTION_STATE_CHANGE,options:[e,A,n],tag:bC.TRACER}).onSuccess(JSON.stringify({cur:e,prev:A,reason:n})),qh.info("[".concat(t._clientId,"] connection state change: ").concat(A," -> ").concat(e)),"DISCONNECTED"===e)t._reset();else if("RECONNECTING"===e)t._users.forEach((function(e){e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._is_pre_created||(e._audio_pre_subscribed||(e._audioSSRC=void 0,e._audioOrtc=void 0),e._video_pre_subscribed||(e._videoSSRC=void 0,e._videoOrtc=void 0,e._rtxSsrcId=void 0),e._cname=void 0)})),t._userOfflineTimeout&&window.clearTimeout(t._userOfflineTimeout),t._streamRemovedTimeout&&window.clearTimeout(t._streamRemovedTimeout),t._userOfflineTimeout=void 0,t._streamRemovedTimeout=void 0;else if("CONNECTED"===e){var i;t._streamFallbackTypeCacheMap.forEach((function(e,A){t._gateway.setStreamFallbackOption(A,e).catch((function(e){qh.warning("[".concat(t._clientId,"] auto set stream fallback option failed"),e)}))})),t._remoteStreamTypeCacheMap.forEach((function(e,A){t._gateway.setRemoteVideoStreamType(A,e).catch((function(e){qh.warning("[".concat(t._clientId,"] auto set remote stream type failed"),e)}))})),void 0!==t._remoteDefaultVideoStreamType&&void 0===(null===(i=t._joinInfo)||void 0===i?void 0:i.defaultVideoStream)&&t.setRemoteDefaultVideoStreamType(t._remoteDefaultVideoStreamType).then((function(){qh.debug("[".concat(t._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))})).catch((function(e){qh.error("[".concat(t._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(e))})),t.store.useP2P||(t._p2pChannel.republish(),t._userOfflineTimeout=window.setTimeout((function(){"CONNECTED"===t.connectionState&&(t._userOfflineTimeout=void 0,t._users.filter((function(e){return!e._trust_in_room_})).forEach((function(e){qh.debug("[".concat(t._clientId,"] user offline timeout, emit user offline ").concat(e.uid)),t._handleUserOffline({uid:e.uid})})))}),3e3),t._streamRemovedTimeout=window.setTimeout((function(){"CONNECTED"===t.connectionState&&(t._streamRemovedTimeout=void 0,t._users.forEach((function(e){e._trust_audio_mute_state_||(qh.debug("[".concat(t._clientId,"] auto dispatch audio unmute event ").concat(e.uid)),t._handleMuteStream(e.uid,jp.AUDIO,!1)),e._trust_video_mute_state_||(qh.debug("[".concat(t._clientId,"] auto dispatch video unmute event ").concat(e.uid)),t._handleMuteStream(e.uid,jp.VIDEO,!1)),e._trust_audio_enabled_state_||(qh.debug("[".concat(t._clientId,"] auto dispatch enable local audio ").concat(e.uid)),t._handleSetStreamLocalEnable("audio",e.uid,!0)),e._trust_video_enabled_state_||(qh.debug("[".concat(t._clientId,"] auto dispatch enable local video ").concat(e.uid)),t._handleSetStreamLocalEnable("video",e.uid,!0)),e._trust_video_stream_added_state_||(qh.debug("[".concat(t._clientId,"] auto dispatch reset video stream added ").concat(e.uid)),t._handleResetAddStream(e,"video")),e._trust_audio_stream_added_state_||(qh.debug("[".concat(t._clientId,"] auto dispatch reset audio stream added ").concat(e.uid)),t._handleResetAddStream(e,"audio")),e._video_added_||e._audio_added_||(qh.debug("[".concat(t._clientId,"] auto dispatch stream remove ").concat(e.uid)),t._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3))}t.safeEmit(wC.CONNECTION_STATE_CHANGE,e,A,n)}})),this._gateway.on(Lp.REQUEST_NEW_GATEWAY_LIST,(function(e,A){if(!t._joinInfo)return A(new _p(pC.UNEXPECTED_ERROR,"can not recover, no join info"));DA(t._joinInfo,t._axiosCancelSource.token,t._config.httpRetryConfig||td,t.store).then((function(A){t._joinInfo&&(t._joinInfo.apResponse=A.gatewayInfo.res,t._joinInfo.gatewayAddrs=A.gatewayInfo.gatewayAddrs,t._joinInfo.uni_lbs_ip=A.gatewayInfo.uni_lbs_ip);var n=[];A.gatewayInfo.gatewayAddrs.forEach((function(e){var A=Lb(e=e.address.split(":"),2);e=A[0],A=A[1],t._joinInfo&&t._joinInfo.proxyServer?n.push({proxy:t._joinInfo.proxyServer,host:e,port:A}):n.push({host:e,port:A})})),e(n)})).catch(A)})),this._gateway.on(Lp.NETWORK_QUALITY,(function(e){"normal"===t._networkQualitySensitivity&&t.safeEmit(wC.NETWORK_QUALITY,e)})),this._gateway.on(Lp.STREAM_TYPE_CHANGE,(function(e,A){t.safeEmit(wC.STREAM_TYPE_CHANGED,e,A),$h.reportApiInvoke(t._sessionId,{name:_C.STREAM_TYPE_CHANGE,options:[e,A],tag:bC.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:A}))})),this._gateway.on(Lp.IS_P2P_DISCONNECTED,(function(e){t._p2pChannel.isP2PDisconnected()?e(!0):t._p2pChannel.hasLocalMedia()||t._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(Lp.NEED_RENEW_SESSION,(function(){t._startSession()})),this._gateway.on(Lp.REQUEST_P2P_CONNECTION_PARAMS,(e=pa(O.mark((function e(A,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.next=4,t._p2pChannel.startP2PConnection(A);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),r(e.t2);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(t,A,n){return e.apply(this,arguments)})),this._gateway.on(Lp.JOIN_RESPONSE,(function(e,A){t.store.useP2P||(e=vr(e.ortc,A),t._p2pChannel.connect(e.iceParameters,e.dtlsParameters,e.candidates,e.rtpCapabilities,e.setup,e.cname))})),this._gateway.on(Lp.REQUEST_DC_CONNECTION_PARAMS,(function(e){e(t._p2pChannel.getEstablishParams())})),this._gateway.on(Lp.RESET_SIGNAL,(function(e){t._p2pChannel.resetConnection(e),t._handleGatewaySignalEvents()})),this._gateway.on(Lp.DATACHANNEL_FAILBACK,(function(){t._joinGateway()})),this._gateway.on(Lp.DATACHANNEL_PRECONNECT,function(){var e=pa(O.mark((function e(A,n,r,i){var o,a,s,c,u,g,I;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._p2pChannel.startP2PConnection({turnServer:null===(o=t._joinInfo)||void 0===o?void 0:o.turnServer},!0);case 2:var l=void 0,E=A,C=n;return C&&C.ip&&"number"==typeof C.port?(l=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:C.ip,port:C.port.toString(),type:"host",extension:{}}],qh.debug("Using remote candidate from AP ".concat(C.ip,":").concat(C.port)),C.ip6&&(l.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:C.ip6,port:C.port.toString(),type:"host",extension:{}}),qh.debug("Using IPV6 remote candidate from AP ".concat(C.ip6,":").concat(C.port)))):l=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:E.ip,port:E.port.toString(),type:"host",extension:{}}],I=l,e.abrupt("return",t._p2pChannel.preConnect({iceUfrag:"".concat(null===(a=t._joinInfo)||void 0===a?void 0:a.apResponse.cid,"_").concat(null===(s=t._joinInfo)||void 0===s?void 0:s.apResponse.cert),icePwd:"".concat(null===(c=t._joinInfo)||void 0===c?void 0:c.apResponse.cid,"_").concat(null===(u=t._joinInfo)||void 0===u?void 0:u.apResponse.cert)},{fingerprints:[{hashFunction:"sha-256",fingerprint:null!==(g=Th.FINGERPRINT)&&void 0!==g?g:A.fingerprint}]},I,{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},"active","o/i14u9pJrxRKAsu").then(r).catch(i));case 4:case"end":return e.stop()}}),e)})));return function(t,A,n,r){return e.apply(this,arguments)}}())}},{key:"_handleGatewaySignalEvents",value:function(){var e,t=this;this._gateway.signal.on(Cp.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(Cp.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(Cp.ON_ADD_AUDIO_STREAM,(function(e){return t._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc)})),this._gateway.signal.on(Cp.ON_ADD_VIDEO_STREAM,(function(e){return t._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId)})),this._gateway.signal.on(Cp.ON_REMOTE_DATASTREAM_UPDATE,(function(e){t._handleUpdateDataChannel(e)})),this._gateway.signal.on(Cp.ON_REMOTE_FULL_DATASTREAM_INFO,(function(e){t._handleUpdateDataChannel({added:e.datastreams,deleted:[]},!0)})),this._gateway.signal.on(Cp.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(Cp.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(Cp.MUTE_AUDIO,(function(e){return t._handleMuteStream(e.uid,jp.AUDIO,!0)})),this._gateway.signal.on(Cp.UNMUTE_AUDIO,(function(e){return t._handleMuteStream(e.uid,jp.AUDIO,!1)})),this._gateway.signal.on(Cp.MUTE_VIDEO,(function(e){return t._handleMuteStream(e.uid,jp.VIDEO,!0)})),this._gateway.signal.on(Cp.UNMUTE_VIDEO,(function(e){return t._handleMuteStream(e.uid,jp.VIDEO,!1)})),this._gateway.signal.on(Cp.RECEIVE_METADATA,(function(e){var A=We(e.metadata);t.safeEmit(wC.RECEIVE_METADATA,e.uid,A)})),this._gateway.signal.on(Cp.ON_DATA_STREAM,(e=pa(O.mark((function e(A){var n,r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:if(r=We(A.payload),!(t._encryptDataStream&&t._encryptDataStreamIv&&t._encryptDataStreamKey&&window.crypto.subtle&&Xs(n=["aes-128-gcm2","aes-256-gcm2"]).call(n,t._encryptionMode))){e.next=10;break}if(!(10>A.payload.length)){e.next=6;break}throw new _p(pC.UNEXPECTED_RESPONSE,"payload length ".concat(A.payload.length," is less than header length ").concat(10));case 6:return e.next=8,function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.subarray(0,10),i=r.slice(8,10),o=(i[0]<<8)+i[1],a=(r[6]<<8)+r[7],e.next=6,window.crypto.subtle.decrypt({name:"AES-GCM",iv:t,tagLength:128,additionalData:new Uint8Array(it(o,2))},A,n.subarray(10));case 6:return s=e.sent,e.abrupt("return",new Uint8Array(s).subarray(0,a));case 8:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}()(t._encryptDataStreamIv,t._encryptDataStreamKey,r);case 8:r=e.sent;case 10:i=0,(A.ordered||A.syncWithAudio)&&(o=t._p2pChannel.getStats(),a=t.remoteUsers.find((function(e){return e.uid===A.uid})),s=null==o?void 0:o.audioRecv.find((function(e){return e.ssrc===(null==a?void 0:a._audioSSRC)})),i=null==s?void 0:s.jitterBufferMs),null==i&&(i=0),uo(lo(lo({},A),{},{payload:r}),i,{id:t._clientId,onStreamMessage:"function"==typeof t.onStreamMessage?t.onStreamMessage.bind(t):void 0,safeEmit:t.safeEmit.bind(t)});case 13:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})),this._gateway.signal.on(Cp.ON_CRYPT_ERROR,(function(){He((function(){qh.warning("[".concat(t._clientId,"] on crypt error")),t.safeEmit(wC.CRYPT_ERROR)}),t._sessionId)})),this._gateway.signal.on(Cp.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(Cp.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(function(){qh.warning("[".concat(t._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),t._gateway.leave(!0,SC.TOKEN_EXPIRE),t.safeEmit(wC.ON_TOKEN_PRIVILEGE_DID_EXPIRE),t._reset()})),this._gateway.signal.on(Cp.ON_STREAM_FALLBACK_UPDATE,(function(e){qh.debug("[".concat(t._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),t.safeEmit(wC.STREAM_FALLBACK,e.stream_id,1===e.stream_type?"fallback":"recover")})),this._gateway.signal.on(Cp.ON_PUBLISH_STREAM,(function(e){t.uid===t._uid&&(t._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),qh.info("[".concat(t._clientId,"] on publish stream, ").concat(JSON.stringify(e))))})),this._gateway.signal.on(Cp.ENABLE_LOCAL_VIDEO,(function(e){t._handleSetStreamLocalEnable("video",e.uid,!0)})),this._gateway.signal.on(Cp.DISABLE_LOCAL_VIDEO,(function(e){t._handleSetStreamLocalEnable("video",e.uid,!1)})),this._gateway.signal.on(Ip.REQUEST_TIMEOUT,(function(e,A){if(t._joinInfo)switch(e){case lp.PUBLISH:if(!A)break;if(e=A.ortc){var n,r,i=e.some((function(e){return e.stream_type===Op.Audio})),o=e.some((function(e){return e.stream_type!==Op.Audio})),a=e.some((function(e){return(e=e.stream_type)===Op.Screen||e===Op.ScreenLow}));"offer"===A.state&&$h.publish(t._joinInfo.sid,{eventElapse:L_.measureFromPublishStart(t.store.clientId,t.store.pubId),succ:!1,ec:pC.TIMEOUT,audio:i,video:o,p2pid:A.p2p_id,publishRequestid:t.store.pubId,screenshare:a,audioName:i?null===(n=e.find((function(e){return e.stream_type===Op.Audio})))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0,videoName:o?null===(r=e.find((function(e){return e.stream_type!==Op.Audio})))||void 0===r||null===(r=r.ssrcs[0])||void 0===r?void 0:r.ssrcId.toString():void 0})}break;case lp.SUBSCRIBE:A&&$h.subscribe(t._joinInfo.sid,{succ:!1,ec:pC.TIMEOUT,audio:A.stream_type===jp.AUDIO,video:A.stream_type===jp.VIDEO,peerid:A.stream_id,subscribeRequestid:A.ssrcId,p2pid:t.store.p2pId,eventElapse:L_.measureFromSubscribeStart(t.store.clientId,A.ssrcId)})}})),this._gateway.signal.on(Cp.ON_P2P_OK,(function(e){t.uid,t._uid})),this._gateway.signal.on(Cp.ON_PUBLISHED_USER_LIST,(function(e){if(null!=e&&e.users){Th.BLOCK_LOCAL_CLIENT&&(e.users=e.users.filter((function(e){return!qt(e.string_id||e.stream_id,t.channelName)})));var A=[],n=[],r=function(e,r){var i=r[e];(e=t._users.find((function(e){return e._uintid===i.stream_id})))?e._trust_in_room_=!0:(e=new mb(i.string_id||i.stream_id,i.stream_id),t._users.push(e),0===t.getListeners(wC.PUBLISHED_USER_LIST).length&&(qh.debug("[".concat(t._clientId,"] user online"),i.stream_id),t.safeEmit(wC.USER_JOINED,e))),r=Up.Audio&i.stream_type;var o=(Up.Video|Up.LwoVideo)&i.stream_type,a=0!=(65280&i.stream_type),s=r&&e.hasAudio,c=o&&e.hasVideo;o&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=i.video_ssrc,e._rtxSsrcId=i.video_rtx),r&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=i.audio_ssrc),r&&!s&&0===t.getListeners(wC.PUBLISHED_USER_LIST).length&&(qh.info("[".concat(t._clientId,"] remote user ").concat(e.uid," published audio")),t.safeEmit(wC.USER_PUBLISHED,e,"audio")),o&&!c&&0===t.getListeners(wC.PUBLISHED_USER_LIST).length&&(qh.info("[".concat(t._clientId,"] remote user ").concat(e.uid," published video")),t.safeEmit(wC.USER_PUBLISHED,e,"video")),(r&&!s||o&&!c||a)&&A.push(e),o&&t._p2pChannel.hasPendingRemoteMedia(e,"video")&&n.push({user:e,mediaType:"video"}),r&&t._p2pChannel.hasPendingRemoteMedia(e,"audio")&&n.push({user:e,mediaType:"audio"})},i=0;for(e=e.users;i<e.length;i++)r(i,e);0<n.length&&(qh.debug("[".concat(t._clientId,"] RE massSubscribe after reconnect ").concat(n.map((function(e){return"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType)})).join("; ")," ")),t.massSubscribe(n).catch((function(e){qh.error("[".concat(t._clientId,"] mass resubscribe error"),e.toString())}))),0<t.getListeners(wC.PUBLISHED_USER_LIST).length?Th.ENABLE_DATASTREAM_2?t._pendingPublishedUsers=A:(qh.info("[".concat(t._clientId,"] client emit user-list event, users: ").concat(A.map((function(e){return e.uid})).join(", "))),t.safeEmit(wC.PUBLISHED_USER_LIST,A)):qh.info("[".concat(t._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(A.map((function(e){return e.uid})).join(", ")))}})),this._gateway.signal.on(Cp.ON_RTP_CAPABILITY_CHANGE,(function(e){e=e.video_codec,t._p2pChannel instanceof Pb&&t._p2pChannel.updateRemoteRTPCapabilities(e.map((function(e){return e.toLowerCase()})).filter((function(e){var t;return Xs(t=Object.keys(Lh)).call(t,e)})))}))}},{key:"_handleP2PEvents",value:function(){var e,t=this;this._gateway.signal.on(Cp.ON_USER_OFFLINE,(function(){t._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(If.PUBLISH,(function(e,A,n){var r=e.uid;e.forEach((function(e){var i=e.kind,o=e.ssrcs,a=e.mid;e=e.isMuted,t._handleP2PAddAudioOrVideoStream(i,r,o[0].ssrcId,a);var s=t._users.find((function(e){return e.uid===r}));return s&&t._p2pChannel instanceof _b?t._p2pChannel.mockSubscribe(s,i,o[0].ssrcId,a).then((function(){A()})).catch(n):A(),t._handleMuteStream(r,i,!!e)}))})),this._gateway.signal.on(If.CALL,(e=pa(O.mark((function e(A,n,r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t._p2pChannel instanceof _b)){e.next=12;break}return e.prev=1,e.t0=n,e.next=5,t._p2pChannel.startP2P({turnServer:null===(i=t._joinInfo)||void 0===i?void 0:i.turnServer},A);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),r(e.t2);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),function(t,A,n){return e.apply(this,arguments)})),this._gateway.signal.on(Ip.P2P_CONNECTION,function(){var e=pa(O.mark((function e(A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._p2pChannel instanceof _b,!e.t0){e.next=4;break}return e.next=4,t._p2pChannel.p2pConnect(A);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._gateway.signal.on(If.UNPUBLISH,function(){var e=pa(O.mark((function e(A,n,r){var i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t._p2pChannel instanceof _b)){e.next=5;break}if(i=A.unpubMsg,o=A.uid,a=t._users.find((function(e){return e.uid===o}))){e.next=4;break}return e.abrupt("return",(qh.warning("[".concat(t._clientId,"] can not find remote user, ignore mute event, uid: ").concat(o)),void n()));case 4:try{i.forEach(function(){var e=pa(O.mark((function e(A){var n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=A.stream_type,r=n===Op.Audio?jp.AUDIO:jp.VIDEO,e.next=4,t._p2pChannel.unsubscribe(a,r);case 4:t._handleMuteStream(o,r,!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n()}catch(e){r(e)}case 5:case"end":return e.stop()}}),e)})));return function(t,A,n){return e.apply(this,arguments)}}()),this._gateway.signal.on(If.CONTROL,function(){var e=pa(O.mark((function e(A,n){var r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=A.action,e.t0=r,e.next=e.t0===Ef.MUTE_LOCAL_VIDEO?4:e.t0===Ef.MUTE_LOCAL_AUDIO?6:e.t0===Ef.UNMUTE_LOCAL_VIDEO?8:e.t0===Ef.UNMUTE_LOCAL_AUDIO?10:11;break;case 4:return t._handleMuteStream(n,jp.VIDEO,!0),e.abrupt("break",11);case 6:return t._handleMuteStream(n,jp.AUDIO,!0),e.abrupt("break",11);case 8:return t._handleP2PAddAudioOrVideoStream("video",n),t._handleMuteStream(n,jp.VIDEO,!1),e.abrupt("break",11);case 10:t._handleP2PAddAudioOrVideoStream("audio",n),t._handleMuteStream(n,jp.AUDIO,!1);case 11:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}()),this._gateway.signal.on(If.RESTART_ICE,function(){var e=pa(O.mark((function e(A,n,r){var i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t._p2pChannel instanceof _b)){e.next=17;break}if(e.prev=1,i=A.direction,o=A.iceParameter,i===hp.SEND_ONLY&&!o){e.next=11;break}return e.t0=n,e.next=7,t._p2pChannel.restartICE(i,o);case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 11:t._p2pChannel.handleDisconnect(i),n();case 12:e.next=17;break;case 14:e.prev=14,e.t2=e.catch(1),r(e.t2);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,A,n){return e.apply(this,arguments)}}()),this._gateway.signal.on(If.CANDIDATE,(function(e){t._p2pChannel instanceof _b&&t._p2pChannel.addRemoteCandidate(e.candidate,e.direction)})),this._p2pChannel.on($p.RequestP2PRestartICE,function(){var e=pa(O.mark((function e(A,n,r){var i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=A.direction,e.t0=n,e.next=5,t._gateway.sendExtensionMessage(If.RESTART_ICE,A,i===hp.SEND_ONLY);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),r(e.t2);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,A,n){return e.apply(this,arguments)}}()),this._p2pChannel.on($p.LocalCandidate,(function(e){t._gateway.sendExtensionMessage(If.CANDIDATE,JSON.stringify(e),!0)})),this._p2pChannel.on($p.RequestP2PMuteLocal,function(){var e=pa(O.mark((function e(A,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._gateway.sendExtensionMessage(If.CONTROL,A,!0);case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,A,n){return e.apply(this,arguments)}}()),this._p2pChannel.on($p.RequestP2PUnmuteRemote,function(){var e=pa(O.mark((function e(A,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._joinInfo){e.next=12;break}return e.prev=1,e.next=4,t._gateway.unmuteRemote(A,t._joinInfo.stringUid||t._joinInfo.uid);case 4:n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.code===pC.DISCONNECT_P2P?n():r(e.t0);case 10:e.next=13;break;case 12:n();case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,A,n){return e.apply(this,arguments)}}()),this._p2pChannel.on($p.RequestP2PMuteRemote,function(){var e=pa(O.mark((function e(A,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._joinInfo){e.next=12;break}return e.prev=1,e.next=4,t._gateway.muteRemote(A,t._joinInfo.stringUid||t._joinInfo.uid);case 4:n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.code===pC.DISCONNECT_P2P?n():r(e.t0);case 10:e.next=13;break;case 12:n();case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,A,n){return e.apply(this,arguments)}}()),this._p2pChannel.on($p.StateChange,(function(e,A){A===Zp.Connected&&t._p2pChannel.republish()}))}},{key:"_handleP2PChannelEvents",value:function(){var e,t,A=this;this._p2pChannel.on($p.RequestMuteLocal,(e=pa(O.mark((function e(t,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A._joinInfo){e.next=12;break}return e.prev=1,e.next=4,A._gateway.muteLocal(t,A._joinInfo.stringUid||A._joinInfo.uid);case 4:n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.code===pC.DISCONNECT_P2P?n():r(e.t0);case 10:e.next=13;break;case 12:n();case 13:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(t,A,n){return e.apply(this,arguments)})),this._p2pChannel.on($p.RequestUnmuteLocal,function(){var e=pa(O.mark((function e(t,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A._joinInfo){e.next=12;break}return e.prev=1,e.next=4,A._gateway.unmuteLocal(t,A._joinInfo.stringUid||A._joinInfo.uid);case 4:n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.code===pC.DISCONNECT_P2P?n():r(e.t0);case 10:e.next=13;break;case 12:n();case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,A,n){return e.apply(this,arguments)}}()),this._p2pChannel.on($p.RequestRePublish,(function(e,t,n){A.publish(e,!1).then(t).catch(n)})),this._p2pChannel.on($p.RequestRePublishDataChannel,(function(e,t,n){var r;IC.all(e.map((r=pa(O.mark((function e(t){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A._p2pChannel.publishDataChannel([t]);case 2:return n={streamId:t.id,ordered:t.ordered,maxRetransmits:t.maxRetransmits,metadata:t.metadata,channelId:t._originDataChannelId},e.prev=3,e.next=6,A._gateway.publishDataChannel(A._uid,n,!0);case 6:e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(3),e.t0.code===pC.DISCONNECT_P2P){e.next=12;break}throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[3,8]])}))),function(e){return r.apply(this,arguments)}))).then(t).catch(n)})),this._p2pChannel.on($p.RequestReSubscribe,function(){var e=pa(O.mark((function e(t,n,r){var i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=e.prev=0;case 2:if(!(i<t.length)){e.next=14;break}if(o=t[i],a=o.user,o.kind!==jp.VIDEO){e.next=9;break}return e.next=7,A.subscribe(a,"video");case 7:e.next=11;break;case 9:return e.next=11,A.subscribe(a,"audio");case 11:i++,e.next=2;break;case 14:n(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),r(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,A,n){return e.apply(this,arguments)}}()),this._p2pChannel.on($p.RequestUpload,(function(e,t){A._gateway.upload(e,t)})),this._p2pChannel.on($p.RequestUploadStats,(function(e){A._gateway.uploadWRTCStats(e)})),this._p2pChannel.on($p.MediaReconnectStart,(function(e){A.safeEmit(wC.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on($p.MediaReconnectEnd,(function(e){A.safeEmit(wC.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on($p.NeedSignalRTT,(function(e){e(A._gateway.getSignalRTT())})),this._p2pChannel.on($p.RequestRestartICE,function(){var e=pa(O.mark((function e(t){var n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(A._p2pChannel instanceof _b)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A._p2pChannel.restartICE(t);case 4:return n=e.sent,e.next=7,n.next();case 7:if(!(r=e.sent).done){e.next=10;break}return e.abrupt("return");case 10:return i=r.value,e.prev=11,e.next=14,A._gateway.restartICE({iceParameters:i});case 14:o=e.sent,e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(11),e.abrupt("return",void n.throw(e.t0));case 20:var s=o.iceParameters;return a={iceUfrag:s.iceUfrag,icePwd:s.icePwd},e.next=23,n.next({remoteIceParameters:a});case 23:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(t){return e.apply(this,arguments)}}()),this._p2pChannel.on($p.RequestReconnect,pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A._gateway.reconnect();case 1:case"end":return e.stop()}}),e)})))),this._p2pChannel.on($p.RequestReconnectPC,pa(O.mark((function e(){var t,n,r,i,o,a,s,c,u,g,I,l,E,C,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A._p2pChannel.startP2PConnection({turnServer:null===(t=A._joinInfo)||void 0===t?void 0:t.turnServer});case 2:return n=e.sent,r=n.iceParameters,i=n.dtlsParameters,o=n.rtpCapabilities,e.next=8,A._gateway.reconnectPC({iceParameters:r,dtlsParameters:i,rtpCapabilities:o});case 8:return a=e.sent,s=a.gatewayEstablishParams,c=a.gatewayAddress,u=vr(s,c),g=u.dtlsParameters,I=u.iceParameters,l=u.candidates,E=u.rtpCapabilities,C=u.setup,d=u.cname,e.next=20,A._p2pChannel.connect(I,g,l,E,C,d);case 20:return e.next=22,A._p2pChannel.republish();case 22:return e.next=24,A._p2pChannel.reSubscribe();case 24:case"end":return e.stop()}}),e)})))),this._p2pChannel.on($p.RequestUnpublishForReconnectPC,(t=pa(O.mark((function e(t,n,r){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A._joinInfo||void 0===A._uid){e.next=6;break}return e.next=3,A._gateway.unpublish(t,A._uid);case 3:n(),e.next=7;break;case 6:r();case 7:case"end":return e.stop()}}),e)}))),function(e,A,n){return t.apply(this,arguments)})),this._p2pChannel.on($p.P2PLost,(function(){A.safeEmit(wC.P2P_LOST,A.store.uid)})),this._p2pChannel.on($p.UpdateVideoEncoder,(function(e){e._encoderConfig&&A._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on($p.ConnectionTypeChange,(function(e){A.safeEmit(wC.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on($p.RequestLowStreamParameter,(function(e){e(A._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on($p.QueryClientConnectionState,(function(e){e(A.connectionState)}))}},{key:"getKeyMetrics",value:function(){return this.store.keyMetrics}},{key:"enableContentInspect",value:function(){var e=pa(O.mark((function e(t){var A,n,r=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.connectionState&&this._joinInfo){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,"] Client did not join channel"));case 2:if(!this._inspect){e.next=4;break}throw new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));case 4:if(t){e.next=6;break}throw new _p(pC.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig is necessary"));case 6:if(t.inspectType&&Array.isArray(t.inspectType)){e.next=8;break}throw new _p(pC.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.inspectType is necessary and is an instance of Array."));case 8:if((A=rb(new Set(t.inspectType))).forEach((function(e){var t;if(!Xs(t=["supervise","moderation"]).call(t,e))throw new _p(pC.INVALID_PARAMS,"[".concat(r._clientId,"] ").concat(e," is not a valid inspect type."))})),t.inspectType=A,!(t&&t.extraInfo&&1024<t.extraInfo.length)){e.next=12;break}throw new _p(pC.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.extraInfo length cannot exceed 1024 bytes"));case 12:return e.prev=12,this._inspect=n=new Jb(t),this.handleVideoInspectEvents(this._inspect),e.next=18,n.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},td);case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(12),Array.isArray(e.t0)?e.t0[0]:e.t0;case 23:case"end":return e.stop()}}),e,this,[[12,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"disableContentInspect",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._inspect){e.next=2;break}throw new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));case 2:e.prev=2,this._inspect.close(),this._inspect=void 0,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),Array.isArray(e.t0)?e.t0[0]:e.t0;case 9:case"end":return e.stop()}}),e,this,[[2,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"setImageModeration",value:function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe(t,"enabled"),!t){e.next=24;break}if(A){e.next=3;break}throw new _p(pC.INVALID_PARAMS,"[".concat(this._clientId,"] config is necessary"));case 3:if(ve(A.interval,"interval",1e3,1/0),!(A&&A.extraInfo&&1024<A.extraInfo.length)){e.next=5;break}throw new _p(pC.INVALID_PARAMS,"[".concat(this._clientId,"] config.extraInfo length cannot exceed 1024 bytes"));case 5:if(!(A&&A.vendor&&1024<A.vendor.length)){e.next=7;break}throw new _p(pC.INVALID_PARAMS,"[".concat(this._clientId,"] config.vendor length cannot exceed 1024 bytes"));case 7:if("CONNECTED"===this.connectionState&&this._joinInfo){e.next=9;break}throw new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,'] can not enable image moderation, not joined"'));case 9:if(e.prev=9,!this._moderation){e.next=12;break}return e.abrupt("return",void this._moderation.updateConfig(A));case 12:return this._moderation=n=new oR(A),this.handleImageModerationEvents(this._moderation),e.next=17,n.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},td);case 17:e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(9),Array.isArray(e.t0)?e.t0[0]:e.t0;case 22:e.next=33;break;case 24:if(this._moderation){e.next=26;break}throw new _p(pC.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));case 26:e.prev=26,this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0,e.next=33;break;case 30:throw e.prev=30,e.t1=e.catch(26),Array.isArray(e.t1)?e.t1[0]:e.t1;case 33:case"end":return e.stop()}}),e,this,[[9,19],[26,30]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"setP2PTransport",value:function(e){if(ye(e,"transport",["default","auto","relay","sd-rtn"]),"p2p"!==this.mode)throw new _p(pC.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=e,qh.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(e))}},{key:"handleImageModerationEvents",value:function(e){var t=this;e.on(uf.CONNECTION_STATE_CHANGE,(function(A,n){if(t.safeEmit(wC.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,A,n),A===cf.CONNECTED){if("CONNECTED"!==t.connectionState)throw t.setImageModeration(!1),new _p(pC.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");e.inspectImage()}})),e.on(uf.CLIENT_LOCAL_VIDEO_TRACK,(function(e){e(t.localTracks.filter((function(e){return"video"===e.trackMediaType}))[0])}))}},{key:"handleVideoInspectEvents",value:function(e){var t=this;e.on(nf.CONNECTION_STATE_CHANGE,(function(A,n){if(t.safeEmit(wC.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,A,n),n===tf.CONNECTED){if("CONNECTED"!==t.connectionState)return void t.safeEmit(wC.CONTENT_INSPECT_ERROR,new _p(pC.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}})),e.on(nf.INSPECT_RESULT,(function(e,A){var n;if((null==A?void 0:A.code)===pC.INVALID_OPERATION&&"DISCONNECTED"===t.connectionState)return qh.debug("Stop inspect content because that has left channel"),null==t||null===(n=t._inspect)||void 0===n||n.close(),void(t._inspect=void 0);t.safeEmit(wC.CONTENT_INSPECT_RESULT,e,A)})),e.on(nf.CLIENT_LOCAL_VIDEO_TRACK,(function(e){e(t.localTracks.filter((function(e){return"video"===e.trackMediaType}))[0])}))}},{key:"getJoinChannelServiceRecords",value:function(){return qh.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}},{key:"setPublishAudioFilterEnabled",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe(t,"enabled"),Ut("ENABLE_PUBLISH_AUDIO_FILTER",t),e.t0=this._joinInfo,!e.t0){e.next=6;break}return e.next=6,this._gateway.setPublishAudioFilterEnabled(t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_handleResetAddStream",value:function(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}]),t}(UC);Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],gR.prototype,"leave",null),Ht([Jt({argsMap:function(e,t){if(!Array.isArray(t)){if(!(t instanceof YB))return[t];t=[t]}return t.map((function(e){return e?Object(e).toString():"null"}))}}),jt("design:type",Function),jt("design:paramtypes",[Object,Boolean]),jt("design:returntype",IC)],gR.prototype,"publish",null),Ht([Jt({argsMap:function(e,t){return t||(t=[]),t instanceof iv?[t.getChannelId()]:(Array.isArray(t)||(t=[t]),t.map((function(e){return e.getTrackId()})))}}),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],gR.prototype,"unpublish",null),Ht([Jt({argsMap:function(e,t,A,n){return[t.uid,A,n]}}),jt("design:type",Function),jt("design:paramtypes",[mb,String,Number]),jt("design:returntype",IC)],gR.prototype,"subscribe",null),Ht([Jt({argsMap:function(e,t,A){return[t,A]}}),jt("design:type",Function),jt("design:paramtypes",[Object,String]),jt("design:returntype",IC)],gR.prototype,"presubscribe",null),Ht([Jt({argsMap:function(e,t){return t.map((function(e){var t=e.user;return[null==t?void 0:t.uid,e.mediaType]}))}}),jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],gR.prototype,"massSubscribe",null),Ht([Jt({argsMap:function(e,t,A,n){return[t.uid,A,n]}}),jt("design:type",Function),jt("design:paramtypes",[mb,String,Number]),jt("design:returntype",IC)],gR.prototype,"unsubscribe",null),Ht([Jt({argsMap:function(e,t){return t.map((function(e){var t=e.user;return{uid:null==t?void 0:t.uid,mediaType:e.mediaType}}))}}),jt("design:type",Function),jt("design:paramtypes",[Array]),jt("design:returntype",IC)],gR.prototype,"massUnsubscribe",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],gR.prototype,"setLowStreamParameter",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],gR.prototype,"enableDualStream",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],gR.prototype,"disableDualStream",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[String,Object]),jt("design:returntype",IC)],gR.prototype,"setClientRole",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[String,Boolean]),jt("design:returntype",void 0)],gR.prototype,"setProxyServer",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object,Boolean]),jt("design:returntype",void 0)],gR.prototype,"setTurnServer",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",void 0)],gR.prototype,"setLicense",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Number]),jt("design:returntype",void 0)],gR.prototype,"startProxyServer",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],gR.prototype,"stopProxyServer",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",void 0)],gR.prototype,"setLocalAccessPointsV2",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Array,String]),jt("design:returntype",void 0)],gR.prototype,"setLocalAccessPoints",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Number]),jt("design:returntype",IC)],gR.prototype,"setRemoteDefaultVideoStreamType",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object,Number]),jt("design:returntype",IC)],gR.prototype,"setRemoteVideoStreamType",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object,Number]),jt("design:returntype",IC)],gR.prototype,"setStreamFallbackOption",null),Ht([Jt({argsMap:function(e,t){return[t]}}),jt("design:type",Function),jt("design:paramtypes",[String,String,Uint8Array,Boolean]),jt("design:returntype",void 0)],gR.prototype,"setEncryptionConfig",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],gR.prototype,"renewToken",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",void 0)],gR.prototype,"enableAudioVolumeIndicator",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[String,Boolean]),jt("design:returntype",IC)],gR.prototype,"startLiveStreaming",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],gR.prototype,"setLiveTranscoding",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",IC)],gR.prototype,"stopLiveStreaming",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[String,Object]),jt("design:returntype",IC)],gR.prototype,"addInjectStreamUrl",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],gR.prototype,"removeInjectStreamUrl",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[wb]),jt("design:returntype",IC)],gR.prototype,"startChannelMediaRelay",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[wb]),jt("design:returntype",IC)],gR.prototype,"updateChannelMediaRelay",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],gR.prototype,"stopChannelMediaRelay",null),Ht([Jt({argsMap:function(e,t){return Array.isArray(t)||(t=[t]),[JSON.stringify(t)]}}),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],gR.prototype,"sendCustomReportMessage",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object,Object]),jt("design:returntype",IC)],gR.prototype,"pickSVCLayer",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],gR.prototype,"setRTMConfig",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Object]),jt("design:returntype",IC)],gR.prototype,"enableContentInspect",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",IC)],gR.prototype,"disableContentInspect",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Boolean,Object]),jt("design:returntype",IC)],gR.prototype,"setImageModeration",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[String]),jt("design:returntype",void 0)],gR.prototype,"setP2PTransport",null),Ht([Jt({reportResult:!0}),jt("design:type",Function),jt("design:paramtypes",[]),jt("design:returntype",Array)],gR.prototype,"getJoinChannelServiceRecords",null),Ht([Jt(),jt("design:type",Function),jt("design:paramtypes",[Boolean]),jt("design:returntype",IC)],gR.prototype,"setPublishAudioFilterEnabled",null);var IR=function(){function e(t,A){zb(this,e),Z(this,"id",0),Z(this,"element",void 0),Z(this,"peerPair",void 0),Z(this,"context",void 0),Z(this,"audioPlayerElement",void 0),Z(this,"audioTrack",void 0),e.count+=1,this.id=e.count,this.element=t,this.context=A}return Ib(e,[{key:"initPeers",value:function(){var e=this;this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=function(t){var A=document.createElement("audio");A.srcObject=new MediaStream([t.track]),A.play(),e.audioPlayerElement=A}}},{key:"switchSdp",value:function(){var e=pa(O.mark((function e(){var t,A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.peerPair){e.next=2;break}return e.abrupt("return");case 2:return t=function(){var e=pa(O.mark((function e(t,A){var n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("offer"!==A){e.next=6;break}return e.next=3,t.createOffer();case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,t.createAnswer();case 8:e.t0=e.sent;case 9:return n=e.t0,e.next=12,t.setLocalDescription(n);case 12:return e.abrupt("return","complete"===t.iceGatheringState?t.localDescription:new IC((function(e){t.onicegatheringstatechange=function(){"complete"===t.iceGatheringState&&e(t.localDescription)}})));case 13:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}(),A=function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setRemoteDescription(A);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}(),e.prev=3,e.next=6,t(this.peerPair[0],"offer");case 6:return n=e.sent,e.next=9,A(this.peerPair[1],n);case 9:return e.next=11,t(this.peerPair[1],"answer");case 11:return r=e.sent,e.next=14,A(this.peerPair[0],r);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(3),new _p(pC.LOCAL_AEC_ERROR,e.t0.toString()).print();case 19:case"end":return e.stop()}}),e,this,[[3,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTracksFromMediaElement",value:function(){var e=pa(O.mark((function e(t){var A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.audioTrack){e.next=2;break}return e.abrupt("return",this.audioTrack);case 2:e.prev=2,t instanceof HTMLVideoElement&&(t.captureStream?t.captureStream():t.mozCaptureStream()),A=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(t).connect(A),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new _p(pC.LOCAL_AEC_ERROR,e.t0.toString()).print();case 10:if(A){e.next=12;break}throw new _p(pC.LOCAL_AEC_ERROR,"no dest node when local aec").print();case 12:return n=A.stream.getAudioTracks()[0],e.abrupt("return",(this.audioTrack=n,n));case 14:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getElement",value:function(){return this.element}},{key:"startEchoCancellation",value:function(){var e=pa(O.mark((function e(){var t,A;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.resume(),this.peerPair&&this.close(),this.initPeers(),t=this.element,e.next=4,this.getTracksFromMediaElement(t);case 4:return A=e.sent,this.peerPair&&this.peerPair[0].addTrack(A),e.next=8,this.switchSdp();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){qh.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((function(e){e.close()})),this.audioPlayerElement=this.peerPair=void 0}}]),e}();Z(IR,"count",0);var lR=window.AudioContext||window.webkitAudioContext,ER=function(){function e(){zb(this,e),Z(this,"units",[]),Z(this,"context",void 0)}return Ib(e,[{key:"processExternalMediaAEC",value:function(e){if(!this._doesEnvironmentNeedAEC())return qh.debug("the system does not need to process local aec"),-1;this.context||(this.context=new lR);var t=this.units.find((function(t){return t&&t.getElement()===e}));return t||(t=new IR(e,this.context),this.units.push(t)),t.startEchoCancellation(),qh.debug("start processing local audio echo cancellation, id is",t.id),t.id}},{key:"_doesEnvironmentNeedAEC",value:function(){return ee().name!==uC.SAFARI}}]),e}();Ht([Jt({report:$h}),jt("design:type",Function),jt("design:paramtypes",[HTMLAudioElement]),jt("design:returntype",Number)],ER.prototype,"processExternalMediaAEC",null);var CR=new ER,dR=window||document;Ut("PROCESS_ID","process-".concat(At(8,""),"-").concat(At(4,""),"-").concat(At(4,""),"-").concat(At(4,""),"-").concat(At(12,""))),function(){try{var e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void qh.error("Error loading sdk config",e.message)}if(e)try{var t=JSON.parse(window.atob(e)),A=Date.now();qh.debug("Loading global parameters from cache",t),Object.keys(t).forEach((function(e){if(Object.prototype.hasOwnProperty.call(Th,e)){var n=t[e],r=n.value;(n=n.expires)&&n<=A||(Oh[e]=r,Th[e]=r)}}))}catch(t){qh.error("Error loading mutableParamsCache: ".concat(e),t.message)}}(),Array.isArray(Oh.AREAS)&&0<Oh.AREAS.length&&vA(Oh.AREAS,!0);var hR=function(e,t,A){qh.debug("setParameter key:".concat(e,", value:").concat(JSON.stringify(t))),Ut(e,t,A)},pR=function(e){var t=new UC,A={getListeners:t.getListeners.bind(t),on:function(e,A){return e===af.SECURITY_POLICY_VIOLATION&&ho(A,!0),t.on.bind(t)(e,A)},addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return Co(Co({},e),A)}({__TRACK_LIST__:wB,VERSION:Dh,BUILD:"v4.20.1-0-g369af267(2/26/2024, 10:45:44 AM)",ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:hR,getParameter:function(e){return Th[e]},getSupportedCodec:function(){var e=pa(O.mark((function e(){var t,A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={audio:[],video:[]},e.prev=1,(A=new RTCPeerConnection).addTransceiver("video",{direction:"recvonly"}),A.addTransceiver("audio",{direction:"recvonly"}),e.next=6,A.createOffer();case 6:if(n=e.sent.sdp){e.next=9;break}return e.abrupt("return",t);case 9:A.close(),A=null;var r=n,i={video:[],audio:[]};r.match(/ VP8/i)&&i.video.push("VP8"),r.match(/ VP9/i)&&i.video.push("VP9"),r.match(/ AV1/i)&&i.video.push("AV1"),r.match(/ H264/i)&&i.video.push("H264"),r.match(/ H265/i)&&i.video.push("H265"),r.match(/ opus/i)&&i.audio.push("OPUS"),r.match(/ PCMU/i)&&i.audio.push("PCMU"),r.match(/ PCMA/i)&&i.audio.push("PCMA"),r.match(/ G722/i)&&i.audio.push("G722"),t=i,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),new _p(pC.CREATE_OFFER_FAILED,e.t0.toString&&e.t0.toString()).print();case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),checkSystemRequirements:function(){var e=$h.reportApiInvoke(null,{name:_C.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:bC.TRACER}),t=!1;try{var A=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=window.WebSocket;t=!!(window.RTCPeerConnection&&A&&n)}catch(e){return qh.error("check system requirement failed: ",e),!1}return A=!1,(n=ee()).name===uC.CHROME&&58<=Number(n.version)&&("WebKit"!==BC.engine.name||ne())&&(A=!0),n.name===uC.FIREFOX&&56<=Number(n.version)&&(A=!0),n.name===uC.OPERA&&45<=Number(n.version)&&(A=!0),n.name===uC.SAFARI&&11<=Number(n.version)&&(A=!0),ee().name!==uC.WECHAT&&ee().name!==uC.QQ||(A=!0),qh.debug("checkSystemRequirements, api:",t,"browser",A),t=t&&A,e.onSuccess(t),t},getDevices:function(e){return tQ.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return tQ.getRecordingDevices(e)},getCameras:function(e){return tQ.getCamerasDevices(e)},getElectronScreenSources:ln,getPlaybackDevices:function(e){return tQ.getSpeakers(e)},createClient:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"},A=$h.reportApiInvoke(null,{name:_C.CREATE_CLIENT,options:[t],tag:bC.TRACER});try{ye(t.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),ye(t.mode,"config.mode",["rtc","live","p2p"]),void 0!==t.audioCodec&&ye(t.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==t.proxyServer&&_e(t.proxyServer,"config.proxyServer",1,1e4),void 0!==t.turnServer&&Oe(t.turnServer),void 0!==t.httpRetryConfig&&Ne(t.httpRetryConfig),void 0!==t.websocketRetryConfig&&Ne(t.websocketRetryConfig)}catch(e){throw A.onError(e),e}return go()||("vp9"===t.codec&&(t.codec="vp8",qh.debug("browser not support vp9, force use vp8")),Ut("UNSUPPORTED_VIDEO_CODEC",["vp9"])),void 0===t.audioCodec&&(t.audioCodec="opus"),A.onSuccess(),new gR(lo(lo({forceWaitGatewayResponse:!0},t),{},{role:Xs(e=["rtc","p2p"]).call(e,t.mode)?"host":t.role||"audience"}))},createCameraVideoTrack:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a,s,c=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<c.length&&void 0!==c[0]?c[0]:{},A=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CREATE_CAM_VIDEO_TRACK,options:[Fn({},t)]}),n=kn(t),r=At(8,"track-cam-"),i=null,o="720p_auto"===t.encoderConfig,qh.info("start create camera video track with config",JSON.stringify(t),"trackId",r),e.prev=5,e.next=8,dn({video:n},r);case 8:if(e.t0=e.sent.getVideoTracks()[0],e.t0){e.next=11;break}e.t0=null;case 11:i=e.t0,e.next=17;break;case 14:throw e.prev=14,e.t1=e.catch(5),A.onError(e.t1),e.t1;case 17:if(i){e.next=20;break}return a=new mC(pC.UNEXPECTED_ERROR,"can not find track in media stream"),e.abrupt("return",(A.onError(a),a.throw(qh)));case 20:return t.optimizationMode&&Kn(r,i,t,ZA(t.encoderConfig)),s=new bQ(i,t,n,t.scalabiltyMode?en(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r),e.abrupt("return",(o&&s.startMonitorStats(),A.onSuccess(s.getTrackId()),qh.info("create camera video success, trackId:",r),s));case 23:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}(),createCustomVideoTrack:function(e){var t=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),A=new _Q(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?en(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,At(8,"track-cus-"),[CB.CUSTOM_TRACK]);return t.onSuccess(A.getTrackId()),qh.info("create custom video track success with config",e,"trackId",A.getTrackId()),A},createScreenVideoTrack:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a,s,c,u,g,I,l,E,C,d=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0<d.length&&void 0!==d[0]?d[0]:{},A=1<d.length&&void 0!==d[1]?d[1]:"disable",n=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CREATE_SCREEN_VIDEO_TRACK,options:[Fn({},t),A]}),r="720p_auto"===t.encoderConfig,t.encoderConfig?"string"==typeof t.encoderConfig||t.encoderConfig.width&&t.encoderConfig.height||(t.encoderConfig.width={max:1920},t.encoderConfig.height={max:1080}):t.encoderConfig="1080p_2";var h=t,p={};h.screenSourceType&&(p.mediaSource=h.screenSourceType),h.extensionId&&re()&&(p.extensionId=h.extensionId);var f=h.displaySurface,B=h.selfBrowserSurface,Q=h.surfaceSwitching,y=h.systemAudio;if((se(107)||ce(107)||ue(93))&&(f&&(ye(f,"displaySurface",["browser","window","monitor"]),p.displaySurface=f),B?(ye(B,"selfBrowserSurface",["exclude","include"]),p.selfBrowserSurface=B):p.selfBrowserSurface="include",Q&&(ye(Q,"surfaceSwitching",["exclude","include"]),p.surfaceSwitching=Q)),(se(105)||ce(105)||ue(91))&&y&&(ye(y,"systemAudio",["exclude","include"]),p.systemAudio=y),h.electronScreenSourceId&&(p.sourceId=h.electronScreenSourceId),h=h.encoderConfig?$A(h.encoderConfig):null,p.mandatory={chromeMediaSource:"desktop",maxWidth:h?h.width:void 0,maxHeight:h?h.height:void 0},h&&(h.frameRate&&("number"==typeof h.frameRate?(p.mandatory.maxFrameRate=h.frameRate,p.mandatory.minFrameRate=h.frameRate):(p.mandatory.maxFrameRate=h.frameRate.max||h.frameRate.ideal||h.frameRate.exact||void 0,p.mandatory.minFrameRate=h.frameRate.min||h.frameRate.ideal||h.frameRate.exact||void 0),p.frameRate=h.frameRate),h.width&&(p.width=h.width),h.height&&(p.height=h.height)),i=p,o=At(8,"track-scr-v-"),s=a=null,(c=lB).supportShareAudio||"enable"!==A){e.next=9;break}return u=new mC(pC.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio"),e.abrupt("return",(n.onError(u),u.throw(qh)));case 9:return qh.info("start create screen video track with config",t,"withAudio",A,"trackId",o),e.prev=10,e.next=13,dn({screen:i,screenAudio:"auto"===A?c.supportShareAudio:"enable"===A},o);case 13:g=e.sent,a=g.getVideoTracks()[0]||null,s=g.getAudioTracks()[0]||null,e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(10),n.onError(e.t0),e.t0;case 20:if(a){e.next=23;break}return I=new mC(pC.UNEXPECTED_ERROR,"can not find track in media stream"),e.abrupt("return",(n.onError(I),I.throw(qh)));case 23:if(s||"enable"!==A){e.next=27;break}return a&&a.stop(),l=new mC(pC.SHARE_AUDIO_NOT_ALLOWED),e.abrupt("return",(n.onError(l),l.throw(qh)));case 27:if(t.optimizationMode||(t.optimizationMode="detail"),t.optimizationMode&&(Kn(o,a,t,t.encoderConfig&&$A(t.encoderConfig)||void 0),t.encoderConfig&&"string"!=typeof t.encoderConfig&&(t.encoderConfig.bitrateMin=t.encoderConfig.bitrateMax)),E=new _Q(a,t.encoderConfig?$A(t.encoderConfig):{},t.scalabiltyMode?en(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,o,[CB.SCREEN_TRACK]),r&&E.startMonitorStats(),s){e.next=31;break}return e.abrupt("return",(n.onSuccess(E.getTrackId()),qh.info("create screen video track success","video:",E.getTrackId()),E));case 31:return C=new IQ(s,void 0,At(8,"track-scr-a-"),!1),e.abrupt("return",(n.onSuccess([E.getTrackId(),C.getTrackId()]),qh.info("create screen video track success","video:",E.getTrackId(),"audio:",C.getTrackId()),[E,C]));case 33:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(){return e.apply(this,arguments)}}(),createMicrophoneAndCameraTracks:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a,s,c,u,g,I,l,E,C=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<C.length&&void 0!==C[0]?C[0]:{},A=1<C.length&&void 0!==C[1]?C[1]:{},n=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CREATE_MIC_AND_CAM_TRACKS,options:[t,A]}),r="720p_auto"===A.encoderConfig,i=kn(A),o=Nn(t),a=At(8,"track-mic-"),s=At(8,"track-cam-"),u=c=null,qh.info("start create camera video track(".concat(s,") and microphone audio track(").concat(a,") with config, audio: ").concat(JSON.stringify(t),", video: ").concat(JSON.stringify(A))),e.prev=4,e.next=7,dn({audio:o,video:i},"".concat(a,"-").concat(s));case 7:g=e.sent,c=g.getAudioTracks()[0],u=g.getVideoTracks()[0],e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),n.onError(e.t0),e.t0;case 14:if(c&&u){e.next=17;break}return I=new mC(pC.UNEXPECTED_ERROR,"can not find tracks in media stream"),e.abrupt("return",(n.onError(I),I.throw(qh)));case 17:return A.optimizationMode&&Kn(s,u,A,ZA(A.encoderConfig)),l=new lQ(c,t,o,a),E=new bQ(u,A,i,A.scalabiltyMode?en(A.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},A.optimizationMode,s),e.abrupt("return",(r&&E.startMonitorStats(),n.onSuccess([l.getTrackId(),E.getTrackId()]),qh.info("create camera video track(".concat(s,") and microphone audio track(").concat(a,") success")),[l,E]));case 20:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),createMicrophoneAudioTrack:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<s.length&&void 0!==s[0]?s[0]:{},A=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CREATE_MIC_AUDIO_TRACK,options:[t]}),n=Nn(t),r=At(8,"track-mic-"),i=null,qh.info("start create microphone audio track with config",JSON.stringify(t),"trackId",r),e.prev=4,e.next=7,dn({audio:n},r);case 7:if(e.t0=e.sent.getAudioTracks()[0],e.t0){e.next=10;break}e.t0=null;case 10:i=e.t0,e.next=16;break;case 13:throw e.prev=13,e.t1=e.catch(4),A.onError(e.t1),e.t1;case 16:if(i){e.next=19;break}return o=new mC(pC.UNEXPECTED_ERROR,"can not find track in media stream"),e.abrupt("return",(A.onError(o),o.throw(qh)));case 19:return a=new lQ(i,t,n,r),e.abrupt("return",(A.onSuccess(a.getTrackId()),qh.info("create microphone audio track success, trackId:",r),a));case 21:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),createCustomAudioTrack:function(e){var t=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),A=new IQ(e.mediaStreamTrack,e.encoderConfig?tn(e.encoderConfig):{},At(8,"track-cus-"),!1);return qh.info("create custom audio track success with config",e,"trackId",A.getTrackId()),t.onSuccess(A.getTrackId()),A},createBufferSourceAudioTrack:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.cacheOnlineFile,r=t.encoderConfig,i=t.source,o={source:i instanceof AudioBuffer?"AudioBuffer":i instanceof File?null!==(A=File.name)&&void 0!==A?A:"File":i,cacheOnlineFile:n,encoderConfig:r},a=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CREATE_BUFFER_AUDIO_TRACK,options:[o]}),!Th.DISABLE_WEBAUDIO){e.next=5;break}throw new mC(pC.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");case 5:if(s=At(8,"track-buf-"),qh.info("start create buffer source audio track with config",JSON.stringify(o),"trackId",s),c=i,i instanceof AudioBuffer){e.next=18;break}return e.prev=9,e.next=12,Tn(i,n);case 12:i=e.sent,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(9),e.abrupt("return",(a.onError(e.t0),e.t0.throw(qh)));case 18:return u=new dQ(i),g=new EQ(c,u,r?tn(r):{},s),e.abrupt("return",(qh.info("create buffer source audio track success, trackId:",s),a.onSuccess(g.getTrackId()),g));case 20:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),setAppType:function(e){if(qh.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&0<=e))throw qh.debug("Invalid appType"),new _p(pC.INVALID_PARAMS,"invalid app type",e);Ut("APP_TYPE",Math.floor(e))},setLogLevel:function(e){qh.setLogLevel(e)},enableLogUpload:function(){Th.USE_NEW_LOG?Ut("UPLOAD_LOG",!0):qh.enableLogUpload()},disableLogUpload:function(){Th.USE_NEW_LOG?Ut("UPLOAD_LOG",!1):qh.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new wb},checkAudioTrackIsActive:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=1<c.length&&void 0!==c[1]?c[1]:5e3,n=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[A]}),t instanceof IQ||t instanceof wQ){e.next=5;break}return r=new _p(pC.INVALID_TRACK,"the parameter is not a audio track"),e.abrupt("return",(n.onError(r),r.throw()));case 5:return A&&1e3>A&&(A=1e3),i=t instanceof IQ?t.getTrackLabel():"remote_track",a=o=t.getVolumeLevel(),s=Date.now(),e.abrupt("return",new IC((function(e){var r=setInterval((function(){var c=t.getVolumeLevel();c=1e-4<(o=c>o?c:o)-(a=c<a?c:a);var u=Date.now()-s;(c||u>A)&&(clearInterval(r),u={duration:u,deviceLabel:i,maxVolumeLevel:o,result:c},qh.info("[track-".concat(t.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(u))),n.onSuccess(u),e(c))}),200)})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),checkVideoTrackIsActive:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=1<E.length&&void 0!==E[1]?E[1]:5e3,n=$h.reportApiInvoke(null,{tag:bC.TRACER,name:_C.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[A]}),t instanceof _Q||t instanceof SQ){e.next=5;break}return r=new _p(pC.INVALID_TRACK,"the parameter is not a video track"),e.abrupt("return",(n.onError(r),r.throw()));case 5:return A&&1e3>A&&(A=1e3),i=t instanceof _Q?t.getTrackLabel():"remote_track",o=t.getMediaStreamTrack(!0),(a=document.createElement("video")).style.width="1px",a.style.height="1px",a.setAttribute("muted",""),a.muted=!0,a.setAttribute("playsinline",""),a.controls=!1,(ie()||Ae())&&(a.style.opacity="0.01",a.style.position="fixed",a.style.left="0",a.style.top="0",document.body.appendChild(a)),a.srcObject=new MediaStream([o]),a.play(),(s=document.createElement("canvas")).width=160,s.height=120,u=c=0,e.prev=11,g=Date.now(),e.next=15,function(e,t,A,n){var r,i=0,o=null;return new IC((function(a,s){setTimeout((function(){r&&(r(),a(i))}),t),r=sn((function(){e:{i>n&&r&&(r(),a(i));var t=A.getContext("2d");if(t){t.drawImage(e,0,0,160,120),t=t.getImageData(0,0,A.width,A.height);var c=Math.floor(t.data.length/3);if(o)for(var u=0;u<c;u+=3)if(t.data[u]!==o[u]){i+=1,o=t.data;break e}o=t.data}else t=new _p(pC.UNEXPECTED_ERROR,"can not get canvas 2d context."),qh.error(t.toString()),s(t)}}),30)}))}(a,A,s,4);case 15:c=e.sent,u=Date.now()-g,e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(11),n.onError(e.t0),e.t0;case 22:return uR===uC.SAFARI&&(a.pause(),a.remove()),a.srcObject=null,l={duration:u,changedPicNum:c,deviceLabel:i,result:I=4<c},e.abrupt("return",(qh.info("[track-".concat(t.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(l))),n.onSuccess(l),I));case 25:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(t){return e.apply(this,arguments)}}(),setArea:vA,audioElementPlayCenter:iQ,resumeAudioContext:function(){iQ.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e){CR.processExternalMediaAEC(e)},registerExtensions:function(e){var t=Th.PLUGIN_INFO||[];e.forEach((function(e){"name"in e&&!Xs(t).call(t,e.name)&&t.push(e.name),e.__registered__=!0,e.logger.hookLog=qh.extLog,e.reporter.hookApiInvoke=$h.extApiInvoke,e.parameters&&Object.keys(e.parameters).forEach((function(t){e.parameters[t]=Th[t]}))})),hR("PLUGIN_INFO",t)},ChannelMediaRelayError:Tp,ChannelMediaRelayEvent:kp,ChannelMediaRelayState:Np,RemoteStreamFallbackType:pB,RemoteStreamType:hB,ConnectionDisconnectedReason:SC,AudienceLatencyLevelType:RC,AREAS:Pp});return Object.defineProperties(pR,{onAudioAutoplayFailed:{get:function(){return nQ.onAudioAutoplayFailed},set:function(e){nQ.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:function(){return nQ.onAutoplayFailed},set:function(e){nQ.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:function(){return pR._onSecurityPolicyViolation},set:function(e){pR._onSecurityPolicyViolation=e,ho(e)}},__CLIENT_LIST__:{get:function(){return Th.SHOW_GLOBAL_CLIENT_LIST?np:[]}}}),tQ.on(TB.CAMERA_DEVICE_CHANGED,(function(e){qh.info("camera device changed",JSON.stringify(e)),pR.onCameraChanged&&pR.onCameraChanged(e),pR.safeEmit(af.CAMERA_CHANGED,e)})),tQ.on(TB.RECORDING_DEVICE_CHANGED,(function(e){qh.info("microphone device changed",JSON.stringify(e)),pR.onMicrophoneChanged&&pR.onMicrophoneChanged(e),pR.safeEmit(af.MICROPHONE_CHANGED,e)})),tQ.on(TB.PLAYOUT_DEVICE_CHANGED,(function(e){qh.debug("playout device changed",JSON.stringify(e)),pR.onPlaybackDeviceChanged&&pR.onPlaybackDeviceChanged(e),pR.safeEmit(af.PLAYBACK_DEVICE_CHANGED,e)})),iQ.onAutoplayFailed=function(){qh.info("detect audio element autoplay failed"),nQ.onAudioAutoplayFailed&&nQ.onAudioAutoplayFailed()},HB.on("autoplay-failed",(function(){qh.info("detect webaudio autoplay failed"),nQ.onAudioAutoplayFailed&&nQ.onAudioAutoplayFailed(),pR.safeEmit(af.AUTOPLAY_FAILED)})),HB.on(Xf.STATE_CHANGE,(function(e,t){qh.info("audio context state changed: ".concat(t," => ").concat(e)),pR.onAudioContextStateChanged&&pR.onAudioContextStateChanged(e,t),pR.safeEmit(af.AUDIO_CONTEXT_STATE_CHANGED,e,t)})),PC.on(NC.NETWORK_STATE_CHANGE,(function(e,t){qh.info("[network-indicator] network state changed, ".concat(t," => ").concat(e))})),window&&(window.__ARTC__=pR),pR}()}))),u8=["CODE"],ni,lo,Tb;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.GLOBAL="GLOBAL",e.OVERSEA="OVERSEA",e.SOUTH_KOREA="KR",e.UNITED_STATES="US"}(Tb||(Tb={})),Tb.CHINA,Tb.NORTH_AMERICA,Tb.EUROPE,Tb.ASIA,Tb.JAPAN,Tb.INDIA,Tb.OCEANIA,Tb.OVERSEA,Tb.SOUTH_AMERICA,Tb.AFRICA,Tb.SOUTH_KOREA,Tb.UNITED_STATES,Tb.GLOBAL;for(var pw=$I((ni={},na(ni,Tb.ASIA,{CODE:Tb.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.NORTH_AMERICA,{CODE:Tb.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.EUROPE,{CODE:Tb.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.JAPAN,{CODE:Tb.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.INDIA,{CODE:Tb.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.OVERSEA,{CODE:Tb.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),na(ni,Tb.GLOBAL,{CODE:Tb.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.OCEANIA,{CODE:Tb.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.SOUTH_AMERICA,{CODE:Tb.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.AFRICA,{CODE:Tb.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.CHINA,{CODE:Tb.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["statscollector-1-china.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-china.agora.io"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.SOUTH_KOREA,{CODE:Tb.SOUTH_KOREA,AP_DOMAINS:["ap-web-1-korea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-korea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_AP:["proxy-ap-web-korea.agora.io"],PROXY_NGINX:["korea.webrtc-cloud-proxy.sd-rtn.com"]}),na(ni,Tb.UNITED_STATES,{CODE:Tb.UNITED_STATES,AP_DOMAINS:["ap-web-1-us.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-us.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_AP:["proxy-ap-web-us.agora.io"],PROXY_NGINX:["us.webrtc-cloud-proxy.sd-rtn.com"]}),ni)),Zs=(lo={},na(lo,Tb.ASIA,[Tb.CHINA,Tb.JAPAN,Tb.INDIA]),na(lo,Tb.EUROPE,[]),na(lo,Tb.NORTH_AMERICA,[]),na(lo,Tb.SOUTH_AMERICA,[]),na(lo,Tb.OCEANIA,[]),na(lo,Tb.AFRICA,[]),lo),kU=[Tb.GLOBAL,Tb.CHINA,Tb.NORTH_AMERICA,Tb.EUROPE,Tb.ASIA,Tb.JAPAN,Tb.INDIA,Tb.OCEANIA,Tb.SOUTH_AMERICA,Tb.AFRICA],aJ=function(e){return Object.values(Zs).flat().includes(e)},fX=function(e){var t;return null===(t=mw(Zs).find((function(t){return(t=Lb(t,2))[0],t[1].includes(e)})))||void 0===t?void 0:t[0]},v8=function(e){return e.sort((function(e,t){return kU.indexOf(e)-kU.indexOf(t)}))},Ys=function(e){var t=new Set;if(0===(e=v8(e).slice(0,3).map((function(e){var A=pw[e];if(void 0===A)throw new Sh("invalid area key");return e=A.CODE,A=bI(A,u8),t.add(e),A}))).length)throw new Sh("areas cannot be empty");return Rd({CODES:t},e.reduce((function(e,t){for(var A=0,n=mw(e);A<n.length;A++){var r=Lb(n[A],2),i=r[0];r=r[1],e[i]=Array.from(new Set([].concat(rb(t[i]),rb(r))))}return e})))},cc,nH={0:9591,1:9593},w8={USE_NEW_LOGIN_PROTO:!0,AP_DOMAIN:void 0,EDGE_DOMAIN_TLD:void 0,EDGE_IP_LIST:void 0,EDGE_ENV_PORT:nH,REGISTRAR_USE_WS:!1,APP_CENTER_DOMAIN:void 0,SYNC_ADDRESS:void 0,SYNC_USE_WS:void 0},oH=Rd(Rd({RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:1e4,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0,MAX_STATE_COUNT:32,SYNC_UNILBS:!0,USE_STAGING_REPORT_DOMAIN:!1,PRINT_TICK_LOG:!1},{RTM2_ENABLED:!0,LOCK_ENABLED:!0,STORAGE_ENABLED:!0,STORAGE_CHANNEL_SUB_ENABLED:!0,STORAGE_USER_SUB_ENABLED:!0,PRESENCE_INTERVAL:30,PRESENCE_THRESHOLD:50,PRESENCE_DEBOUNCE:2,PRESENCE_TIMEOUT:300,PRESENCE_RPC_TIMEOUT:5,PRESENCE_INTERVAL_OCCUPANCY:void 0}),w8),Uz=new(function(){function e(){zb(this,e)}return Ib(e,[{key:"_setParameter",value:function(e,t){console.log(JSON.stringify({key:e,value:t}),"RTM setParameter"),Object.keys(oH).includes(e)&&(oH[e]=t)}},{key:"_getParameter",value:function(e){return oH[e]}},{key:"setParameter",value:function(e,t){return this._setParameter(e,t)}},{key:"getParameter",value:function(e){return this._getParameter(e)}}]),e}()),x8=Uz.setParameter.bind(Uz),Qc=Uz.getParameter.bind(Uz),lU=$c((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var A=new Uint8Array(16);e.exports=function(){return t(A),A}}else{var n=Array(16);e.exports=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}})),vh=[],Vz=0;256>Vz;++Vz)vh[Vz]=(Vz+256).toString(16).substr(1);var mU=function(e,t){return t=t||0,[vh[e[t++]],vh[e[t++]],vh[e[t++]],vh[e[t++]],"-",vh[e[t++]],vh[e[t++]],"-",vh[e[t++]],vh[e[t++]],"-",vh[e[t++]],vh[e[t++]],"-",vh[e[t++]],vh[e[t++]],vh[e[t++]],vh[e[t++]],vh[e[t++]],vh[e[t++]]].join("")},Gs=function(e,t,A){if(A=t&&A||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||lU)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var n=0;16>n;++n)t[A+n]=e[n];return t||mU(e)},y8=Gs(),cJ=!1,dJ=new AbortController;qc({target:"Reflect",stat:!0},{ownKeys:VB});var Hs="object"===("undefined"==typeof Reflect?"undefined":ub(Reflect))?Reflect:null,nU=Hs&&"function"==typeof Hs.apply?Hs.apply:function(e,t,A){return Function.prototype.apply.call(e,t,A)},z8=Hs&&"function"==typeof Hs.ownKeys?Hs.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},oU=Number.isNaN||function(e){return e!=e};ke.EventEmitter=ke,ke.prototype._events=void 0,ke.prototype._eventsCount=0,ke.prototype._maxListeners=void 0;var pU=10;Object.defineProperty(ke,"defaultMaxListeners",{enumerable:!0,get:function(){return pU},set:function(e){if("number"!=typeof e||0>e||oU(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pU=e}}),ke.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ke.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||oU(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},ke.prototype.getMaxListeners=function(){return void 0===this._maxListeners?ke.defaultMaxListeners:this._maxListeners},ke.prototype.emit=function(e){for(var t=[],A=1;A<arguments.length;A++)t.push(arguments[A]);A="error"===e;var n=this._events;if(void 0!==n)A=A&&void 0===n.error;else if(!A)return!1;if(A){var r;if(0<t.length&&(r=t[0]),r instanceof Error)throw r;throw(t=Error("Unhandled error."+(r?" ("+r.message+")":""))).context=r,t}if(void 0===(A=n[e]))return!1;if("function"==typeof A)nU(A,this,t);else for(n=hJ(A,r=A.length),A=0;A<r;++A)nU(n[A],this,t);return!0},ke.prototype.addListener=function(e,t){return eJ(this,e,t,!1)},ke.prototype.on=ke.prototype.addListener,ke.prototype.prependListener=function(e,t){return eJ(this,e,t,!0)},ke.prototype.once=function(e,t){return qw(t),this.on(e,fJ(this,e,t)),this},ke.prototype.prependOnceListener=function(e,t){return qw(t),this.prependListener(e,fJ(this,e,t)),this},ke.prototype.removeListener=function(e,t){var A;qw(t);var n=this._events;if(void 0===n)return this;var r=n[e];if(void 0===r)return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){var i=-1;for(A=r.length-1;0<=A;A--)if(r[A]===t||r[A].listener===t){var o=r[A].listener;i=A;break}if(0>i)return this;if(0===i)r.shift();else{for(;i+1<r.length;i++)r[i]=r[i+1];r.pop()}1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},ke.prototype.off=ke.prototype.removeListener,ke.prototype.removeAllListeners=function(e){var t=this._events;if(void 0===t)return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var A=Object.keys(t);for(t=0;t<A.length;++t){var n=A[t];"removeListener"!==n&&this.removeAllListeners(n)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(A=t[e]))this.removeListener(e,A);else if(void 0!==A)for(t=A.length-1;0<=t;t--)this.removeListener(e,A[t]);return this},ke.prototype.listeners=function(e){return gJ(this,e,!0)},ke.prototype.rawListeners=function(e){return gJ(this,e,!1)},ke.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):iJ.call(e,t)},ke.prototype.listenerCount=iJ,ke.prototype.eventNames=function(){return 0<this._eventsCount?z8(this._events):[]},ke.once=function(e,t){return new Promise((function(A,n){function r(A){e.removeListener(t,i),n(A)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",r),A([].slice.call(arguments))}jJ(e,t,i,{once:!0}),"error"!==t&&hX(e,r,{once:!0})}))};var iX=Object.prototype.hasOwnProperty,pH=function(e,t,A){return JSON.stringify(kJ(e),t,A)};pH.ensureProperties=kJ;var A8=function(e,t){t=t||{};var A=ub(e);if("string"===A&&0<e.length)return jX(e);if("number"===A&&isFinite(e))return t.long?e=864e5<=(t=Math.abs(e))?rw(e,t,864e5,"day"):36e5<=t?rw(e,t,36e5,"hour"):6e4<=t?rw(e,t,6e4,"minute"):1e3<=t?rw(e,t,1e3,"second"):e+" ms":e=864e5<=(t=Math.abs(e))?Math.round(e/864e5)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms",e;throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},B8=function(e){function t(e){function n(){for(var e=arguments.length,A=Array(e),i=0;i<e;i++)A[i]=arguments[i];if(n.enabled){e=Number(new Date),n.diff=e-(r||e),n.prev=r,r=n.curr=e,A[0]=t.coerce(A[0]),"string"!=typeof A[0]&&A.unshift("%O");var o=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(function(e,r){return"%%"===e?"%":(o++,"function"==typeof(r=t.formatters[r])&&(e=r.call(n,A[o]),A.splice(o,1),o--),e)})),t.formatArgs.call(n,A),(n.log||t.log).apply(n,A)}}var r,i,o,a=null;return n.namespace=e,n.useColors=t.useColors(),n.color=t.selectColor(e),n.extend=A,n.destroy=t.destroy,Object.defineProperty(n,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(n),n}function A(e,A){return(e=t(this.namespace+(void 0===A?":":A)+e)).log=this.log,e}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(rb(t.names.map(n)),rb(t.skips.map(n).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];var A,n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(A=0;A<r;A++)n[A]&&("-"===(e=n[A].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var A,n=0;for(A=t.skips.length;n<A;n++)if(t.skips[n].test(e))return!1;for(n=0,A=t.names.length;n<A;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=A8,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(A){t[A]=e[A]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var A=0,n=0;n<e.length;n++)A=(A<<5)-A+e.charCodeAt(n),A|=0;return t.colors[Math.abs(A)%t.colors.length]},t.enable(t.load()),t},qU=$c((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var A="color: "+this.color;t.splice(1,0,A,"color: inherit");var n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(r=n))})),t.splice(r,0,A)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){try{var e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var A=localStorage;break e}catch(n){}A=void 0}var n;t.storage=A,t.destroy=(n=!1,function(){n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),t.log=console.debug||console.log||function(){},e.exports=B8(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Is;qU("RTM:DEBUG").enabled=!1,function(e){e[e.Uploading=0]="Uploading",e[e.Free=1]="Free"}(Is||(Is={}));var bB=function(){function e(t){zb(this,e),na(this,"uploadRequest",void 0),na(this,"uploadState",void 0),na(this,"uploadResendCount",void 0),na(this,"LogCache",void 0),na(this,"LogsToPost",void 0),na(this,"processId",void 0),na(this,"sdkVersion",void 0),na(this,"logId",void 0),na(this,"PrivateConfig",void 0),this.processId=t.processId,this.sdkVersion=t.sdkVersion,this.PrivateConfig=t.PrivateConfig,this.uploadRequest=t.uploadRequest,this.uploadState=Is.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return Ib(e,[{key:"upload",value:function(e){this.LogCache.push(e),this.uploadState===Is.Free&&navigator.onLine&&(this.LogsToPost=100>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,100),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(e){var t=this;this.uploadState=Is.Uploading,setTimeout(pa(O.mark((function A(){var n,r,i;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return n={sdk_version:t.sdkVersion,process_id:t.processId,payload:JSON.stringify(e)},A.prev=1,A.next=4,t.uploadRequest(n,null!==(r=t.PrivateConfig.cloudProxy)&&void 0!==r&&r);case 4:A.next=11;break;case 6:return A.prev=6,A.t0=A.catch(1),i=2>t.uploadResendCount++?2e3:1e4,setTimeout((function(){return t.postLog(t.LogsToPost)}),i),A.abrupt("return");case 11:if(0!==t.LogCache.length){A.next=14;break}return t.uploadState=Is.Free,A.abrupt("return");case 14:t.uploadResendCount=0,t.LogsToPost=100>t.LogCache.length?t.LogCache.splice(0,t.LogCache.length):t.LogCache.splice(0,100),t.postLog(t.LogsToPost);case 17:case"end":return A.stop()}}),A,null,[[1,6]])}))),Qc("LOG_UPLOAD_INTERVAL"))}}]),e}(),cB=function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(2<(r=2<s.length&&void 0!==s[2]?s[2]:0))){e.next=3;break}return e.abrupt("return");case 3:return i={withCredentials:!0,body:t,timeout:2e4},o=0<r?(null==cc?void 0:cc.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(null==cc?void 0:cc.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",a=A?"https://".concat(null!==(n=null==cc?void 0:cc.PROXY_NGINX[0])&&void 0!==n?n:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(o,"&p=443&d=upload/v1"):"https://".concat(o,"/upload/v1"),e.next=8,Bo(a,i).catch((function(e){return cB(t,A,r+1)}));case 8:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}(),$s=new Map,C8=function(e){if($s.has(e)&&$s.get(e)instanceof bB)return $s.get(e);var t=new bB({processId:"process-".concat(e),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v2.1.10-0-gf671cb6c-dirty"),uploadRequest:cB,PrivateConfig:{}});return $s.set(e,t),t},qH="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),rU="account ticket uid detail token fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip userId authorUid target lockName appTicket channelName publisher succeedUsers failedUsers".split(" "),sU=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],D8="message presence topic lock storage MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),sq=function(e){if("string"==typeof e)return uc(e);if(Array.isArray(e)&&e.every((function(e){return"string"==typeof e})))return e.map((function(e){return uc(e)}));if(!fI(e)){for(var t={},A=0;A<sU.length;A++){var n=sU[A];n in e&&(t[n]=e[n])}if(0<Object.keys(t).length)return t;if(5>Object.keys(e).length){for(A=0,e=Object.entries(e);A<e.length;A++){var r=Lb(e[A],2);n=r[0],r=r[1],qH.includes(n)?t[n]="[Hidden Info]":t[uc(n)]="string"==typeof r?uc(r):"[Sensitive Info]"}return t}return"object"===ub(e)?pH(Array.isArray(e)?e.map(Wz):Wz(e)):"[Sensitive Info]"}return e},Wz=function(e){return"object"===ub(e)?xA(e)?ZI(Qk(e,5),qH,rU):e.constructor&&e.constructor.name:e},tU=function(e,t){return e instanceof Error?e.message:"string"!=typeof e?JSON.stringify(ZI(Qk(e,5),qH,rU)):(t=t.map((function(e){return e instanceof Error?e.message:"object"===ub(e)?pH(Array.isArray(e)?e.map(Wz):Wz(e)):e})),wA.apply(void 0,[e.replace(/%[%Oo]/g,(function(e){return"%%"===e?"%":"%o"===e||"%O"===e?"%s":e}))].concat(rb(t))))},uU=function(e,t,A,n,r){var i=qU(e);return i.enabled=!0,i.log=r,i.useColors=!1,function(r){for(var o=arguments.length,a=Array(1<o?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if(n.logUpload){o=dq(r);var c=tU(o,a);o=C8(t),s="".concat(o.logId++),o.upload({log_item_id:s,log_level:e,payload_str:"[".concat(fE(),"] - ").concat(A," - ").concat(e," - ").concat(256<c.length?c.slice(0,256):c)})}switch(o=function(e){var t=c||tU(dq(r),a),n=Qc("LOG_HANDLER");"function"==typeof n&&n({level:e,message:t}),i("[UTC_Time: ".concat(fE(),"][uid: ").concat(YI(A),"]").concat(t))},e){case"RTM:INFO":n.logFilter.info&&o("log");break;case"RTM:WARN":n.logFilter.warn&&o("warning");break;case"RTM:ERROR":n.logFilter.error&&o("error");break;case"RTM:TRACK":n.logFilter.track&&o("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":n.logFilter.debug&&o("debug");break;case"RTM:DEBUG":n.logFilter.debug&&o("debug")}}},sw,vU=function(e){return function(t){var A=1===sw||void 0===e?"":"Ins#".concat(e," ");return"".concat(A).concat(t)}},rH=function(e,t,A,n,r){var i=vU(sw);return uU("RTM:".concat(t),n,r,A,(function(t){return e(i(t))}))},Mh=function(e){function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];zb(this,t);var i=A.call(this);if(na(V(i),"logError",void 0),na(V(i),"invokeTracker",void 0),na(V(i),"resultTracker",void 0),na(V(i),"errorTracker",void 0),na(V(i),"eventTracker",void 0),na(V(i),"info",void 0),na(V(i),"warn",void 0),na(V(i),"log",void 0),na(V(i),"genLogger",void 0),na(V(i),"loggerId",void 0),na(V(i),"logger",void 0),na(V(i),"name",void 0),i.logger=e,i.name=n,i.loggerId=e.loggerId,i.info=e.info,i.warn=e.warn,i.logError=e.logError,i.genLogger=e.genLogger,i.log=e.genLogger("RTM:DEBUG","<".concat(n,"> ")),i.invokeTracker=e.genTracker("Invoke"),i.eventTracker=e.genTracker("Event"),i.resultTracker=e.genTracker("Result"),i.errorTracker=e.genTracker("Error"),r){var o=i.emit.bind(V(i));i.emit=function(){for(var e=arguments.length,t=Array(e),A=0;A<e;A++)t[A]=arguments[A];e=t[0],A=t.slice(1);var r=D8.includes(e);i.eventTracker.apply(i,["%s: ".concat(0<A.length?"%s emitted with args: ".concat(A.map((function(){return"%o"}))):"%s emitted"),n,e].concat(rb(r?A.map(sq):A)));try{return o.apply(void 0,t),!0}catch(t){return i.logError("Caught in the callback function of the event %s",e,t),!1}}}return i}Zb(t,e);var A=$b(t);return t}(ke),E8=function(e,t,A){return rH(console.log.bind(console),"INFO",e,t,A)},F8=function(e,t,A){return rH(console.warn.bind(console),"WARN",e,t,A)},G8=function(e,t,A){return rH(console.error.bind(console),"ERROR",e,t,A)},wU=function(e,t,A,n){return function(r){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=vU(e),a=console.log.bind(console),s=uU(r,A,n,t,(function(e){return a(o(e))}));return function(e){for(var t=arguments.length,A=Array(1<t?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];return s.apply(void 0,[i+e].concat(A))}}},H8=function(e,t,A,n){return function(r){return wU(e,t,A,n)("RTM:TRACK","[".concat(r,"] "))}},Js=function(){function e(e){this._promise=e}return e.fromSafePromise=function(t){return new e(t=t.then((function(e){return new yj(e)})))},e.fromPromise=function(t,A){return new e(t=t.then((function(e){return new yj(e)})).catch((function(e){return new Ri(A(e))})))},e.combine=function(e){return Js.fromSafePromise(Promise.all(e)).andThen(xU)},e.combineWithAllErrors=function(e){return Js.fromSafePromise(Promise.all(e)).andThen(yU)},e.prototype.map=function(t){var A=this;return new e(this._promise.then((function(e){return gB(A,void 0,void 0,(function(){var A;return hB(this,(function(n){switch(n.label){case 0:return e.isErr()?[2,new Ri(e.error)]:(A=yj.bind,[4,t(e.value)]);case 1:return[2,new(A.apply(yj,[void 0,n.sent()]))]}}))}))})))},e.prototype.mapErr=function(t){var A=this;return new e(this._promise.then((function(e){return gB(A,void 0,void 0,(function(){var A;return hB(this,(function(n){switch(n.label){case 0:return e.isOk()?[2,new yj(e.value)]:(A=Ri.bind,[4,t(e.error)]);case 1:return[2,new(A.apply(Ri,[void 0,n.sent()]))]}}))}))})))},e.prototype.andThen=function(t){return new e(this._promise.then((function(A){return A.isErr()?new Ri(A.error):(A=t(A.value))instanceof e?A._promise:A})))},e.prototype.orElse=function(t){var A=this;return new e(this._promise.then((function(e){return gB(A,void 0,void 0,(function(){return hB(this,(function(A){return e.isErr()?[2,t(e.error)]:[2,new yj(e.value)]}))}))})))},e.prototype.match=function(e,t){return this._promise.then((function(A){return A.match(e,t)}))},e.prototype.unwrapOr=function(e){return this._promise.then((function(t){return t.unwrapOr(e)}))},e.prototype.then=function(e,t){return this._promise.then(e,t)},e}(),Xz=Js.fromPromise,I8=function(e){return function(t){return Do(Do([],tw(t),!1),[e],!1)}},xU=function(e){return e.reduce((function(e,t){return e.isOk()?t.isErr()?new Ri(t.error):e.map(I8(t.value)):e}),new yj([]))},yU=function(e){return e.reduce((function(e,t){return t.isErr()?e.isErr()?new Ri(Do(Do([],tw(e.error),!1),[t.error],!1)):new Ri([t.error]):e.isErr()?e:new yj(Do(Do([],tw(e.value),!1),[t.value],!1))}),new yj([]))},J8={withStackTrace:!1},zU=function(e,t,A){return void 0===A&&(A=J8),{data:t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},message:e,stack:A.withStackTrace?Error().stack:void 0}},sH;!function(e){e.fromThrowable=function(e,t){return function(){for(var A=[],n=0;n<arguments.length;n++)A[n]=arguments[n];try{var r=e.apply(void 0,Do([],tw(A),!1));return new yj(r)}catch(e){return new Ri(t?t(e):e)}}},e.combine=function(e){return xU(e)},e.combineWithAllErrors=function(e){return yU(e)}}(sH||(sH={}));var yj=function(){function e(e){this.value=e}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return new yj(e(this.value))},e.prototype.mapErr=function(e){return new yj(this.value)},e.prototype.andThen=function(e){return e(this.value)},e.prototype.orElse=function(e){return new yj(this.value)},e.prototype.asyncAndThen=function(e){return e(this.value)},e.prototype.asyncMap=function(e){return Js.fromSafePromise(e(this.value))},e.prototype.unwrapOr=function(e){return this.value},e.prototype.match=function(e,t){return e(this.value)},e.prototype._unsafeUnwrap=function(e){return this.value},e.prototype._unsafeUnwrapErr=function(e){throw zU("Called `_unsafeUnwrapErr` on an Ok",this,e)},e}(),Ri=function(){function e(e){this.error=e}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(e){return new Ri(this.error)},e.prototype.mapErr=function(e){return new Ri(e(this.error))},e.prototype.andThen=function(e){return new Ri(this.error)},e.prototype.orElse=function(e){return e(this.error)},e.prototype.asyncAndThen=function(e){return new Js(Promise.resolve(new Ri(this.error)))},e.prototype.asyncMap=function(e){return new Js(Promise.resolve(new Ri(this.error)))},e.prototype.unwrapOr=function(e){return e},e.prototype.match=function(e,t){return t(this.error)},e.prototype._unsafeUnwrap=function(e){throw zU("Called `_unsafeUnwrap` on an Err",this,e)},e.prototype._unsafeUnwrapErr=function(e){return this.error},e}();sH.fromThrowable;var K8=function(e,t){for(var A=Array(arguments.length-1),n=0,r=2,i=!0;r<arguments.length;)A[n++]=arguments[r++];return new Promise((function(r,o){A[n]=function(e){if(i)if(i=!1,e)o(e);else{for(var t=Array(arguments.length-1),A=0;A<t.length;)t[A++]=arguments[A];r.apply(null,t)}};try{e.apply(t||null,A)}catch(e){i&&(i=!1,o(e))}}))},L8=$c((function(e,t){t.length=function(e){var t=e.length;if(!t)return 0;for(var A=0;1<--t%4&&"="===e.charAt(t);)++A;return Math.ceil(3*e.length)/4-A};var A=Array(64),n=Array(123);for(e=0;64>e;)n[A[e]=26>e?e+65:52>e?e+71:62>e?e-4:e-59|43]=e++;t.encode=function(e,t,n){for(var r,i=null,o=[],a=0,s=0;t<n;){var c=e[t++];switch(s){case 0:o[a++]=A[c>>2],r=(3&c)<<4,s=1;break;case 1:o[a++]=A[r|c>>4],r=(15&c)<<2,s=2;break;case 2:o[a++]=A[r|c>>6],o[a++]=A[63&c],s=0}8191<a&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return s&&(o[a++]=A[r],o[a++]=61,1===s&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},t.decode=function(e,t,A){for(var r,i=A,o=0,a=0;a<e.length;){var s=e.charCodeAt(a++);if(61===s&&1<o)break;if(void 0===(s=n[s]))throw Error("invalid encoding");switch(o){case 0:r=s,o=1;break;case 1:t[A++]=r<<2|(48&s)>>4,r=s,o=2;break;case 2:t[A++]=(15&r)<<4|(60&s)>>2,r=s,o=3;break;case 3:t[A++]=(3&r)<<6|s,o=0}}if(1===o)throw Error("invalid encoding");return A-i},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}));uw.prototype.on=function(e,t,A){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:A||this}),this},uw.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else{e=this._listeners[e];for(var A=0;A<e.length;)e[A].fn===t?e.splice(A,1):++A}return this},uw.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var A=[],n=1;n<arguments.length;)A.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,A)}return this};var M8=oJ(oJ),N8=function(d){try{var b=eval("quire".replace(/^/,"re"))(d);if(b&&(b.length||Object.keys(b).length))return b}catch(e){}return null},O8=$c((function(e,t){t.length=function(e){for(var t,A=0,n=0;n<e.length;++n)128>(t=e.charCodeAt(n))?A+=1:2048>t?A+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(n+1))?(++n,A+=4):A+=3;return A},t.read=function(e,t,A){if(1>A-t)return"";for(var n,r=null,i=[],o=0;t<A;)128>(n=e[t++])?i[o++]=n:191<n&&224>n?i[o++]=(31&n)<<6|63&e[t++]:239<n&&365>n?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[o++]=55296+(n>>10),i[o++]=56320+(1023&n)):i[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],8191<o&&((r||(r=[])).push(String.fromCharCode.apply(String,i)),o=0);return r?(o&&r.push(String.fromCharCode.apply(String,i.slice(0,o))),r.join("")):String.fromCharCode.apply(String,i.slice(0,o))},t.write=function(e,t,A){for(var n,r,i=A,o=0;o<e.length;++o)128>(n=e.charCodeAt(o))?t[A++]=n:(2048>n?t[A++]=n>>6|192:(55296==(64512&n)&&56320==(64512&(r=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&r),++o,t[A++]=n>>18|240,t[A++]=n>>12&63|128):t[A++]=n>>12|224,t[A++]=n>>6&63|128),t[A++]=63&n|128);return A-i}})),P8=function(e,t,A){var n=A||8192,r=n>>>1,i=null,o=n;return function(A){return 1>A||A>r?e(A):(o+A>n&&(i=e(n),o=0),A=t.call(i,o,o+=A),7&o&&(o=1+(7|o)),A)}},Wp=Eg.zero=new Eg(0,0);Wp.toNumber=function(){return 0},Wp.zzEncode=Wp.zzDecode=function(){return this},Wp.length=function(){return 1};var Q8=Eg.zeroHash="\0\0\0\0\0\0\0\0";Eg.fromNumber=function(e){if(0===e)return Wp;var t=0>e;t&&(e=-e);var A=e>>>0;return e=(e-A)/4294967296>>>0,t&&(e=~e>>>0,A=~A>>>0,4294967295<++A&&(A=0,4294967295<++e&&(e=0))),new Eg(A,e)},Eg.from=function(e){if("number"==typeof e)return Eg.fromNumber(e);if(Cd.isString(e)){if(!Cd.Long)return Eg.fromNumber(parseInt(e,10));e=Cd.Long.fromString(e)}return e.low||e.high?new Eg(e.low>>>0,e.high>>>0):Wp},Eg.prototype.toNumber=function(e){if(!e&&this.hi>>>31){e=1+~this.lo>>>0;var t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi},Eg.prototype.toLong=function(e){return Cd.Long?new Cd.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var mo=String.prototype.charCodeAt;Eg.fromHash=function(e){return e===Q8?Wp:new Eg((mo.call(e,0)|mo.call(e,1)<<8|mo.call(e,2)<<16|mo.call(e,3)<<24)>>>0,(mo.call(e,4)|mo.call(e,5)<<8|mo.call(e,6)<<16|mo.call(e,7)<<24)>>>0)},Eg.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Eg.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},Eg.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},Eg.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,A=this.hi>>>24;return 0===A?0===t?16384>e?128>e?1:2:2097152>e?3:4:16384>t?128>t?5:6:2097152>t?7:8:128>A?9:10};var Cd=$c((function(e,t){function A(e,t,A){for(var n=Object.keys(t),r=0;r<n.length;++r)void 0!==e[n[r]]&&A||(e[n[r]]=t[n[r]]);return e}function n(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),n&&A(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=K8,t.base64=L8,t.EventEmitter=uw,t.float=M8,t.inquire=N8,t.utf8=O8,t.pool=P8,t.LongBits=Eg,t.isNode=!!(void 0!==Xb&&Xb&&Xb.process&&Xb.process.versions&&Xb.process.versions.node),t.global=t.isNode&&Xb||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||Xb,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===ub(e)},t.isset=t.isSet=function(e,t){var A=e[t];return!(null==A||!e.hasOwnProperty(t))&&("object"!==ub(A)||0<(Array.isArray(A)?A.length:Object.keys(A).length))},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,A){return e=t.LongBits.fromHash(e),t.Long?t.Long.fromBits(e.lo,e.hi,A):e.toNumber(!!A)},t.merge=A,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(e){for(var t={},A=0;A<e.length;++A)t[e[A]]=1;return function(){for(var e=Object.keys(this),A=e.length-1;-1<A;--A)if(1===t[e[A]]&&void 0!==this[e[A]]&&null!==this[e[A]])return e[A]}},t.oneOfSetter=function(e){return function(t){for(var A=0;A<e.length;++A)e[A]!==t&&delete this[e[A]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,A){return new e(t,A)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),nB=he,tH,Yz=Cd.LongBits,AU=Cd.base64,BU=Cd.utf8,CU=function(){return Cd.Buffer?function(){return(he.create=function(){return new tH})()}:function(){return new he}};he.create=CU(),he.alloc=function(e){return new Cd.Array(e)},Cd.Array!==Array&&(he.alloc=Cd.pool(he.alloc,Cd.Array.prototype.subarray)),he.prototype._push=function(e,t,A){return this.tail=this.tail.next=new bt(e,t,A),this.len+=t,this},kB.prototype=Object.create(bt.prototype),kB.prototype.fn=function(e,t,A){for(;127<e;)t[A++]=127&e|128,e>>>=7;t[A]=e},he.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new kB(128>(e>>>=0)?1:16384>e?2:2097152>e?3:268435456>e?4:5,e)).len,this},he.prototype.int32=function(e){return 0>e?this._push(lB,10,Yz.fromNumber(e)):this.uint32(e)},he.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},he.prototype.uint64=function(e){return e=Yz.from(e),this._push(lB,e.length(),e)},he.prototype.int64=he.prototype.uint64,he.prototype.sint64=function(e){return e=Yz.from(e).zzEncode(),this._push(lB,e.length(),e)},he.prototype.bool=function(e){return this._push(jB,1,e?1:0)},he.prototype.fixed32=function(e){return this._push(mB,4,e>>>0)},he.prototype.sfixed32=he.prototype.fixed32,he.prototype.fixed64=function(e){return e=Yz.from(e),this._push(mB,4,e.lo)._push(mB,4,e.hi)},he.prototype.sfixed64=he.prototype.fixed64,he.prototype.float=function(e){return this._push(Cd.float.writeFloatLE,4,e)},he.prototype.double=function(e){return this._push(Cd.float.writeDoubleLE,8,e)};var R8=Cd.Array.prototype.set?function(e,t,A){t.set(e,A)}:function(e,t,A){for(var n=0;n<e.length;++n)t[A+n]=e[n]};he.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(jB,1,0);if(Cd.isString(e)){var A=he.alloc(t=AU.length(e));AU.decode(e,A,0),e=A}return this.uint32(t)._push(R8,t,e)},he.prototype.string=function(e){var t=BU.length(e);return t?this.uint32(t)._push(BU.write,t,e):this._push(jB,1,0)},he.prototype.fork=function(){return this.states=new nX(this),this.head=this.tail=new bt(iB,0,0),this.len=0,this},he.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new bt(iB,0,0),this.len=0),this},he.prototype.ldelim=function(){var e=this.head,t=this.tail,A=this.len;return this.reset().uint32(A),A&&(this.tail.next=e.next,this.tail=t,this.len+=A),this},he.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),A=0;e;)e.fn(e.val,t,A),A+=e.len,e=e.next;return t},he._configure=function(e){tH=e,he.create=CU(),tH._configure()},(Uk.prototype=Object.create(nB.prototype)).constructor=Uk,Uk._configure=function(){Uk.alloc=Cd._Buffer_allocUnsafe,Uk.writeBytesBuffer=Cd.Buffer&&Cd.Buffer.prototype instanceof Uint8Array&&"set"===Cd.Buffer.prototype.set.name?function(e,t,A){t.set(e,A)}:function(e,t,A){if(e.copy)e.copy(t,A,0,e.length);else for(var n=0;n<e.length;)t[A++]=e[n++]}},Uk.prototype.bytes=function(e){Cd.isString(e)&&(e=Cd._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Uk.writeBytesBuffer,t,e),this},Uk.prototype.string=function(e){var t=Cd.Buffer.byteLength(e);return this.uint32(t),t&&this._push(oX,t,e),this},Uk._configure();var pB=Rf,uH,tJ=Cd.LongBits,S8=Cd.utf8,DU="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Rf(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Rf(e);throw Error("illegal buffer")},EU=function(){return Cd.Buffer?function(e){return(Rf.create=function(e){return Cd.Buffer.isBuffer(e)?new uH(e):DU(e)})(e)}:DU};Rf.create=EU(),Rf.prototype._slice=Cd.Array.prototype.subarray||Cd.Array.prototype.slice,Rf.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++])return e;if((this.pos+=5)>this.len)throw this.pos=this.len,kk(this,10);return e}}(),Rf.prototype.int32=function(){return 0|this.uint32()},Rf.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Rf.prototype.bool=function(){return 0!==this.uint32()},Rf.prototype.fixed32=function(){if(this.pos+4>this.len)throw kk(this,4);return vw(this.buf,this.pos+=4)},Rf.prototype.sfixed32=function(){if(this.pos+4>this.len)throw kk(this,4);return 0|vw(this.buf,this.pos+=4)},Rf.prototype.float=function(){if(this.pos+4>this.len)throw kk(this,4);var e=Cd.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Rf.prototype.double=function(){if(this.pos+8>this.len)throw kk(this,4);var e=Cd.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Rf.prototype.bytes=function(){var e=this.uint32(),t=this.pos,A=this.pos+e;if(A>this.len)throw kk(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,A):t===A?new this.buf.constructor(0):this._slice.call(this.buf,t,A)},Rf.prototype.string=function(){var e=this.bytes();return S8.read(e,0,e.length)},Rf.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw kk(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw kk(this)}while(128&this.buf[this.pos++]);return this},Rf.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Rf._configure=function(e){uH=e,Rf.create=EU(),uH._configure();var t=Cd.Long?"toLong":"toNumber";Cd.merge(Rf.prototype,{int64:function(){return oB.call(this)[t](!1)},uint64:function(){return oB.call(this)[t](!0)},sint64:function(){return oB.call(this).zzDecode()[t](!1)},fixed64:function(){return uJ.call(this)[t](!0)},sfixed64:function(){return uJ.call(this)[t](!1)}})},(Eo.prototype=Object.create(pB.prototype)).constructor=Eo,Eo._configure=function(){Cd.Buffer&&(Eo.prototype._slice=Cd.Buffer.prototype.slice)},Eo.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},Eo._configure(),(ct.prototype=Object.create(Cd.EventEmitter.prototype)).constructor=ct,ct.prototype.rpcCall=function e(t,A,n,r,i){if(!r)throw TypeError("request must be specified");var o=this;if(!i)return Cd.asPromise(e,o,t,A,n,r);if(o.rpcImpl)try{return o.rpcImpl(t,A[o.requestDelimited?"encodeDelimited":"encode"](r).finish(),(function(e,A){if(e)return o.emit("error",e,t),i(e);if(null!==A){if(!(A instanceof n))try{A=n[o.responseDelimited?"decodeDelimited":"decode"](A)}catch(e){return o.emit("error",e,t),i(e)}return o.emit("data",A,t),i(null,A)}o.end(!0)}))}catch(e){o.emit("error",e,t),setTimeout((function(){i(e)}),0)}else setTimeout((function(){i(Error("already ended"))}),0)},ct.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var T8=$c((function(e,t){t.Service=ct})),U8={},Nh=$c((function(e,t){function A(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}var n=t;n.build="minimal",n.Writer=nB,n.BufferWriter=Uk,n.Reader=pB,n.BufferReader=Eo,n.util=Cd,n.rpc=T8,n.roots=U8,n.configure=A,A()}));Nh.util.Long=Xa,Nh.configure();var Zz=Nh.Reader,FU=Nh.Writer,Rv=Nh.util,$z=Nh.roots.default||(Nh.roots.default={}),GU=$z.TopicMetadata=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.topic="",e.prototype.metadata="",e.encode=function(e,t){return t||(t=FU.create()),null!=e.topic&&Object.hasOwnProperty.call(e,"topic")&&t.uint32(10).string(e.topic),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&t.uint32(18).string(e.metadata),t},e.decode=function(e,t){e instanceof Zz||(e=Zz.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new $z.TopicMetadata;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.topic=e.string();break;case 2:A.metadata=e.string();break;default:e.skipType(7&n)}}return A},e}(),HU=$z.StreamMessageProtocol=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.messageType=0,e.prototype.payload=Rv.newBuffer([]),e.prototype.payloadLength=0,e.prototype.sequence=Rv.Long?Rv.Long.fromBits(0,0,!1):0,e.prototype.sendTs=Rv.Long?Rv.Long.fromBits(0,0,!1):0,e.prototype.encrypted=!1,e.prototype.customType="",e.encode=function(e,t){return t||(t=FU.create()),null!=e.messageType&&Object.hasOwnProperty.call(e,"messageType")&&t.uint32(8).int32(e.messageType),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(18).bytes(e.payload),null!=e.payloadLength&&Object.hasOwnProperty.call(e,"payloadLength")&&t.uint32(24).int32(e.payloadLength),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(32).int64(e.sequence),null!=e.sendTs&&Object.hasOwnProperty.call(e,"sendTs")&&t.uint32(40).int64(e.sendTs),null!=e.encrypted&&Object.hasOwnProperty.call(e,"encrypted")&&t.uint32(48).bool(e.encrypted),null!=e.customType&&Object.hasOwnProperty.call(e,"customType")&&t.uint32(58).string(e.customType),t},e.decode=function(e,t){e instanceof Zz||(e=Zz.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new $z.StreamMessageProtocol;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.messageType=e.int32();break;case 2:A.payload=e.bytes();break;case 3:A.payloadLength=e.int32();break;case 4:A.sequence=e.int64();break;case 5:A.sendTs=e.int64();break;case 6:A.encrypted=e.bool();break;case 7:A.customType=e.string();break;default:e.skipType(7&n)}}return A},e}(),vH,b,a,c;b=vH||(vH={}),c=a||(a={}),c[c.NO_ERROR=0]="NO_ERROR",c[c.PARTIALLY_SUCCESSFUL=1]="PARTIALLY_SUCCESSFUL",c[c.ALL_FAILED=2]="ALL_FAILED",c[c.UNKNOWN_ERROR=3]="UNKNOWN_ERROR",c[c.INVALID_PARAMS=4]="INVALID_PARAMS",c[c.REMOTE_USER_IS_NOT_PUBLISHED=5]="REMOTE_USER_IS_NOT_PUBLISHED",c[c.INVALID_REMOTE_USER=6]="INVALID_REMOTE_USER",c[c.TIMEOUT=7]="TIMEOUT",c[c.ALREADY_SUBSCRIBED_USER=20001]="ALREADY_SUBSCRIBED_USER",c[c.SUB_USER_EXCEED_LIMITATION=20003]="SUB_USER_EXCEED_LIMITATION",c[c.NOT_SUBSCRIBED_USER=20004]="NOT_SUBSCRIBED_USER",b.SubscribeTopicErrorCode=a,BM("of",(function(){for(var e=0,t=arguments.length,A=new(Uq(this))(t);t>e;)A[e]=arguments[e++];return A}),fD);var pX=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,qX=/CrOS/,rX=/android|ipad|playbook|silk/i;Fo.isMobile=Fo,Fo.default=Fo;var V8=Math.log,W8=Math.LN2;qc({target:"Math",stat:!0},{log2:function(e){return V8(e)/W8}}),hn("Int8",(function(e){return function(t,A,n){return e(this,t,A,n)}})),hn("Int16",(function(e){return function(t,A,n){return e(this,t,A,n)}}));var wH=function(e,t){return e===t?0:null==e?null==t?0:-1:null==t?null==e?0:1:"function"==typeof e.compare?e.compare(t):"function"==typeof t.compare?-t.compare(e):e<t?-1:e>t?1:0},IU=Object.getPrototypeOf({}),Sv=function(e,t){var A;return e===t||(null==e?e==t:"function"===ub(e.equiv)?e.equiv(t):null==t?e==t:"function"===ub(t.equiv)?t.equiv(e):"string"!==ub(e)&&"string"!==ub(t)&&(null!=(A=Object.getPrototypeOf(e))&&A!==IU||null!=(A=Object.getPrototypeOf(t))&&A!==IU?"function"!==ub(e)&&void 0!==e.length&&"function"!==ub(t)&&void 0!==t.length?Y8(e,t):e instanceof Set&&t instanceof Set?Z8(e,t):e instanceof Map&&t instanceof Map?$8(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:X8(e,t)))},Y8=function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Sv,n=e.length;if(n===t.length)for(;0<=--n&&A(e[n],t[n]););return 0>n},Z8=function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Sv;return e.size===t.size&&A(rb(e.keys()).sort(),rb(t.keys()).sort())},$8=function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Sv;return e.size===t.size&&A(rb(e).sort(),rb(t).sort())},X8=function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Sv;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!t.hasOwnProperty(n)||!A(e[n],t[n]))return!1;return!0},JU=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return void 0!==e?": "+e:""};return function(A){function n(A){return zb(this,n),r.call(this,e(A)+t(A))}Zb(n,A);var r=$b(n);return n}(cq(Error))},a9=JU((function(){return"illegal argument(s)"})),aA=function(e){throw new a9(e)},xH=JU((function(){return"index out of bounds"})),KU=1/4294967295,b9=function(){function e(){zb(this,e)}return Ib(e,[{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.int()*KU*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(this.int()*KU-.5)*e}},{key:"minmax",value:function(e,t){return this.float()*(t-e)+e}}]),e}(),yH=Math.random,c9=new(function(e){function t(){return zb(this,t),A.apply(this,arguments)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"int",value:function(){return 4294967296*yH()>>>0}},{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return yH()*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(yH()-.5)*e}}]),t}(b9)),qB=Symbol(),wJ=function(){},sX=function(e){return null!=e&&"function"==typeof e.xform?e.xform():e},rB=function(){function e(t){zb(this,e),this.value=t}return Ib(e,[{key:"deref",value:function(){return this.value}}]),e}(),tX=function(e){return e instanceof rB?e.deref():e},uX=O.mark(vJ),vX=function(e,t){return[e[0],e[1],t]},d9=function(){function e(t){zb(this,e),this._length=0,t&&this.into(t)}return Ib(e,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new e(this)}},{key:"empty",value:function(){return new e}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var e,t=this.head;t;)e=t.next,delete t.value,delete t.prev,delete t.next,t=e;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(e){var t=this._length;if(t<e._length)return-1;if(t>e._length)return 1;if(0===t)return 0;t=this.head,e=e.head;for(var A=0;t&&0==A;)A=wH(t.value,e.value),t=t.next,e=e.next;return A}},{key:"equiv",value:function(t){if(!(t instanceof e||null!=t&&"function"!=typeof t&&void 0!==t.length)||this._length!==t.length)return!1;if(!this._length||this===t)return!0;for(var A=this.head,n=0;n<t.length;n++){if(!Sv(A.value,t[n]))return!1;A=A.next}return!0}},{key:Symbol.iterator,value:O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"seq",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if(!(e>=t||0>e)){e=this.nthCell(e);var A=this.nthCell(t-1);return t=function e(t){return{first:function(){return t.value},next:function(){return t!==A&&t.next?e(t.next):void 0}}},e?t(e):void 0}}},{key:"cycle",value:O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this,"t0",2);case 2:e.next=0;break;case 4:case"end":return e.stop()}}),e,this)}))},{key:"$reduce",value:function(e,t){for(var A=this.head;A&&!(t instanceof rB);)t=e(t,A.value),A=A.next;return t}},{key:"drop",value:function(){var e=this.head;if(e)return(this.head=e.next)?delete this.head.prev:delete this.tail,this._length--,e.value}},{key:"cons",value:function(e){return e={value:e,next:this.head},this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}},{key:"insertBefore",value:function(e,t){return e||aA("cell is undefined"),t={value:t,next:e,prev:e.prev},e.prev?e.prev.next=t:this.head=t,e.prev=t,this._length++,this}},{key:"insertAfter",value:function(e,t){return e||aA("cell is undefined"),t={value:t,next:e.next,prev:e},e.next?e.next.prev=t:this.tail=t,e.next=t,this._length++,this}},{key:"insertBeforeNth",value:function(e,t){if(0>e&&(e+=this._length),0>=e)return this.cons(t);if(0>e||e>=this._length)throw new xH(e);return this.insertBefore(this.nthCellUnsafe(e),t)}},{key:"insertAfterNth",value:function(e,t){if(0>e&&(e+=this._length),e>=this._length-1)return this.push(t);if(0>e||e>=this._length)throw new xH(e);return this.insertAfter(this.nthCellUnsafe(e),t)}},{key:"insertSorted",value:function(e,t){t=t||wH;for(var A=this.head;A;){if(0>=t(e,A.value))return this.insertBefore(A,e);A=A.next}return this.push(e)}},{key:"find",value:function(e){for(var t=this.head;t;){if(t.value===e)return t;t=t.next}}},{key:"findWith",value:function(e){for(var t=this.head;t;){if(e(t.value))return t;t=t.next}}},{key:"concat",value:function(){for(var e=this.copy(),t=arguments.length,A=Array(t),n=0;n<t;n++)A[n]=arguments[n];for(t=0;t<A.length;t++)e.into(A[t]);return e}},{key:"into",value:function(e){for(var t=0;t<e.length;t++)this.push(e[t])}},{key:"slice",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;t=0>t?t+this._length:t,A=0>A?A+this._length:A,(0>t||0>A)&&aA("invalid indices: ${from} / ${to}");for(var n=new e,r=this.nthCell(t);r&&++t<=A;)n.push(r.value),r=r.next;return n}},{key:"splice",value:function(t){var A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length?arguments[2]:void 0;if("number"==typeof t){if(0>t&&(t+=this._length),0>t||t>=this._length)throw new xH(t);var r=this.nthCellUnsafe(t)}else r=t;var i=new e;if(0<A)for(;r&&0<A--;)this.remove(r),i.push(r.value),r=r.next;else r&&(r=r.next);if(n)if(r)for(A=0;A<n.length;A++)this.insertBefore(r,n[A]);else for(r=0;r<n.length;r++)this.push(n[r]);return i}},{key:"remove",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this._length--,this}},{key:"swap",value:function(e,t){if(e!==t){var A=e.value;e.value=t.value,t.value=A}return this}},{key:"push",value:function(e){return this.tail?(e={value:e,prev:this.tail},this.tail=this.tail.next=e,this._length++,this):this.cons(e)}},{key:"pop",value:function(){var e=this.tail;if(e)return(this.tail=e.prev)?delete this.tail.next:delete this.head,this._length--,e.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(e){return this.head?(this.head.value=e,this):this.cons(e)}},{key:"setTail",value:function(e){return this.tail?(this.tail.value=e,this):this.push(e)}},{key:"setNth",value:function(e,t){var A=this.nthCell(e);return!A&&aA("index out of bounds: ".concat(e)),A.value=t,this}},{key:"nth",value:function(e,t){return(e=this.nthCell(e))?e.value:t}},{key:"nthCell",value:function(e){if(0>e&&(e+=this._length),!(0>e||e>=this._length))return this.nthCellUnsafe(e)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var e=this.peek();return this.pop(),this.cons(e)}}},{key:"map",value:function(t){for(var A=new e,n=this.head;n;)A.push(t(n.value)),n=n.next;return A}},{key:"filter",value:function(t){for(var A=new e,n=this.head;n;)t(n.value)&&A.push(n.value),n=n.next;return A}},{key:"reduce",value:function(e,t){for(var A=this.head;A;)t=e(t,A.value),A=A.next;return t}},{key:"shuffle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c9;if(2>this._length)return this;for(e=null!=e?e:Math.ceil(1.5*Math.log2(this._length));0<e;e--)for(var A=this.head;A;){var n=A.next;.5>t.float()?this.asHead(A):this.asTail(A),A=n}return this}},{key:"sort",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:wH;if(!this._length)return this;for(var t=1;;){var A=this.head;this.tail=this.head=void 0;for(var n=0;A;){n++;for(var r=A,i=0,o=0;o<t&&(i++,r=r.next);o++);for(o=t;0<i||0<o&&r;){if(0===i){var a=r;r=r.next,o--}else r&&0!==o?0>=e(A.value,r.value)?(a=A,A=A.next,i--):(a=r,r=r.next,o--):(a=A,A=A.next,i--);this.tail?this.tail.next=a:this.head=a,a.prev=this.tail,this.tail=a}A=r}if(this.tail.next=void 0,1>=n)return this;t*=2}}},{key:"reverse",value:function(){for(var e=this.head,t=this.tail,A=(this._length>>>1)+(1&this._length);e&&t&&0<A;){var n=e.value;e.value=t.value,t.value=n,e=e.next,t=t.prev,A--}return this}},{key:"asHead",value:function(e){return e===this.head||(this.remove(e),this.head.prev=e,e.next=this.head,e.prev=void 0,this.head=e,this._length++),this}},{key:"asTail",value:function(e){return e===this.tail||(this.remove(e),this.tail.next=e,e.prev=this.tail,e.next=void 0,this.tail=e,this._length++),this}},{key:"toString",value:function(){for(var e=[],t=this.head;t;)e.push(String(t.value)),t=t.next;return e.join(", ")}},{key:"toJSON",value:function(){return rb(this)}},{key:"nthCellUnsafe",value:function(e){if(e<=this._length>>1)var t=this.head,A="next";else t=this.tail,A="prev",e=this._length-e-1;for(;0<e--&&t;)t=t[A];return t}}]),e}(),Xp=function(){function e(t,A){zb(this,e),A=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},A),this.map=A.map(),this.items=new d9,this._size=0,this.opts=A,t&&this.into(t)}return Ib(e,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return ww((function(e){return[e.k,e]}),this.items)}},{key:"keys",value:function(){return ww((function(e){return e.k}),this.items)}},{key:"values",value:function(){return ww((function(e){return e.v}),this.items)}},{key:"copy",value:function(){var e=this.empty();e.items=this.items.copy();for(var t=e.items.head;t;)e.map.set(t.value.k,t),t=t.next;return e}},{key:"empty",value:function(){return new e(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var e=this.opts.release;if(e){for(var t;t=this.items.drop();)e(t.k,t.v);return!0}return this.items.release()}},{key:"has",value:function(e){return this.map.has(e)}},{key:"get",value:function(e,t){return(e=this.map.get(e))?this.resetEntry(e):t}},{key:"set",value:function(e,t){var A=this.opts.ksize(e)+this.opts.vsize(t),n=this.map.get(e);return this._size+=Math.max(0,A-(n?n.value.s:0)),this.ensureSize()&&this.doSetEntry(n,e,t,A),t}},{key:"into",value:function(e){for(var t=0;t<e.length;t++){var A=e[t];this.set(A[0],A[1])}return this}},{key:"getSet",value:function(e,t){var A=this,n=this.map.get(e);return n?Promise.resolve(this.resetEntry(n)):t().then((function(t){return A.set(e,t)}))}},{key:"delete",value:function(e){return!!(e=this.map.get(e))&&(this.removeEntry(e),!0)}},{key:"resetEntry",value:function(e){return this.items.asTail(e),e.value.v}},{key:"ensureSize",value:function(){for(var e=this.opts.release,t=this.opts.maxsize,A=this.opts.maxlen;this._size>t||this.length>=A;){var n=this.items.drop();if(!n)return!1;this.map.delete(n.k),e&&e(n.k,n.v),this._size-=n.s}return!0}},{key:"removeEntry",value:function(e){var t=e.value;this.map.delete(t.k),this.items.remove(e),this.opts.release&&this.opts.release(t.k,t.v),this._size-=t.s}},{key:"doSetEntry",value:function(e,t,A,n){e?(e.value.v=A,e.value.s=n,this.items.asTail(e)):(this.items.push({k:t,v:A,s:n}),this.map.set(t,this.items.tail))}}]),e}(),e9=function(e){function t(e,n){return zb(this,t),n=Object.assign({ttl:36e5},n),A.call(this,e,n)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"empty",value:function(){return new t(null,this.opts)}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"get",value:function(e,t){if(e=this.map.get(e)){if(e.value.t>=Date.now())return this.resetEntry(e);this.removeEntry(e)}return t}},{key:"set",value:function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,n=this.opts.ksize(e)+this.opts.vsize(t),r=this.map.get(e);return this._size+=Math.max(0,n-(r?r.value.s:0)),this.ensureSize()&&(A=Date.now()+A,r?(r.value.v=t,r.value.s=n,r.value.t=A,this.items.asTail(r)):(this.items.push({k:e,v:t,s:n,t:A}),this.map.set(e,this.items.tail))),t}},{key:"getSet",value:function(e,t){var A=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,r=this.get(e);return r?Promise.resolve(r):t().then((function(t){return A.set(e,t,n)}))}},{key:"prune",value:function(){for(var e=Date.now(),t=this.items.head;t;)t.value.t<e&&this.removeEntry(t),t=t.next}},{key:"ensureSize",value:function(){for(var e=this.opts.maxsize,A=this.opts.maxlen,n=Date.now(),r=this.items.head;r&&(this._size>e||this.length>=A);)r.value.t<n&&this.removeEntry(r),r=r.next;return Ce(je(t.prototype),"ensureSize",this).call(this)}}]),t}(Xp),f9=Array.isArray||function(e){return e&&"number"==typeof e.length},et=Object.defineProperty({isArray:f9},"__esModule",{value:!0}),LU=Object.defineProperty({isObject:function(e){return null!==e&&"object"===ub(e)}},"__esModule",{value:!0}),dt=Object.defineProperty({isFunction:function(e){return"function"==typeof e}},"__esModule",{value:!0}),g9=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),xw=Object.defineProperty({UnsubscriptionError:g9},"__esModule",{value:!0}),h9=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,A=this._ctorUnsubscribe,n=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var i=0;i<t.length;++i)t[i].remove(this);if(dt.isFunction(n)){A&&(this._unsubscribe=void 0);try{n.call(this)}catch(e){var o=e instanceof xw.UnsubscriptionError?xJ(e.errors):[e]}}if(et.isArray(r))for(i=-1,t=r.length;++i<t;)if(A=r[i],LU.isObject(A))try{A.unsubscribe()}catch(e){o=o||[],e instanceof xw.UnsubscriptionError?o=o.concat(xJ(e.errors)):o.push(e)}if(o)throw new xw.UnsubscriptionError(o)}},e.prototype.add=function(t){var A=t;if(!t)return e.EMPTY;switch(ub(t)){case"function":A=new e(t);case"object":if(A===this||A.closed||"function"!=typeof A.unsubscribe)return A;if(this.closed)return A.unsubscribe(),A;A instanceof e||(t=A,(A=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=A._parentOrParents))A._parentOrParents=this;else if(t instanceof e){if(t===this)return A;A._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return A;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[A]:t.push(A),A},e.prototype.remove=function(e){var t=this._subscriptions;t&&(-1!==(e=t.indexOf(e))&&t.splice(e,1))},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),Si=Object.defineProperty({Subscription:h9},"__esModule",{value:!0}),i9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),j9=function(e){function t(t,A){return e.call(this)||this}return i9(t,e),t.prototype.schedule=function(e,t){return this},t}(Si.Subscription),k9=Object.defineProperty({Action:j9},"__esModule",{value:!0}),l9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),MU=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n.scheduler=t,n.work=A,n.pending=!1,n}return l9(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var A=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(A,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(A,this.id,t),this},t.prototype.requestAsyncId=function(e,t,A){return void 0===A&&(A=0),setInterval(e.flush.bind(e,this),A)},t.prototype.recycleAsyncId=function(e,t,A){if(void 0===A&&(A=0),null!==A&&this.delay===A&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var A=void 0;try{this.work(e)}catch(e){t=!0,A=!!e&&e||Error(e)}if(t)return this.unsubscribe(),A},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,A=t.actions,n=A.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==n&&A.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(k9.Action),NU=Object.defineProperty({AsyncAction:MU},"__esModule",{value:!0}),m9=function(){function e(t,A){void 0===A&&(A=e.now),this.SchedulerAction=t,this.now=A}return e.prototype.schedule=function(e,t,A){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(A,t)},e.now=function(){return Date.now()},e}(),OU=Object.defineProperty({Scheduler:m9},"__esModule",{value:!0}),n9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),zH=function(e){function t(A,n){void 0===n&&(n=OU.Scheduler.now);var r=e.call(this,A,(function(){return t.delegate&&t.delegate!==r?t.delegate.now():n()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return n9(t,e),t.prototype.schedule=function(A,n,r){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(A,n,r):e.prototype.schedule.call(this,A,n,r)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var A;this.active=!0;do{if(A=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,A){for(;e=t.shift();)e.unsubscribe();throw A}}},t}(OU.Scheduler),PU=Object.defineProperty({AsyncScheduler:zH},"__esModule",{value:!0}),Jm=$c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.asyncScheduler=new PU.AsyncScheduler(NU.AsyncAction),t.async=t.asyncScheduler})),Tv=Object.defineProperty({isScheduler:function(e){return e&&"function"==typeof e.schedule}},"__esModule",{value:!0}),AH=!1,lk=Object.defineProperty({config:{Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e?console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack):AH&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),AH=e},get useDeprecatedSynchronousErrorHandling(){return AH}}},"__esModule",{value:!0}),Ks=Object.defineProperty({hostReportError:function(e){setTimeout((function(){throw e}),0)}},"__esModule",{value:!0}),bA=Object.defineProperty({empty:{closed:!0,next:function(e){},error:function(e){if(lk.config.useDeprecatedSynchronousErrorHandling)throw e;Ks.hostReportError(e)},complete:function(){}}},"__esModule",{value:!0}),cA=$c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber})),QU=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),RU=function(e){function t(A,n,r){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=bA.empty;break;case 1:if(!A){i.destination=bA.empty;break}if("object"===ub(A)){A instanceof t?(i.syncErrorThrowable=A.syncErrorThrowable,i.destination=A,A.add(i)):(i.syncErrorThrowable=!0,i.destination=new BH(i,A));break}default:i.syncErrorThrowable=!0,i.destination=new BH(i,A,n,r)}return i}return QU(t,e),t.prototype[cA.rxSubscriber]=function(){return this},t.create=function(e,A,n){return(e=new t(e,A,n)).syncErrorThrowable=!1,e},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=e,this},t}(Si.Subscription),BH=function(e){function t(t,A,n,r){var i=e.call(this)||this;if(i._parentSubscriber=t,t=i,dt.isFunction(A))var o=A;else A&&(o=A.next,n=A.error,r=A.complete,A!==bA.empty&&(t=Object.create(A),dt.isFunction(t.unsubscribe)&&i.add(t.unsubscribe.bind(t)),t.unsubscribe=i.unsubscribe.bind(i)));return i._context=t,i._next=o,i._error=n,i._complete=r,i}return QU(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;lk.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,A=lk.config.useDeprecatedSynchronousErrorHandling;if(this._error)A&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)A?(t.syncErrorValue=e,t.syncErrorThrown=!0):Ks.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),A)throw e;Ks.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var A=function(){return e._complete.call(e._context)};lk.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,A):this.__tryOrUnsub(A)}this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),lk.config.useDeprecatedSynchronousErrorHandling)throw e;Ks.hostReportError(e)}},t.prototype.__tryOrSetError=function(e,t,A){if(!lk.config.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{t.call(this._context,A)}catch(t){return lk.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):Ks.hostReportError(t),!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._parentSubscriber=this._context=null,e.unsubscribe()},t}(RU),Be=Object.defineProperty({Subscriber:RU,SafeSubscriber:BH},"__esModule",{value:!0}),o9=Object.defineProperty({canReportError:function(e){for(;e;){var t=e.destination,A=e.isStopped;if(e.closed||A)return!1;e=t&&t instanceof Be.Subscriber?t:null}return!0}},"__esModule",{value:!0}),p9=Object.defineProperty({toSubscriber:function(e,t,A){if(e){if(e instanceof Be.Subscriber)return e;if(e[cA.rxSubscriber])return e[cA.rxSubscriber]()}return e||t||A?new Be.Subscriber(e,t,A):new Be.Subscriber(bA.empty)}},"__esModule",{value:!0}),Uv=Object.defineProperty({observable:"function"==typeof Symbol&&Symbol.observable||"@@observable"},"__esModule",{value:!0}),wq=Object.defineProperty({identity:function(e){return e}},"__esModule",{value:!0}),CH=Object.defineProperty({pipe:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yJ(e)},pipeFromArray:yJ},"__esModule",{value:!0}),q9=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var A=new e;return A.source=this,A.operator=t,A},e.prototype.subscribe=function(e,t,A){var n=this.operator;if(e=p9.toSubscriber(e,t,A),n?e.add(n.call(e,this.source)):e.add(this.source||lk.config.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),lk.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){lk.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),o9.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var A=this;return new(t=zJ(t))((function(t,n){var r=A.subscribe((function(t){try{e(t)}catch(e){n(e),r&&r.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[Uv.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:CH.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=zJ(e))((function(e,A){var n;t.subscribe((function(e){return n=e}),(function(e){return A(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}(),Kf=Object.defineProperty({Observable:q9},"__esModule",{value:!0}),SU=Object.defineProperty({subscribeToArray:function(e){return function(t){for(var A=0,n=e.length;A<n&&!t.closed;A++)t.next(e[A]);t.complete()}}},"__esModule",{value:!0}),DH=Object.defineProperty({scheduleArray:function(e,t){return new Kf.Observable((function(A){var n=new Si.Subscription,r=0;return n.add(t.schedule((function(){r===e.length?A.complete():(A.next(e[r++]),A.closed||n.add(this.schedule()))}))),n}))}},"__esModule",{value:!0}),dA=Object.defineProperty({fromArray:function(e,t){return t?DH.scheduleArray(e,t):new Kf.Observable(SU.subscribeToArray(e))}},"__esModule",{value:!0}),Oe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return t=e[e.length-1],Tv.isScheduler(t)?(e.pop(),DH.scheduleArray(e,t)):dA.fromArray(e)},TU=Object.defineProperty({of:Oe},"__esModule",{value:!0}),r9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),hf=function(e,t){return function(A){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return A.lift(new UU(e,t))}},UU=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s9(e,this.project,this.thisArg))},e}(),t9=UU,s9=function(e){function t(t,A,n){return(t=e.call(this,t)||this).project=A,t.count=0,t.thisArg=n||t,t}return r9(t,e),t.prototype._next=function(e){try{var t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Be.Subscriber),tB=Object.defineProperty({map:hf,MapOperator:t9},"__esModule",{value:!0}),u9=Object.defineProperty({subscribeToPromise:function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Ks.hostReportError),t}}},"__esModule",{value:!0}),no=$c((function(e,t){function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.getSymbolIterator=A,t.iterator=A(),t.$$iterator=t.iterator})),v9=Object.defineProperty({subscribeToIterable:function(e){return function(t){for(var A=e[no.iterator]();;){var n=void 0;try{n=A.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof A.return&&t.add((function(){A.return&&A.return()})),t}}},"__esModule",{value:!0}),w9=Object.defineProperty({subscribeToObservable:function(e){return function(t){var A=e[Uv.observable]();if("function"!=typeof A.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return A.subscribe(t)}}},"__esModule",{value:!0}),VU=Object.defineProperty({isArrayLike:function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},"__esModule",{value:!0}),WU=Object.defineProperty({isPromise:function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},"__esModule",{value:!0}),EH=Object.defineProperty({subscribeTo:function(e){if(e&&"function"==typeof e[Uv.observable])return w9.subscribeToObservable(e);if(VU.isArrayLike(e))return SU.subscribeToArray(e);if(WU.isPromise(e))return u9.subscribeToPromise(e);if(e&&"function"==typeof e[no.iterator])return v9.subscribeToIterable(e);throw e=LU.isObject(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"__esModule",{value:!0}),x9=Object.defineProperty({scheduleObservable:function(e,t){return new Kf.Observable((function(A){var n=new Si.Subscription;return n.add(t.schedule((function(){var r=e[Uv.observable]();n.add(r.subscribe({next:function(e){n.add(t.schedule((function(){return A.next(e)})))},error:function(e){n.add(t.schedule((function(){return A.error(e)})))},complete:function(){n.add(t.schedule((function(){return A.complete()})))}}))}))),n}))}},"__esModule",{value:!0}),y9=Object.defineProperty({schedulePromise:function(e,t){return new Kf.Observable((function(A){var n=new Si.Subscription;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){A.next(e),n.add(t.schedule((function(){return A.complete()})))})))}),(function(e){n.add(t.schedule((function(){return A.error(e)})))}))}))),n}))}},"__esModule",{value:!0}),z9=Object.defineProperty({scheduleIterable:function(e,t){if(!e)throw Error("Iterable cannot be null");return new Kf.Observable((function(A){var n,r=new Si.Subscription;return r.add((function(){n&&"function"==typeof n.return&&n.return()})),r.add(t.schedule((function(){n=e[no.iterator](),r.add(t.schedule((function(){if(!A.closed){try{var e=n.next(),t=e.value,r=e.done}catch(e){return void A.error(e)}r?A.complete():(A.next(t),this.schedule())}})))}))),r}))}},"__esModule",{value:!0}),A9=Object.defineProperty({isInteropObservable:function(e){return e&&"function"==typeof e[Uv.observable]}},"__esModule",{value:!0}),B9=Object.defineProperty({isIterable:function(e){return e&&"function"==typeof e[no.iterator]}},"__esModule",{value:!0}),C9=Object.defineProperty({scheduled:function(e,t){if(null!=e){if(A9.isInteropObservable(e))return x9.scheduleObservable(e,t);if(WU.isPromise(e))return y9.schedulePromise(e,t);if(VU.isArrayLike(e))return DH.scheduleArray(e,t);if(B9.isIterable(e)||"string"==typeof e)return z9.scheduleIterable(e,t)}throw new TypeError((null!==e&&ub(e)||e)+" is not observable")}},"__esModule",{value:!0}),FH=function(e,t){return t?C9.scheduled(e,t):e instanceof Kf.Observable?e:new Kf.Observable(EH.subscribeTo(e))},sB=Object.defineProperty({from:FH},"__esModule",{value:!0}),eA=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),D9=function(e){function t(t){var A=e.call(this)||this;return A.parent=t,A}return eA(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Be.Subscriber),E9=function(e){function t(t,A,n){var r=e.call(this)||this;return r.parent=t,r.outerValue=A,r.outerIndex=n,r}return eA(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Be.Subscriber),F9=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eA(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Be.Subscriber),G9=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eA(t,e),t.prototype.notifyNext=function(e,t,A,n){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Be.Subscriber),Ve=Object.defineProperty({SimpleInnerSubscriber:D9,ComplexInnerSubscriber:E9,SimpleOuterSubscriber:F9,ComplexOuterSubscriber:G9,innerSubscribe:function(e,t){if(!t.closed){if(e instanceof Kf.Observable)return e.subscribe(t);try{var A=EH.subscribeTo(e)(t)}catch(e){t.error(e)}return A}}},"__esModule",{value:!0}),H9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),AJ=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new XU(e,this.project,this.concurrent))},e}(),I9=AJ,XU=function(e){function t(t,A,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),(t=e.call(this,t)||this).project=A,t.concurrent=n,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return H9(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var A=this.project(e,t)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(A)},t.prototype._innerSub=function(e){var t=new Ve.SimpleInnerSubscriber(this),A=this.destination;A.add(t),(e=Ve.innerSubscribe(e,t))!==t&&A.add(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Ve.SimpleOuterSubscriber),YU=Object.defineProperty({mergeMap:Df,MergeMapOperator:I9,MergeMapSubscriber:XU,flatMap:Df},"__esModule",{value:!0}),Vv=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),YU.mergeMap(wq.identity,e)},ZU=Object.defineProperty({mergeAll:Vv},"__esModule",{value:!0}),J9=Object.defineProperty({concatAll:function(){return ZU.mergeAll(1)}},"__esModule",{value:!0}),$U=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return J9.concatAll()(TU.of.apply(void 0,e))},ah=$c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY=new Kf.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new Kf.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}})),oo=function(e){return new Kf.Observable((function(t){try{var A=e()}catch(e){return void t.error(e)}return(A?sB.from(A):ah.empty()).subscribe(t)}))},aV=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),CJ=Object.defineProperty({EmptyError:aV},"__esModule",{value:!0}),GH=Object.defineProperty({isNumeric:function(e){return!et.isArray(e)&&0<=e-parseFloat(e)+1}},"__esModule",{value:!0}),fA=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=Jm.async),(!GH.isNumeric(e)||0>e)&&(e=0),t&&"function"==typeof t.schedule||(t=Jm.async),new Kf.Observable((function(A){return A.add(t.schedule(wX,e,{subscriber:A,counter:0,period:e})),A}))},ng=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];t=Number.POSITIVE_INFINITY;var A=null,n=e[e.length-1];return Tv.isScheduler(n)?(A=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===A&&1===e.length&&e[0]instanceof Kf.Observable?e[0]:ZU.mergeAll(t)(dA.fromArray(e,A))},K9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),L9=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return K9(t,e),t.prototype.notifyNext=function(e,t,A,n,r){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Be.Subscriber),bV=Object.defineProperty({OuterSubscriber:L9},"__esModule",{value:!0}),M9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),N9=function(e){function t(t,A,n){var r=e.call(this)||this;return r.parent=t,r.outerValue=A,r.outerIndex=n,r.index=0,r}return M9(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Be.Subscriber),O9=Object.defineProperty({InnerSubscriber:N9},"__esModule",{value:!0}),cV=Object.defineProperty({subscribeToResult:function(e,t,A,n,r){if(void 0===r&&(r=new O9.InnerSubscriber(e,A,n)),!r.closed)return t instanceof Kf.Observable?t.subscribe(r):EH.subscribeTo(t)(r)}},"__esModule",{value:!0}),P9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Qf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!et.isArray(e[0]))return e[0];e=e[0]}return dA.fromArray(e,void 0).lift(new Q9)},Q9=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new R9(e))},e}(),R9=function(e){function t(t){return(t=e.call(this,t)||this).hasFirst=!1,t.observables=[],t.subscriptions=[],t}return P9(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var A=0;A<t&&!this.hasFirst;A++){var n=cV.subscribeToResult(this,e[A],void 0,A);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},t.prototype.notifyNext=function(e,t,A){if(!this.hasFirst){for(this.hasFirst=!0,e=0;e<this.subscriptions.length;e++)if(e!==A){var n=this.subscriptions[e];n.unsubscribe(),this.remove(n)}this.subscriptions=null}this.destination.next(t)},t}(bV.OuterSubscriber),S9=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Ls=Object.defineProperty({ObjectUnsubscribedError:S9},"__esModule",{value:!0}),T9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),U9=function(e){function t(t,A){var n=e.call(this)||this;return n.subject=t,n.subscriber=A,n.closed=!1,n}return T9(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;this.subject=null,!t||0===t.length||e.isStopped||e.closed||-1!==(e=t.indexOf(this.subscriber))&&t.splice(e,1)}},t}(Si.Subscription),dV=Object.defineProperty({SubjectSubscription:U9},"__esModule",{value:!0}),HH=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),eV=function(e){function t(t){var A=e.call(this,t)||this;return A.destination=t,A}return HH(t,e),t}(Be.Subscriber),Cg=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return HH(t,e),t.prototype[cA.rxSubscriber]=function(){return new eV(this)},t.prototype.lift=function(e){var t=new IH(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Ls.ObjectUnsubscribedError;if(!this.isStopped){var t=this.observers,A=t.length;t=t.slice();for(var n=0;n<A;n++)t[n].next(e)}},t.prototype.error=function(e){if(this.closed)throw new Ls.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;var t=this.observers,A=t.length;t=t.slice();for(var n=0;n<A;n++)t[n].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Ls.ObjectUnsubscribedError;this.isStopped=!0;var e=this.observers,t=e.length;e=e.slice();for(var A=0;A<t;A++)e[A].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Ls.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Ls.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),Si.Subscription.EMPTY):this.isStopped?(e.complete(),Si.Subscription.EMPTY):(this.observers.push(e),new dV.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new Kf.Observable;return e.source=this,e},t.create=function(e,t){return new IH(e,t)},t}(Kf.Observable),IH=function(e){function t(t,A){var n=e.call(this)||this;return n.destination=t,n.source=A,n}return HH(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):Si.Subscription.EMPTY},t}(Cg),yw=Object.defineProperty({SubjectSubscriber:eV,Subject:Cg,AnonymousSubject:IH},"__esModule",{value:!0}),V9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),W9=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n.scheduler=t,n.work=A,n}return V9(t,e),t.prototype.schedule=function(t,A){return void 0===A&&(A=0),0<A?e.prototype.schedule.call(this,t,A):(this.delay=A,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,A){return 0<A||this.closed?e.prototype.execute.call(this,t,A):this._execute(t,A)},t.prototype.requestAsyncId=function(t,A,n){return void 0===n&&(n=0),null!==n&&0<n||null===n&&0<this.delay?e.prototype.requestAsyncId.call(this,t,A,n):t.flush(this)},t}(NU.AsyncAction),X9=Object.defineProperty({QueueAction:W9},"__esModule",{value:!0}),Y9=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Z9=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Y9(t,e),t}(PU.AsyncScheduler),$9=Object.defineProperty({QueueScheduler:Z9},"__esModule",{value:!0}),Wv=$c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.queueScheduler=new $9.QueueScheduler(X9.QueueAction),t.queue=t.queueScheduler})),Rc=function(e,t){return t?new Kf.Observable((function(A){return t.schedule(xX,0,{error:e,subscriber:A})})):new Kf.Observable((function(t){return t.error(e)}))},fV=Object.defineProperty({throwError:Rc},"__esModule",{value:!0}),Xv=$c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(t.NotificationKind||(t.NotificationKind={})),e=function(){function e(e,t,A){this.kind=e,this.value=t,this.error=A,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,A){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return A&&A()}},e.prototype.accept=function(e,t,A){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,A)},e.prototype.toObservable=function(){switch(this.kind){case"N":return TU.of(this.value);case"E":return fV.throwError(this.error);case"C":return ah.empty()}throw Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),t.Notification=e})),a$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),hV=function(e,t){return void 0===t&&(t=0),function(A){return A.lift(new gV(e,t))}},gV=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new iV(e,this.scheduler,this.delay))},e}(),b$=gV,iV=function(e){function t(t,A,n){return void 0===n&&(n=0),(t=e.call(this,t)||this).scheduler=A,t.delay=n,t}return a$(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new jV(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Xv.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Xv.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Xv.Notification.createComplete()),this.unsubscribe()},t}(Be.Subscriber),c$=iV,jV=function(e,t){this.notification=e,this.destination=t},d$=Object.defineProperty({observeOn:hV,ObserveOnOperator:b$,ObserveOnSubscriber:c$,ObserveOnMessage:jV},"__esModule",{value:!0}),e$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),po=function(e){function t(t,A,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===A&&(A=Number.POSITIVE_INFINITY);var r=e.call(this)||this;return r.scheduler=n,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=1>t?1:t,r._windowTime=1>A?1:A,A===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return e$(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var A=this._events;A.push(t),A.length>this._bufferSize&&A.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f$(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t=this._infiniteTimeWindow,A=t?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,r=A.length;if(this.closed)throw new Ls.ObjectUnsubscribedError;if(this.isStopped||this.hasError)var i=Si.Subscription.EMPTY;else this.observers.push(e),i=new dV.SubjectSubscription(this,e);if(n&&e.add(e=new d$.ObserveOnSubscriber(e,n)),t)for(t=0;t<r&&!e.closed;t++)e.next(A[t]);else for(t=0;t<r&&!e.closed;t++)e.next(A[t].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i},t.prototype._getNow=function(){return(this.scheduler||Wv.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,A=this._windowTime,n=this._events,r=n.length,i=0;i<r&&!(e-n[i].time<A);)i++;return r>t&&(i=Math.max(i,r-t)),0<i&&n.splice(0,i),n},t}(yw.Subject),f$=function(e,t){this.time=e,this.value=t},BX=Object.defineProperty({ReplaySubject:po},"__esModule",{value:!0}),Ti=function(e,t,A){void 0===e&&(e=0);var n=-1;return GH.isNumeric(t)?n=1>Number(t)?1:Number(t):Tv.isScheduler(t)&&(A=t),Tv.isScheduler(A)||(A=Jm.async),new Kf.Observable((function(t){var r=GH.isNumeric(e)?e:+e-A.now();return A.schedule(yX,r,{index:0,period:n,subscriber:t})}))},g$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Pd=function(e){return function(t){var A=new h$(e);return t=t.lift(A),A.caught=t}},h$=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new i$(e,this.selector,this.caught))},e}(),i$=function(e){function t(t,A,n){return(t=e.call(this,t)||this).selector=A,t.caught=n,t}return g$(t,e),t.prototype.error=function(t){if(!this.isStopped){var A=void 0;try{A=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),t=new Ve.SimpleInnerSubscriber(this),this.add(t),(A=Ve.innerSubscribe(A,t))!==t&&this.add(A)}},t}(Ve.SimpleOuterSubscriber),kV=Object.defineProperty({isDate:function(e){return e instanceof Date&&!isNaN(+e)}},"__esModule",{value:!0}),j$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Km=function(e,t){void 0===t&&(t=Jm.async);var A=kV.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new k$(A,t))}},k$=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l$(e,this.delay,this.scheduler))},e}(),l$=function(e){function t(t,A,n){return(t=e.call(this,t)||this).delay=A,t.scheduler=n,t.queue=[],t.active=!1,t.errored=!1,t}return j$(t,e),t.dispatch=function(e){for(var t=e.source,A=t.queue,n=e.scheduler,r=e.destination;0<A.length&&0>=A[0].time-n.now();)A.shift().notification.observe(r);0<A.length?(t=Math.max(0,A[0].time-n.now()),this.schedule(e,t)):(this.unsubscribe(),t.active=!1)},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler;e=new m$(t.now()+this.delay,e),this.queue.push(e),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Xv.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Xv.Notification.createComplete()),this.unsubscribe()},t}(Be.Subscriber),m$=function(e,t){this.time=e,this.notification=t},n$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Af=function(e,t){return function(A){return A.lift(new o$(e,t))}},o$=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new p$(e,this.predicate,this.thisArg))},e}(),p$=function(e){function t(t,A,n){return(t=e.call(this,t)||this).predicate=A,t.thisArg=n,t.count=0,t}return n$(t,e),t.prototype._next=function(e){try{var t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(Be.Subscriber),q$=Object.defineProperty({filter:Af},"__esModule",{value:!0}),r$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),qo=function(e){return function(t){return t.lift(new s$(e))}},s$=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new t$(e,this.callback))},e}(),t$=function(e){function t(t,A){return(t=e.call(this,t)||this).add(new Si.Subscription(A)),t}return r$(t,e),t}(Be.Subscriber),u$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Lm=function(e){return function(t){return t.lift(new v$(e))}},v$=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new w$(e,this.value))},e}(),w$=function(e){function t(t,A){return(t=e.call(this,t)||this).value=A,t}return u$(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(Be.Subscriber),x$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Mm=function(e){return function(t){return t.lift(new y$(e,t))}},y$=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new z$(e,this.notifier,this.source))},e}(),z$=function(e){function t(t,A,n){return(t=e.call(this,t)||this).notifier=A,t.source=n,t}return x$(t,e),t.prototype.error=function(t){if(!this.isStopped){var A=this.errors,n=this.retries,r=this.retriesSubscription;if(n)this.retriesSubscription=this.errors=void 0;else{A=new yw.Subject;try{n=(0,this.notifier)(A)}catch(t){return e.prototype.error.call(this,t)}r=Ve.innerSubscribe(n,new Ve.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=A,this.retries=n,this.retriesSubscription=r,A.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(Ve.SimpleOuterSubscriber),A$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),C$=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var A=this.connectable;return A._refCount++,e=new B$(e,A),t=t.subscribe(e),e.closed||(e.connection=A.connect()),t},e}(),B$=function(e){function t(t,A){return(t=e.call(this,t)||this).connectable=A,t}return A$(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null},t}(Be.Subscriber),lV=Object.defineProperty({refCount:function(){return function(e){return e.lift(new C$(e))}}},"__esModule",{value:!0}),JH=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),mV=function(e){function t(t,A){var n=e.call(this)||this;return n.source=t,n.subjectFactory=A,n._refCount=0,n._isComplete=!1,n}return JH(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new Si.Subscription).add(this.source.subscribe(new D$(this.getSubject(),this))),e.closed&&(this._connection=null,e=Si.Subscription.EMPTY)),e},t.prototype.refCount=function(){return lV.refCount()(this)},t}(Kf.Observable),E$=function(){var e=mV.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),D$=function(e){function t(t,A){return(t=e.call(this,t)||this).connectable=A,t}return JH(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(yw.SubjectSubscriber);!function(e){function t(t,A){return(t=e.call(this,t)||this).connectable=A,t}JH(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null}}(Be.Subscriber);var F$=Object.defineProperty({ConnectableObservable:mV,connectableObservableDescriptor:E$},"__esModule",{value:!0}),nV=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var A=this.selector,n=this.subjectFactory();return(e=A(n).subscribe(e)).add(t.subscribe(n)),e},e}(),G$=Object.defineProperty({multicast:function(e,t){return function(A){var n="function"==typeof e?e:function(){return e};if("function"==typeof t)return A.lift(new nV(n,t));var r=Object.create(A,F$.connectableObservableDescriptor);return r.source=A,r.subjectFactory=n,r}},MulticastOperator:nV},"__esModule",{value:!0}),gk=function(){return function(e){return lV.refCount()(G$.multicast(zX)(e))}},KH=function(e,t,A){var n=e&&"object"===ub(e)?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:A};return function(e){return e.lift(AX(n))}},H$=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),oV=Object.defineProperty({ArgumentOutOfRangeError:H$},"__esModule",{value:!0}),I$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Vd=function(e){return function(t){return 0===e?ah.empty():t.lift(new J$(e))}},J$=function(){function e(e){if(this.total=e,0>this.total)throw new oV.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new K$(e,this.total))},e}(),K$=function(e){function t(t,A){return(t=e.call(this,t)||this).total=A,t.count=0,t}return I$(t,e),t.prototype._next=function(e){var t=this.total,A=++this.count;A<=t&&(this.destination.next(e),A===t&&(this.destination.complete(),this.unsubscribe()))},t}(Be.Subscriber),L$=Object.defineProperty({take:Vd},"__esModule",{value:!0}),M$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),wh=function(e){return function(t){return t.lift(new N$(e))}},N$=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){e=new O$(e);var A=Ve.innerSubscribe(this.notifier,new Ve.SimpleInnerSubscriber(e));return A&&!e.seenValue?(e.add(A),t.subscribe(e)):e},e}(),O$=function(e){function t(t){return(t=e.call(this,t)||this).seenValue=!1,t}return M$(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Ve.SimpleOuterSubscriber),Nm=Object.defineProperty({noop:function(){}},"__esModule",{value:!0}),P$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Fc=function(e,t,A){return function(n){return n.lift(new Q$(e,t,A))}},Q$=function(){function e(e,t,A){this.nextOrObserver=e,this.error=t,this.complete=A}return e.prototype.call=function(e,t){return t.subscribe(new R$(e,this.nextOrObserver,this.error,this.complete))},e}(),R$=function(e){function t(t,A,n,r){return(t=e.call(this,t)||this)._tapNext=Nm.noop,t._tapError=Nm.noop,t._tapComplete=Nm.noop,t._tapError=n||Nm.noop,t._tapComplete=r||Nm.noop,dt.isFunction(A)?(t._context=t,t._tapNext=A):A&&(t._context=A,t._tapNext=A.next||Nm.noop,t._tapError=A.error||Nm.noop,t._tapComplete=A.complete||Nm.noop),t}return P$(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(Be.Subscriber),S$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),U$=function(){function e(e,t,A,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=A,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new T$(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),T$=function(e){function t(t,A,n,r,i){return(t=e.call(this,t)||this).absoluteTimeout=A,t.waitFor=n,t.withObservable=r,t.scheduler=i,t.scheduleTimeout(),t}return S$(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Ve.innerSubscribe(t,new Ve.SimpleInnerSubscriber(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},t}(Ve.SimpleOuterSubscriber),V$=Object.defineProperty({timeoutWith:function(e,t,A){return void 0===A&&(A=Jm.async),function(n){var r=kV.isDate(e),i=r?+e-A.now():Math.abs(e);return n.lift(new U$(i,r,t,A))}}},"__esModule",{value:!0}),Oh=function(e,t){return void 0===t&&(t=Jm.async),V$.timeoutWith(e,fV.throwError(new f_.TimeoutError),t)},W$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),CX=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new X$(e,this.project))},e}(),X$=function(e){function t(t,A){return(t=e.call(this,t)||this).project=A,t.index=0,t}return W$(t,e),t.prototype._next=function(e){var t=this.index++;try{var A=this.project(e,t)}catch(e){return void this.destination.error(e)}this._innerSub(A)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),t=new Ve.SimpleInnerSubscriber(this);var A=this.destination;A.add(t),this.innerSubscription=Ve.innerSubscribe(e,t),this.innerSubscription!==t&&A.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(Ve.SimpleOuterSubscriber),LH=Object.defineProperty({switchMap:Sf},"__esModule",{value:!0}),Y$=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),$$=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var A;return"function"==typeof e[e.length-1]&&(A=e.pop()),t.lift(new Z$(e,A))}},Z$=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new aaa(e,this.observables,this.project))},e}(),aaa=function(e){function t(t,A,n){(t=e.call(this,t)||this).observables=A,t.project=n,t.toRespond=[],n=A.length,t.values=Array(n);for(var r=0;r<n;r++)t.toRespond.push(r);for(r=0;r<n;r++)t.add(cV.subscribeToResult(t,A[r],void 0,r));return t}return Y$(t,e),t.prototype.notifyNext=function(e,t,A){this.values[A]=t,0<(e=this.toRespond).length&&(-1!==(A=e.indexOf(A))&&e.splice(A,1))},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){0===this.toRespond.length&&(e=[e].concat(this.values),this.project?this._tryProject(e):this.destination.next(e))},t.prototype._tryProject=function(e){try{var t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(bV.OuterSubscriber),baa=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),daa=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new caa(e,this.defaultValue))},e}(),caa=function(e){function t(t,A){return(t=e.call(this,t)||this).defaultValue=A,t.isEmpty=!0,t}return baa(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Be.Subscriber),pV=Object.defineProperty({defaultIfEmpty:function(e){return void 0===e&&(e=null),function(t){return t.lift(new daa(e))}}},"__esModule",{value:!0}),eaa=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),Ok=function(e){return void 0===e&&(e=DX),function(t){return t.lift(new faa(e))}},faa=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new gaa(e,this.errorFactory))},e}(),gaa=function(e){function t(t,A){return(t=e.call(this,t)||this).errorFactory=A,t.hasValue=!1,t}return eaa(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(Be.Subscriber),haa=Object.defineProperty({throwIfEmpty:Ok},"__esModule",{value:!0}),Bf=function(e,t){var A=2<=arguments.length;return function(n){return n.pipe(e?q$.filter((function(t,A){return e(t,A,n)})):wq.identity,L$.take(1),A?pV.defaultIfEmpty(t):haa.throwIfEmpty((function(){return new CJ.EmptyError})))}},iaa=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),qV=function(e,t){var A=!1;return 2<=arguments.length&&(A=!0),function(n){return n.lift(new jaa(e,t,A))}},jaa=function(){function e(e,t,A){void 0===A&&(A=!1),this.accumulator=e,this.seed=t,this.hasSeed=A}return e.prototype.call=function(e,t){return t.subscribe(new kaa(e,this.accumulator,this.seed,this.hasSeed))},e}(),kaa=function(e){function t(t,A,n,r){return(t=e.call(this,t)||this).accumulator=A,t._seed=n,t.hasSeed=r,t.index=0,t}return iaa(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var A=this.accumulator(this.seed,e,t)}catch(e){this.destination.error(e)}this.seed=A,this.destination.next(A)},t}(Be.Subscriber),rV=Object.defineProperty({scan:qV},"__esModule",{value:!0}),laa=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),gA=function(e){var t=arguments.length,A=Jm.async;Tv.isScheduler(arguments[arguments.length-1])&&(A=arguments[arguments.length-1],t--);var n=null;2<=t&&(n=arguments[1]);var r=Number.POSITIVE_INFINITY;return 3<=t&&(r=arguments[2]),function(t){return t.lift(new maa(e,n,r,A))}},maa=function(){function e(e,t,A,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=A,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new naa(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),oaa=function(){this.buffer=[]},naa=function(e){function t(t,A,n,r,i){if((t=e.call(this,t)||this).bufferTimeSpan=A,t.bufferCreationInterval=n,t.maxBufferSize=r,t.scheduler=i,t.contexts=[],r=t.openContext(),t.timespanOnly=null==n||0>n,t.timespanOnly)t.add(r.closeAction=i.schedule(DJ,A,{subscriber:t,context:r,bufferTimeSpan:A}));else{var o={bufferTimeSpan:A,bufferCreationInterval:n,subscriber:t,scheduler:i};t.add(r.closeAction=i.schedule(EJ,A,{subscriber:t,context:r})),t.add(i.schedule(EX,n,o))}return t}return laa(t,e),t.prototype._next=function(e){for(var t,A=this.contexts,n=A.length,r=0;r<n;r++){var i=A[r],o=i.buffer;o.push(e),o.length==this.maxBufferSize&&(t=i)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,A=this.destination;0<t.length;){var n=t.shift();A.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){if(this.closeContext(e),(e=e.closeAction).unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){e=this.openContext();var t=this.bufferTimeSpan;this.add(e.closeAction=this.scheduler.schedule(DJ,t,{subscriber:this,context:e,bufferTimeSpan:t}))}},t.prototype.openContext=function(){var e=new oaa;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;0<=(t?t.indexOf(e):-1)&&t.splice(t.indexOf(e),1)},t}(Be.Subscriber),paa=$c((function(e,t){var A,n=Xb&&Xb.__extends||(A=function(e,t){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,A){return void 0===A&&(A=t.defaultThrottleConfig),function(t){return t.lift(new r(e,!!A.leading,!!A.trailing))}};var r=function(){function e(e,t,A){this.durationSelector=e,this.leading=t,this.trailing=A}return e.prototype.call=function(e,t){return t.subscribe(new i(e,this.durationSelector,this.leading,this.trailing))},e}(),i=function(e){function t(t,A,n,r){var i=e.call(this,t)||this;return i.destination=t,i.durationSelector=A,i._leading=n,i._trailing=r,i._hasValue=!1,i}return n(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._sendValue;this._hasValue&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){(e=this.tryDurationSelector(e))&&this.add(this._throttled=Ve.innerSubscribe(e,new Ve.SimpleInnerSubscriber(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(Ve.SimpleOuterSubscriber)})),qaa=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),saa=function(e,t,A){return void 0===t&&(t=Jm.async),void 0===A&&(A=paa.defaultThrottleConfig),function(n){return n.lift(new raa(e,t,A.leading,A.trailing))}},raa=function(){function e(e,t,A,n){this.duration=e,this.scheduler=t,this.leading=A,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new taa(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),taa=function(e){function t(t,A,n,r,i){return(t=e.call(this,t)||this).duration=A,t.scheduler=n,t.leading=r,t.trailing=i,t._hasTrailingValue=!1,t._trailingValue=null,t}return qaa(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(FX,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(Be.Subscriber),uB=function(e,t){return(uB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(e,t)},sV=!1,Dj={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack),sV=e},get useDeprecatedSynchronousErrorHandling(){return sV}},hA={closed:!0,next:function(e){},error:function(e){if(Dj.useDeprecatedSynchronousErrorHandling)throw e;xq(e)},complete:function(){}},Ej=Array.isArray||function(e){return e&&"number"==typeof e.length},gt=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),qg=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,A=this._ctorUnsubscribe,n=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var i=0;i<t.length;++i)t[i].remove(this);if(ft(n)){A&&(this._unsubscribe=void 0);try{n.call(this)}catch(e){var o=e instanceof gt?FJ(e.errors):[e]}}if(Ej(r))for(i=-1,t=r.length;++i<t;)if(vB(A=r[i]))try{A.unsubscribe()}catch(e){o=o||[],e instanceof gt?o=o.concat(FJ(e.errors)):o.push(e)}if(o)throw new gt(o)}},e.prototype.add=function(t){var A=t;if(!t)return e.EMPTY;switch(ub(t)){case"function":A=new e(t);case"object":if(A===this||A.closed||"function"!=typeof A.unsubscribe)return A;if(this.closed)return A.unsubscribe(),A;A instanceof e||(t=A,(A=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=A._parentOrParents))A._parentOrParents=this;else if(t instanceof e){if(t===this)return A;A._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return A;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[A]:t.push(A),A},e.prototype.remove=function(e){var t=this._subscriptions;t&&(-1!==(e=t.indexOf(e))&&t.splice(e,1))},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),iA="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),Fg=function(e){function t(A,n,r){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=hA;break;case 1:if(!A){i.destination=hA;break}if("object"===ub(A)){A instanceof t?(i.syncErrorThrowable=A.syncErrorThrowable,i.destination=A,A.add(i)):(i.syncErrorThrowable=!0,i.destination=new tV(i,A));break}default:i.syncErrorThrowable=!0,i.destination=new tV(i,A,n,r)}return i}return Gd(t,e),t.prototype[iA]=function(){return this},t.create=function(e,A,n){return(e=new t(e,A,n)).syncErrorThrowable=!1,e},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=e,this},t}(qg),tV=function(e){function t(t,A,n,r){var i=e.call(this)||this;if(i._parentSubscriber=t,t=i,ft(A))var o=A;else A&&(o=A.next,n=A.error,r=A.complete,A!==hA&&(ft((t=Object.create(A)).unsubscribe)&&i.add(t.unsubscribe.bind(t)),t.unsubscribe=i.unsubscribe.bind(i)));return i._context=t,i._next=o,i._error=n,i._complete=r,i}return Gd(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;Dj.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,A=Dj.useDeprecatedSynchronousErrorHandling;if(this._error)A&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)A?(t.syncErrorValue=e,t.syncErrorThrown=!0):xq(e),this.unsubscribe();else{if(this.unsubscribe(),A)throw e;xq(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var A=function(){return e._complete.call(e._context)};Dj.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,A):this.__tryOrUnsub(A)}this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),Dj.useDeprecatedSynchronousErrorHandling)throw e;xq(e)}},t.prototype.__tryOrSetError=function(e,t,A){if(!Dj.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{t.call(this._context,A)}catch(t){return Dj.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):xq(t),!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._parentSubscriber=this._context=null,e.unsubscribe()},t}(Fg),zq="function"==typeof Symbol&&Symbol.observable||"@@observable",Ld=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var A=new e;return A.source=this,A.operator=t,A},e.prototype.subscribe=function(e,t,A){var n=this.operator;e:{if(e){if(e instanceof Fg)break e;if(e[iA]){e=e[iA]();break e}}e=e||t||A?new Fg(e,t,A):new Fg(hA)}if(n?e.add(n.call(e,this.source)):e.add(this.source||Dj.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),Dj.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){Dj.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),wB(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var A=this;return new(t=HJ(t))((function(t,n){var r=A.subscribe((function(t){try{e(t)}catch(e){n(e),r&&r.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[zq]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:GJ(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=HJ(e))((function(e,A){var n;t.subscribe((function(e){return n=e}),(function(e){return A(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}(),ro=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),uV=function(e){function t(t,A){var n=e.call(this)||this;return n.subject=t,n.subscriber=A,n.closed=!1,n}return Gd(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;this.subject=null,!t||0===t.length||e.isStopped||e.closed||-1!==(e=t.indexOf(this.subscriber))&&t.splice(e,1)}},t}(qg),vV=function(e){function t(t){var A=e.call(this,t)||this;return A.destination=t,A}return Gd(t,e),t}(Fg),Bq=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Gd(t,e),t.prototype[iA]=function(){return new vV(this)},t.prototype.lift=function(e){var t=new wV(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new ro;if(!this.isStopped){var t=this.observers,A=t.length;t=t.slice();for(var n=0;n<A;n++)t[n].next(e)}},t.prototype.error=function(e){if(this.closed)throw new ro;this.hasError=!0,this.thrownError=e,this.isStopped=!0;var t=this.observers,A=t.length;t=t.slice();for(var n=0;n<A;n++)t[n].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ro;this.isStopped=!0;var e=this.observers,t=e.length;e=e.slice();for(var A=0;A<t;A++)e[A].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new ro;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new ro;return this.hasError?(e.error(this.thrownError),qg.EMPTY):this.isStopped?(e.complete(),qg.EMPTY):(this.observers.push(e),new uV(this,e))},t.prototype.asObservable=function(){var e=new Ld;return e.source=this,e},t.create=function(e,t){return new wV(e,t)},t}(Ld),wV=function(e){function t(t,A){var n=e.call(this)||this;return n.destination=t,n.source=A,n}return Gd(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):qg.EMPTY},t}(Bq),HX=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var A=this.connectable;return A._refCount++,e=new uaa(e,A),t=t.subscribe(e),e.closed||(e.connection=A.connect()),t},e}(),uaa=function(e){function t(t,A){return(t=e.call(this,t)||this).connectable=A,t}return Gd(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null},t}(Fg),waa=function(e){function t(t,A){var n=e.call(this)||this;return n.source=t,n.subjectFactory=A,n._refCount=0,n._isComplete=!1,n}return Gd(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new qg).add(this.source.subscribe(new vaa(this.getSubject(),this))),e.closed&&(this._connection=null,e=qg.EMPTY)),e},t.prototype.refCount=function(){return GX()(this)},t}(Ld),vaa=function(e){function t(t,A){return(t=e.call(this,t)||this).connectable=A,t}return Gd(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(vV),yaa=function(e){function t(t,A,n){var r=e.call(this)||this;return r.key=t,r.groupSubject=A,r.refCountSubscription=n,r}return Gd(t,e),t.prototype._subscribe=function(e){var t=new qg,A=this.refCountSubscription,n=this.groupSubject;return A&&!A.closed&&t.add(new xaa(A)),t.add(n.subscribe(e)),t},t}(Ld),xaa=function(e){function t(t){var A=e.call(this)||this;return A.parent=t,t.count++,A}return Gd(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),--t.count,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(qg),zaa=function(e){function t(t){var A=e.call(this)||this;return A._value=t,A}return Gd(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var A=e.prototype._subscribe.call(this,t);return A&&!A.closed&&t.next(this._value),A},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ro;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Bq),Yv=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n.scheduler=t,n.work=A,n.pending=!1,n}return Gd(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var A=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(A,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(A,this.id,t),this},t.prototype.requestAsyncId=function(e,t,A){return void 0===A&&(A=0),setInterval(e.flush.bind(e,this),A)},t.prototype.recycleAsyncId=function(e,t,A){if(void 0===A&&(A=0),null!==A&&this.delay===A&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var A=void 0;try{this.work(e)}catch(e){t=!0,A=!!e&&e||Error(e)}if(t)return this.unsubscribe(),A},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,A=t.actions,n=A.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==n&&A.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,A){return e.call(this)||this}return Gd(t,e),t.prototype.schedule=function(e,t){return this},t}(qg)),Aaa=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n.scheduler=t,n.work=A,n}return Gd(t,e),t.prototype.schedule=function(t,A){return void 0===A&&(A=0),0<A?e.prototype.schedule.call(this,t,A):(this.delay=A,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,A){return 0<A||this.closed?e.prototype.execute.call(this,t,A):this._execute(t,A)},t.prototype.requestAsyncId=function(t,A,n){return void 0===n&&(n=0),null!==n&&0<n||null===n&&0<this.delay?e.prototype.requestAsyncId.call(this,t,A,n):t.flush(this)},t}(Yv),MH=function(){function e(t,A){void 0===A&&(A=e.now),this.SchedulerAction=t,this.now=A}return e.prototype.schedule=function(e,t,A){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(A,t)},e.now=function(){return Date.now()},e}(),Zv=function(e){function t(A,n){void 0===n&&(n=MH.now);var r=e.call(this,A,(function(){return t.delegate&&t.delegate!==r?t.delegate.now():n()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return Gd(t,e),t.prototype.schedule=function(A,n,r){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(A,n,r):e.prototype.schedule.call(this,A,n,r)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var A;this.active=!0;do{if(A=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,A){for(;e=t.shift();)e.unsubscribe();throw A}}},t}(MH),NH=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gd(t,e),t}(Zv))(Aaa),yq=new Ld((function(e){return e.complete()})),IJ=function(e){return function(t){for(var A=0,n=e.length;A<n&&!t.closed;A++)t.next(e[A]);t.complete()}},OH;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(OH||(OH={}));var Ms=function(){function e(e,t,A){this.kind=e,this.value=t,this.error=A,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,A){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return A&&A()}},e.prototype.accept=function(e,t,A){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,A)},e.prototype.toObservable=function(){switch(this.kind){case"N":return zw(this.value);case"E":return JJ(this.error);case"C":return xB()}throw Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Caa=function(e){function t(t,A,n){return void 0===n&&(n=0),(t=e.call(this,t)||this).scheduler=A,t.delay=n,t}return Gd(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Baa(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Ms.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Ms.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Ms.createComplete()),this.unsubscribe()},t}(Fg),Baa=function(e,t){this.notification=e,this.destination=t},Eaa=function(e){function t(t,A,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===A&&(A=Number.POSITIVE_INFINITY);var r=e.call(this)||this;return r.scheduler=n,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=1>t?1:t,r._windowTime=1>A?1:A,A===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return Gd(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var A=this._events;A.push(t),A.length>this._bufferSize&&A.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new Daa(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t=this._infiniteTimeWindow,A=t?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,r=A.length;if(this.closed)throw new ro;if(this.isStopped||this.hasError)var i=qg.EMPTY;else this.observers.push(e),i=new uV(this,e);if(n&&e.add(e=new Caa(e,n)),t)for(t=0;t<r&&!e.closed;t++)e.next(A[t]);else for(t=0;t<r&&!e.closed;t++)e.next(A[t].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i},t.prototype._getNow=function(){return(this.scheduler||NH).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,A=this._windowTime,n=this._events,r=n.length,i=0;i<r&&!(e-n[i].time<A);)i++;return r>t&&(i=Math.max(i,r-t)),0<i&&n.splice(0,i),n},t}(Bq),Daa=function(e,t){this.time=e,this.value=t},jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return Gd(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),qg.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),qg.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(Bq),Faa=1,Gaa=Promise.resolve(),zB={},xV={setImmediate:function(e){var t=Faa++;return zB[t]=!0,Gaa.then((function(){return KJ(t)&&e()})),t},clearImmediate:function(e){KJ(e)}},Haa=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n.scheduler=t,n.work=A,n}return Gd(t,e),t.prototype.requestAsyncId=function(t,A,n){return void 0===n&&(n=0),null!==n&&0<n?e.prototype.requestAsyncId.call(this,t,A,n):(t.actions.push(this),t.scheduled||(t.scheduled=xV.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,A,n){if(void 0===n&&(n=0),null!==n&&0<n||null===n&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,A,n);0===t.actions.length&&(xV.clearImmediate(A),t.scheduled=void 0)},t}(Yv),DB=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gd(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,A=this.actions,n=-1,r=A.length;e=e||A.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<r&&(e=A.shift()));if(this.active=!1,t){for(;++n<r&&(e=A.shift());)e.unsubscribe();throw t}},t}(Zv))(Haa),Iaa=DB,yV=new Zv(Yv),lt=yV,Jaa=function(e){function t(t,A){var n=e.call(this,t,A)||this;return n.scheduler=t,n.work=A,n}return Gd(t,e),t.prototype.requestAsyncId=function(t,A,n){return void 0===n&&(n=0),null!==n&&0<n?e.prototype.requestAsyncId.call(this,t,A,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,A,n){if(void 0===n&&(n=0),null!==n&&0<n||null===n&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,A,n);0===t.actions.length&&(cancelAnimationFrame(A),t.scheduled=void 0)},t}(Yv),zV=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gd(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,A=this.actions,n=-1,r=A.length;e=e||A.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<r&&(e=A.shift()));if(this.active=!1,t){for(;++n<r&&(e=A.shift());)e.unsubscribe();throw t}},t}(Zv))(Jaa),Kaa=function(e){function t(t,A){void 0===t&&(t=AV),void 0===A&&(A=Number.POSITIVE_INFINITY);var n=e.call(this,t,(function(){return n.frame}))||this;return n.maxFrames=A,n.frame=0,n.index=-1,n}return Gd(t,e),t.prototype.flush=function(){for(var e,t,A=this.actions,n=this.maxFrames;(t=A[0])&&t.delay<=n&&(A.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=A.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(Zv),AV=function(e){function t(t,A,n){void 0===n&&(n=t.index+=1);var r=e.call(this,t,A)||this;return r.scheduler=t,r.work=A,r.index=n,r.active=!0,r.index=t.index=n,r}return Gd(t,e),t.prototype.schedule=function(A,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,A,n);this.active=!1;var r=new t(this.scheduler,this.work);return this.add(r),r.schedule(A,n)},t.prototype.requestAsyncId=function(e,A,n){return void 0===n&&(n=0),this.delay=e.frame+n,(e=e.actions).push(this),e.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,A){},t.prototype._execute=function(t,A){if(!0===this.active)return e.prototype._execute.call(this,t,A)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Yv),Laa=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),Maa=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Naa=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),KX=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Oaa(e,this.project,this.thisArg))},e}(),Oaa=function(e){function t(t,A,n){return(t=e.call(this,t)||this).project=A,t.count=0,t.thisArg=n||t,t}return Gd(t,e),t.prototype._next=function(e){try{var t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Fg),BV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gd(t,e),t.prototype.notifyNext=function(e,t,A,n,r){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(Fg),PX=function(e){function t(t,A,n){var r=e.call(this)||this;return r.parent=t,r.outerValue=A,r.outerIndex=n,r.index=0,r}return Gd(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Fg),Paa=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,xq),t}},Sm="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Qaa=function(e){return function(t){for(var A=e[Sm]();;){var n=void 0;try{n=A.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof A.return&&t.add((function(){A.return&&A.return()})),t}},Raa=function(e){return function(t){var A=e[zq]();if("function"!=typeof A.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return A.subscribe(t)}},SJ=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},kt=function(e){if(e&&"function"==typeof e[zq])return Raa(e);if(SJ(e))return IJ(e);if(PJ(e))return Paa(e);if(e&&"function"==typeof e[Sm])return Qaa(e);throw e=vB(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},CV={},Taa=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Saa(e,this.resultSelector))},e}(),Saa=function(e){function t(t,A){return(t=e.call(this,t)||this).resultSelector=A,t.active=0,t.values=[],t.observables=[],t}return Gd(t,e),t.prototype._next=function(e){this.values.push(CV),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.toRespond=this.active=t;for(var A=0;A<t;A++)this.add(QJ(this,e[A],void 0,A))}},t.prototype.notifyComplete=function(e){0==--this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,A){var n=(e=this.values)[A];n=this.toRespond?n===CV?--this.toRespond:this.toRespond:0,e[A]=t,0===n&&(this.resultSelector?this._tryResultSelector(e):this.destination.next(e.slice()))},t.prototype._tryResultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(BV),DV=function(e){function t(t){var A=e.call(this)||this;return A.parent=t,A}return Gd(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Fg),EV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gd(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Fg),TX=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Uaa(e,this.project,this.concurrent))},e}(),Uaa=function(e){function t(t,A,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),(t=e.call(this,t)||this).project=A,t.concurrent=n,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return Gd(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var A=this.project(e,t)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(A)},t.prototype._innerSub=function(e){var t=new DV(this),A=this.destination;A.add(t),(e=TJ(e,t))!==t&&A.add(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(EV),FV=new Ld(LJ),YX=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Vaa(e,this.predicate,this.thisArg))},e}(),Vaa=function(e){function t(t,A,n){return(t=e.call(this,t)||this).predicate=A,t.thisArg=n,t.count=0,t}return Gd(t,e),t.prototype._next=function(e){try{var t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(Fg),Xaa=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Waa(e))},e}(),Waa=function(e){function t(t){return(t=e.call(this,t)||this).hasFirst=!1,t.observables=[],t.subscriptions=[],t}return Gd(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var A=0;A<t&&!this.hasFirst;A++){var n=QJ(this,e[A],void 0,A);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},t.prototype.notifyNext=function(e,t,A){if(!this.hasFirst){for(this.hasFirst=!0,e=0;e<this.subscriptions.length;e++)if(e!==A){var n=this.subscriptions[e];n.unsubscribe(),this.remove(n)}this.subscriptions=null}this.destination.next(t)},t}(BV),Zaa=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Yaa(e,this.resultSelector))},e}(),Yaa=function(e){function t(t,A,n){return(t=e.call(this,t)||this).resultSelector=A,t.iterators=[],t.active=0,t.resultSelector="function"==typeof A?A:void 0,t}return Gd(t,e),t.prototype._next=function(e){var t=this.iterators;Ej(e)?t.push(new $aa(e)):"function"==typeof e[Sm]?t.push(new aba(e[Sm]())):t.push(new bba(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0===t)this.destination.complete();else{this.active=t;for(var A=0;A<t;A++){var n=e[A];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,A=this.destination,n=0;n<t;n++){var r=e[n];if("function"==typeof r.hasValue&&!r.hasValue())return}var i=!1,o=[];for(n=0;n<t;n++){var a=(r=e[n]).next();if(r.hasCompleted()&&(i=!0),a.done)return void A.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):A.next(o),i&&A.complete()},t.prototype._tryresultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Fg),aba=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return!(!e||!e.done)},e}(),$aa=function(){function e(e){this.array=e,this.length=this.index=0,this.length=e.length}return e.prototype[Sm]=function(){return this},e.prototype.next=function(e){e=this.index++;var t=this.array;return e<this.length?{value:t[e],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),bba=function(e){function t(t,A,n){return(t=e.call(this,t)||this).parent=A,t.observable=n,t.stillUnsubscribed=!0,t.buffer=[],t.isComplete=!1,t}return Gd(t,e),t.prototype[Sm]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return TJ(this.observable,new DV(this))},t}(EV),cba=Object.freeze({__proto__:null,Observable:Ld,ConnectableObservable:waa,GroupedObservable:yaa,observable:zq,Subject:Bq,BehaviorSubject:zaa,ReplaySubject:Eaa,AsyncSubject:jt,asap:Iaa,asapScheduler:DB,async:lt,asyncScheduler:yV,queue:NH,queueScheduler:NH,animationFrame:zV,animationFrameScheduler:zV,VirtualTimeScheduler:Kaa,VirtualAction:AV,Scheduler:MH,Subscription:qg,Subscriber:Fg,Notification:Ms,get NotificationKind(){return OH},pipe:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return GJ(e)},noop:LJ,identity:ht,isObservable:function(e){return!!e&&(e instanceof Ld||"function"==typeof e.lift&&"function"==typeof e.subscribe)},ArgumentOutOfRangeError:Laa,EmptyError:Maa,ObjectUnsubscribedError:ro,UnsubscriptionError:gt,TimeoutError:Naa,bindCallback:MJ,bindNodeCallback:NJ,combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var A=t=void 0;return Rm(e[e.length-1])&&(A=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Ej(e[0])&&(e=e[0]),it(e,A).lift(new Taa(t))},concat:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return UJ(1)(zw.apply(void 0,e))},defer:VJ,empty:xB,forkJoin:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var A=e[0];if(Ej(A))return Aw(A,null);if(vB(A)&&Object.getPrototypeOf(A)===Object.prototype)return Aw((e=Object.keys(A)).map((function(e){return A[e]})),e)}if("function"==typeof e[e.length-1]){var n=e.pop();return Aw(e=1===e.length&&Ej(e[0])?e[0]:e,null).pipe(Go((function(e){return n.apply(void 0,e)})))}return Aw(e,null)},from:Aq,fromEvent:WJ,fromEventPattern:YJ,generate:function(e,t,A,n,r){if(1==arguments.length){var i=e.initialState;t=e.condition,A=e.iterate;var o=e.resultSelector||ht;r=e.scheduler}else void 0===n||Rm(n)?(i=e,o=ht,r=n):(i=e,o=n);return new Ld((function(e){var n=i;if(r)return r.schedule(UX,0,{subscriber:e,iterate:A,condition:t,resultSelector:o,state:n});for(;;){if(t){var a=void 0;try{a=t(n)}catch(t){e.error(t);break}if(!a){e.complete();break}}a=void 0;try{a=o(n)}catch(t){e.error(t);break}if(e.next(a),e.closed)break;try{n=A(n)}catch(t){e.error(t);break}}}))},iif:function(e,t,A){return void 0===t&&(t=yq),void 0===A&&(A=yq),VJ((function(){return e()?t:A}))},interval:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=lt),(!BB(e)||0>e)&&(e=0),t&&"function"==typeof t.schedule||(t=lt),new Ld((function(A){return A.add(t.schedule(VX,e,{subscriber:A,counter:0,period:e})),A}))},merge:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];t=Number.POSITIVE_INFINITY;var A=null,n=e[e.length-1];return Rm(n)?(A=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===A&&1===e.length&&e[0]instanceof Ld?e[0]:UJ(t)(it(e,A))},never:function(){return FV},of:zw,onErrorResumeNext:CB,pairs:function(e,t){return new Ld(t?function(A){var n=Object.keys(e),r=new qg;return r.add(t.schedule(WX,0,{keys:n,index:0,subscriber:A,subscription:r,obj:e})),r}:function(t){for(var A=Object.keys(e),n=0;n<A.length&&!t.closed;n++){var r=A[n];e.hasOwnProperty(r)&&t.next([r,e[r]])}t.complete()})},partition:function(e,t,A){return[ZJ(t,A)(new Ld(kt(e))),ZJ(XX(t,A))(new Ld(kt(e)))]},race:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Ej(e[0]))return e[0];e=e[0]}return it(e,void 0).lift(new Xaa)},range:function(e,t,A){return void 0===e&&(e=0),new Ld((function(n){void 0===t&&(t=e,e=0);var r=0,i=e;if(A)return A.schedule(ZX,0,{index:r,count:t,start:e,subscriber:n});for(;;){if(r++>=t){n.complete();break}if(n.next(i++),n.closed)break}}))},throwError:JJ,timer:function(e,t,A){void 0===e&&(e=0);var n=-1;return BB(t)?n=1>Number(t)?1:Number(t):Rm(t)&&(A=t),Rm(A)||(A=lt),new Ld((function(t){var r=BB(e)?e:+e-A.now();return A.schedule($X,r,{index:0,period:n,subscriber:t})}))},using:function(e,t){return new Ld((function(A){try{var n=e()}catch(e){return void A.error(e)}try{var r=t(n)}catch(e){return void A.error(e)}var i=(r?Aq(r):yq).subscribe(A);return function(){i.unsubscribe(),n&&n.unsubscribe()}}))},zip:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof(t=e[e.length-1])&&e.pop(),it(e,void 0).lift(new Zaa(t))},scheduled:RJ,EMPTY:yq,NEVER:FV,config:Dj}),GV=dI(cba),HV=$c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var A=[],n=function(e,t){return new WebSocket(e,t)};t.normalClosureMessage="Normal closure",t.default=function(e,r){var i=(r=void 0===r?{protocols:A,makeWebSocket:n}:r).protocols,o=void 0===i?A:i,a=void 0===(r=r.makeWebSocket)?n:r;return new GV.Observable((function(A){var n,r=new GV.Subject,i=a(e,o),s=!1,c=!1,u=function(e){if(n)throw s=!0,e=Error("Web socket message factory function called more than once"),A.error(e),e;return n=e.subscribe((function(e){i.send(e)})),r};return i.onopen=function(){c?(s=!0,i.close()):A.next(u)},i.onmessage=function(e){r.next(e.data)},i.onerror=function(e){s=!0,A.error(Error(e.message))},i.onclose=function(e){s||(s=!0,c?(A.complete(),r.complete()):A.error(Error(1e3===e.code?t.normalClosureMessage:e.reason)))},function(){c=!0,n&&n.unsubscribe(),s||(s=!0,i.close())}}))}})),dba=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),IV=function(){return function(e){return e.lift(new eba)}},eba=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new fba(e))},e}(),fba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dba(t,e),t.prototype._next=function(e){},t}(Be.Subscriber),gba=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),iba=function(){function e(e){if(this.total=e,0>this.total)throw new oV.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new hba(e,this.total))},e}(),hba=function(e){function t(t,A){return(t=e.call(this,t)||this).total=A,t.ring=[],t.count=0,t}return gba(t,e),t.prototype._next=function(e){var t=this.ring,A=this.total,n=this.count++;t.length<A?t.push(e):t[n%A]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(0<t)for(var A=this.count>=this.total?this.total:this.count,n=this.ring,r=0;r<A;r++){var i=t++%A;e.next(n[i])}e.complete()},t}(Be.Subscriber),JV=Object.defineProperty({takeLast:function(e){return function(t){return 0===e?ah.empty():t.lift(new iba(e))}}},"__esModule",{value:!0}),KV=function(e,t){return 2<=arguments.length?function(A){return CH.pipe(rV.scan(e,t),JV.takeLast(1),pV.defaultIfEmpty(t))(A)}:function(t){return CH.pipe(rV.scan((function(t,A,n){return e(t,A,n+1)})),JV.takeLast(1))(t)}},LV=$c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.NEVER=new Kf.Observable(Nm.noop),t.never=function(){return t.NEVER}})),cY=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new jba(e,this.delay,this.scheduler))},e}(),jba=function(e){function t(t,A,n){return(t=e.call(this,t)||this).delay=A,t.scheduler=n,t.queue=[],t.active=!1,t.errored=!1,t}return Gd(t,e),t.dispatch=function(e){for(var t=e.source,A=t.queue,n=e.scheduler,r=e.destination;0<A.length&&0>=A[0].time-n.now();)A.shift().notification.observe(r);0<A.length?(t=Math.max(0,A[0].time-n.now()),this.schedule(e,t)):(this.unsubscribe(),t.active=!1)},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler;e=new kba(t.now()+this.delay,e),this.queue.push(e),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Ms.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Ms.createComplete()),this.unsubscribe()},t}(Fg),kba=function(e,t){this.time=e,this.notification=t},eY=function(){function e(e,t,A){void 0===A&&(A=!1),this.accumulator=e,this.seed=t,this.hasSeed=A}return e.prototype.call=function(e,t){return t.subscribe(new lba(e,this.accumulator,this.seed,this.hasSeed))},e}(),lba=function(e){function t(t,A,n,r){return(t=e.call(this,t)||this).accumulator=A,t._seed=n,t.hasSeed=r,t.index=0,t}return Gd(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var A=this.accumulator(this.seed,e,t)}catch(e){this.destination.error(e)}this.seed=A,this.destination.next(A)},t}(Fg),aK=[],bK=function(e,t){return new WebSocket(e,t)},lb=Nh.Reader,hc=Nh.Writer,Qa=Nh.util,hb=Nh.roots.default||(Nh.roots.default={}),mba=hb.URI=function(){var e={},t=Object.create(e);return t[e[0]="Unknown"]=0,t[e[1]="PingUri"]=1,t[e[2]="PongUri"]=2,t[e[3]="Ping2Uri"]=3,t[e[11]="UserJoinUri"]=11,t[e[12]="UserRespUri"]=12,t[e[15]="UserTicketNearlyExpireUri"]=15,t[e[16]="UserRenewTokenReqUri"]=16,t[e[17]="UserRenewTokenRespUri"]=17,t[e[18]="UserJoin2Uri"]=18,t[e[19]="UserResp2Uri"]=19,t[e[21]="UserQuitUri"]=21,t[e[22]="UserDropUri"]=22,t[e[24]="UserQuit2Uri"]=24,t[e[31]="GroupEnterUri"]=31,t[e[32]="GroupLeaveUri"]=32,t[e[33]="GroupReplyUri"]=33,t[e[35]="GroupDropUri"]=35,t[e[36]="GroupEnterNoticeUri"]=36,t[e[37]="GroupLeaveNoticeUri"]=37,t[e[38]="GroupEventNoticeUri"]=38,t[e[39]="GroupCountNoticeUri"]=39,t[e[41]="UserStatusListUri"]=41,t[e[42]="UserStatusResultUri"]=42,t[e[51]="GroupStatusListUri"]=51,t[e[52]="GroupStatusResultUri"]=52,t[e[55]="GroupAllUsersListUri"]=55,t[e[56]="GroupAllUsersResultUri"]=56,t[e[100]="MessageUri"]=100,t[e[101]="AckUri"]=101,t[e[201]="UserJoinNoticeUri"]=201,t[e[202]="UserQuitNoticeUri"]=202,t[e[203]="UserWaitNoticeUri"]=203,t[e[301]="UserAttributeGetUri"]=301,t[e[302]="UserAttributeRetUri"]=302,t[e[303]="UserAttributeSetUri"]=303,t[e[304]="UserAttributeModUri"]=304,t[e[305]="UserAttributeDelUri"]=305,t[e[307]="UserAttributeRspUri"]=307,t[e[308]="UserAttributeErrUri"]=308,t[e[311]="UserAttributeKeysGetUri"]=311,t[e[312]="UserAttributeKeysRetUri"]=312,t[e[351]="GroupAttributeGetUri"]=351,t[e[352]="GroupAttributeRetUri"]=352,t[e[353]="GroupAttributeSetUri"]=353,t[e[354]="GroupAttributeModUri"]=354,t[e[355]="GroupAttributeDelUri"]=355,t[e[356]="GroupAttributeAltUri"]=356,t[e[357]="GroupAttributeRspUri"]=357,t[e[358]="GroupAttributeErrUri"]=358,t[e[361]="GroupAttributeKeysGetUri"]=361,t[e[362]="GroupAttributeKeysRetUri"]=362,t[e[401]="SubscribeUserStatusUri"]=401,t[e[402]="UnsubscribeUserStatusUri"]=402,t[e[499]="SubscribeResponseUri"]=499,t[e[601]="StateSubscribeUri"]=601,t[e[602]="StateUpdateUri"]=602,t[e[603]="StateSubscribeResultUri"]=603,t[e[604]="StateUnsubscribeUri"]=604,t[e[605]="StateSetUri"]=605,t[e[606]="StateModifyUri"]=606,t[e[607]="StateRequestResultUri"]=607,t[e[608]="StateGetUri"]=608,t[e[609]="StateGetResultUri"]=609,t[e[610]="StateLockAcquireUri"]=610,t[e[611]="StateLockReleaseUri"]=611,t[e[612]="StateLockAcquireResultUri"]=612,t[e[613]="StateLockUpdateUri"]=613,t[e[614]="StateLockReleaseResultUri"]=614,t[e[615]="StateLockDisableUri"]=615,t[e[616]="StateLockDisableResultUri"]=616,t[e[617]="StateLockSubscribeUri"]=617,t[e[618]="StateLockSubscribeResultUri"]=618,t[e[619]="StateLockSubscribeEventUri"]=619,t[e[620]="StateLockUnsubscribeUri"]=620,t[e[621]="StateLockCreateUri"]=621,t[e[622]="StateLockCreateResultUri"]=622,t[e[623]="StateLockDeleteUri"]=623,t[e[624]="StateLockDeleteResultUri"]=624,t[e[625]="StateLockListUri"]=625,t[e[626]="StateLockListResultUri"]=626,t}(),jA=hb.Wrapper=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.uri=0,e.prototype.data=Qa.newBuffer([]),e.encode=function(e,t){return t||(t=hc.create()),null!=e.uri&&Object.hasOwnProperty.call(e,"uri")&&t.uint32(8).int32(e.uri),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.Wrapper;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.uri=e.int32();break;case 2:A.data=e.bytes();break;default:e.skipType(7&n)}}return A},e}(),nba=hb.Ping=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.ms=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.Ping;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.ms=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),oba=hb.Ping2=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.ms=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.Ping2;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.ms=e.uint64();break;case 3:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),pba=hb.Pong=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.ms=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.Pong;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.ms=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),qba=hb.UserJoin=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.opt=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.opt&&Object.hasOwnProperty.call(e,"opt")&&t.uint32(16).uint64(e.opt),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(34).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(42).string(e.ticket),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserJoin;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.opt=e.uint64();break;case 3:A.instance=e.uint64();break;case 4:A.account=e.string();break;case 5:A.ticket=e.string();break;default:e.skipType(7&n)}}return A},e}(),rba=hb.UserResp=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserResp;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.account=e.string();break;case 3:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),sba=hb.UserJoinDetailKey=function(){var e={},t=Object.create(e);return t[e[0]="kDetailKeyUnused"]=0,t[e[1]="kDetailKeyVendorConfig"]=1,t}(),tba=hb.UserJoin2=function(){function e(e){if(this.detail={},e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.opt=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.prototype.detail=Qa.emptyObject,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.opt&&Object.hasOwnProperty.call(e,"opt")&&t.uint32(16).uint64(e.opt),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(34).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(42).string(e.ticket),null!=e.detail&&Object.hasOwnProperty.call(e,"detail"))for(var A=Object.keys(e.detail),n=0;n<A.length;++n)t.uint32(50).fork().uint32(8).uint32(A[n]).uint32(18).bytes(e.detail[A[n]]).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A,n,r=new hb.UserJoin2;e.pos<t;)switch(A=e.uint32(),A>>>3){case 1:r.seq=e.uint64();break;case 2:r.opt=e.uint64();break;case 3:r.instance=e.uint64();break;case 4:r.account=e.string();break;case 5:r.ticket=e.string();break;case 6:r.detail===Qa.emptyObject&&(r.detail={});var i=e.uint32()+e.pos;for(A=0,n=[];e.pos<i;){var o=e.uint32();switch(o>>>3){case 1:A=e.uint32();break;case 2:n=e.bytes();break;default:e.skipType(7&o)}}r.detail[A]=n;break;default:e.skipType(7&A)}return r},e}(),uba=hb.UserResp2=function(){function e(e){if(this.detail={},e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.prototype.serverTs=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.detail=Qa.emptyObject,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),null!=e.serverTs&&Object.hasOwnProperty.call(e,"serverTs")&&t.uint32(32).uint64(e.serverTs),null!=e.detail&&Object.hasOwnProperty.call(e,"detail"))for(var A=Object.keys(e.detail),n=0;n<A.length;++n)t.uint32(42).fork().uint32(8).uint32(A[n]).uint32(18).bytes(e.detail[A[n]]).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A,n,r=new hb.UserResp2;e.pos<t;)switch(A=e.uint32(),A>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;case 3:r.code=e.uint32();break;case 4:r.serverTs=e.uint64();break;case 5:r.detail===Qa.emptyObject&&(r.detail={});var i=e.uint32()+e.pos;for(A=0,n=[];e.pos<i;){var o=e.uint32();switch(o>>>3){case 1:A=e.uint32();break;case 2:n=e.bytes();break;default:e.skipType(7&o)}}r.detail[A]=n;break;default:e.skipType(7&A)}return r},e}(),vba=hb.UserQuit=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.encode=function(e,t){return t||(t=hc.create()),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserQuit;e.pos<t;){var n=e.uint32();e.skipType(7&n)}return A},e}(),wba=hb.UserQuit2=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(8).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserQuit2;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),xba=hb.UserDrop=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserDrop;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),yba=hb.UserTicketNearlyExpire=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.expireTs=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.ticket="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.expireTs&&Object.hasOwnProperty.call(e,"expireTs")&&t.uint32(8).uint64(e.expireTs),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(18).string(e.ticket),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserTicketNearlyExpire;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.expireTs=e.uint64();break;case 2:A.ticket=e.string();break;default:e.skipType(7&n)}}return A},e}(),zba=hb.UserRenewTokenReq=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(26).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(34).string(e.ticket),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserRenewTokenReq;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.instance=e.uint64();break;case 2:A.seq=e.uint64();break;case 3:A.account=e.string();break;case 4:A.ticket=e.string();break;default:e.skipType(7&n)}}return A},e}(),Aba=hb.UserRenewTokenResp=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserRenewTokenResp;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),Bba=hb.GroupEnter=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupEnter;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.account=e.string();break;default:e.skipType(7&n)}}return A},e}(),Cba=hb.GroupLeave=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.account="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupLeave;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.account=e.string();break;default:e.skipType(7&n)}}return A},e}(),Dba=hb.GroupReply=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupReply;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.account=e.string();break;case 3:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),MV=hb.GroupLeaveNotice=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupLeaveNotice;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.user=e.string();break;case 3:A.group=e.string();break;case 4:A.instance=e.uint64();break;case 5:A.size=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),NV=hb.GroupEnterNotice=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupEnterNotice;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.user=e.string();break;case 3:A.group=e.string();break;case 4:A.instance=e.uint64();break;case 5:A.size=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),OV=hb.Message=function(){function e(e){if(this.MiscMap={},e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.dialogue=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.options=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.src="",e.prototype.dst="",e.prototype.payload=Qa.newBuffer([]),e.prototype.MiscMap=Qa.emptyObject,e.prototype.ms=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&t.uint32(32).uint64(e.options),null!=e.src&&Object.hasOwnProperty.call(e,"src")&&t.uint32(42).string(e.src),null!=e.dst&&Object.hasOwnProperty.call(e,"dst")&&t.uint32(50).string(e.dst),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(58).bytes(e.payload),null!=e.MiscMap&&Object.hasOwnProperty.call(e,"MiscMap"))for(var A=Object.keys(e.MiscMap),n=0;n<A.length;++n)t.uint32(66).fork().uint32(10).string(A[n]).uint32(18).bytes(e.MiscMap[A[n]]).ldelim();return null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(72).uint64(e.ms),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A,n,r=new hb.Message;e.pos<t;)switch(A=e.uint32(),A>>>3){case 1:r.instance=e.uint64();break;case 2:r.dialogue=e.uint64();break;case 3:r.sequence=e.uint64();break;case 4:r.options=e.uint64();break;case 5:r.src=e.string();break;case 6:r.dst=e.string();break;case 7:r.payload=e.bytes();break;case 8:r.MiscMap!==Qa.emptyObject&&void 0!==r.MiscMap||(r.MiscMap={});var i=e.uint32()+e.pos;for(A="",n=[];e.pos<i;){var o=e.uint32();switch(o>>>3){case 1:A=e.string();break;case 2:n=e.bytes();break;default:e.skipType(7&o)}}r.MiscMap[A]=n;break;case 9:r.ms=e.uint64();break;default:e.skipType(7&A)}return r},e}(),PV=hb.Ack=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.dialogue=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(32).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.Ack;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.instance=e.uint64();break;case 2:A.dialogue=e.uint64();break;case 3:A.sequence=e.uint64();break;case 4:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),Eba=hb.GroupDrop=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupDrop;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.account=e.string();break;case 2:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),Fba=hb.GroupAllUsersList=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.pageSize=0,e.prototype.pageNumber=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(24).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(32).uint32(e.pageNumber),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAllUsersList;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.group=e.string();break;case 3:A.pageSize=e.uint32();break;case 4:A.pageNumber=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),Gba=hb.GroupAllUsersResult=function(){function e(e){if(this.memberInfos=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.totalSize=0,e.prototype.pageSize=0,e.prototype.pageNumber=0,e.prototype.memberInfos=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.totalSize&&Object.hasOwnProperty.call(e,"totalSize")&&t.uint32(24).uint32(e.totalSize),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(32).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(40).uint32(e.pageNumber),null!=e.memberInfos&&e.memberInfos.length)for(var A=0;A<e.memberInfos.length;++A)hb.GroupAllUsersResult.MemberInfo.encode(e.memberInfos[A],t.uint32(50).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAllUsersResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.group=e.string();break;case 3:A.totalSize=e.uint32();break;case 4:A.pageSize=e.uint32();break;case 5:A.pageNumber=e.uint32();break;case 6:A.memberInfos&&A.memberInfos.length||(A.memberInfos=[]),A.memberInfos.push(hb.GroupAllUsersResult.MemberInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.MemberInfo=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAllUsersResult.MemberInfo;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.account=e.string();break;case 2:A.ts=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),e}(),Hba=hb.UserStatusList=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.users=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var A=0;A<e.users.length;++A)t.uint32(18).string(e.users[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserStatusList;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.users&&A.users.length||(A.users=[]),A.users.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),Iba=hb.UserStatusResult=function(){function e(e){if(this.userInfos=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.userInfos=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.userInfos&&e.userInfos.length)for(var A=0;A<e.userInfos.length;++A)hb.UserStatusResult.UserStatusInfo.encode(e.userInfos[A],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserStatusResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.userInfos&&A.userInfos.length||(A.userInfos=[]),A.userInfos.push(hb.UserStatusResult.UserStatusInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.UserStatusInfo=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserStatusResult.UserStatusInfo;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.account=e.string();break;case 2:A.ts=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),e}(),Jba=hb.UserAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var A=0;A<e.attributes.length;++A)t.uint32(26).string(e.attributes[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeGet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.account=e.string();break;case 3:A.attributes&&A.attributes.length||(A.attributes=[]),A.attributes.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),Kba=hb.UserAttributeRet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.attributeInfos=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.attributeInfos&&e.attributeInfos.length)for(var A=0;A<e.attributeInfos.length;++A)hb.UserAttributeRet.AttributeInfo.encode(e.attributeInfos[A],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeRet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.attributeInfos&&A.attributeInfos.length||(A.attributeInfos=[]),A.attributeInfos.push(hb.UserAttributeRet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeRet.AttributeInfo;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.key=e.string();break;case 2:A.value=e.string();break;default:e.skipType(7&n)}}return A},e}(),e}(),Lba=hb.UserAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var A=0;A<e.attributeInfos.length;++A)hb.UserAttributeSet.AttributeInfo.encode(e.attributeInfos[A],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeSet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.account=e.string();break;case 3:A.attributeInfos&&A.attributeInfos.length||(A.attributeInfos=[]),A.attributeInfos.push(hb.UserAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeSet.AttributeInfo;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.key=e.string();break;case 2:A.value=e.string();break;default:e.skipType(7&n)}}return A},e}(),e}(),Mba=hb.UserAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var A=0;A<e.attributeInfos.length;++A)hb.UserAttributeMod.AttributeInfo.encode(e.attributeInfos[A],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeMod;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.account=e.string();break;case 3:A.attributeInfos&&A.attributeInfos.length||(A.attributeInfos=[]),A.attributeInfos.push(hb.UserAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeMod.AttributeInfo;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.key=e.string();break;case 2:A.value=e.string();break;default:e.skipType(7&n)}}return A},e}(),e}(),Nba=hb.UserAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var A=0;A<e.attributes.length;++A)t.uint32(26).string(e.attributes[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeDel;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.account=e.string();break;case 3:A.attributes&&A.attributes.length||(A.attributes=[]),A.attributes.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),Oba=hb.UserAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeErr;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),Pba=hb.UserAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeKeysGet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.account=e.string();break;default:e.skipType(7&n)}}return A},e}(),Qba=hb.UserAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.keys=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var A=0;A<e.keys.length;++A)t.uint32(18).string(e.keys[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeKeysRet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.keys&&A.keys.length||(A.keys=[]),A.keys.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),Rba=hb.UserAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserAttributeRsp;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Sba=hb.GroupStatusList=function(){function e(e){if(this.groups=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.groups=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groups&&e.groups.length)for(var A=0;A<e.groups.length;++A)t.uint32(18).string(e.groups[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupStatusList;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.groups&&A.groups.length||(A.groups=[]),A.groups.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),Tba=hb.GroupStatusResult=function(){function e(e){if(this.groupInfos=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.groupInfos=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groupInfos&&e.groupInfos.length)for(var A=0;A<e.groupInfos.length;++A)hb.GroupStatusResult.GroupInfo.encode(e.groupInfos[A],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupStatusResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.groupInfos&&A.groupInfos.length||(A.groupInfos=[]),A.groupInfos.push(hb.GroupStatusResult.GroupInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.GroupInfo=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.group="",e.prototype.memberCount=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.memberCount&&Object.hasOwnProperty.call(e,"memberCount")&&t.uint32(16).uint32(e.memberCount),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupStatusResult.GroupInfo;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.group=e.string();break;case 2:A.memberCount=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),e}(),Uba=hb.GroupCountNotice=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.size=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(32).uint32(e.size),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupCountNotice;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.instance=e.uint64();break;case 2:A.seq=e.uint64();break;case 3:A.group=e.string();break;case 4:A.size=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),Vba=hb.GroupAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.attributes=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.attributes&&e.attributes.length)for(var A=0;A<e.attributes.length;++A)t.uint32(26).string(e.attributes[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeGet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.group=e.string();break;case 3:A.attributes&&A.attributes.length||(A.attributes=[]),A.attributes.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),Wba=hb.GroupAttributeRet=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.attributeMaps&&e.attributeMaps.length)for(var A=0;A<e.attributeMaps.length;++A)hb.GroupAttributeRet.AttributeMap.encode(e.attributeMaps[A],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeRet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.attributeMaps&&A.attributeMaps.length||(A.attributeMaps=[]),A.attributeMaps.push(hb.GroupAttributeRet.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeRet.AttributeMap;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.key=e.string();break;case 2:A.value=e.string();break;case 3:A.origin=e.string();break;case 4:A.ms=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),e}(),Xba=hb.GroupAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var A=0;A<e.attributeInfos.length;++A)hb.GroupAttributeSet.AttributeInfo.encode(e.attributeInfos[A],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeSet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.group=e.string();break;case 3:A.broadcast=e.bool();break;case 4:A.attributeInfos&&A.attributeInfos.length||(A.attributeInfos=[]),A.attributeInfos.push(hb.GroupAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeSet.AttributeInfo;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.key=e.string();break;case 2:A.value=e.string();break;default:e.skipType(7&n)}}return A},e}(),e}(),Yba=hb.GroupAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var A=0;A<e.attributeInfos.length;++A)hb.GroupAttributeMod.AttributeInfo.encode(e.attributeInfos[A],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeMod;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.group=e.string();break;case 3:A.broadcast=e.bool();break;case 4:A.attributeInfos&&A.attributeInfos.length||(A.attributeInfos=[]),A.attributeInfos.push(hb.GroupAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeMod.AttributeInfo;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.key=e.string();break;case 2:A.value=e.string();break;default:e.skipType(7&n)}}return A},e}(),e}(),Zba=hb.GroupAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributes=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributes&&e.attributes.length)for(var A=0;A<e.attributes.length;++A)t.uint32(34).string(e.attributes[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeDel;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.group=e.string();break;case 3:A.broadcast=e.bool();break;case 4:A.attributes&&A.attributes.length||(A.attributes=[]),A.attributes.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),$ba=hb.GroupAttributeAlt=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.attributeMaps&&e.attributeMaps.length)for(var A=0;A<e.attributeMaps.length;++A)hb.GroupAttributeAlt.AttributeMap.encode(e.attributeMaps[A],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeAlt;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.group=e.string();break;case 3:A.instance=e.uint64();break;case 4:A.attributeMaps&&A.attributeMaps.length||(A.attributeMaps=[]),A.attributeMaps.push(hb.GroupAttributeAlt.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeAlt.AttributeMap;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.key=e.string();break;case 2:A.value=e.string();break;case 3:A.origin=e.string();break;case 4:A.ms=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),e}(),aca=hb.GroupAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeRsp;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),bca=hb.GroupAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeErr;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),cca=hb.GroupAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.group="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeKeysGet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.group=e.string();break;default:e.skipType(7&n)}}return A},e}(),dca=hb.GroupAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.keys=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var A=0;A<e.keys.length;++A)t.uint32(18).string(e.keys[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.GroupAttributeKeysRet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.keys&&A.keys.length||(A.keys=[]),A.keys.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),eca=hb.SubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.users=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var A=0;A<e.users.length;++A)t.uint32(18).string(e.users[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.SubscribeUserStatus;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.users&&A.users.length||(A.users=[]),A.users.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),fca=hb.UnsubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.users=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var A=0;A<e.users.length;++A)t.uint32(18).string(e.users[A]);return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UnsubscribeUserStatus;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.users&&A.users.length||(A.users=[]),A.users.push(e.string());break;default:e.skipType(7&n)}}return A},e}(),gca=hb.UserJoinNotice=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserJoinNotice;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.instance=e.uint64();break;case 2:A.seq=e.uint64();break;case 3:A.user=e.string();break;default:e.skipType(7&n)}}return A},e}(),hca=hb.UserQuitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserQuitNotice;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.instance=e.uint64();break;case 2:A.seq=e.uint64();break;case 3:A.user=e.string();break;default:e.skipType(7&n)}}return A},e}(),ica=hb.UserWaitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.instance=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.UserWaitNotice;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.instance=e.uint64();break;case 2:A.seq=e.uint64();break;case 3:A.user=e.string();break;default:e.skipType(7&n)}}return A},e}(),jca=hb.StateSubscribe=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.subTarget&&Object.hasOwnProperty.call(e,"subTarget")&&t.uint32(18).string(e.subTarget),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateSubscribe;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.subTarget=e.string();break;case 3:A.sequence=e.uint64();break;case 4:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),kca=hb.StateUpdate=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.allStates="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.subTarget&&Object.hasOwnProperty.call(e,"subTarget")&&t.uint32(18).string(e.subTarget),null!=e.allStates&&Object.hasOwnProperty.call(e,"allStates")&&t.uint32(26).string(e.allStates),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateUpdate;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.subTarget=e.string();break;case 3:A.allStates=e.string();break;case 4:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),lca=hb.StateSubscribeResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.subTarget&&Object.hasOwnProperty.call(e,"subTarget")&&t.uint32(18).string(e.subTarget),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(40).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateSubscribeResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.subTarget=e.string();break;case 3:A.sequence=e.uint64();break;case 4:A.flags=e.uint64();break;case 5:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),mca=hb.StateUnsubscribe=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.subTarget&&Object.hasOwnProperty.call(e,"subTarget")&&t.uint32(18).string(e.subTarget),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateUnsubscribe;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.subTarget=e.string();break;case 3:A.sequence=e.uint64();break;case 4:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),nca=hb.StateSet=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.author="",e.prototype.value="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.baseRevision=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.lockRev=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.author&&Object.hasOwnProperty.call(e,"author")&&t.uint32(18).string(e.author),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(26).string(e.value),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(34).string(e.lock),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(42).string(e.requestUuid),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(48).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(56).uint64(e.flags),null!=e.baseRevision&&Object.hasOwnProperty.call(e,"baseRevision")&&t.uint32(64).uint64(e.baseRevision),null!=e.lockRev&&Object.hasOwnProperty.call(e,"lockRev")&&t.uint32(72).uint64(e.lockRev),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateSet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.author=e.string();break;case 3:A.value=e.string();break;case 4:A.lock=e.string();break;case 5:A.requestUuid=e.string();break;case 6:A.sequence=e.uint64();break;case 7:A.flags=e.uint64();break;case 8:A.baseRevision=e.uint64();break;case 9:A.lockRev=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),oca=hb.StateModify=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.author="",e.prototype.value="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.baseRevision=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.lockRev=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.author&&Object.hasOwnProperty.call(e,"author")&&t.uint32(18).string(e.author),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(26).string(e.value),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(34).string(e.lock),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(42).string(e.requestUuid),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(48).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(56).uint64(e.flags),null!=e.baseRevision&&Object.hasOwnProperty.call(e,"baseRevision")&&t.uint32(64).uint64(e.baseRevision),null!=e.lockRev&&Object.hasOwnProperty.call(e,"lockRev")&&t.uint32(72).uint64(e.lockRev),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateModify;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.author=e.string();break;case 3:A.value=e.string();break;case 4:A.lock=e.string();break;case 5:A.requestUuid=e.string();break;case 6:A.sequence=e.uint64();break;case 7:A.flags=e.uint64();break;case 8:A.baseRevision=e.uint64();break;case 9:A.lockRev=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),pca=hb.StateRequestResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.requestUuid="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(10).string(e.requestUuid),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(16).uint64(e.sequence),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateRequestResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.requestUuid=e.string();break;case 2:A.sequence=e.uint64();break;case 3:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),qca=hb.StateGet=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.lock="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.lockRev=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.subTarget&&Object.hasOwnProperty.call(e,"subTarget")&&t.uint32(18).string(e.subTarget),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(26).string(e.lock),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(32).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(40).uint64(e.flags),null!=e.lockRev&&Object.hasOwnProperty.call(e,"lockRev")&&t.uint32(48).uint64(e.lockRev),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateGet;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.subTarget=e.string();break;case 3:A.lock=e.string();break;case 4:A.sequence=e.uint64();break;case 5:A.flags=e.uint64();break;case 6:A.lockRev=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),rca=hb.StateGetResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.allStates="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.subTarget&&Object.hasOwnProperty.call(e,"subTarget")&&t.uint32(18).string(e.subTarget),null!=e.allStates&&Object.hasOwnProperty.call(e,"allStates")&&t.uint32(26).string(e.allStates),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(32).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(40).uint64(e.flags),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(48).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateGetResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.subTarget=e.string();break;case 3:A.allStates=e.string();break;case 4:A.sequence=e.uint64();break;case 5:A.flags=e.uint64();break;case 6:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),sca=hb.StateLockAcquire=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.ttl=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(26).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),null!=e.ttl&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(40).uint64(e.ttl),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockAcquire;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.requestUuid=e.string();break;case 4:A.flags=e.uint64();break;case 5:A.ttl=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),tca=hb.StateLockRelease=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(26).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockRelease;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.requestUuid=e.string();break;case 4:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),uca=hb.StateLockAcquireResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.lockRev=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.prototype.reason="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(26).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),null!=e.lockRev&&Object.hasOwnProperty.call(e,"lockRev")&&t.uint32(40).uint64(e.lockRev),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(48).uint32(e.code),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(58).string(e.reason),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockAcquireResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.requestUuid=e.string();break;case 4:A.flags=e.uint64();break;case 5:A.lockRev=e.uint64();break;case 6:A.code=e.uint32();break;case 7:A.reason=e.string();break;default:e.skipType(7&n)}}return A},e}(),vca=hb.StateLockUpdate=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint64(e.flags),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(32).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockUpdate;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.flags=e.uint64();break;case 4:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),wca=hb.StateLockReleaseResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(26).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(40).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockReleaseResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.requestUuid=e.string();break;case 4:A.flags=e.uint64();break;case 5:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),xca=hb.StateLockDisable=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.userId="",e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(26).string(e.userId),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(34).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(40).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockDisable;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.userId=e.string();break;case 4:A.requestUuid=e.string();break;case 5:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),yca=hb.StateLockDisableResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(26).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(40).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockDisableResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.requestUuid=e.string();break;case 4:A.flags=e.uint64();break;case 5:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),zca=hb.StateLockSubscribe=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(16).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockSubscribe;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.sequence=e.uint64();break;case 3:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Aca=hb.StateLockSubscribeResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(16).uint64(e.sequence),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockSubscribeResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.sequence=e.uint64();break;case 3:A.code=e.uint32();break;case 4:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Bca=hb.LockEventType=function(){var e={},t=Object.create(e);return t[e[0]="LockUnknown"]=0,t[e[1]="LockAdded"]=1,t[e[2]="LockModified"]=2,t[e[3]="LockRemoved"]=3,t[e[4]="LockSnapshot"]=4,t}(),Cca=hb.LockState=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.lockName="",e.prototype.lockState="",e.encode=function(e,t){return t||(t=hc.create()),null!=e.lockName&&Object.hasOwnProperty.call(e,"lockName")&&t.uint32(10).string(e.lockName),null!=e.lockState&&Object.hasOwnProperty.call(e,"lockState")&&t.uint32(18).string(e.lockState),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.LockState;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.lockName=e.string();break;case 2:A.lockState=e.string();break;default:e.skipType(7&n)}}return A},e}(),Dca=hb.StateLockSubscribeEvent=function(){function e(e){if(this.lockStates=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lockStates=Qa.emptyArray,e.prototype.eventType=0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lockStates&&e.lockStates.length)for(var A=0;A<e.lockStates.length;++A)hb.LockState.encode(e.lockStates[A],t.uint32(18).fork()).ldelim();return null!=e.eventType&&Object.hasOwnProperty.call(e,"eventType")&&t.uint32(24).int32(e.eventType),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockSubscribeEvent;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lockStates&&A.lockStates.length||(A.lockStates=[]),A.lockStates.push(hb.LockState.decode(e,e.uint32()));break;case 3:A.eventType=e.int32();break;case 4:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Eca=hb.StateLockUnsubscribe=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(16).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockUnsubscribe;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.sequence=e.uint64();break;case 3:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Fca=hb.StateLockCreate=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.ttl=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.ttl&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(24).uint64(e.ttl),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(34).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(40).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockCreate;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.ttl=e.uint64();break;case 4:A.requestUuid=e.string();break;case 5:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Gca=hb.StateLockCreateResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.code=0,e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(34).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(40).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockCreateResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.code=e.uint32();break;case 4:A.requestUuid=e.string();break;case 5:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Hca=hb.StateLockDelete=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(26).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(32).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockDelete;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.requestUuid=e.string();break;case 4:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Ica=hb.StateLockDeleteResult=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.lock="",e.prototype.code=0,e.prototype.requestUuid="",e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(18).string(e.lock),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),null!=e.requestUuid&&Object.hasOwnProperty.call(e,"requestUuid")&&t.uint32(34).string(e.requestUuid),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(40).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockDeleteResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.lock=e.string();break;case 3:A.code=e.uint32();break;case 4:A.requestUuid=e.string();break;case 5:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Jca=hb.StateLockList=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(16).uint64(e.sequence),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(24).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockList;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.sequence=e.uint64();break;case 3:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Kca=hb.StateLockListResult=function(){function e(e){if(this.lockStates=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.target="",e.prototype.sequence=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.prototype.lockStates=Qa.emptyArray,e.prototype.flags=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(10).string(e.target),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(16).uint64(e.sequence),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),null!=e.lockStates&&e.lockStates.length)for(var A=0;A<e.lockStates.length;++A)hb.LockState.encode(e.lockStates[A],t.uint32(34).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(40).uint64(e.flags),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.StateLockListResult;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.target=e.string();break;case 2:A.sequence=e.uint64();break;case 3:A.code=e.uint32();break;case 4:A.lockStates&&A.lockStates.length||(A.lockStates=[]),A.lockStates.push(hb.LockState.decode(e,e.uint32()));break;case 5:A.flags=e.uint64();break;default:e.skipType(7&n)}}return A},e}(),Lca=hb.SubscribeResponse=function(){function e(e){if(this.errors=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.seq=Qa.Long?Qa.Long.fromBits(0,0,!0):0,e.prototype.errors=Qa.emptyArray,e.encode=function(e,t){if(t||(t=hc.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.errors&&e.errors.length)for(var A=0;A<e.errors.length;++A)hb.SubscribeResponse.SubscribeErrorsType.encode(e.errors[A],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.SubscribeResponse;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.seq=e.uint64();break;case 2:A.errors&&A.errors.length||(A.errors=[]),A.errors.push(hb.SubscribeResponse.SubscribeErrorsType.decode(e,e.uint32()));break;default:e.skipType(7&n)}}return A},e.SubscribeErrorsType=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=hc.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof lb||(e=lb.create(e)),t=void 0===t?e.len:e.pos+t;for(var A=new hb.SubscribeResponse.SubscribeErrorsType;e.pos<t;){var n=e.uint32();switch(n>>>3){case 1:A.account=e.string();break;case 2:A.code=e.uint32();break;default:e.skipType(7&n)}}return A},e}(),e}(),Mca=Object.freeze({__proto__:null,URI:mba,Wrapper:jA,Ping:nba,Ping2:oba,Pong:pba,UserJoin:qba,UserResp:rba,UserJoinDetailKey:sba,UserJoin2:tba,UserResp2:uba,UserQuit:vba,UserQuit2:wba,UserDrop:xba,UserTicketNearlyExpire:yba,UserRenewTokenReq:zba,UserRenewTokenResp:Aba,GroupEnter:Bba,GroupLeave:Cba,GroupReply:Dba,GroupLeaveNotice:MV,GroupEnterNotice:NV,Message:OV,Ack:PV,GroupDrop:Eba,GroupAllUsersList:Fba,GroupAllUsersResult:Gba,UserStatusList:Hba,UserStatusResult:Iba,UserAttributeGet:Jba,UserAttributeRet:Kba,UserAttributeSet:Lba,UserAttributeMod:Mba,UserAttributeDel:Nba,UserAttributeErr:Oba,UserAttributeKeysGet:Pba,UserAttributeKeysRet:Qba,UserAttributeRsp:Rba,GroupStatusList:Sba,GroupStatusResult:Tba,GroupCountNotice:Uba,GroupAttributeGet:Vba,GroupAttributeRet:Wba,GroupAttributeSet:Xba,GroupAttributeMod:Yba,GroupAttributeDel:Zba,GroupAttributeAlt:$ba,GroupAttributeRsp:aca,GroupAttributeErr:bca,GroupAttributeKeysGet:cca,GroupAttributeKeysRet:dca,SubscribeUserStatus:eca,UnsubscribeUserStatus:fca,UserJoinNotice:gca,UserQuitNotice:hca,UserWaitNotice:ica,StateSubscribe:jca,StateUpdate:kca,StateSubscribeResult:lca,StateUnsubscribe:mca,StateSet:nca,StateModify:oca,StateRequestResult:pca,StateGet:qca,StateGetResult:rca,StateLockAcquire:sca,StateLockRelease:tca,StateLockAcquireResult:uca,StateLockUpdate:vca,StateLockReleaseResult:wca,StateLockDisable:xca,StateLockDisableResult:yca,StateLockSubscribe:zca,StateLockSubscribeResult:Aca,LockEventType:Bca,LockState:Cca,StateLockSubscribeEvent:Dca,StateLockUnsubscribe:Eca,StateLockCreate:Fca,StateLockCreateResult:Gca,StateLockDelete:Hca,StateLockDeleteResult:Ica,StateLockList:Jca,StateLockListResult:Kca,SubscribeResponse:Lca,default:hb}),EB=hb.URI,hY=jA,Nca=bI(Mca,["Wrapper"]),cK=PB(Nca,"URI","LockEventType","UserJoinDetailKey"),QV=["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"],RV=["ap-web-1.agora.io","ap-web-2.agora.io"],SV=["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"],TV=["ap-web-3.agora.io","ap-web-4.agora.io"],Yp=function(e){var t=Qc("AP_DOMAIN"),A=Pl(t);return"https://".concat(A?t:e,"/api/v1")},Dg=Nh.Writer,mb=Nh.util,Cf=Nh.roots.default||(Nh.roots.default={}),Oca=Cf.Session=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.appId="",e.prototype.ver="",e.prototype.buildno=0,e.prototype.installId="",e.prototype.os=0,e.prototype.did="",e.prototype.index=null,e.prototype.token="",e.prototype.version=0,e.prototype.subVersion=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(42).string(e.appId),null!=e.ver&&Object.hasOwnProperty.call(e,"ver")&&t.uint32(50).string(e.ver),null!=e.buildno&&Object.hasOwnProperty.call(e,"buildno")&&t.uint32(56).int32(e.buildno),null!=e.installId&&Object.hasOwnProperty.call(e,"installId")&&t.uint32(66).string(e.installId),null!=e.os&&Object.hasOwnProperty.call(e,"os")&&t.uint32(128).int32(e.os),null!=e.did&&Object.hasOwnProperty.call(e,"did")&&t.uint32(138).string(e.did),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&Cf.Session.CommonIndex.encode(e.index,t.uint32(162).fork()).ldelim(),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(170).string(e.token),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(176).int32(e.version),null!=e.subVersion&&Object.hasOwnProperty.call(e,"subVersion")&&t.uint32(184).int32(e.subVersion),t},e.CommonIndex=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(e,t){return t||(t=Dg.create()),null!=e.index1&&Object.hasOwnProperty.call(e,"index1")&&t.uint32(10).string(e.index1),null!=e.index2&&Object.hasOwnProperty.call(e,"index2")&&t.uint32(18).string(e.index2),null!=e.index3&&Object.hasOwnProperty.call(e,"index3")&&t.uint32(26).string(e.index3),t},e}(),e}(),Pca=Cf.ApEvent=function(){function e(e){if(this.linkServerList=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.apAddr="",e.prototype.linkServerList=mb.emptyArray,e.prototype.errCode=0,e.prototype.serverErrCode=0,e.prototype.isp="",e.prototype.opId=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.envId=0,e.prototype.flag=0,e.prototype.area="",e.encode=function(e,t){if(t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.apAddr&&Object.hasOwnProperty.call(e,"apAddr")&&t.uint32(50).string(e.apAddr),null!=e.linkServerList&&e.linkServerList.length)for(var A=0;A<e.linkServerList.length;++A)t.uint32(58).string(e.linkServerList[A]);return null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(72).int32(e.errCode),null!=e.serverErrCode&&Object.hasOwnProperty.call(e,"serverErrCode")&&t.uint32(80).int32(e.serverErrCode),null!=e.isp&&Object.hasOwnProperty.call(e,"isp")&&t.uint32(90).string(e.isp),null!=e.opId&&Object.hasOwnProperty.call(e,"opId")&&t.uint32(96).int64(e.opId),null!=e.envId&&Object.hasOwnProperty.call(e,"envId")&&t.uint32(104).int32(e.envId),null!=e.flag&&Object.hasOwnProperty.call(e,"flag")&&t.uint32(112).int32(e.flag),null!=e.area&&Object.hasOwnProperty.call(e,"area")&&t.uint32(122).string(e.area),t},e}(),Qca=Cf.ApRequest=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.apAddr="",e.prototype.opId=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.envId=0,e.prototype.flag=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.apAddr&&Object.hasOwnProperty.call(e,"apAddr")&&t.uint32(42).string(e.apAddr),null!=e.opId&&Object.hasOwnProperty.call(e,"opId")&&t.uint32(48).int64(e.opId),null!=e.envId&&Object.hasOwnProperty.call(e,"envId")&&t.uint32(56).int32(e.envId),null!=e.flag&&Object.hasOwnProperty.call(e,"flag")&&t.uint32(64).int32(e.flag),t},e}(),Rca=Cf.LinkLoginRequest=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.destServerIp="",e.prototype.linkId=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.destServerIp&&Object.hasOwnProperty.call(e,"destServerIp")&&t.uint32(42).string(e.destServerIp),null!=e.linkId&&Object.hasOwnProperty.call(e,"linkId")&&t.uint32(48).int32(e.linkId),t},e}(),Sca=Cf.Link=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.ec=0,e.prototype.sc=0,e.prototype.destServerIp="",e.prototype.ackedServerIp="",e.prototype.responseTime=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.ec&&Object.hasOwnProperty.call(e,"ec")&&t.uint32(40).int32(e.ec),null!=e.sc&&Object.hasOwnProperty.call(e,"sc")&&t.uint32(48).int32(e.sc),null!=e.destServerIp&&Object.hasOwnProperty.call(e,"destServerIp")&&t.uint32(58).string(e.destServerIp),null!=e.ackedServerIp&&Object.hasOwnProperty.call(e,"ackedServerIp")&&t.uint32(66).string(e.ackedServerIp),null!=e.responseTime&&Object.hasOwnProperty.call(e,"responseTime")&&t.uint32(72).int32(e.responseTime),t},e}(),Tca=Cf.Logout=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),t},e}(),Uca=Cf.KickedOff=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.linkId=0,e.prototype.code=0,e.prototype.server="",e.prototype.serverCode=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.linkId&&Object.hasOwnProperty.call(e,"linkId")&&t.uint32(48).int32(e.linkId),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(56).int32(e.code),null!=e.server&&Object.hasOwnProperty.call(e,"server")&&t.uint32(66).string(e.server),null!=e.serverCode&&Object.hasOwnProperty.call(e,"serverCode")&&t.uint32(72).int32(e.serverCode),t},e}(),Vca=Cf.ChnJoin=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),Wca=Cf.ChnJoinRes=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.prototype.serverErrCode=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),null!=e.serverErrCode&&Object.hasOwnProperty.call(e,"serverErrCode")&&t.uint32(64).int32(e.serverErrCode),t},e}(),Xca=Cf.ChnLeave=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),Yca=Cf.ConnectionStateChange=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.elapse=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.oldState=0,e.prototype.newState=0,e.prototype.reason=0,e.prototype.reconnId=0,e.encode=function(e,t){return t||(t=Dg.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.oldState&&Object.hasOwnProperty.call(e,"oldState")&&t.uint32(40).int32(e.oldState),null!=e.newState&&Object.hasOwnProperty.call(e,"newState")&&t.uint32(48).int32(e.newState),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(56).int32(e.reason),null!=e.reconnId&&Object.hasOwnProperty.call(e,"reconnId")&&t.uint32(64).int32(e.reconnId),t},e}(),UV=Cf.RtmSdkMessageCount=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.vid=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.messagecategory=0,e.prototype.reportsequence=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.sentcount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.receivedcount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack10mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack25mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack50mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack75mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack100mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack150mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack200mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack250mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack300mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack400mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack500mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack600mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack800mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack1000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack2000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack3000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack5000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerack7000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.peerackslowcount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack10mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack25mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack50mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack75mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack100mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack150mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack200mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack250mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack300mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack400mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack500mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack600mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack800mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack1000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack2000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack3000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack5000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientack7000mscount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.norecipientackslowcount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.acktimeoutcount=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.apimajorversion=0,e.prototype.apiminorversion=0,e.prototype.os=0,e.prototype.toooftencount=0,e.prototype.receiverofflinecount=0,e.prototype.invalidmessagecount=0,e.prototype.unknowerrorcount=0,e.prototype.servercachedcount=0,e.prototype.timeoutcount=0,e.prototype.successcount=0,e.prototype.userid="",e.encode=function(e,t){return t||(t=Dg.create()),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(8).int64(e.lts),null!=e.vid&&Object.hasOwnProperty.call(e,"vid")&&t.uint32(16).int64(e.vid),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(26).string(e.sid),null!=e.messagecategory&&Object.hasOwnProperty.call(e,"messagecategory")&&t.uint32(32).int32(e.messagecategory),null!=e.reportsequence&&Object.hasOwnProperty.call(e,"reportsequence")&&t.uint32(40).int64(e.reportsequence),null!=e.sentcount&&Object.hasOwnProperty.call(e,"sentcount")&&t.uint32(48).int64(e.sentcount),null!=e.receivedcount&&Object.hasOwnProperty.call(e,"receivedcount")&&t.uint32(56).int64(e.receivedcount),null!=e.peerack10mscount&&Object.hasOwnProperty.call(e,"peerack10mscount")&&t.uint32(64).int64(e.peerack10mscount),null!=e.peerack25mscount&&Object.hasOwnProperty.call(e,"peerack25mscount")&&t.uint32(72).int64(e.peerack25mscount),null!=e.peerack50mscount&&Object.hasOwnProperty.call(e,"peerack50mscount")&&t.uint32(80).int64(e.peerack50mscount),null!=e.peerack75mscount&&Object.hasOwnProperty.call(e,"peerack75mscount")&&t.uint32(88).int64(e.peerack75mscount),null!=e.peerack100mscount&&Object.hasOwnProperty.call(e,"peerack100mscount")&&t.uint32(96).int64(e.peerack100mscount),null!=e.peerack150mscount&&Object.hasOwnProperty.call(e,"peerack150mscount")&&t.uint32(104).int64(e.peerack150mscount),null!=e.peerack200mscount&&Object.hasOwnProperty.call(e,"peerack200mscount")&&t.uint32(112).int64(e.peerack200mscount),null!=e.peerack250mscount&&Object.hasOwnProperty.call(e,"peerack250mscount")&&t.uint32(120).int64(e.peerack250mscount),null!=e.peerack300mscount&&Object.hasOwnProperty.call(e,"peerack300mscount")&&t.uint32(128).int64(e.peerack300mscount),null!=e.peerack400mscount&&Object.hasOwnProperty.call(e,"peerack400mscount")&&t.uint32(136).int64(e.peerack400mscount),null!=e.peerack500mscount&&Object.hasOwnProperty.call(e,"peerack500mscount")&&t.uint32(144).int64(e.peerack500mscount),null!=e.peerack600mscount&&Object.hasOwnProperty.call(e,"peerack600mscount")&&t.uint32(152).int64(e.peerack600mscount),null!=e.peerack800mscount&&Object.hasOwnProperty.call(e,"peerack800mscount")&&t.uint32(160).int64(e.peerack800mscount),null!=e.peerack1000mscount&&Object.hasOwnProperty.call(e,"peerack1000mscount")&&t.uint32(168).int64(e.peerack1000mscount),null!=e.peerack2000mscount&&Object.hasOwnProperty.call(e,"peerack2000mscount")&&t.uint32(176).int64(e.peerack2000mscount),null!=e.peerack3000mscount&&Object.hasOwnProperty.call(e,"peerack3000mscount")&&t.uint32(184).int64(e.peerack3000mscount),null!=e.peerack5000mscount&&Object.hasOwnProperty.call(e,"peerack5000mscount")&&t.uint32(192).int64(e.peerack5000mscount),null!=e.peerack7000mscount&&Object.hasOwnProperty.call(e,"peerack7000mscount")&&t.uint32(200).int64(e.peerack7000mscount),null!=e.peerackslowcount&&Object.hasOwnProperty.call(e,"peerackslowcount")&&t.uint32(208).int64(e.peerackslowcount),null!=e.norecipientack10mscount&&Object.hasOwnProperty.call(e,"norecipientack10mscount")&&t.uint32(216).int64(e.norecipientack10mscount),null!=e.norecipientack25mscount&&Object.hasOwnProperty.call(e,"norecipientack25mscount")&&t.uint32(224).int64(e.norecipientack25mscount),null!=e.norecipientack50mscount&&Object.hasOwnProperty.call(e,"norecipientack50mscount")&&t.uint32(232).int64(e.norecipientack50mscount),null!=e.norecipientack75mscount&&Object.hasOwnProperty.call(e,"norecipientack75mscount")&&t.uint32(240).int64(e.norecipientack75mscount),null!=e.norecipientack100mscount&&Object.hasOwnProperty.call(e,"norecipientack100mscount")&&t.uint32(248).int64(e.norecipientack100mscount),null!=e.norecipientack150mscount&&Object.hasOwnProperty.call(e,"norecipientack150mscount")&&t.uint32(256).int64(e.norecipientack150mscount),null!=e.norecipientack200mscount&&Object.hasOwnProperty.call(e,"norecipientack200mscount")&&t.uint32(264).int64(e.norecipientack200mscount),null!=e.norecipientack250mscount&&Object.hasOwnProperty.call(e,"norecipientack250mscount")&&t.uint32(272).int64(e.norecipientack250mscount),null!=e.norecipientack300mscount&&Object.hasOwnProperty.call(e,"norecipientack300mscount")&&t.uint32(280).int64(e.norecipientack300mscount),null!=e.norecipientack400mscount&&Object.hasOwnProperty.call(e,"norecipientack400mscount")&&t.uint32(288).int64(e.norecipientack400mscount),null!=e.norecipientack500mscount&&Object.hasOwnProperty.call(e,"norecipientack500mscount")&&t.uint32(296).int64(e.norecipientack500mscount),null!=e.norecipientack600mscount&&Object.hasOwnProperty.call(e,"norecipientack600mscount")&&t.uint32(304).int64(e.norecipientack600mscount),null!=e.norecipientack800mscount&&Object.hasOwnProperty.call(e,"norecipientack800mscount")&&t.uint32(312).int64(e.norecipientack800mscount),null!=e.norecipientack1000mscount&&Object.hasOwnProperty.call(e,"norecipientack1000mscount")&&t.uint32(320).int64(e.norecipientack1000mscount),null!=e.norecipientack2000mscount&&Object.hasOwnProperty.call(e,"norecipientack2000mscount")&&t.uint32(328).int64(e.norecipientack2000mscount),null!=e.norecipientack3000mscount&&Object.hasOwnProperty.call(e,"norecipientack3000mscount")&&t.uint32(336).int64(e.norecipientack3000mscount),null!=e.norecipientack5000mscount&&Object.hasOwnProperty.call(e,"norecipientack5000mscount")&&t.uint32(344).int64(e.norecipientack5000mscount),null!=e.norecipientack7000mscount&&Object.hasOwnProperty.call(e,"norecipientack7000mscount")&&t.uint32(352).int64(e.norecipientack7000mscount),null!=e.norecipientackslowcount&&Object.hasOwnProperty.call(e,"norecipientackslowcount")&&t.uint32(360).int64(e.norecipientackslowcount),null!=e.acktimeoutcount&&Object.hasOwnProperty.call(e,"acktimeoutcount")&&t.uint32(368).int64(e.acktimeoutcount),null!=e.apimajorversion&&Object.hasOwnProperty.call(e,"apimajorversion")&&t.uint32(376).int32(e.apimajorversion),null!=e.apiminorversion&&Object.hasOwnProperty.call(e,"apiminorversion")&&t.uint32(384).int32(e.apiminorversion),null!=e.os&&Object.hasOwnProperty.call(e,"os")&&t.uint32(392).int32(e.os),null!=e.toooftencount&&Object.hasOwnProperty.call(e,"toooftencount")&&t.uint32(400).int32(e.toooftencount),null!=e.receiverofflinecount&&Object.hasOwnProperty.call(e,"receiverofflinecount")&&t.uint32(408).int32(e.receiverofflinecount),null!=e.invalidmessagecount&&Object.hasOwnProperty.call(e,"invalidmessagecount")&&t.uint32(416).int32(e.invalidmessagecount),null!=e.unknowerrorcount&&Object.hasOwnProperty.call(e,"unknowerrorcount")&&t.uint32(424).int32(e.unknowerrorcount),null!=e.servercachedcount&&Object.hasOwnProperty.call(e,"servercachedcount")&&t.uint32(432).int32(e.servercachedcount),null!=e.timeoutcount&&Object.hasOwnProperty.call(e,"timeoutcount")&&t.uint32(440).int32(e.timeoutcount),null!=e.successcount&&Object.hasOwnProperty.call(e,"successcount")&&t.uint32(448).int32(e.successcount),null!=e.userid&&Object.hasOwnProperty.call(e,"userid")&&t.uint32(458).string(e.userid),t},e}(),Zca=Cf.SyncOperateEvent=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.userid="",e.prototype.vid=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.requestts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.replyts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.target="",e.prototype.eventtype="",e.prototype.revision=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.uuid="",e.prototype.sdktype=0,e.prototype.flags=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.code=0,e.prototype.seq=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.index=null,e.prototype.lock="",e.prototype.lockrev=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.subtarget="",e.prototype.usersid="",e.encode=function(e,t){return t||(t=Dg.create()),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(8).int64(e.lts),null!=e.userid&&Object.hasOwnProperty.call(e,"userid")&&t.uint32(26).string(e.userid),null!=e.vid&&Object.hasOwnProperty.call(e,"vid")&&t.uint32(32).int64(e.vid),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(42).string(e.sid),null!=e.requestts&&Object.hasOwnProperty.call(e,"requestts")&&t.uint32(48).int64(e.requestts),null!=e.replyts&&Object.hasOwnProperty.call(e,"replyts")&&t.uint32(56).int64(e.replyts),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(66).string(e.target),null!=e.eventtype&&Object.hasOwnProperty.call(e,"eventtype")&&t.uint32(74).string(e.eventtype),null!=e.revision&&Object.hasOwnProperty.call(e,"revision")&&t.uint32(80).int64(e.revision),null!=e.uuid&&Object.hasOwnProperty.call(e,"uuid")&&t.uint32(90).string(e.uuid),null!=e.sdktype&&Object.hasOwnProperty.call(e,"sdktype")&&t.uint32(96).int32(e.sdktype),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(104).int64(e.flags),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(112).int32(e.code),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(120).int64(e.seq),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&Cf.CommonIndex.encode(e.index,t.uint32(130).fork()).ldelim(),null!=e.lock&&Object.hasOwnProperty.call(e,"lock")&&t.uint32(138).string(e.lock),null!=e.lockrev&&Object.hasOwnProperty.call(e,"lockrev")&&t.uint32(144).int64(e.lockrev),null!=e.subtarget&&Object.hasOwnProperty.call(e,"subtarget")&&t.uint32(154).string(e.subtarget),null!=e.usersid&&Object.hasOwnProperty.call(e,"usersid")&&t.uint32(162).string(e.usersid),t},e}(),$ca=Cf.SyncSubscribeEvent=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.userid="",e.prototype.vid=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.target="",e.prototype.eventtype="",e.prototype.sdktype=0,e.prototype.flags=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.code=0,e.prototype.seq=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.requestts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.replyts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.index=null,e.prototype.subtarget="",e.prototype.usersid="",e.encode=function(e,t){return t||(t=Dg.create()),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(8).int64(e.lts),null!=e.userid&&Object.hasOwnProperty.call(e,"userid")&&t.uint32(26).string(e.userid),null!=e.vid&&Object.hasOwnProperty.call(e,"vid")&&t.uint32(32).int64(e.vid),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(42).string(e.sid),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(66).string(e.target),null!=e.eventtype&&Object.hasOwnProperty.call(e,"eventtype")&&t.uint32(74).string(e.eventtype),null!=e.sdktype&&Object.hasOwnProperty.call(e,"sdktype")&&t.uint32(96).int32(e.sdktype),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(104).int64(e.flags),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(112).int32(e.code),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(120).int64(e.seq),null!=e.requestts&&Object.hasOwnProperty.call(e,"requestts")&&t.uint32(128).int64(e.requestts),null!=e.replyts&&Object.hasOwnProperty.call(e,"replyts")&&t.uint32(136).int64(e.replyts),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&Cf.CommonIndex.encode(e.index,t.uint32(146).fork()).ldelim(),null!=e.subtarget&&Object.hasOwnProperty.call(e,"subtarget")&&t.uint32(154).string(e.subtarget),null!=e.usersid&&Object.hasOwnProperty.call(e,"usersid")&&t.uint32(162).string(e.usersid),t},e}(),ada=Cf.SyncUpdateEvent=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.lts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.userid="",e.prototype.vid=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.replyts=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.target="",e.prototype.eventtype="",e.prototype.revision=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.sdktype=0,e.prototype.flags=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.count=0,e.prototype.delta=0,e.prototype.code=0,e.prototype.index=null,e.prototype.subtarget="",e.encode=function(e,t){return t||(t=Dg.create()),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(8).int64(e.lts),null!=e.userid&&Object.hasOwnProperty.call(e,"userid")&&t.uint32(26).string(e.userid),null!=e.vid&&Object.hasOwnProperty.call(e,"vid")&&t.uint32(32).int64(e.vid),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(42).string(e.sid),null!=e.replyts&&Object.hasOwnProperty.call(e,"replyts")&&t.uint32(56).int64(e.replyts),null!=e.target&&Object.hasOwnProperty.call(e,"target")&&t.uint32(66).string(e.target),null!=e.eventtype&&Object.hasOwnProperty.call(e,"eventtype")&&t.uint32(74).string(e.eventtype),null!=e.revision&&Object.hasOwnProperty.call(e,"revision")&&t.uint32(80).int64(e.revision),null!=e.sdktype&&Object.hasOwnProperty.call(e,"sdktype")&&t.uint32(96).int32(e.sdktype),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(104).int64(e.flags),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(112).int32(e.count),null!=e.delta&&Object.hasOwnProperty.call(e,"delta")&&t.uint32(120).int32(e.delta),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(128).int32(e.code),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&Cf.CommonIndex.encode(e.index,t.uint32(138).fork()).ldelim(),null!=e.subtarget&&Object.hasOwnProperty.call(e,"subtarget")&&t.uint32(162).string(e.subtarget),t},e}(),bda=Cf.CommonIndex=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(e,t){return t||(t=Dg.create()),null!=e.index1&&Object.hasOwnProperty.call(e,"index1")&&t.uint32(10).string(e.index1),null!=e.index2&&Object.hasOwnProperty.call(e,"index2")&&t.uint32(18).string(e.index2),null!=e.index3&&Object.hasOwnProperty.call(e,"index3")&&t.uint32(26).string(e.index3),t},e}(),cda=Cf.Message=function(){function e(e){if(e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.id=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.msg=mb.newBuffer([]),e.encode=function(e,t){return t||(t=Dg.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(8).int64(e.id),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).bytes(e.msg),t},e}(),dK=Cf.ProtoRaws=function(){function e(e){if(this.payloads=[],e)for(var t=Object.keys(e),A=0;A<t.length;++A)null!=e[t[A]]&&(this[t[A]]=e[t[A]])}return e.prototype.sendTs=mb.Long?mb.Long.fromBits(0,0,!1):0,e.prototype.payloads=mb.emptyArray,e.prototype.vid=mb.Long?mb.Long.fromBits(0,0,!1):0,e.encode=function(e,t){if(t||(t=Dg.create()),null!=e.sendTs&&Object.hasOwnProperty.call(e,"sendTs")&&t.uint32(8).int64(e.sendTs),null!=e.payloads&&e.payloads.length)for(var A=0;A<e.payloads.length;++A)Cf.Message.encode(e.payloads[A],t.uint32(18).fork()).ldelim();return null!=e.vid&&Object.hasOwnProperty.call(e,"vid")&&t.uint32(24).int64(e.vid),t},e}(),eK=Object.freeze({__proto__:null,Session:Oca,ApEvent:Pca,ApRequest:Qca,LinkLoginRequest:Rca,Link:Sca,Logout:Tca,KickedOff:Uca,ChnJoin:Vca,ChnJoinRes:Wca,ChnLeave:Xca,ConnectionStateChange:Yca,RtmSdkMessageCount:UV,SyncOperateEvent:Zca,SyncSubscribeEvent:$ca,SyncUpdateEvent:ada,CommonIndex:bda,Message:cda,ProtoRaws:dK,default:Cf}),fK={Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651},Tm=new Map,VV=Dt(),PH=function(e){function t(e,n,r,i,o,a){var s,c;zb(this,t);var u=A.call(this,o,rq("Socket-",o.loggerId));if(na(V(u),"isActiveClose",!1),na(V(u),"loggedIn",!1),na(V(u),"useNewDomain",void 0),na(V(u),"receivedPacket",new Cg),na(V(u),"open$",void 0),na(V(u),"input$",new Cg),na(V(u),"userJoin$",new Cg),na(V(u),"EDGE_ENV_PORT",null!==(s=Qc("EDGE_ENV_PORT"))&&void 0!==s?s:nH),na(V(u),"attemptsSinceLastError",0),na(V(u),"message$",new Cg),na(V(u),"socket$",void 0),na(V(u),"toClose",new Cg),na(V(u),"toReconnect",new Cg),na(V(u),"sendLogger",void 0),na(V(u),"receiveLogger",void 0),na(V(u),"ip",void 0),na(V(u),"env",void 0),na(V(u),"ticket",void 0),na(V(u),"context",void 0),na(V(u),"getDomain",(function(){return FB(u.ip,u.useNewDomain)})),na(V(u),"socketReconnector",(function(e){var t=function(e){return u.attemptsSinceLastError+=1,u.warn("The %s of Env %d reconnecting %s",u.name,u.env,e.message),Ti(3e3)};return e.pipe(Pd((function(e){return u.warn("Env_".concat(u.env,"(").concat(u.name,"): socket connection closed, errorInfo: ").concat(e)),u.loggedIn=!1,2<=u.attemptsSinceLastError?(u.log("ENV_".concat(u.env,"(").concat(u.name,"): will emit connectionFailure")),u.emit("connectionFailure"),u.close(),Rc(e)):u.isActiveClose?ah.EMPTY:(u.log("ENV_".concat(u.env,"(").concat(u.name,"): will emit reconnect")),u.emit("reconnect"),u.useNewDomain=!u.useNewDomain,Rc(e))})),Mm((function(e){return e.pipe(Sf(t))})))})),u.ip=e,u.env=n,u.ticket=r,u.context=i,u.useNewDomain=null!=a?a:.5<=Math.random(),u.sendLogger=u.genLogger("RTM:MSG:SEND"),u.receiveLogger=u.genLogger("RTM:MSG:RECV"),0!==n&&1!==n)throw new VV({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var g=u.EDGE_ENV_PORT[n];u.log("Opening websocket address %s for the Env %d, %s",u.ip,u.env,u.name),De("LinkLoginRequest",{sid:u.context.sid,userId:u.context.uid,lts:Xa.fromNumber(Date.now()),elapse:lf(u.context.startTime),destServerIp:u.ip,linkId:u.env},null!==(c=u.context.config.cloudProxy||u.context.socketUseProxy)&&void 0!==c&&c,u.context.vid);var I=ng(u.input$,u.userJoin$.pipe(fY(2)),u.message$).pipe(hf((function(e){return jA.encode(e).finish()})));return e=ng($J("",{protocols:[],makeWebSocket:function(){var e=Qc("REGISTRAR_USE_WS")?"ws":"wss";if(u.log("registrar websocket use ".concat(e)),u.context.config.cloudProxy||u.context.socketUseProxy){if(0===u.context.cloudProxyServers.length)throw u.logError("No cloud proxy server to connect"),new Db("");var t=Pl(null)?JSON.parse(null.replace(/-/g,".")):u.context.cloudProxyServers;e=Tk(e="".concat(e,"://").concat(FB(IB(t),!1),"/"),"sid",u.context.sid),e=Tk(e,"remote_port",g.toString()),e=Tk(e,"remote_ip",u.ip),e=Tk(e,"token",u.context.key),e=new WebSocket(e)}else e=new WebSocket("".concat(e,"://").concat(u.getDomain(),":").concat(g));return e.binaryType="arraybuffer",e}}),u.toReconnect),u.socket$=Qf(e,LV.NEVER.pipe(Oh(7e3),Pd((function(e){return Qe(e)?u.warn("ENV_".concat(u.env,"(").concat(u.name,"): socket open timed out")):u.warn("ENV_".concat(u.env,"(").concat(u.name,"): error occurs of opening socket: ").concat(e)),Rc(e)})))).pipe(hf((function(e){if(e instanceof Error)throw u.warn("Env_%d: Force reconnect the socket",u.env),e;return e(I).pipe(hf((function(e){return jA.decode(new Uint8Array(e))})))})),u.socketReconnector),u.open$=u.socket$.pipe(Fc((function(e){u.log("ENV_".concat(u.env,": Websocket opened, addr: ").concat(u.address),u.name),e.subscribe((function(e){var t=e.data;e=EB[e.uri].slice(0,-3),t=cK[e].decode(t);var A=j2({},PB(t,"toJSON"),(function(e,t){return t instanceof Xa?UI(t):t})),n=!1;if((t instanceof NV||t instanceof MV)&&t.instance.lessThanOrEqual(4294967295)&&(n=!0),t instanceof OV||t instanceof PV){var r=t.instance,i=t.sequence;(t.dialogue.lessThanOrEqual(4294967295)||r.lessThanOrEqual(4294967295)||i.lessThan(1))&&(n=!0)}n?u.warn("Env_%d: Illegal %s, abandoned %o",u.env,e,A):("Pong"!==e&&u.receiveLogger("Env_%d: %s %o",u.env,e,A),u.receivedPacket.next([e,t]))}),(function(){}))})),Lm(void 0),wh(u.toClose),gk()),u}Zb(t,e);var A=$b(t);return Ib(t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(this.EDGE_ENV_PORT[this.env])}},{key:"sendPacket",value:function(e,t){if("Ping2"!==e){var A=g2(t,(function(e){return e instanceof Xa?UI(e):e}));this.sendLogger("Env_%d: %s %o",this.env,e,A)}t=gY(e,t),"UserJoin2"===e?this.userJoin$.next(t):"Message"===e?this.message$.next(t):this.input$.next(t)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(e){return this.receivedPacket.pipe(Af((function(t){return Lb(t,1)[0]===e})),hf((function(e){return Lb(e,2)[1]})))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new VV({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),t}(Mh),WV=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),kA=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof(t=e[e.length-1])&&e.pop(),dA.fromArray(e,void 0).lift(new dda(t))},dda=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new eda(e,this.resultSelector))},e}(),eda=function(e){function t(t,A,n){return(t=e.call(this,t)||this).resultSelector=A,t.iterators=[],t.active=0,t.resultSelector="function"==typeof A?A:void 0,t}return WV(t,e),t.prototype._next=function(e){var t=this.iterators;et.isArray(e)?t.push(new fda(e)):"function"==typeof e[no.iterator]?t.push(new gda(e[no.iterator]())):t.push(new hda(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0===t)this.destination.complete();else{this.active=t;for(var A=0;A<t;A++){var n=e[A];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,A=this.destination,n=0;n<t;n++){var r=e[n];if("function"==typeof r.hasValue&&!r.hasValue())return}var i=!1,o=[];for(n=0;n<t;n++){var a=(r=e[n]).next();if(r.hasCompleted()&&(i=!0),a.done)return void A.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):A.next(o),i&&A.complete()},t.prototype._tryresultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Be.Subscriber),gda=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return!(!e||!e.done)},e}(),fda=function(){function e(e){this.array=e,this.length=this.index=0,this.length=e.length}return e.prototype[no.iterator]=function(){return this},e.prototype.next=function(e){e=this.index++;var t=this.array;return e<this.length?{value:t[e],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),hda=function(e){function t(t,A,n){return(t=e.call(this,t)||this).parent=A,t.observable=n,t.stillUnsubscribed=!0,t.buffer=[],t.isComplete=!1,t}return WV(t,e),t.prototype[no.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Ve.innerSubscribe(this.observable,new Ve.SimpleInnerSubscriber(this))},t}(Ve.SimpleOuterSubscriber),lA=function(e,t){return YU.mergeMap(e,t,1)},ida=Xb&&Xb.__extends||function(){var e=function(t,A){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)t.hasOwnProperty(A)&&(e[A]=t[A])})(t,A)};return function(t,A){function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}}(),mA=function(e,t){return function(A){return A.lift(new jda(e,t))}},jda=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new kda(e,this.keySelector,this.flushes))},e}(),kda=function(e){function t(t,A,n){return(t=e.call(this,t)||this).keySelector=A,t.values=new Set,n&&t.add(Ve.innerSubscribe(n,new Ve.SimpleInnerSubscriber(t))),t}return ida(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t=this.destination;try{var A=this.keySelector(e)}catch(e){return void t.error(e)}this._finalizeNext(A,e)},t.prototype._finalizeNext=function(e,t){var A=this.values;A.has(e)||(A.add(e),this.destination.next(t))},t}(Ve.SimpleOuterSubscriber),lY=function(e){var t=ow(pw);e=YW(e);for(var A=0;A<t.length;A++){var n=pw[t[A]];if(null!=n&&n.AP_DOMAINS.includes(e)||null!=n&&n.AP_BACKUP_DOMAINS.includes(e)||null!=n&&n.PROXY_AP.includes(e))return[n.CODE]}return[Tb.CHINA,Tb.GLOBAL]},mt={INVALID_APP_ID:"Illegal App ID",APP_ID_NO_ACTIVATED:"The App ID is not activated",DYNAMIC_KEY_NOT_ENABLED:"You did not enable the dynamic key for this project, but uses the dynamic key",NO_AUTHORIZED:"Signature verification failed",DYNAMIC_ENABLED_BUT_STATIC_KEY:"You enabled the dynamic key for this project, but uses the static key. Please set token in rtmConfig.",INVALID_USER_ID:"The user ID to login does not match the token",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",TOKEN_TIMEOUT:"Dynamic key expired",TOKEN_EXPIRED:"The token has expired",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit",INIT_APPID_MISMATCH:"The appid in the init request does not match the appid in the token",FORBIDDEN_REGION:"Forbidden to access the request in this area"},hK={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND",23:"INIT_APPID_MISMATCH"},kY=[100,101,102],nA=/web-(\d)/,XV=function(e){function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];zb(this,t);var i=A.call(this,n,"AccessPoint");return na(V(i),"operation",Wb.login),na(V(i),"handleUniLbsError",gK.bind(V(i))),na(V(i),"getApEdgeInfo$",void 0),na(V(i),"getApEdgeInfoEndFirst$",void 0),na(V(i),"apFinish$",new Cg),na(V(i),"retryCount",0),na(V(i),"failedAreas",new Set),na(V(i),"usedUrl",[]),na(V(i),"newDomainUsed",!1),na(V(i),"backupNewDomainUsed",!1),na(V(i),"genUrl",(function(){var e=Oe.apply(void 0,rb(xi(QV.map(Yp)))),t=Oe.apply(void 0,rb(xi(RV.map(Yp))));return void 0===cc?kA.apply(void 0,rb(xi([e,t]))).pipe(lA((function(e){return Oe.apply(void 0,rb(e))}))):Oe.apply(void 0,rb(cc.AP_DOMAINS.slice(0,3).map(Yp)))})),na(V(i),"genBackupUrl",(function(){var e=Oe.apply(void 0,rb(xi(SV.map(Yp)))),t=Oe.apply(void 0,rb(xi(TV.map(Yp))));return void 0===cc?kA.apply(void 0,rb(xi([e,t]))).pipe(lA((function(e){return Oe.apply(void 0,rb(e))}))):Oe.apply(void 0,rb(cc.AP_BACKUP_DOMAINS.slice(0,3).map(Yp)))})),na(V(i),"getApUrl$",(function(e){var A,n;return i.genUrl().pipe(Af((function(e){return(!i.newDomainUsed||!e.includes("sd-rtn.com"))&&(e.includes("sd-rtn.com")&&(i.newDomainUsed=!0),!Zq(i.usedUrl,(function(t){var A;return t===(null===(A=e.match(nA))||void 0===A?void 0:A[1])})))})),Fc((function(e){var t;void 0===cc&&("string"==typeof(e=null===(t=e.match(nA))||void 0===t?void 0:t[1])&&i.usedUrl.push(e))})),Vd(e?Math.max(Qc("RECONNECTING_AP_NUM"),null!==(A=null==cc?void 0:cc.CODES.size)&&void 0!==A?A:0):null!==(n=null==cc?void 0:cc.CODES.size)&&void 0!==n?n:2),Ok((function(){return t.runOutOfUrlSymbol})),Pd((function(e,A){return i.newDomainUsed=!1,e===t.runOutOfUrlSymbol?(i.usedUrl=[],A):Rc(e)})))})),na(V(i),"getBackupApUrl$",(function(e){var A,n;return i.genBackupUrl().pipe(Af((function(e){return(!i.backupNewDomainUsed||!e.includes("sd-rtn.com"))&&(e.includes("sd-rtn.com")&&(i.backupNewDomainUsed=!0),!Zq(i.usedUrl,(function(t){var A;return t===(null===(A=e.match(nA))||void 0===A?void 0:A[1])})))})),Fc((function(e){var t;void 0===cc&&("string"==typeof(e=null===(t=e.match(nA))||void 0===t?void 0:t[1])&&i.usedUrl.push(e))})),Vd(e?Math.max(Qc("RECONNECTING_AP_NUM"),null!==(A=null==cc?void 0:cc.CODES.size)&&void 0!==A?A:0):null!==(n=null==cc?void 0:cc.CODES.size)&&void 0!==n?n:2),Ok((function(){return t.runOutOfUrlSymbol})),Pd((function(e,A){return i.backupNewDomainUsed=!1,e===t.runOutOfUrlSymbol?(i.usedUrl=[],A):Rc(e)})))})),na(V(i),"getProxyApUrl$",(function(e){var t,A;return Oe.apply(void 0,rb(((null==cc?void 0:cc.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(Yp))).pipe(Vd(e?Math.max(Qc("RECONNECTING_AP_NUM"),null!==(t=null==cc?void 0:cc.CODES.size)&&void 0!==t?t:0):null!==(A=null==cc?void 0:cc.CODES.size)&&void 0!==A?A:2))})),na(V(i),"context",void 0),na(V(i),"reportIntervalId",void 0),na(V(i),"fetchCloudProxy",(function(e,t){var A=rq("AP-",i.loggerId);i.log("The AccessPoint requests %s(%s)",e,A);var n,r=new AbortController;return i.apFinish$.pipe(Vd(1)).subscribe((function(){return r.abort()})),oo(pa(O.mark((function n(){var o,a;return O.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=qq(0,Number.MAX_SAFE_INTEGER),i.log("%s request opid: %d",A,a),Cq("ApRequest",{sid:i.context.sid,userId:i.context.uid,lts:Xa.fromNumber(Date.now()),elapse:lf(i.context.startTime),apAddr:e,opId:Xa.fromNumber(a),envId:0,flag:128},null!==(o=i.context.config.cloudProxy)&&void 0!==o&&o),n.abrupt("return",Bo(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:i.context.sid,opid:a,appid:i.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:null!=t?t:i.context.key,cname:i.context.uid,uid:0,detail:Rd({},na(void 0===cc?{11:[Tb.CHINA,Tb.GLOBAL].join(),12:"1"}:{11:Array.from(cc.CODES).map((function(e){return e===Tb.OVERSEA?"".concat(Tb.ASIA,",").concat(Tb.EUROPE,",").concat(Tb.AFRICA,",").concat(Tb.NORTH_AMERICA,",").concat(Tb.SOUTH_AMERICA,",").concat(Tb.OCEANIA):e})).join(","),12:"1"},26,"RTM2"))}}]},signal:r.signal}));case 4:case"end":return n.stop()}}),n)})))).pipe(Pd((function(t){return"AbortError"!==t.name&&(i.logError(t),i.warn("The AP server %s request failure",e,t)),ah.EMPTY})),Df((n=pa(O.mark((function t(n){var r,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w,D,k;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.responseText,o=null;try{o=JSON.parse(r)}catch(e){i.warn("The %s response is not valid JSON",A)}if(i.log("The %s response is %o",A,o),(void 0===(a=o.response_body)||0===a.length||a.some((function(e){var t;return void 0===(null===(t=e.buffer)||void 0===t?void 0:t.code)||23!==e.uri})))&&(s=$a(Aa.RTM_ERROR_LOGIN_REJECTED),c=s.code,u=s.reason,Rc(new Db(i.operation,[u+"cloud proxy response_body not valid"],c))),0===(g=a.filter((function(e){return 0!==e.buffer.code}))).length){t.next=15;break}if(void 0===(I=g.find((function(e){return 128===e.buffer.flag})))){t.next=13;break}return t.abrupt("return",i.handleUniLbsError(I.buffer.code,e));case 13:return i.logError("cloud proxy error response"),t.abrupt("return",i.handleUniLbsError(g[0].buffer.code,e));case 15:for(l=[],E=0;E<a.length;E++)if(262144===(null==(h=a[E])||null===(C=h.buffer)||void 0===C?void 0:C.flag))null===(p=h.buffer)||void 0===p||null===(f=p.edges_services)||void 0===f||null===(B=f.forEach)||void 0===B||B.call(f,(function(e){eB(e=e.ip)&&-1===i.context.cloudProxyServers.indexOf(e)&&(i.log("got cloud proxy server: %s",e),i.context.cloudProxyServers.push(e))}));else if(128===(null==h||null===(d=h.buffer)||void 0===d?void 0:d.flag)){for(R=function(e,t){var A=t[e];l.some((function(e){return e.ip===A.ip}))||l.push({ip:A.ip,ticket:h.buffer.cert})},S=0,w=h.buffer.edges_services;S<w.length;S++)R(S,w);i.context.rtmArea=null!==(Q=null===(y=h.buffer)||void 0===y||null===(v=y.detail)||void 0===v?void 0:v[9])&&void 0!==Q?Q:"",i.context.vid=null!==(m=null===(_=h.buffer)||void 0===_||null===(b=_.detail)||void 0===b?void 0:b[8])&&void 0!==m?m:""}if(D=Qc("EDGE_IP_LIST"),i.log("registrar EDGE_IP_LIST: ".concat(D," ")),"string"==typeof D){k=[];try{k=JSON.parse(D)}catch(e){i.warn("EDGE_IP_LIST is not valid JSON")}l=k.map((function(e){return{ip:e,ticket:l[0].ticket}}))}return t.abrupt("return",Oe.apply(void 0,rb(l).concat([Wv.queueScheduler])));case 21:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)})),Pd((function(e){return be(e)?Rc(e):ah.EMPTY})),Vv(),Af((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket&&eB(e.ip)})))})),na(V(i),"fetchAp",(function(e,t){var A=rq("AP-",i.loggerId);i.log("The AccessPoint requests %s(%s)",e,A);var n=new AbortController;i.apFinish$.pipe(Vd(1)).subscribe((function(){return n.abort()}));var r,o=qq(0,Number.MAX_SAFE_INTEGER);return oo(pa(O.mark((function r(){var a;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.log("%s request opid: %d",A,o),Cq("ApRequest",{sid:i.context.sid,userId:i.context.uid,lts:Xa.fromNumber(Date.now()),elapse:lf(i.context.startTime),apAddr:e,opId:Xa.fromNumber(o),envId:0,flag:128},null!==(a=i.context.config.cloudProxy)&&void 0!==a&&a),r.abrupt("return",Bo(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:o,key:t||i.context.key,cname:i.context.uid,detail:Rd({},na(void 0===cc?{11:[Tb.CHINA,Tb.GLOBAL].join(),12:"1"}:{11:Array.from(cc.CODES).map((function(e){return e===Tb.OVERSEA?"".concat(Tb.ASIA,",").concat(Tb.EUROPE,",").concat(Tb.AFRICA,",").concat(Tb.NORTH_AMERICA,",").concat(Tb.SOUTH_AMERICA,",").concat(Tb.OCEANIA):e})).join(","),12:"1"},26,"RTM2")),uid:0,sid:i.context.sid},signal:n.signal}));case 3:case"end":return r.stop()}}),r)})))).pipe(Pd((function(t){return"AbortError"!==t.name&&(i.logError(t),i.warn("The AP server %s request failure",e,t)),ah.EMPTY})),Df((r=pa(O.mark((function t(n){var r,a,s,c,u,g,I,l,E,C,d,h,p;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=n.responseText,u=null;try{u=JSON.parse(c)}catch(e){i.warn("The %s response is not valid JSON",A)}if(i.log("The %s response is %o",A,u),I=(g=u).code,l=g.addresses,E=g.detail,i.context.vid=null!==(r=E[8])&&void 0!==r?r:"",C=iY(i.context.vid,null!==(a=i.context.config.cloudProxy)&&void 0!==a&&a),i.reportIntervalId=C,De("ApEvent",{sid:i.context.sid,userId:i.context.uid,lts:Xa.fromNumber(Date.now()),elapse:lf(i.context.startTime),apAddr:e,linkServerList:l.map((function(e){return e.ip})),serverErrCode:I,flag:128,envId:0,opId:Xa.fromNumber(o),errCode:0,area:E[9],isp:E[2]},null!==(s=i.context.config.cloudProxy)&&void 0!==s&&s,i.context.vid),i.info(u),0===I){t.next=12;break}return t.abrupt("return",i.handleUniLbsError(I,e));case 12:if(d=l,h=Qc("EDGE_IP_LIST"),i.log("registrar EDGE_IP_LIST: ".concat(h)),null!=h&&h.length&&(p=h.map((function(e){return e.replace(/-/g,".")})),d=p.map((function(e){return{ip:e,ticket:d[0].ticket}}))),0!==d.length){t.next=18;break}return t.abrupt("return",Rc(Error("No available edge address to connect")));case 18:return i.context.rtmArea=null==E?void 0:E[9],t.abrupt("return",Oe.apply(void 0,rb(d).concat([Wv.queueScheduler])));case 20:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})),Vv(),Pd((function(e){return be(e)?Rc(e):ah.EMPTY})),Af((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket})))})),i.context=e,i.getApEdgeInfoEndFirst$=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Ti(0,e||r?Qc("RECONNECTING_AP_INTERVAL"):2e3).pipe(Vd(1),Fc((function(){i.retryCount+=1})),Df((function(){return i.context.config.cloudProxy||i.context.socketUseProxy?i.getProxyApUrl$(e||r):(4<=i.retryCount&&(i.retryCount=0),3>=i.retryCount?i.getApUrl$(e||r):i.getBackupApUrl$(e||r))})),Df((function(e){return i.context.config.cloudProxy||i.context.socketUseProxy?i.fetchCloudProxy(e):i.fetchAp(e)})),Pd((function(e){return e instanceof sg&&i.warn("AP request timeout"),Rc(e)})),mA((function(e){return e.ip})),wh(i.apFinish$))},i.getApEdgeInfo$=function(e){return Ti(0,e||r?Qc("RECONNECTING_AP_INTERVAL"):2e3).pipe(Vd(8),Fc((function(){i.retryCount+=1})),Df((function(){return i.context.config.cloudProxy||i.context.socketUseProxy?i.getProxyApUrl$(e||r):3>=i.retryCount?i.getApUrl$(e||r):i.getBackupApUrl$(e||r)})),Df((function(e){return(i.context.config.cloudProxy||i.context.socketUseProxy?i.fetchCloudProxy(e):i.fetchAp(e)).pipe()})),Pd((function(e){return e instanceof sg&&i.warn("AP request timeout"),Rc(e)})),mA((function(e){return e.ip})),wh(i.apFinish$))},i}Zb(t,e);var A=$b(t);return Ib(t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),t}(Mh);na(XV,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var YV=Dt(),ZV=function(e){function t(e,n,r){var i;zb(this,t);var o=A.call(this,n,"Connection");na(V(o),"apClient",void 0),na(V(o),"lastOpenSockets",[new po(1),new po(1)]),na(V(o),"EDGE_ENV_PORT",null!==(i=Qc("EDGE_ENV_PORT"))&&void 0!==i?i:nH),na(V(o),"curOpenSockets",[void 0,void 0]),na(V(o),"ipIterator",0),na(V(o),"loginSocketOpenFailureCount",0),na(V(o),"firstEnv",.5<=Math.random()?1:0),na(V(o),"firstSocketOpener",void 0),na(V(o),"secondSocketOpener",void 0),na(V(o),"firstOpenKeeperSubject",new Cg),na(V(o),"secondOpenKeeperSubject",new Cg),na(V(o),"blacklistedIP",{}),na(V(o),"edgeInfoReplayed",void 0),na(V(o),"firstEnvOpenSocket",void 0),na(V(o),"firstOpenKeeperSub",void 0),na(V(o),"secondOpenKeeperSub",void 0),na(V(o),"context",void 0),na(V(o),"logger",void 0),o.context=e,o.logger=n,o.apClient=new XV(o.context,n),o.apClient.apFinish$.subscribe((function(){o.log("Ap client fetch finished")}));var a,s=[];return o.edgeInfoReplayed=o.apClient.getApEdgeInfo$(r).pipe(Mm((function(e){return e.pipe(Fc((function(e){if(be(e))throw e})),Km(r?Qc("RECONNECTING_AP_INTERVAL"):900),wh(Ti(2e4)))})),Af((function(e){var t;return!Zq(s,e)&&1>=(null!==(t=o.blacklistedIP[e.ip])&&void 0!==t?t:0)})),Ok((function(){return new YV({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),Fc((function(e){s.push(e),o.log("An edge info got %o",e)})),Fc({error:function(e){o.emit("connectionInitFailure",e)}}),qo((function(){o.apClient.clearUp()})),KH()),o.firstEnvOpenSocket=o.edgeInfoReplayed.pipe(Df((function(e){if(void 0===e)return Rc(Error("Invalid edge info"));var t=new PH(e.ip,o.firstEnv,e.ticket,o.context,n,a);if(o.firstEnv=1===o.firstEnv?0:1,t.once("connectionFailure",(function(){return o.onSocketConnectionFailure(t)})),!r&&Qc("ENABLE_EDGE_AUTO_FALLBACK")&&!o.context.config.cloudProxy){var A,i=Date.now();t.on("reconnect",(function(){var e;o.loginSocketOpenFailureCount+=1,null!==(e=A)&&void 0!==e||(A=Date.now()-i),500>A&&1<o.loginSocketOpenFailureCount&&(o.context.socketUseProxy=!0)}))}return a=!t.useNewDomain,t.open$.pipe(Lm(t))})),Fc((function(e){o.log("The first websocket of ENV_%d opened to %s:%d",e.env,e.ip,o.EDGE_ENV_PORT[e.env]),o.curOpenSockets[e.env]=e,o.lastOpenSockets[e.env].next(e),o.firstEnv=e.env,o.openSecondSocket(e.env,e.ip,e.useNewDomain)})),Vd(1),gk()),o.firstSocketOpener=o.firstEnvOpenSocket.pipe(Df((function(e){return e.open$.pipe(Fc((function(){o.log("The websocket of first ENV_%d re-opened to %s:%d",e.env,e.ip,o.EDGE_ENV_PORT[e.env]),o.curOpenSockets[e.env]=e,o.lastOpenSockets[e.env].next(e)})))}))),e=o.firstOpenKeeperSubject.pipe(LH.switchMap(wq.identity)),o.firstOpenKeeperSub=e.subscribe({error:o.logError}),o}Zb(t,e);var A=$b(t);return Ib(t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(e,t){if(![0,1].includes(e))throw new Xw({INVALID_ENV:"The env argument is not 0 or 1"});if(e===this.firstEnv){var A=this.firstOpenKeeperSub;this.firstOpenKeeperSub=void 0}else A=this.secondOpenKeeperSub,this.secondOpenKeeperSub=void 0;var n=this.curOpenSockets[e];this.curOpenSockets[e]=void 0,n&&(n.isActiveClose=!0,setTimeout((function(){n.close()}),t)),void 0!==A&&setTimeout((function(){var e;null===(e=A)||void 0===e||e.unsubscribe()}),t)}},{key:"waitClosing",value:function(e){var t=this;return e.isActiveClose=!0,e.open$.pipe(IV(),Pd((function(e){return e.message===HV.normalClosureMessage?ah.EMPTY:Rc(e)})),Oh(5e3),Pd((function(A){return A instanceof sg?(t.warn("Force closing the ENV_%d connection",e.env),ah.EMPTY):Rc(A)})))}},{key:"onSocketConnectionFailure",value:function(e){var t=[0,1].filter((function(t){return t!==e.env}))[0];t=this.curOpenSockets[t],this.log("ENV_".concat(e.env,"(").concat(e.name,"): connectionFailure received, otherSocketState: ").concat(null==t?void 0:t.loggedIn)),t&&t.loggedIn?this.reopenSocketWithApRequest(e.env):(this.log("ENV_".concat(e.env,"(").concat(e.name,"): will emit socketsFailure")),this.emit("socketsFailure"))}},{key:"openSecondSocket",value:function(e,t,A){var n=this,r=1===e?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(KV((function(e,t){return[].concat(rb(e),[t])}),[]),hf((function(e){return pN(e,(function(e){return TI(t,e.ip)})).slice(-1)[0]})),Vd(1),Df((function(e){if(void 0===e)return Rc(Error("Invalid edge info"));var t=new PH(e.ip,r,e.ticket,n.context,n.logger,A);return t.on("connectionFailure",(function(){return n.onSocketConnectionFailure(t)})),t.open$.pipe(Fc((function(){n.lastOpenSockets[r].next(t),n.curOpenSockets[r]=t,n.log("The second websocket of ENV_%d opened to %s:%d",t.env,t.ip,n.EDGE_ENV_PORT[t.env])})))})),gk()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(LH.switchMap(wq.identity)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(e){var t=this,A=[0,1].filter((function(t){return t!==e}))[0];if(void 0!==(A=this.curOpenSockets[A])){var n,r=A.ip;A=this.apClient.getApEdgeInfoEndFirst$(!0).pipe(Ok((function(){return new YV({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),Mm((function(e){return e.pipe(Fc((function(e){if(e.code===Aa.RTM_ERROR_TOKEN_EXPIRED)t.emit("tokenExpired"),t.apClient.apFinish$.next(void 0);else if(be(e))throw e})),Km(Qc("RECONNECTING_AP_INTERVAL")),wh(Ti(15e3)))})),Fc((function(e){t.log("An edge info got %o",e)})),qo((function(){t.apClient.clearUp()}))).pipe(KV((function(e,t){return[].concat(rb(e),[t])}),[]),hf((function(e){return(e=pN(e,(function(e){return TI(r,e.ip)}))).length-1>=t.ipIterator?e.slice(-t.ipIterator++-1)[0]:(t.ipIterator=0,e.slice(-1)[0])})),Ok(),Df((function(A){if(void 0===A)return Rc(Error("Invalid edge info"));var r=new PH(A.ip,e,A.ticket,t.context,t.logger,n);return r.on("connectionFailure",(function(){return t.onSocketConnectionFailure(r)})),n=!r.useNewDomain,r.open$.pipe(Lm(r))})),Fc((function(A){t.log("The websocket of ENV_%d re-opened to %s:%d using ap",A.env,A.ip,t.EDGE_ENV_PORT[A.env]),t.curOpenSockets[e]=A,t.lastOpenSockets[e].next(A)})),Df((function(A){return A.open$.pipe(Fc((function(){t.log("The websocket of ENV_%d re-opened to %s:%d",A.env,A.ip,t.EDGE_ENV_PORT[A.env]),t.curOpenSockets[e]=A,t.lastOpenSockets[e].next(A)})))})),gk()),e===this.firstEnv?this.firstOpenKeeperSubject.next(A):this.secondOpenKeeperSubject.next(A)}}}]),t}(Mh),$V=function(){function e(){zb(this,e),na(this,"size",0),na(this,"fields",new Map)}return Ib(e,[{key:"define",value:function(e,t,A){if(this.size+=A,64<this.size)throw new RangeError("the struct over 64 bits is not supported");Dw(t={val:0,isNumber:"number"===t,isBoolean:"boolean"===t,oneof:"number"===t||"boolean"===t?void 0:t,len:A}),this.fields.set(e,t)}},{key:"set",value:function(e,t){if(!(e=this.fields.get(e)))throw Error("field not found");var A=e.oneof;if(!Xa.isLong(t)&&"number"!=typeof t)if("boolean"==typeof t)t=t?1:0;else{if(void 0===A)throw Error("invalid field type");if(void 0===(t=A[t]))throw Error("field type not found")}Dw(e,t),e.val=t}},{key:"toNumber",value:function(){for(var e=0,t=0,A=0,n=Array.from(this.fields);A<n.length;A++){var r=Lb(n[A],2)[1],i=r.len;void 0!==(r=r.val)&&(e+=Xa.fromValue(r).shiftLeft(t).toNumber(),t+=i)}return e}},{key:"toLong",value:function(){for(var e=Xa.fromNumber(0,!0),t=0,A=0,n=Array.from(this.fields);A<n.length;A++){var r=Lb(n[A],2)[1],i=r.len;void 0!==(r=r.val)&&(e=Xa.fromValue(r).shiftLeft(t).add(e),t+=i)}return e}},{key:"assert",value:function(e,t){function A(e){if(!Xa.isLong(e)&&"number"!=typeof e)if("boolean"==typeof e)e=e?1:0;else{if(void 0===r)throw Error("invalid field type");if(void 0===(e=r[e]))throw Error("field type not found")}return Dw(n,e),Cw(e,n.val)}var n=this.fields.get(e);if(!n)throw Error("field not found");var r=n.oneof;if(!Array.isArray(t))return A(t);if(1===t.length)return A(t[0]);if(t.every((function(e){return"string"==typeof e}))&&void 0!==r)return t.some((function(e){return A(e)}));throw Error("invalid valueTypes")}},{key:"from",value:function(e){e=Xa.fromValue(e);for(var t=0,A=0,n=Array.from(this.fields);A<n.length;A++){var r=Lb(n[A],2)[1],i=r.len,o=Xa.fromNumber(Math.pow(2,i)-1,!0).shiftLeft(t);Dw(r,o=e.and(o).shiftRightUnsigned(t)),r.val=o,t+=i}}},{key:"typeOf",value:function(e){if(void 0!==(e=this.fields.get(e))){var t=e.oneof;if(e=e.val,void 0!==t){var A=0;for(t=Object.entries(t);A<t.length;A++){var n=Lb(t[A],2),r=n[0];if(Cw(e,n[1]))return r}}}throw new TypeError("can only get type of oneof type")}}]),e}(),oA=function(e){function t(e){zb(this,t);var n=A.call(this);return n.define("Rejoin","boolean",1),n.define("Unused","number",31),n.define("Platform","number",8),n.define("Version","number",12),n.define("Subversion","number",12),n.set("Platform",7),n.set("Version",8),n.set("Subversion",412),n.set("Rejoin",e),n}Zb(t,e);var A=$b(t);return t}($V),lda=Rd(Rd({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),aW={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},mda=Rd(Rd({},lda),aW),nda={Uncompressed:0,Zlib:1},$v=function(e){function t(e){zb(this,t);var n=A.call(this);if(n.define("MessageType",mda,8),n.define("BroadcastJumps","number",2),n.define("ToCache","boolean",1),n.define("FromCache","boolean",1),n.define("CompressionMethod",nda,2),n.define("IterationNumber","number",4),n.define("BufferedMessage","boolean",1),n.define("ToArchive","boolean",1),n.define("FromArchive","boolean",1),n.define("kDelegate","number",1),n.define("kSecurity","number",1),n.define("kBypassGroupMemberCheck","number",1),n.define("enableEncryption","boolean",1),n.define("encrytionComplement","number",5),n.define("undefined","number",34),"number"==typeof e||Xa.isLong(e))n.from(e);else if(void 0!==e){var r=0;for(e=mw(e);r<e.length;r++){var i=Lb(e[r],2);n.set(i[0],i[1])}}return n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(e){var t=this;return void 0!==e?this.assert("MessageType",e):ow(aW).some((function(e){return t.assert("MessageType",e)}))}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}},{key:"isEncryption",value:function(){return this.assert("enableEncryption",!0)}},{key:"getEncrytionComplement",value:function(){var e;return null===(e=this.fields.get("encrytionComplement"))||void 0===e?void 0:e.val}}]),t}($V),Gg,Yc,ch;!function(e){e[e.UNEXPECTED_ERROR=0]="UNEXPECTED_ERROR",e[e.UNEXPECTED_RESPONSE=1]="UNEXPECTED_RESPONSE",e[e.TIMEOUT=2]="TIMEOUT",e[e.INVALID_PARAMS=3]="INVALID_PARAMS",e[e.NOT_READABLE=4]="NOT_READABLE",e[e.NOT_SUPPORTED=5]="NOT_SUPPORTED",e[e.INVALID_OPERATION=6]="INVALID_OPERATION",e[e.OPERATION_ABORTED=7]="OPERATION_ABORTED",e[e.WEB_SECURITY_RESTRICT=8]="WEB_SECURITY_RESTRICT",e[e.EXCHANGE_SDP_FAILED=9]="EXCHANGE_SDP_FAILED",e[e.DATACHANNEL_FAILED=10]="DATACHANNEL_FAILED",e[e.NETWORK_ERROR=11]="NETWORK_ERROR",e[e.NETWORK_TIMEOUT=12]="NETWORK_TIMEOUT",e[e.NETWORK_RESPONSE_ERROR=13]="NETWORK_RESPONSE_ERROR",e[e.API_INVOKE_TIMEOUT=14]="API_INVOKE_TIMEOUT",e[e.ENUMERATE_DEVICES_FAILED=15]="ENUMERATE_DEVICES_FAILED",e[e.DEVICE_NOT_FOUND=16]="DEVICE_NOT_FOUND",e[e.ELECTRON_IS_NULL=17]="ELECTRON_IS_NULL",e[e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=18]="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e[e.CHROME_PLUGIN_NO_RESPONSE=19]="CHROME_PLUGIN_NO_RESPONSE",e[e.CHROME_PLUGIN_NOT_INSTALL=20]="CHROME_PLUGIN_NOT_INSTALL",e[e.MEDIA_OPTION_INVALID=21]="MEDIA_OPTION_INVALID",e[e.PERMISSION_DENIED=22]="PERMISSION_DENIED",e[e.CONSTRAINT_NOT_SATISFIED=23]="CONSTRAINT_NOT_SATISFIED",e[e.TRACK_IS_DISABLED=24]="TRACK_IS_DISABLED",e[e.GET_VIDEO_ELEMENT_VISIBLE_ERROR=25]="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e[e.SHARE_AUDIO_NOT_ALLOWED=26]="SHARE_AUDIO_NOT_ALLOWED",e[e.LOW_STREAM_ENCODING_ERROR=27]="LOW_STREAM_ENCODING_ERROR",e[e.SET_ENCODING_PARAMETER_ERROR=28]="SET_ENCODING_PARAMETER_ERROR",e[e.TRACK_STATE_UNREACHABLE=29]="TRACK_STATE_UNREACHABLE",e[e.INVALID_UINT_UID_FROM_STRING_UID=30]="INVALID_UINT_UID_FROM_STRING_UID",e[e.CAN_NOT_GET_PROXY_SERVER=31]="CAN_NOT_GET_PROXY_SERVER",e[e.CAN_NOT_GET_GATEWAY_SERVER=32]="CAN_NOT_GET_GATEWAY_SERVER",e[e.VOID_GATEWAY_ADDRESS=33]="VOID_GATEWAY_ADDRESS",e[e.UID_CONFLICT=34]="UID_CONFLICT",e[e.MULTI_UNILBS_RESPONSE_ERROR=35]="MULTI_UNILBS_RESPONSE_ERROR",e[e.UPDATE_TICKET_FAILED=36]="UPDATE_TICKET_FAILED",e[e.INVALID_LOCAL_TRACK=37]="INVALID_LOCAL_TRACK",e[e.INVALID_TRACK=38]="INVALID_TRACK",e[e.SENDER_NOT_FOUND=39]="SENDER_NOT_FOUND",e[e.CREATE_OFFER_FAILED=40]="CREATE_OFFER_FAILED",e[e.SET_ANSWER_FAILED=41]="SET_ANSWER_FAILED",e[e.ICE_FAILED=42]="ICE_FAILED",e[e.PC_CLOSED=43]="PC_CLOSED",e[e.SENDER_REPLACE_FAILED=44]="SENDER_REPLACE_FAILED",e[e.GET_LOCAL_CAPABILITIES_FAILED=45]="GET_LOCAL_CAPABILITIES_FAILED",e[e.GET_LOCAL_CONNECTION_PARAMS_FAILED=46]="GET_LOCAL_CONNECTION_PARAMS_FAILED",e[e.SUBSCRIBE_FAILED=47]="SUBSCRIBE_FAILED",e[e.UNSUBSCRIBE_FAILED=48]="UNSUBSCRIBE_FAILED",e[e.GATEWAY_P2P_LOST=49]="GATEWAY_P2P_LOST",e[e.NO_ICE_CANDIDATE=50]="NO_ICE_CANDIDATE",e[e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=51]="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e[e.EXIST_DISABLED_VIDEO_TRACK=52]="EXIST_DISABLED_VIDEO_TRACK",e[e.INVALID_REMOTE_USER=53]="INVALID_REMOTE_USER",e[e.REMOTE_USER_IS_NOT_PUBLISHED=54]="REMOTE_USER_IS_NOT_PUBLISHED",e[e.CUSTOM_REPORT_SEND_FAILED=55]="CUSTOM_REPORT_SEND_FAILED",e[e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=56]="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e[e.FETCH_AUDIO_FILE_FAILED=57]="FETCH_AUDIO_FILE_FAILED",e[e.READ_LOCAL_AUDIO_FILE_ERROR=58]="READ_LOCAL_AUDIO_FILE_ERROR",e[e.DECODE_AUDIO_FILE_FAILED=59]="DECODE_AUDIO_FILE_FAILED",e[e.WS_ABORT=60]="WS_ABORT",e[e.WS_DISCONNECT=61]="WS_DISCONNECT",e[e.WS_ERR=62]="WS_ERR",e[e.LIVE_STREAMING_TASK_CONFLICT=63]="LIVE_STREAMING_TASK_CONFLICT",e[e.LIVE_STREAMING_INVALID_ARGUMENT=64]="LIVE_STREAMING_INVALID_ARGUMENT",e[e.LIVE_STREAMING_INTERNAL_SERVER_ERROR=65]="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=66]="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e[e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=67]="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e[e.LIVE_STREAMING_CDN_ERROR=68]="LIVE_STREAMING_CDN_ERROR",e[e.LIVE_STREAMING_INVALID_RAW_STREAM=69]="LIVE_STREAMING_INVALID_RAW_STREAM",e[e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=70]="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e[e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=71]="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e[e.LIVE_STREAMING_WARN_FREQUENT_REQUEST=72]="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e[e.WEBGL_INTERNAL_ERROR=73]="WEBGL_INTERNAL_ERROR",e[e.BEAUTY_PROCESSOR_INTERNAL_ERROR=74]="BEAUTY_PROCESSOR_INTERNAL_ERROR",e[e.CROSS_CHANNEL_WAIT_STATUS_ERROR=75]="CROSS_CHANNEL_WAIT_STATUS_ERROR",e[e.CROSS_CHANNEL_FAILED_JOIN_SRC=76]="CROSS_CHANNEL_FAILED_JOIN_SRC",e[e.CROSS_CHANNEL_FAILED_JOIN_DEST=77]="CROSS_CHANNEL_FAILED_JOIN_DEST",e[e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=78]="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e[e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=79]="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e[e.METADATA_OUT_OF_RANGE=80]="METADATA_OUT_OF_RANGE",e[e.LOCAL_AEC_ERROR=81]="LOCAL_AEC_ERROR",e[e.INVALID_PLUGIN=82]="INVALID_PLUGIN",e[e.DISCONNECT_P2P=83]="DISCONNECT_P2P",e[e.INIT_WEBSOCKET_TIMEOUT=84]="INIT_WEBSOCKET_TIMEOUT",e[e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=85]="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e[e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=86]="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e[e.INIT_DATACHANNEL_TIMEOUT=87]="INIT_DATACHANNEL_TIMEOUT",e[e.DATACHANNEL_CONNECTION_TIMEOUT=88]="DATACHANNEL_CONNECTION_TIMEOUT"}(Gg||(Gg={})),function(e){e[e.ErrOK=0]="ErrOK",e[e.ErrUnknown=1]="ErrUnknown",e[e.ErrRequestTooLarge=22]="ErrRequestTooLarge",e[e.ErrTimeout=44]="ErrTimeout",e[e.ErrNetwork=101]="ErrNetwork",e[e.ErrDuplicateRequest=102]="ErrDuplicateRequest",e[e.ErrUnknownUri=201]="ErrUnknownUri",e[e.ErrMetaProxyOnly=202]="ErrMetaProxyOnly",e[e.ErrMetaClientOnly=203]="ErrMetaClientOnly",e[e.ErrMetaInvalidFirstPack=204]="ErrMetaInvalidFirstPack",e[e.ErrMetaServerNotAvailable=205]="ErrMetaServerNotAvailable",e[e.ErrUnknownHash=206]="ErrUnknownHash",e[e.ErrMetaInvalidKey=301]="ErrMetaInvalidKey",e[e.ErrMetaUnknownHost=302]="ErrMetaUnknownHost",e[e.ErrInvalidMsg=303]="ErrInvalidMsg",e[e.ErrNeedToReconnect=304]="ErrNeedToReconnect",e[e.ErrNoMoreElems=305]="ErrNoMoreElems",e[e.ErrTypeMismatch=306]="ErrTypeMismatch",e[e.ErrPendingBatch=307]="ErrPendingBatch",e[e.ErrNoBatch=308]="ErrNoBatch",e[e.ErrInvalidPath=309]="ErrInvalidPath"}(Yc||(Yc={})),function(e){e[e.kMetadataOk=0]="kMetadataOk",e[e.kDuplicatedOperation=1]="kDuplicatedOperation",e[e.kSyncServerError=2]="kSyncServerError",e[e.kArgumentError=3]="kArgumentError",e[e.kAutheticationError=4]="kAutheticationError",e[e.kExceedLimitationError=5]="kExceedLimitationError",e[e.kOutdateRevision=6]="kOutdateRevision",e[e.kLockAcquireFailed=7]="kLockAcquireFailed",e[e.kLockExpired=8]="kLockExpired",e[e.kLockWatching=9]="kLockWatching",e[e.kInvalidLock=10]="kInvalidLock",e[e.kLockReleased=11]="kLockReleased",e[e.kWriteNotAllowed=12]="kWriteNotAllowed",e[e.kNoLock=13]="kNoLock",e[e.kTimeOutError=100]="kTimeOutError",e[e.kUnknownError=255]="kUnknownError"}(ch||(ch={}));var pA=function(e){function t(e,n,r){return zb(this,t),na(V(n=A.call(this,n,"MessageReport")),"messagecount",n.getInitMessageCount()),na(V(n),"context",void 0),na(V(n),"rtmMessageCategory",void 0),na(V(n),"seq",Xa.fromNumber(1,!0)),n.context=e,n.rtmMessageCategory=r,n}Zb(t,e);var A=$b(t);return Ib(t,[{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1)}},{key:"getInitMessageCount",value:function(){return{peerack10mscount:Xa.fromNumber(0),peerack25mscount:Xa.fromNumber(0),peerack50mscount:Xa.fromNumber(0),peerack75mscount:Xa.fromNumber(0),peerack100mscount:Xa.fromNumber(0),peerack150mscount:Xa.fromNumber(0),peerack200mscount:Xa.fromNumber(0),peerack250mscount:Xa.fromNumber(0),peerack300mscount:Xa.fromNumber(0),peerack400mscount:Xa.fromNumber(0),peerack500mscount:Xa.fromNumber(0),peerack600mscount:Xa.fromNumber(0),peerack800mscount:Xa.fromNumber(0),peerack1000mscount:Xa.fromNumber(0),peerack2000mscount:Xa.fromNumber(0),peerack3000mscount:Xa.fromNumber(0),peerack5000mscount:Xa.fromNumber(0),peerack7000mscount:Xa.fromNumber(0),peerackslowcount:Xa.fromNumber(0),norecipientack10mscount:Xa.fromNumber(0),norecipientack25mscount:Xa.fromNumber(0),norecipientack50mscount:Xa.fromNumber(0),norecipientack75mscount:Xa.fromNumber(0),norecipientack100mscount:Xa.fromNumber(0),norecipientack150mscount:Xa.fromNumber(0),norecipientack200mscount:Xa.fromNumber(0),norecipientack250mscount:Xa.fromNumber(0),norecipientack300mscount:Xa.fromNumber(0),norecipientack400mscount:Xa.fromNumber(0),norecipientack500mscount:Xa.fromNumber(0),norecipientack600mscount:Xa.fromNumber(0),norecipientack800mscount:Xa.fromNumber(0),norecipientack1000mscount:Xa.fromNumber(0),norecipientack2000mscount:Xa.fromNumber(0),norecipientack3000mscount:Xa.fromNumber(0),norecipientack5000mscount:Xa.fromNumber(0),norecipientack7000mscount:Xa.fromNumber(0),norecipientackslowcount:Xa.fromNumber(0),sentcount:Xa.fromNumber(0),receivedcount:Xa.fromNumber(0),acktimeoutcount:Xa.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}},{key:"updatePeerAckCount",value:function(e){e/=2;for(var t=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],A=0;A<t.length;A++){var n,r=t[A];if(sN(e,r[0],r[1]))r="peerack".concat(r[1],"mscount"),this.messagecount[r]=null===(n=this.messagecount[r])||void 0===n?void 0:n.add(1);else if(7e3<e){var i;this.messagecount.peerackslowcount=null===(i=this.messagecount.peerackslowcount)||void 0===i?void 0:i.add(1)}}}},{key:"updateNorecipientackCount",value:function(e){e/=2;for(var t=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],A=0;A<t.length;A++){var n,r=t[A];if(sN(e,r[0],r[1]))r="norecipientack".concat(r[1],"mscount"),this.messagecount[r]=null===(n=this.messagecount[r])||void 0===n?void 0:n.add(1);else if(7e3<e){var i;this.messagecount.norecipientackslowcount=null===(i=this.messagecount.norecipientackslowcount)||void 0===i?void 0:i.add(1)}}}},{key:"updateCommonCount",value:function(e){var t=this.messagecount[e];Xa.isLong(t)?this.messagecount[e]=t.add(1):this.messagecount[e]=t+1}},{key:"report",value:function(){var e,t;De("RtmSdkMessageCount",new UV(Rd(Rd({},this.messagecount),{},{vid:Xa.fromString(null!==(e=this.context.vid)&&void 0!==e?e:"0"),os:7,lts:Xa.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:8,apiminorversion:412,userid:this.context.uid,messagecategory:this.rtmMessageCategory})),null!==(t=this.context.config.cloudProxy)&&void 0!==t&&t,this.context.vid),this.messagecount=Rd(Rd({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}]),t}(Mh),oda=function(e){function t(e){return zb(this,t),na(V(e=A.call(this,e,"ChatManager")),"dialogueLru",new e9(void 0,{maxlen:1e4,ttl:1e4})),e}Zb(t,e);var A=$b(t);return Ib(t,[{key:"getChatInfo",value:function(e){var t=this.dialogueLru.get(e);if(this.dialogueLru.prune(),t){var A=t.dialogue,n={dialogue:A,sequence:t=t.sequence.add(1)};return this.dialogueLru.set(e,{dialogue:A,sequence:t}),n}return A={dialogue:lw(),sequence:Xa.fromNumber(1,!0)},this.dialogueLru.set(e,A),A}}]),t}(Mh),pda=new Blob(["var fakeIdToId = {};onmessage = function (event) {\tvar data = event.data,\t\tname = data.name,\t\tfakeId = data.fakeId,\t\ttime;\tif(data.hasOwnProperty('time')) {\t\ttime = data.time;\t}\tswitch (name) {\t\tcase 'setInterval':\t\t\tfakeIdToId[fakeId] = setInterval(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearInterval':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearInterval(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t}}"]),qda=window.URL.createObjectURL(pda),Eq={},nt=0,NB=new Worker(qda);NB.onmessage=function(e){if(e=e.data.fakeId,Eq.hasOwnProperty(e)){var t=Eq[e];e=t.callback,t=t.parameters,e.apply(window,t)}};var bW=function(e){function t(){return zb(this,t),A.apply(this,arguments)}Zb(t,e);var A=$b(t);return Ib(t,[{key:"requestAsyncId",value:function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return oY(e.flush.bind(e,this),A)}},{key:"recycleAsyncId",value:function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null!==A&&this.delay===A&&!1===this.pending)return t;Eq.hasOwnProperty(t)&&(delete Eq[t],NB.postMessage({name:"clearInterval",fakeId:t}))}}]),t}(MU),Io=function(){function e(t){var A,n,r,i,o;zb(this,e),na(this,"key",void 0),na(this,"value",void 0),na(this,"revision",void 0),na(this,"updateTs",void 0),na(this,"authorUserId",void 0),this.key=null!==(A=null==t?void 0:t.key)&&void 0!==A?A:"",this.value=null!==(n=null==t?void 0:t.value)&&void 0!==n?n:"",this.revision=null!==(r=null==t?void 0:t.revision)&&void 0!==r?r:-1,this.updateTs=null!==(i=null==t?void 0:t.updateTs)&&void 0!==i?i:0,this.authorUserId=null!==(o=null==t?void 0:t.authorUserId)&&void 0!==o?o:""}return Ib(e,[{key:"setKey",value:function(e){if("string"!=typeof e)throw e=$a(Aa.RTM_ERROR_STORAGE_INVALID_KEY),new Jc(Wb.storage,[e.reason],e.code);this.key=e,this.key=e}},{key:"getKey",value:function(){if("string"==typeof this.key)return this.key;throw new Sh("Cannot get MetaDataItem key")}},{key:"setValue",value:function(e){this.value=e}},{key:"getValue",value:function(){return this.value}},{key:"setRevision",value:function(e){if("number"!=typeof e||0!=e%1)throw e=$a(Aa.RTM_ERROR_STORAGE_INVALID_REVISION),new Jc(Wb.storage,[e.reason],e.code);this.revision=e}},{key:"getRevision",value:function(){if("number"==typeof this.revision)return this.revision;throw new Sh("Cannot get MetaDataItem revision")}},{key:"getUpdateTs",value:function(){return this.updateTs}},{key:"getAuthorUserId",value:function(){return this.authorUserId}}]),e}(),Rl;!function(e){e.STATE_REVISION_KEY_PREFIX="_rev_",e.STATE_TIMESTAMP_PREFIX="_t_",e.STATE_AUTHOR_PREFIX="_m_",e.STATE_REVISION="_rev",e.STATE_INTERNAL_PREFIX="_"}(Rl||(Rl={}));var rda={"-":0,app_key:"",region:"CN",enabled:String(Qc("RTM2_ENABLED")),"presence.occupancy":String(Qc("PRESENCE_THRESHOLD")),"presence.interval":String(Qc("PRESENCE_INTERVAL")),"presence.debounce":String(Qc("PRESENCE_DEBOUNCE")),"storage.enabled":String(Qc("STORAGE_ENABLED")),"storage.channel_subscribe_enabled":String(Qc("STORAGE_CHANNEL_SUB_ENABLED")),"storage.user_subscribe_enabled":String(Qc("STORAGE_USER_SUB_ENABLED")),"lock.enabled":String(Qc("LOCK_ENABLED"))},cW=Ab.inflate,dW=Ab.deflate,eW=function(e){function t(e,A,r,i,o){zb(this,t);var a=n.call(this,i,"Session");return na(V(a),"loginOperation",Wb.login),na(V(a),"lastNoticeTicket",""),na(V(a),"chatManager",void 0),na(V(a),"usedChannelIds",[]),na(V(a),"subscribedChannels",new Map),na(V(a),"msgDedupLru",new Xp(void 0,{maxlen:200})),na(V(a),"startTime",Date.now()),na(V(a),"seq",Xa.fromNumber(1,!0)),na(V(a),"userJoinOptions",new oA(!1)),na(V(a),"seqSentStatuses",[!1,!1]),na(V(a),"dialogueSequenceLru",new Xp(void 0,{maxlen:1e4})),na(V(a),"loggedOut",!1),na(V(a),"messageSentTimes",[]),na(V(a),"curLoginSockets",[void 0,void 0]),na(V(a),"loginSocketSubs",[{channels:new Map,receivers:[],lockSubs:new Map,userMetadataSubs:new Map,metadataSubs:new Map},{channels:new Map,receivers:[],lockSubs:new Map,userMetadataSubs:new Map,metadataSubs:new Map}]),na(V(a),"lastLoginSockets",[new po(1),new po(1)]),na(V(a),"dialPendingMsgSubjectMap",new Map),na(V(a),"context",void 0),na(V(a),"connection",void 0),na(V(a),"instanceId",void 0),na(V(a),"lastPingTime",void 0),na(V(a),"chanelStringMessageReport",void 0),na(V(a),"chanelRawMessageReport",void 0),na(V(a),"p2pSMsgNoOfflineReport",void 0),na(V(a),"p2pRMsgNoOfflineReport",void 0),na(V(a),"lockSnapshotLastTime",new Map),na(V(a),"lockEventInfos",new Map),na(V(a),"channelMetaEventInfos",new Map),na(V(a),"userMetaEventInfos",new Map),na(V(a),"initEncryption",!1),na(V(a),"key",""),na(V(a),"iv",""),na(V(a),"keyLength",0),na(V(a),"operationsTimeCache",{}),na(V(a),"locksWithRetryNoRes",new Map),na(V(a),"notifyAcquireRetryReject",new Cg),na(V(a),"registerSocketsFailureListener",(function(){a.connection.once("socketsFailure",(function(){a.log("registrar: socketsFailure, creating a new connection"),oo((function(){return a.connection.removeAllListeners(),a.connection=new ZV(a.context,a.logger,!0),a.loginHandler(15e3,!0)})).pipe(Mm((function(e){return e.pipe(Km(Qc("RECONNECTING_AP_INTERVAL")))})),wh(a.connection.apClient.apFinish$)).subscribe((function(){a.log("new connection connected")}))})),0===a.connection.listenerCount("tokenExpired")&&a.connection.on("tokenExpired",(function(){a.emit("tokenExpired")}))})),a.context=e,a.context.startTime=a.startTime,a.connection=A,a.instanceId=r,a.chatManager=new oda(i),a.lastPingTime=[0,0],a.setMaxListeners(512),a.log("The instanceId is %s",a.instanceId.toString()),null!=o&&o.key&&(a.initEncryption=o.initEncryption,a.key=o.key,a.iv=o.iv,a.keyLength=o.keyLength),a.chanelStringMessageReport=new pA(e,i,ve.ChannelSMsg),a.chanelRawMessageReport=new pA(e,i,ve.ChannelRMsg),a.p2pSMsgNoOfflineReport=new pA(e,i,ve.P2pSMsgNoOfflineFlag),a.p2pRMsgNoOfflineReport=new pA(e,i,ve.P2pRMsgNoOfflineFlag),a}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"loginHandler",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12e3,A=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.loggedOut&&A)throw t=$a(Aa.RTM_ERROR_LOGIN_ABORTED),new Ad(this.loginOperation,[t.reason+"logout when login retrying"],t.code);A&&this.registerSocketsFailureListener(),this.connection.initConnection();var n=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),r=Date.now();return n.forEach((function(t,n){var i=e.loginSocketSubs[n].login;void 0!==i&&i.unsubscribe(),e.loginSocketSubs[n].login=t.pipe(Fc((function(t){var i;e.curLoginSockets[n]=t;var o=Date.now();De("Link",{ackedServerIp:t.address,destServerIp:t.ip,ec:0,sc:0,elapse:lf(e.startTime),lts:Xa.fromNumber(o),responseTime:o-r,sid:pg(e.instanceId),userId:e.context.uid},null!==(i=e.context.config.cloudProxy)&&void 0!==i&&i,e.context.vid),e.emit("userJoined",t.env),A&&e.connection.apClient.apFinish$.next(void 0)}))).subscribe(e.lastLoginSockets[n])})),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),ng.apply(void 0,rb(n).concat([Vk(this.connection,"connectionInitFailure").pipe(Fc((function(t){if(be(t)||Qe(t))throw t;throw t=$a(Aa.RTM_ERROR_LOGIN_ABORTED),new Db(e.loginOperation,[t.reason],t.code)})))])).pipe(Vd(1),Oh(t),Pd((function(t){return t instanceof sg&&e.warn("client ".concat(A?"re-":"","login timeout")),t&&t.code===Aa.RTM_ERROR_TOKEN_EXPIRED&&(e.warn("token expired, isRetrying: %s",A),A&&e.connection.emit("tokenExpired"),e.connection.apClient.apFinish$.next(void 0)),e.clearSockets(0,A),Rc(t)})),Fc((function(){A||e.registerSocketsFailureListener()})),qo((function(){A||e.connection.apClient.apFinish$.next(void 0)})))}},{key:"logoutHandler",value:(A=pa(O.mark((function e(t){var A,n,r,i=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),this.incGetSeq(),A=this.getLoginSockets(),n=A.map((function(e){return e.sendPacket("UserQuit2",{flags:t?new Xa(1,0,!0):Xa.fromNumber(0)}),i.connection.waitClosing(e)})),this.clearSockets(5e3),r=A.map((function(e){return e.env})),[0,1].filter((function(e){return!r.includes(e)})).forEach((function(e){i.connection.closeSocket(e,0)})),this.locksWithRetryNoRes.forEach((function(e,t){e=e.reject;var A=$a(Aa.RTM_ERROR_LOCK_ACQUIRE_FAILED);e(new Db(Wb.acquireLock,[A.reason],A.code)),i.notifyAcquireRetryReject.next(t)})),this.locksWithRetryNoRes.clear(),e.abrupt("return",ng.apply(void 0,rb(n)).toPromise());case 12:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=Wb.subscribe,0!==this.getLoginSockets().length){e.next=4;break}throw n=$a(Aa.RTM_ERROR_NOT_LOGIN),r=n.code,i=n.reason,new Ad(A,[i],r);case 4:return o=Vk(this,"channelLeft").pipe(Af((function(e){return t===e})),Vd(1)),a=this.incGetSeq(),(s=this.lastLoginSockets.map((function(e){return e.pipe(Sf((function(e,n){0!==n&&c.incSeqIfNeeded(e.env);var r=0===n?a:c.seq;return e.sendPacket("GroupEnter",{account:t,seq:r}),e.fromReceived("GroupReply").pipe(Bf((function(e){return r.eq(e.seq)})),Fc((function(e){if(0!==e.code)throw e=$a(Aa.RTM_ERROR_CHANNEL_JOIN_FAILED),new Db(A,[e.reason],e.code)})))})),wh(o),gk())}))).forEach((function(e,A){var n=function(){return c.loginSocketSubs[A].channels.delete(t)};c.loginSocketSubs[A].channels.set(t,e.subscribe({error:n,complete:n}))})),e.next=10,ng.apply(void 0,rb(s)).pipe(Vd(1),Oh(1e4),Pd((function(e){return e instanceof sg&&c.warn("Channel join timeout"),Rc(e)}))).toPromise();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(e){this.getLoginSockets().forEach((function(t){t.sendPacket("GroupLeave",{account:e})}))}},{key:"requestUpdateEdgeTicket",value:function(e){var A=this,n=this.getLoginSockets();if(0===n.length)throw n=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(Wb.login,[n.reason],n.code);var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserRenewTokenReq",{instance:A.instanceId,seq:r,account:A.context.uid,ticket:e})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(n.map((function(e){return e.fromReceived("UserRenewTokenResp").pipe(Bf((function(e){var t=e.code;return r.eq(e.seq)&&0===t})))})))))}},{key:"requestGetChannelMetaData",value:function(e){var A=Wb.getChannelMetadata,n=this.getLoginSockets();if(0===n.length)throw n=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(A,[n.reason],n.code);if(!this.canMakeOperation("getChannelMetadata"))throw n=$a(Aa.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT),new Vi(A,[n.reason],n.code);var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("StateGet",{target:e,subTarget:"",lock:"",sequence:r,flags:new Xa(1048577,0,!0),lockRev:Xa.fromNumber(0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(n.map((function(e){return e.fromReceived("StateGetResult").pipe(Bf((function(e){return r.eq(e.sequence)})),hf((function(e){var t=e.allStates,n=Wk(e.code);if(e=n.code,n=n.reason,e!==Aa.RTM_ERROR_OK)throw new Db(A,[n],e);return t})))})))))}},{key:"requestGetLocalMetaData",value:function(e){var A=Wb.getUserMetadata,n=this.getLoginSockets();if(0===n.length)throw n=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(A,[n.reason],n.code);if(!this.canMakeOperation("getUserMetadata"))throw n=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(A,[n.reason],n.code);var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("StateGet",{target:e,subTarget:"",lock:"",sequence:r,flags:new Xa(1048576,0,!0),lockRev:Xa.fromNumber(0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(n.map((function(e){return e.fromReceived("StateGetResult").pipe(Bf((function(e){return r.eq(e.sequence)})),hf((function(e){var t=e.allStates,n=Wk(e.code);if(e=n.code,n=n.reason,e!==Aa.RTM_ERROR_OK)throw new Db(A,[n],e);return t})))})))))}},{key:"requestUpdateChannelMetadata",value:function(e){var A=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,a=Wb.updateChannelMetadata,s=this.getLoginSockets();if(0===s.length)throw s=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(a,[s.reason],s.code);if(!this.canMakeOperation("updateChannelMetadata"))throw s=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(a,[s.reason],s.code);var c=null==n?void 0:n.majorRevision,u=this.incGetSeq(),g=JSON.stringify(Fq(Qk(e,5).map((function(e){return-1===e.getRevision()&&e.setRevision(-2),e})),n.majorRevision));vq(a,g);var I=Date.now();return s.forEach((function(e){e.sendPacket("StateModify",{sequence:u,target:r,requestUuid:"".concat(u,"_").concat(A.instanceId),lock:null!=i?i:"",lockRev:Xa.fromNumber(null!=o?o:0),value:g,baseRevision:Xa.fromNumber(0<=c?c:0),author:n.enableRecordUserId?A.context.uid:"",flags:n.enableRecordTs?new Xa(1572865|(0<=c?131072:0),0,!0):new Xa(1048577|(0<=c?131072:0),0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(s.map((function(e){return e.fromReceived("StateRequestResult").pipe(Bf((function(e){return u.eq(e.sequence)})),hf((function(e){var t,s,c=Wk(e.code);if(e=c.code,c=c.reason,De("SyncOperateEvent",{lts:Xa.fromNumber(Date.now()),userid:A.context.uid,vid:Xa.fromString(null!==(t=A.context.vid)&&void 0!==t?t:"0"),sid:"",usersid:A.context.sid,requestts:Xa.fromNumber(I),replyts:Xa.fromNumber(Date.now()),target:r,eventtype:"Update",revision:Xa.fromNumber(n.majorRevision),uuid:"".concat(u,"_").concat(A.instanceId),sdktype:3,flags:n.enableRecordTs?new Xa(524289,0,!0):new Xa(1,0,!0),code:e,seq:u,index:{index1:A.context.uid,index2:A.context.appId,index3:"logUpload=".concat(A.context.config.logUpload)},lock:null!=i?i:"",lockrev:Xa.fromNumber(null!=o?o:0),subtarget:A.context.uid},null!==(s=A.context.config.cloudProxy)&&void 0!==s&&s,A.context.vid),e!==Aa.RTM_ERROR_OK)throw new Db(a,[c],e)})))})))))}},{key:"requestDeleteChannelMetadata",value:function(e){var A=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,a=Wb.removeChannelMetadata,s=this.getLoginSockets();if(0===s.length)throw s=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(a,[s.reason],s.code);if(!this.canMakeOperation("removeChannelMetadata"))throw s=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(a,[s.reason],s.code);var c=null==n?void 0:n.majorRevision,u=this.incGetSeq(),g=JSON.stringify(Fq(Qk(e,5).map((function(e){return e.setValue(null),e})),n.majorRevision));vq(a,g);var I=Date.now();return s.forEach((function(e){e.sendPacket("StateModify",{sequence:u,target:r,requestUuid:"".concat(u,"_").concat(A.instanceId),lock:null!=i?i:"",lockRev:Xa.fromNumber(null!=o?o:0),value:g,baseRevision:Xa.fromNumber(0<=c?c:0),author:n.enableRecordUserId?A.context.uid:"",flags:n.enableRecordTs?new Xa(1572865|(0<=c?131072:0),0,!0):new Xa(1048577|(0<=c?131072:0),0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(s.map((function(e){return e.fromReceived("StateRequestResult").pipe(Bf((function(e){return u.eq(e.sequence)})),hf((function(e){var t,s,c=Wk(e.code);if(e=c.code,c=c.reason,De("SyncOperateEvent",{lts:Xa.fromNumber(Date.now()),userid:A.context.uid,vid:Xa.fromString(null!==(t=A.context.vid)&&void 0!==t?t:"0"),sid:"",usersid:A.context.sid,requestts:Xa.fromNumber(I),replyts:Xa.fromNumber(Date.now()),target:r,eventtype:"Delete",revision:Xa.fromNumber(n.majorRevision),uuid:"".concat(u,"_").concat(A.instanceId),sdktype:3,flags:n.enableRecordTs?new Xa(524289,0,!0):new Xa(1,0,!0),code:e,seq:u,index:{index1:A.context.uid,index2:A.context.appId,index3:"logUpload=".concat(A.context.config.logUpload)},lock:null!=i?i:"",lockrev:Xa.fromNumber(null!=o?o:0),subtarget:A.context.uid},null!==(s=A.context.config.cloudProxy)&&void 0!==s&&s,A.context.vid),e!==Aa.RTM_ERROR_OK)throw new Db(a,[c],e)})))})))))}},{key:"requestSetChannelMetadata",value:function(e){var A=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,a=Wb.setChannelMetadata,s=this.getLoginSockets();if(0===s.length)throw s=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(a,[s.reason],s.code);if(!this.canMakeOperation("setChannelMetadata"))throw s=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(a,[s.reason],s.code);var c=JSON.stringify(Fq(e,n.majorRevision));vq(a,c);var u=this.incGetSeq(),g=Date.now(),I=null==n?void 0:n.majorRevision;return s.forEach((function(e){e.sendPacket("StateModify",{sequence:u,target:r,requestUuid:"".concat(u,"_").concat(A.instanceId),value:c,lock:null!=i?i:"",lockRev:Xa.fromNumber(null!=o?o:0),baseRevision:Xa.fromNumber(0<=I?I:0),author:n.enableRecordUserId?A.context.uid:"",flags:n.enableRecordTs?new Xa(1572865|(0<=I?131072:0),0,!0):new Xa(1048577|(0<=I?131072:0),0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(s.map((function(e){return e.fromReceived("StateRequestResult").pipe(Bf((function(e){return u.eq(e.sequence)})),hf((function(e){var t,s,c=Wk(e.code);if(e=c.code,c=c.reason,De("SyncOperateEvent",{lts:Xa.fromNumber(Date.now()),userid:A.context.uid,vid:Xa.fromString(null!==(t=A.context.vid)&&void 0!==t?t:"0"),sid:"",usersid:A.context.sid,requestts:Xa.fromNumber(g),replyts:Xa.fromNumber(Date.now()),target:r,eventtype:"Set",revision:Xa.fromNumber(n.majorRevision),uuid:"".concat(u,"_").concat(A.instanceId),sdktype:3,flags:n.enableRecordTs?new Xa(524289,0,!0):new Xa(1,0,!0),code:e,seq:u,index:{index1:A.context.uid,index2:A.context.appId,index3:"logUpload=".concat(A.context.config.logUpload)},lock:null!=i?i:"",lockrev:Xa.fromNumber(null!=o?o:0),subtarget:A.context.uid},null!==(s=A.context.config.cloudProxy)&&void 0!==s&&s,A.context.vid),e!==Aa.RTM_ERROR_OK)throw new Db(a,[c],e)})))})))))}},{key:"requestClearChannelMetadata",value:function(){var e=this,A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},n=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,o=Wb.removeChannelMetadata,a=this.getLoginSockets();if(0===a.length)throw a=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(o,[a.reason],a.code);if(!this.canMakeOperation("removeChannelMetadata"))throw a=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(o,[a.reason],a.code);var s=null==A?void 0:A.majorRevision,c=this.incGetSeq(),u=Date.now();return a.forEach((function(t){t.sendPacket("StateSet",{sequence:c,target:n,requestUuid:"".concat(c,"_").concat(e.instanceId),lock:null!=r?r:"",lockRev:Xa.fromNumber(null!=i?i:0),value:JSON.stringify({}),baseRevision:Xa.fromNumber(0<=s?s:0),author:A.enableRecordUserId?e.context.uid:"",flags:A.enableRecordTs?new Xa(1638401|(0<=s?131072:0),0,!0):new Xa(1114113|(0<=s?131072:0),0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(a.map((function(t){return t.fromReceived("StateRequestResult").pipe(Bf((function(e){return c.eq(e.sequence)})),hf((function(t){var a,s,g=Wk(t.code);if(t=g.code,g=g.reason,De("SyncOperateEvent",{lts:Xa.fromNumber(Date.now()),userid:e.context.uid,vid:Xa.fromString(null!==(a=e.context.vid)&&void 0!==a?a:"0"),sid:"",usersid:e.context.sid,requestts:Xa.fromNumber(u),replyts:Xa.fromNumber(Date.now()),target:n,eventtype:"Clear",revision:Xa.fromNumber(A.majorRevision),uuid:"".concat(c,"_").concat(e.instanceId),sdktype:3,flags:A.enableRecordTs?new Xa(589825,0,!0):new Xa(65537,0,!0),code:t,seq:c,index:{index1:e.context.uid,index2:e.context.appId,index3:"logUpload=".concat(e.context.config.logUpload)},lock:null!=r?r:"",lockrev:Xa.fromNumber(null!=i?i:0),subtarget:e.context.uid},null!==(s=e.context.config.cloudProxy)&&void 0!==s&&s,e.context.vid),t!==Aa.RTM_ERROR_OK)throw new Db(o,[g],t)})))})))))}},{key:"requestUpdateLocalMetadata",value:function(e){var A=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=2<arguments.length?arguments[2]:void 0,i=Wb.updateUserMetadata,o=this.getLoginSockets();if(0===o.length)throw o=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(i,[o.reason],o.code);if(!this.canMakeOperation("updateUserMetadata"))throw o=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(i,[o.reason],o.code);var a=null==n?void 0:n.majorRevision,s=this.incGetSeq(),c=JSON.stringify(Fq(Qk(e,5).map((function(e){return-1===e.getRevision()&&e.setRevision(-2),e})),n.majorRevision));vq(i,c);var u=Date.now();return o.forEach((function(e){e.sendPacket("StateModify",{sequence:s,target:null!=r?r:A.context.uid,requestUuid:"".concat(s,"_").concat(A.instanceId),lock:"",lockRev:Xa.fromNumber(0),value:c,baseRevision:Xa.fromNumber(0<=a?a:0),author:n.enableRecordUserId?A.context.uid:"",flags:n.enableRecordTs?new Xa(1572864|(0<=a?131072:0),0,!0):new Xa(1048576|(0<=a?131072:0),0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(o.map((function(e){return e.fromReceived("StateRequestResult").pipe(Bf((function(e){return s.eq(e.sequence)})),Fc((function(e){var t,r,o=Wk(e.code);if(e=o.code,o=o.reason,De("SyncOperateEvent",{lts:Xa.fromNumber(Date.now()),userid:A.context.uid,vid:Xa.fromString(null!==(t=A.context.vid)&&void 0!==t?t:"0"),sid:"",usersid:A.context.sid,requestts:Xa.fromNumber(u),replyts:Xa.fromNumber(Date.now()),target:A.context.uid,eventtype:"Update",revision:Xa.fromNumber(n.majorRevision),uuid:"".concat(s,"_").concat(A.instanceId),sdktype:3,flags:n.enableRecordTs?new Xa(524288,0,!0):Xa.fromNumber(0),code:e,seq:s,index:{index1:A.context.uid,index2:A.context.appId,index3:"logUpload=".concat(A.context.config.logUpload)},lock:"",lockrev:Xa.fromNumber(0),subtarget:A.context.uid},null!==(r=A.context.config.cloudProxy)&&void 0!==r&&r,A.context.vid),e!==Aa.RTM_ERROR_OK)throw new Db(i,[o],e)})))})))))}},{key:"requestDeleteLocalMetadata",value:function(e){var A=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=2<arguments.length?arguments[2]:void 0,i=Wb.removeUserMetadata,o=this.getLoginSockets();if(0===o.length)throw o=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(i,[o.reason],o.code);if(!this.canMakeOperation("removeUserMetadata"))throw o=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(i,[o.reason],o.code);var a=null==n?void 0:n.majorRevision,s=this.incGetSeq(),c=JSON.stringify(Fq(Qk(e,5).map((function(e){return e.setValue(null),e})),n.majorRevision));vq(i,c);var u=Date.now();return o.forEach((function(e){e.sendPacket("StateModify",{sequence:s,target:null!=r?r:A.context.uid,requestUuid:"".concat(s,"_").concat(A.instanceId),lock:"",lockRev:Xa.fromNumber(0),value:c,baseRevision:Xa.fromNumber(0<=a?a:0),author:n.enableRecordUserId?A.context.uid:"",flags:n.enableRecordTs?new Xa(1572864|(0<=a?131072:0),0,!0):new Xa(1048576|(0<=a?131072:0),0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(o.map((function(e){return e.fromReceived("StateRequestResult").pipe(Bf((function(e){return s.eq(e.sequence)})),Fc((function(e){var t,r,o=Wk(e.code);if(e=o.code,o=o.reason,De("SyncOperateEvent",{lts:Xa.fromNumber(Date.now()),userid:A.context.uid,vid:Xa.fromString(null!==(t=A.context.vid)&&void 0!==t?t:"0"),sid:"",usersid:A.context.sid,requestts:Xa.fromNumber(u),replyts:Xa.fromNumber(Date.now()),target:A.context.uid,eventtype:"Delete",revision:Xa.fromNumber(n.majorRevision),uuid:"".concat(s,"_").concat(A.instanceId),sdktype:3,flags:n.enableRecordTs?new Xa(524288,0,!0):Xa.fromNumber(0),code:e,seq:s,index:{index1:A.context.uid,index2:A.context.appId,index3:"logUpload=".concat(A.context.config.logUpload)},lock:"",lockrev:Xa.fromNumber(0),subtarget:A.context.uid},null!==(r=A.context.config.cloudProxy)&&void 0!==r&&r,A.context.vid),e!==Aa.RTM_ERROR_OK)throw new Db(i,[o],e)})))})))))}},{key:"requestSetLocalMetadata",value:function(e){var A=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},r=2<arguments.length?arguments[2]:void 0,i=Wb.setUserMetadata,o=this.getLoginSockets();if(0===o.length)throw o=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(i,[o.reason],o.code);if(!this.canMakeOperation("setUserMetadata"))throw o=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(i,[o.reason],o.code);var a=this.incGetSeq(),s=Date.now(),c=null==n?void 0:n.majorRevision,u=JSON.stringify(Fq(e,n.majorRevision));return vq(i,u),o.forEach((function(e){e.sendPacket("StateModify",{sequence:a,target:null!=r?r:A.context.uid,requestUuid:"".concat(a,"_").concat(A.instanceId),value:u,lock:"",lockRev:Xa.fromNumber(0),baseRevision:Xa.fromNumber(0<=c?c:0),author:n.enableRecordUserId?A.context.uid:"",flags:n.enableRecordTs?new Xa(1572864|(0<=c?131072:0),0,!0):new Xa(1048576|(0<=c?131072:0),0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(o.map((function(e){return e.fromReceived("StateRequestResult").pipe(Bf((function(e){return a.eq(e.sequence)})),Fc((function(e){var t,r,o=Wk(e.code);if(e=o.code,o=o.reason,De("SyncOperateEvent",{lts:Xa.fromNumber(Date.now()),userid:A.context.uid,vid:Xa.fromString(null!==(t=A.context.vid)&&void 0!==t?t:"0"),sid:"",usersid:A.context.sid,requestts:Xa.fromNumber(s),replyts:Xa.fromNumber(Date.now()),target:A.context.uid,eventtype:"Set",revision:Xa.fromNumber(n.majorRevision),uuid:"".concat(a,"_").concat(A.instanceId),sdktype:3,flags:n.enableRecordTs?new Xa(524288,0,!0):Xa.fromNumber(0),code:e,seq:a,index:{index1:A.context.uid,index2:A.context.appId,index3:"logUpload=".concat(A.context.config.logUpload)},lock:"",lockrev:Xa.fromNumber(0),subtarget:A.context.uid},null!==(r=A.context.config.cloudProxy)&&void 0!==r&&r,A.context.vid),e!==Aa.RTM_ERROR_OK)throw new Db(i,[o],e)})))})))))}},{key:"requestClearLocalMetadata",value:function(){var e=this,A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},n=1<arguments.length?arguments[1]:void 0,r=Wb.removeUserMetadata,i=this.getLoginSockets();if(0===i.length)throw i=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(r,[i.reason],i.code);if(!this.canMakeOperation("removeUserMetadata"))throw i=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(r,[i.reason],i.code);var o=null==A?void 0:A.majorRevision,a=this.incGetSeq(),s=Date.now();return i.forEach((function(t){t.sendPacket("StateSet",{sequence:a,target:null!=n?n:e.context.uid,requestUuid:"".concat(a,"_").concat(e.instanceId),lock:"",lockRev:Xa.fromNumber(0),value:JSON.stringify({}),baseRevision:Xa.fromNumber(0<=o?o:0),author:A.enableRecordUserId?e.context.uid:"",flags:A.enableRecordTs?new Xa(1638400|(0<=o?131072:0),0,!0):new Xa(1114112|(0<=o?131072:0),0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(rb(i.map((function(t){return t.fromReceived("StateRequestResult").pipe(Bf((function(e){return a.eq(e.sequence)})),Fc((function(t){var n,i,o=Wk(t.code);if(t=o.code,o=o.reason,De("SyncOperateEvent",{lts:Xa.fromNumber(Date.now()),userid:e.context.uid,vid:Xa.fromString(null!==(n=e.context.vid)&&void 0!==n?n:"0"),sid:"",usersid:e.context.sid,requestts:Xa.fromNumber(s),replyts:Xa.fromNumber(Date.now()),target:e.context.uid,eventtype:"Clear",revision:Xa.fromNumber(null==A?void 0:A.majorRevision),uuid:"".concat(a,"_").concat(e.instanceId),sdktype:3,flags:A.enableRecordTs?new Xa(524288,0,!0):Xa.fromNumber(0),code:t,seq:a,index:{index1:e.context.uid,index2:e.context.appId,index3:"logUpload=".concat(e.context.config.logUpload)},lock:"",lockrev:Xa.fromNumber(0),subtarget:e.context.uid},null!==(i=e.context.config.cloudProxy)&&void 0!==i&&i,e.context.vid),t!==Aa.RTM_ERROR_OK)throw new Db(r,[o],t)})))})))))}},{key:"requestSubscribeUserMetadata",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Wb.subscribeUserMetadata,0!==this.getLoginSockets().length){e.next=5;break}throw r=$a(Aa.RTM_ERROR_NOT_LOGIN),i=r.code,o=r.reason,new Ad(n,[o],i);case 5:if(a=Vk(this,"unSubUserMetadata").pipe(Af((function(e){return t===e})),Vd(1)),this.canMakeOperation("subscribeUserMetadata")){e.next=9;break}throw s=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),c=s.code,u=s.reason,new Vi(n,[u],c);case 9:return g=this.incGetSeq(),I=Date.now(),(l=this.lastLoginSockets.map((function(e){return e.pipe(Sf((function(e,A){0!==A&&E.incSeqIfNeeded(e.env);var r=0===A?g:E.seq;return e.sendPacket("StateSubscribe",{sequence:r,target:t,subTarget:"",flags:Xa.fromNumber(0)}),e.fromReceived("StateSubscribeResult").pipe(Bf((function(e){return r.eq(e.sequence)})),Fc((function(e){var A,r,i=MB(e.code);if(e=i.code,i=i.reason,e!==Aa.RTM_ERROR_OK)throw new Db(n,[i],e);De("SyncSubscribeEvent",{lts:Xa.fromNumber(Date.now()),userid:E.context.uid,vid:Xa.fromString(null!==(A=E.context.vid)&&void 0!==A?A:"0"),sid:"",usersid:E.context.sid,target:t,requestts:Xa.fromNumber(I),replyts:Xa.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:Xa.fromNumber(0),code:0,seq:g,index:{index1:E.context.uid,index2:E.context.appId,index3:"logUpload=".concat(E.context.config.logUpload)},subtarget:E.context.uid},null!==(r=E.context.config.cloudProxy)&&void 0!==r&&r,E.context.vid)})))})),wh(a),gk())}))).forEach((function(e,A){var n=function(){return E.loginSocketSubs[A].userMetadataSubs.delete(t)};E.loginSocketSubs[A].userMetadataSubs.set(t,e.subscribe({error:n,complete:n}))})),e.next=15,ng.apply(void 0,rb(l)).pipe(Vd(1),Oh(1e4),Pd((function(e){return e instanceof sg&&E.warn("subscribe user metadata timeout"),Rc(e)}))).toPromise();case 15:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"requestUnsubscribeUserMetadata",value:function(e){var t,A=Wb.unsubscribeUserMetadata,n=this.getLoginSockets();if(0===n.length){var r=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Ad(A,[r.reason],r.code)}if(!this.canMakeOperation("unsubscribeUserMetadata"))throw r=$a(Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new Vi(A,[r.reason],r.code);this.emit("unSubUserMetadata",e);var i=this.incGetSeq();A=Date.now(),n.forEach((function(t){t.sendPacket("StateUnsubscribe",{sequence:i,target:e,subTarget:"",flags:Xa.fromNumber(0)})})),this.userMetaEventInfos.delete(e),De("SyncSubscribeEvent",{lts:Xa.fromNumber(Date.now()),userid:this.context.uid,vid:Xa.fromString(null!==(r=this.context.vid)&&void 0!==r?r:"0"),sid:"",usersid:this.context.sid,target:e,requestts:Xa.fromNumber(A),replyts:Xa.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:Xa.fromNumber(0),code:0,seq:i,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid},null!==(t=this.context.config.cloudProxy)&&void 0!==t&&t,this.context.vid)}},{key:"requestUnsubscribeChannelMetadata",value:function(e){var t,A,n=this.getLoginSockets();if(0!==n.length){var r=this.incGetSeq();n.forEach((function(t){t.sendPacket("StateUnsubscribe",{sequence:r,target:e,subTarget:"",flags:new Xa(1,0,!0)})})),this.channelMetaEventInfos.delete(e),De("SyncSubscribeEvent",{lts:Xa.fromNumber(Date.now()),userid:this.context.uid,vid:Xa.fromString(null!==(t=this.context.vid)&&void 0!==t?t:"0"),sid:"",usersid:this.context.sid,target:e,requestts:Xa.fromNumber(Date.now()),replyts:Xa.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:new Xa(1,0,!0),code:0,seq:r,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid},null!==(A=this.context.config.cloudProxy)&&void 0!==A&&A,this.context.vid)}}},{key:"requestSubscribeChannelMetadata",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Wb.subscribe,0!==this.getLoginSockets().length){e.next=5;break}throw r=$a(Aa.RTM_ERROR_NOT_LOGIN),i=r.code,o=r.reason,new Ad(n,[o],i);case 5:return a=Vk(this,"unSubChannelMetadata").pipe(Af((function(e){return t===e})),Vd(1)),s=this.incGetSeq(),c=Date.now(),(u=this.lastLoginSockets.map((function(e){return e.pipe(Sf((function(e,A){0!==A&&g.incSeqIfNeeded(e.env);var n=0===A?s:g.seq;return e.sendPacket("StateSubscribe",{sequence:n,target:t,subTarget:"",flags:new Xa(1,0,!0)}),e.fromReceived("StateSubscribeResult").pipe(Bf((function(e){return n.eq(e.sequence)})),Fc((function(e){var A,n,r=MB(e=e.code),i=r.code;r.reason,De("SyncSubscribeEvent",{lts:Xa.fromNumber(Date.now()),userid:g.context.uid,vid:Xa.fromString(null!==(A=g.context.vid)&&void 0!==A?A:"0"),sid:"",usersid:g.context.sid,target:t,requestts:Xa.fromNumber(c),replyts:Xa.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:Xa.fromNumber(0),code:i,seq:s,index:{index1:g.context.uid,index2:g.context.appId,index3:"logUpload=".concat(g.context.config.logUpload)},subtarget:g.context.uid},null!==(n=g.context.config.cloudProxy)&&void 0!==n&&n,g.context.vid),i!==Aa.RTM_ERROR_OK&&(g.updateChannelOptionsCache2False(t,"withMetadata"),g.warn("Subscribe channel metadata failure. The response code from the RTM service is ".concat(e)))})))})),wh(a),gk())}))).forEach((function(e,A){var n=function(){return g.loginSocketSubs[A].metadataSubs.delete(t)};g.loginSocketSubs[A].metadataSubs.set(t,e.subscribe({error:n,complete:n}))})),e.next=13,ng.apply(void 0,rb(u)).pipe(Vd(1),Oh(1e4),Pd((function(e){return e instanceof sg&&g.warn("subscribe channel metadata timeout"),Rc(e)}))).toPromise();case 13:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"requestUnsubscribeLock",value:function(e){var t=this.getLoginSockets();if(0!==t.length){var A=this.incGetSeq();t.forEach((function(t){t.sendPacket("StateLockUnsubscribe",{sequence:A,target:e,flags:new Xa(1048577,0,!0)})}))}}},{key:"requestSubscribeLock",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=Wb.subscribe,0!==this.getLoginSockets().length){e.next=5;break}throw n=$a(Aa.RTM_ERROR_NOT_LOGIN),r=n.code,i=n.reason,new Ad(A,[i],r);case 5:return o=Vk(this,"unSubChannelLock").pipe(Af((function(e){return t===e})),Vd(1),Fc((function(e){c.lockSnapshotLastTime.delete(e)}))),a=this.incGetSeq(),(s=this.lastLoginSockets.map((function(e){return e.pipe(Sf((function(e,A){0!==A&&c.incSeqIfNeeded(e.env);var n=0===A?a:c.seq;return e.sendPacket("StateLockSubscribe",{sequence:n,target:t,flags:new Xa(1048577,0,!0)}),e.fromReceived("StateLockSubscribeResult").pipe(Bf((function(e){return n.eq(e.sequence)})),Fc((function(e){var A=MB(e=e.code),n=A.code;A.reason,n!==Aa.RTM_ERROR_OK&&(c.updateChannelOptionsCache2False(t,"withLock"),c.warn("Subscribe lock failure. The response code from the RTM service is ".concat(e)))})))})),wh(o),gk())}))).forEach((function(e,A){var n=function(){return c.loginSocketSubs[A].lockSubs.delete(t)};c.loginSocketSubs[A].lockSubs.set(t,e.subscribe({error:n,complete:n}))})),e.next=13,ng.apply(void 0,rb(s)).pipe(Vd(1),Oh(1e4),Pd((function(e){return e instanceof sg&&c.warn("subscribe channel lock timeout"),Rc(e)}))).toPromise();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestSetLock",value:function(e,A,n){var r=this,i=Wb.setLock,o=this.getLoginSockets();if(0===o.length)throw o=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(i,[o.reason],o.code);var a=this.incGetSeq();return o.forEach((function(t){var i;t.sendPacket("StateLockCreate",{target:e,requestUuid:"".concat(a,"_").concat(r.instanceId),lock:A,ttl:Xa.fromNumber(null!==(i=null==n?void 0:n.ttl)&&void 0!==i?i:10),flags:new Xa(1048577,0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(rb(o.map((function(e){return e.fromReceived("StateLockCreateResult").pipe(Bf((function(e){return e=e.requestUuid,"".concat(a,"_").concat(r.instanceId)===e})),hf((function(e){var t=Ql(e.code);if(e=t.code,t=t.reason,e!==Aa.RTM_ERROR_OK)throw new Db(i,[t],e)})))})))))}},{key:"requestRemoveLock",value:function(e,A){var n=this,r=Wb.removeLock,i=this.getLoginSockets();if(0===i.length)throw i=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(r,[i.reason],i.code);var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("StateLockDelete",{target:e,lock:A,requestUuid:"".concat(o,"_").concat(n.instanceId),flags:new Xa(1048577,0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(rb(i.map((function(e){return e.fromReceived("StateLockDeleteResult").pipe(Bf((function(e){return e=e.requestUuid,"".concat(o,"_").concat(n.instanceId)===e})),hf((function(e){var t=Ql(e.code);if(e=t.code,t=t.reason,e!==Aa.RTM_ERROR_OK)throw new Db(r,[t],e)})))})))))}},{key:"requestAcquireLock",value:function(e,A,n){var r,i=this,o=Wb.acquireLock,a=this.getLoginSockets();if(0===a.length)throw a=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(o,[a.reason],a.code);var s=Co(A),c=null!==(r=this.locksWithRetryNoRes.get("".concat(e).concat(s)))&&void 0!==r?r:{};r=c.reqSeq;var u=c.resolve;c=c.reject,u=null!=u?u:null==n?void 0:n.resolve,c=null!=c?c:null==n?void 0:n.reject;var g=null!=r?r:this.incGetSeq();return a.forEach((function(t){t.sendPacket("StateLockAcquire",{target:e,requestUuid:"".concat(g,"_").concat(i.instanceId),lock:A,ttl:new Xa(0,0,!0),flags:null!=n&&n.retry?new Xa(1310721,0,!0):new Xa(1048577,0,!0)})})),u&&c&&this.locksWithRetryNoRes.set("".concat(e).concat(s),{reqSeq:g,resolve:u,reject:c}),null!=n&&n.retry?Qf.apply(void 0,rb(a.map((function(t){return t.fromReceived("StateLockAcquireResult").pipe(Bf((function(e){return e=e.requestUuid,"".concat(g,"_").concat(i.instanceId)===e})),Fc((function(t){var n=t.lock,r=t.code;t=t.target,i.log("acquire lock with lock(".concat(A,"), channel: ").concat(uc(e),", retry: ",!0,", serverCode is ").concat(r));var o=(r=Ql(r)).code;r.reason,o!==Aa.RTM_ERROR_OK||n===A&&t===e||(i.log("RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'",uc(e),uc(n),uc(i.context.uid||"")),i.requestReleaseLock(t,n).toPromise())})),hf((function(t){var n=t.code,r=t.target,a=t.lock,s=t.lockRev;t=t.reason;var c=Ql(n),u=c.code;if(c=c.reason,u!==Aa.RTM_ERROR_OK)throw new Db(o,[c],u);return i.emit("acquireSuccess",{prefixChannelName:e,lockName:A,revision:s.toNumber()}),{target:r,lock:a,lockRev:s,reason:t,code:n}})))})))).pipe(wh(this.notifyAcquireRetryReject.pipe(Af((function(t){return t==="".concat(e).concat(s)})))),qo((function(){i.locksWithRetryNoRes.delete("".concat(e).concat(s))}))):Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(rb(a.map((function(t){return t.fromReceived("StateLockAcquireResult").pipe(Bf((function(e){return e=e.requestUuid,"".concat(g,"_").concat(i.instanceId)===e})),Fc((function(t){var n=t.lock,r=t.code;t=t.target,i.log("acquire lock with lock(".concat(A,"), channel: ").concat(uc(e),", retry: ",!1,", serverCode is ").concat(r));var o=(r=Ql(r)).code;r.reason,o!==Aa.RTM_ERROR_OK||n===A&&t===e||(i.log("RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'",uc(e),uc(n),uc(i.context.uid||"")),i.requestReleaseLock(t,n).toPromise())})),hf((function(t){var n=t.code,r=t.target,a=t.lock,s=t.lockRev;t=t.reason;var c=Ql(n),u=c.code;if(c=c.reason,u!==Aa.RTM_ERROR_OK)throw new Db(o,[c],u);return i.emit("acquireSuccess",{prefixChannelName:e,lockName:A,revision:s.toNumber()}),{target:r,lock:a,lockRev:s,reason:t,code:n}})))}))))).pipe(qo((function(){i.locksWithRetryNoRes.delete("".concat(e).concat(s))})))}},{key:"requestReleaseLock",value:function(e,A){var n=this,r=Wb.releaseLock,i=this.getLoginSockets();if(0===i.length)throw i=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(r,[i.reason],i.code);var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("StateLockRelease",{target:e,requestUuid:"".concat(o,"_").concat(n.instanceId),lock:A,flags:new Xa(1048577,0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(rb(i.map((function(t){return t.fromReceived("StateLockReleaseResult").pipe(Bf((function(e){return e=e.requestUuid,"".concat(o,"_").concat(n.instanceId)===e})),hf((function(t){var i=Ql(t.code);if(t=i.code,i=i.reason,t!==Aa.RTM_ERROR_OK)throw new Db(r,[i],t);n.emit("releaseSuccess",{channelName:e,lockName:A})})))})))))}},{key:"requestDisableLock",value:function(e,A,n){var r=this,i=Wb.revokeLock,o=this.getLoginSockets();if(0===o.length)throw o=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(i,[o.reason],o.code);var a=this.incGetSeq();return o.forEach((function(t){t.sendPacket("StateLockDisable",{target:e,requestUuid:"".concat(a,"_").concat(r.instanceId),lock:A,userId:n,flags:new Xa(1048577,0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(rb(o.map((function(e){return e.fromReceived("StateLockDisableResult").pipe(Bf((function(e){return e=e.requestUuid,"".concat(a,"_").concat(r.instanceId)===e})),hf((function(e){var t=Ql(e.code);if(e=t.code,t=t.reason,e!==Aa.RTM_ERROR_OK)throw new Db(i,[t],e)})))})))))}},{key:"requestGetLock",value:function(e){var A=Wb.getLock,n=this.getLoginSockets();if(0===n.length)throw n=$a(Aa.RTM_ERROR_NOT_LOGIN),new Ad(A,[n.reason],n.code);var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("StateLockList",{target:e,sequence:r,flags:new Xa(1048577,0,!0)})})),Qf.apply(void 0,[t.genTimeoutError(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(rb(n.map((function(e){return e.fromReceived("StateLockListResult").pipe(Bf((function(e){return r.eq(e.sequence)})),hf((function(e){var t=e.lockStates,n=Ql(e.code);if(e=n.code,n=n.reason,e!==Aa.RTM_ERROR_OK)throw new Db(A,[n],e);return t})))})))))}},{key:"sendRawMessage",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w,D=this,k=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=3<k.length&&void 0!==k[3]&&k[3],i=4<k.length?k[4]:void 0,o=5<k.length?k[5]:void 0,a=Wb.publish,s=Date.now(),c=r?ve.P2pRMsgNoOfflineFlag:ve.ChannelRMsg,re(n)&&t instanceof Uint8Array&&"string"==typeof A){e.next=9;break}throw u=$a(Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),g=u.code,I=u.reason,new Jc(a,[I],g);case 9:if(!(32768<t.byteLength+new Blob([A]).size+new Blob([null!=o?o:""]).size)){e.next=14;break}throw this.emit("messageCount",{messageCategory:c,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:c,type:"common",key:"invalidmessagecount"}),l=$a(Aa.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION),E=l.code,C=l.reason,new ri(a,[C],E);case 14:if(d=this.initEncryption,h=t,!d){e.next=25;break}e.prev=17,h=aB(t,this.key,this.iv,this.keyLength),e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(17),p=$a(Aa.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED),f=p.code,B=p.reason,new Db(a,[B],f);case 25:return Q=!Qc("DISABLE_MESSAGE_COMPRESSION")&&128<=h.byteLength,y=this.chatManager.getChatInfo(r?"*p*"+n:n),v=y.dialogue,m=y.sequence,_=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(_,"-").concat(v,"#").concat(m,'"'),Q?" compressed":"",r?"peer":"channel",uc(n)),b=function(e){return{MiscMap:Rd({description:(new TextEncoder).encode(A)},o?{customType:(new TextEncoder).encode(o)}:{}),sequence:m,dialogue:v,instance:_,dst:n,ms:Xa.fromNumber(Date.now(),!0),options:new $v({IterationNumber:e,CompressionMethod:Q?"Zlib":"Uncompressed",MessageType:r?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1,enableEncryption:d,encrytionComplement:h.byteLength-t.byteLength}).toLong(),payload:Q?dW(h):h,src:D.context.uid}},e.next=32,FH(this.sendMessageToRetry(b,!0)).pipe(Oh(void 0===i?1e4:i),Pd((function(e){return e instanceof sg&&(D.emit("messageCount",{messageCategory:c,type:"common",key:"sentcount"}),D.emit("messageCount",{messageCategory:c,type:"common",key:"timeoutcount"}),D.warn("Send message timeout")),Rc(e)}))).toPromise();case 32:return R=e.sent,S=R.code,w=0===S,this.emit("messageCount",{messageCategory:c,type:"common",key:"sentcount"}),w&&(this.emit("messageCount",{messageCategory:c,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:c,type:r?"peer":"recipient",delay:lf(s).toNumber()})),0!==S&&this.throwPeerMsgFailed(a,S),e.abrupt("return",{hasPeerReceived:w});case 39:case"end":return e.stop()}}),e,this,[[17,21]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"throwPeerMsgFailed",value:function(e,t){throw t=$a(1===t?Aa.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE:Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),new Db(e,[t.reason],t.code)}},{key:"sendTextMessage",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w=this,D=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<D.length&&void 0!==D[2]&&D[2],r=3<D.length?D[3]:void 0,i=4<D.length?D[4]:void 0,o=Wb.publish,a=Date.now(),s=n?ve.P2pSMsgNoOfflineFlag:ve.ChannelSMsg,re(A)){e.next=9;break}throw c=$a(Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),u=c.code,g=c.reason,new Jc(o,[g],u);case 9:if(!(32768<new Blob([t]).size+new Blob([null!=i?i:""]).size)){e.next=14;break}throw this.emit("messageCount",{messageCategory:s,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:s,type:"common",key:"invalidmessagecount"}),I=$a(Aa.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION),l=I.code,E=I.reason,new ri(o,[E],l);case 14:if(C=this.initEncryption,d=(new TextEncoder).encode(t),!C){e.next=25;break}e.prev=17,d=aB(t,this.key,this.iv,this.keyLength),e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(17),h=$a(Aa.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED),p=h.code,f=h.reason,new Db(o,[f],p);case 25:return B=!Qc("DISABLE_MESSAGE_COMPRESSION")&&128<=(C?new Blob([(new TextDecoder).decode(d)]).size:new Blob([t]).size),Q=this.chatManager.getChatInfo(n?"*p*"+A:A),y=Q.dialogue,v=Q.sequence,m=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(m,"-").concat(y,"#").concat(v,'"'),B?" compressed":"",n?"peer":"channel",uc(A)),_=function(e){return{MiscMap:Rd({},i?{customType:(new TextEncoder).encode(i)}:{}),sequence:v,dialogue:y,instance:m,dst:A,ms:Xa.fromNumber(Date.now(),!0),options:new $v({IterationNumber:e,CompressionMethod:B?"Zlib":"Uncompressed",MessageType:n?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1,enableEncryption:C,encrytionComplement:d.byteLength-(new TextEncoder).encode(t).byteLength}).toLong(),payload:B?dW(d):d,src:w.context.uid}},e.next=32,FH(this.sendMessageToRetry(_,!0)).pipe(Oh(void 0===r?1e4:r),Pd((function(e){return e instanceof sg&&(w.emit("messageCount",{messageCategory:s,type:"common",key:"sentcount"}),w.emit("messageCount",{messageCategory:s,type:"common",key:"timeoutcount"}),w.warn("Send message timeout")),Rc(e)}))).toPromise();case 32:return b=e.sent,R=b.code,S=0===R,this.emit("messageCount",{messageCategory:s,type:"common",key:"sentcount"}),S&&(this.emit("messageCount",{messageCategory:s,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:s,type:n?"peer":"recipient",delay:lf(a).toNumber()})),0!==R&&this.throwPeerMsgFailed(o,R),e.abrupt("return",{hasPeerReceived:S});case 39:case"end":return e.stop()}}),e,this,[[17,21]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(e,t){Object.entries(this.loginSocketSubs[e]).forEach((function(e){var A=(e=Lb(e,2))[1];["channels","lockSubs","userMetadataSubs","metadataSubs"].includes(e[0])&&t||(Array.isArray(A)||A instanceof Map?A.forEach((function(e){return e.unsubscribe()})):A&&A.unsubscribe())})),this.loginSocketSubs[e]={channels:t?this.loginSocketSubs[e].channels:new Map,lockSubs:t?this.loginSocketSubs[e].lockSubs:new Map,userMetadataSubs:t?this.loginSocketSubs[e].userMetadataSubs:new Map,metadataSubs:t?this.loginSocketSubs[e].metadataSubs:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C=this,d=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<d.length&&void 0!==d[2]?d[2]:0,this.log("Attempt to send the message ".concat(A?" with retrying, %o":"without retrying"),{retryTimes:n}),0!==(r=this.getLoginSockets()).length){e.next=6;break}throw i=$a(Aa.RTM_ERROR_NOT_LOGIN),o=i.code,a=i.reason,new Ad(Wb.publish,[a],o);case 6:return s=t(n),r.forEach((function(e){e.sendPacket("Message",s)})),c=s.dialogue,u=s.sequence,g=s.instance,I=r.map((function(e){return e.fromReceived("Ack").pipe(Af((function(e){return c.eq(e.dialogue)&&u.eq(e.sequence)&&g.eq(e.instance)})))})),e.prev=10,e.next=13,ng.apply(void 0,rb(I)).pipe(Oh(6e3),Pd((function(e){return Qe(e)&&C.warn("Message send timeout, retry times %d",n),Rc(e)})),Vd(1)).toPromise();case 13:return l=e.sent,E=l.code,this.log("The message has been acked, %o",{code:E}),e.abrupt("return",{code:E,retryTimes:n});case 19:if(e.prev=19,e.t0=e.catch(10),!(e.t0 instanceof sg&&A)){e.next=23;break}return e.abrupt("return",this.sendMessageToRetry(t,!1,n+1));case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,this,[[10,19]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var e=this;this.lastLoginSockets.map((function(t){return t.pipe(Sf((function(t){return Ti(0,2500,Fo()?void 0:new zH(bW)).pipe(Fc((function(){e.sendPing(t)})))})))})).forEach((function(t,A){var n=e.loginSocketSubs[A].keepAlive;void 0!==n&&n.unsubscribe(),e.loginSocketSubs[A].keepAlive=t.subscribe({error:function(){}})}))}},{key:"initKeepAliveReconnector",value:function(){var e=this;this.lastLoginSockets.map((function(t){return t.pipe(Sf((function(t){var A,n=!1,r=t.userJoin$.pipe(Fc((function(){n=!0}))),i=t.input$.pipe(Fc((function(e){"Ping2"!==EB[e.uri].slice(0,-3)&&(n=!1)}))),o=Ti(6e3,1e4).pipe($$(t.receivedPacket),Fc((function(r){r=Lb(r,2),r=Lb(r[1],2)[1],A!==r||n||(e.warn("ENV_".concat(t.env,"(").concat(t.name,"): registrar forceReconnect, the last received packet is the same as it was ").concat(1e4,"s ago ")),t.forceReconnect()),A=r})));return ng(o,r,i)})))})).forEach((function(t,A){var n=e.loginSocketSubs[A].keepAliveReconnector;void 0!==n&&n.unsubscribe(),e.loginSocketSubs[A].keepAliveReconnector=t.subscribe({error:function(){}})}))}},{key:"initLoginReceiver",value:function(){var e=this;Qf.apply(void 0,rb(this.lastLoginSockets.map((function(t){return t.pipe(Sf((function(t){return t.fromReceived("UserTicketNearlyExpire").pipe(saa(5e3),Fc(e.onUserTicketNearlyExpire(t)))})))})))).subscribe();var t=Vk(this,"messageCount"),A=t.pipe(Af((function(e){return e.messageCategory===ve.ChannelSMsg})));A.subscribe((function(t){return e.updateMessageCount(t)})),A.pipe(gA(6e3)).subscribe((function(t){t.length&&e.chanelStringMessageReport.report()})),ng(Oe(void 0),A).pipe(Sf((function(){return fA(36e5)}))).subscribe((function(){e.chanelStringMessageReport.report()})),(A=t.pipe(Af((function(e){return e.messageCategory===ve.ChannelRMsg})))).subscribe((function(t){return e.updateMessageCount(t)})),A.pipe(gA(6e3)).subscribe((function(t){t.length&&e.chanelRawMessageReport.report()})),ng(Oe(void 0),A).pipe(Sf((function(){return fA(36e5)}))).subscribe((function(){e.chanelRawMessageReport.report()})),(A=t.pipe(Af((function(e){return e.messageCategory===ve.P2pSMsgNoOfflineFlag})))).subscribe((function(t){return e.updateMessageCount(t)})),A.pipe(gA(6e3)).subscribe((function(t){t.length&&e.p2pSMsgNoOfflineReport.report()})),ng(Oe(void 0),A).pipe(Sf((function(){return fA(36e5)}))).subscribe((function(){e.p2pSMsgNoOfflineReport.report()})),(t=t.pipe(Af((function(e){return e.messageCategory===ve.P2pRMsgNoOfflineFlag})))).subscribe((function(t){return e.updateMessageCount(t)})),t.pipe(gA(6e3)).subscribe((function(t){t.length&&e.p2pRMsgNoOfflineReport.report()})),ng(Oe(void 0),t).pipe(Sf((function(){return fA(36e5)}))).subscribe((function(){e.p2pSMsgNoOfflineReport.report()})),this.lastLoginSockets.map((function(t){return t.pipe(Sf((function(t){return ng(Vk(t,"reconnect").pipe(Fc(e.onSocketReconnect(t))),t.fromReceived("Message").pipe(Fc(e.onMessage(t))),t.fromReceived("StateLockSubscribeEvent").pipe(Fc(e.onLockEvent())),t.fromReceived("StateUpdate").pipe(Fc(e.onStateUpdate())),t.fromReceived("GroupEnterNotice").pipe(Fc(e.onGroupEnterNotice())),t.fromReceived("GroupLeaveNotice").pipe(Fc(e.onGroupLeaveNotice())),t.fromReceived("GroupCountNotice").pipe(Fc(e.onGroupCountNotice())),t.fromReceived("Pong").pipe(Fc(e.onPong())),t.fromReceived("UserDrop").pipe(Fc(e.onUserDrop(t))),t.fromReceived("GroupDrop").pipe(Fc(e.onGroupDrop())),t.fromReceived("StateLockUpdate").pipe(Fc(e.onLockUpdate()))).pipe(Lm(void 0))})))})).forEach((function(t,A){e.loginSocketSubs[A].receivers.push(t.subscribe({error:function(){}}))}))}},{key:"handleConfig",value:function(e){if(void 0!==ub(e["presence.interval"])&&dB(e["presence.interval"])){var t=Number(e["presence.interval"]);300<t?e["presence.interval"]="300":10>t&&(e["presence.interval"]="10")}else e["presence.interval"]=String(Qc("PRESENCE_INTERVAL"));void 0!==ub(e["presence.debounce"])&&dB(e["presence.debounce"])?128<(t=Number(e["presence.debounce"]))?e["presence.debounce"]="128":8>t&&(e["presence.debounce"]="8"):e["presence.debounce"]=String(Qc("PRESENCE_THRESHOLD"))}},{key:"requestSocketLogin",value:function(e,t,A){var n=this,r=Qc("USE_NEW_LOGIN_PROTO"),i=oo((function(){n.userJoinOptions=new oA(t),e.sendPacket(r?"UserJoin2":"UserJoin",{account:n.context.uid,instance:n.instanceId,opt:n.userJoinOptions.toLong(),seq:A,ticket:e.ticket,detail:{1:new Uint8Array}})})),o=e.fromReceived(r?"UserResp2":"UserResp").pipe(Bf((function(e){return A.eq(e.seq)})),Fc((function(A){if(0!==A.code){var i=String(null==A?void 0:A.code);n.clearSockets();var o=Aa.RTM_ERROR_LOGIN_REJECTED;switch(A.code){case Jg.kCertificateInvalid:case Jg.kTicketParseError:case Jg.kTicketIllegalLength:case Jg.kTicketNotAuth:case Jg.kTicketUnknownVersion:o=Aa.RTM_ERROR_INVALID_TOKEN;break;case Jg.kTimestampExpired:o=Aa.RTM_ERROR_TOKEN_EXPIRED,t&&t&&n.emit("tokenExpired");break;case Jg.kUserRejectedByConsoleConfig:o=Aa.RTM_ERROR_LOGIN_NOT_AUTHORIZED,i="NOT_ENABLE_RTM"}throw n.logError("Connected to gateway success but the Rtm server rejected login, detail is %s",i),o=(A=$a(o)).code,new Db(n.loginOperation,[A.reason+"".concat(r?"UserResp2":"UserResp"," error, detail: ").concat(i)],o)}if(i=rda,r){A=A.detail[1];try{i=JSON.parse((new TextDecoder).decode(A))}catch(e){n.warn("UserResp2 response detail parse error: %s",e)}}n.handleConfig(i),n.log("user console config: %o",i),n.emit("appConfig",i),e.attemptsSinceLastError=0,e.loggedIn=!0,n.log("ENV_%d logged in",e.env)})),Lm(e),Oh(6e3));return $U(i,o).pipe(Af((function(e){return void 0!==e})),Pd((function(A){return A instanceof sg?(n.warn("ENV_%d(%s): Login response timeout, rejoin: %s",e.env,e.name,t),A.name="loginRespTimeout",setTimeout((function(){e.emit("connectionFailure"),e.close()}),3e3),Oe(e).pipe(Km(6e3))):(n.emit("banEdgeIP",e.ip),Rc(A))})))}},{key:"getSocketLoginObservables",value:function(e,t){var A=this;return e.map((function(e){return e.pipe(Sf((function(e,n){return A.incSeqIfNeeded(e.env),A.requestSocketLogin(e,0!==n,0===n?t:A.seq)})),gk())}))}},{key:"incSeqIfNeeded",value:function(e){if(![0,1].includes(e))throw new Xw({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[e]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[e]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){return tN(this.curLoginSockets)}},{key:"emitMessage",value:function(e,A){var n,r,i=e.options,o=e.payload,a=e.src,s=e.dst,c=e.instance,u=e.dialogue,g=e.sequence,I=e.ms,l=e.MiscMap;l=void 0===l?{}:l,this.dialogueSequenceLru.set(u.toString(),g),c="".concat(c,"-").concat(u,"#").concat(g),this.msgDedupLru.has(c)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",A,c):(this.msgDedupLru.set(c,void 0),g=new $v(i),this.lastLoginSockets.forEach((r=pa(O.mark((function A(n){var r;return O.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,n.pipe(Vd(1)).toPromise();case 2:r=A.sent,t.sendMessageAck(e,r);case 4:case"end":return A.stop()}}),A)}))),function(e){return r.apply(this,arguments)})),A=g.isZlibCompressed(),i=g.isEncryption(),u=null!==(n=g.getEncrytionComplement())&&void 0!==n?n:0,n=void 0===(n=l.customType)?new Uint8Array:n,n=(new TextDecoder).decode(n),i&&!this.key?this.warn("Received a message with encryption but the key is not ready yet, %s",c):!i&&this.key?this.warn("Received a message without encryption but the key is ready, %s",c):g.isTextMessage()?(l=g.isPeerTextMessage(),u=(o=A?cW($W(o,Uint8Array.of(0,0,0,0))):o).byteLength-Xa.fromValue(u).toNumber(),o=(new TextDecoder).decode(i?nw(o,this.key,this.iv,this.keyLength).slice(0,u):o),this.info("Received a %s %s text message from %s to %s, %s",A?" compressed":"",l?"peer":"channel",uc(a),uc(s),c),l?this.emit("messageCount",{messageCategory:ve.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"}):this.emit("messageCount",{messageCategory:ve.ChannelSMsg,type:"common",key:"receivedcount"}),this.emit("channelTextMessage",{channelId:s,memberId:a,text:o,properties:{serverReceivedTs:I.toNumber()},customType:n,channelType:l?"USER":"MESSAGE"})):g.isRawMessage()&&(g=g.isRawPeerMessage(),l=void 0===(l=l.description)?"":ZW(l),u=(o=A?cW(o):o).byteLength-Xa.fromValue(u).toNumber(),o=i?nw(o,this.key,this.iv,this.keyLength).slice(0,u):o,this.info("Received a %s %s raw message from %s to %s, %s",A?" compressed":"",g?"peer":"channel",uc(a),uc(s),c),g?this.emit("messageCount",{messageCategory:ve.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"}):this.emit("messageCount",{messageCategory:ve.ChannelRMsg,type:"common",key:"receivedcount"}),this.emit("channelRawMessage",{desc:l,raw:o,channelId:s,memberId:a,properties:{serverReceivedTs:I.toNumber()},customType:n,channelType:g?"USER":"MESSAGE"})))}},{key:"onSocketReconnect",value:function(e){var t=this;return function(){var A=[0,1].filter((function(t){return t!==e.env}))[0];A=t.connection.curOpenSockets[A],t.log("ENV_".concat(e.env,"(").concat(e.name,"): received a reconnect event from ").concat(e.address,", otherSocketState: ").concat(null==A?void 0:A.loggedIn)),A&&!A.loggedIn&&(t.log("ENV_".concat(e.env,"(").concat(e.name,"): will emit connectionLost")),t.emit("connectionLost"))}}},{key:"onUserTicketNearlyExpire",value:function(e){var t=this;return function(A){(A=A.ticket)!==t.lastNoticeTicket&&A===e.ticket?(t.lastNoticeTicket=A,t.emit("tokenPrivilegeWillExpire")):t.requestUpdateEdgeTicket(e.ticket).toPromise()}}},{key:"onGroupDrop",value:function(){var e=this;return function(t){var A,n=t.account;De("ChnLeave",{cname:n,lts:Xa.fromNumber(Date.now()),elapse:lf(e.startTime),errCode:Aa.RTM_ERROR_CHANNEL_IN_ERROR_STATE,sid:pg(e.instanceId),userId:e.context.uid},null!==(A=e.context.config.cloudProxy)&&void 0!==A&&A,e.context.vid),[0,1].forEach((function(t){return e.loginSocketSubs[t].channels.delete(n)})),e.logError("the user is kicked out of the channel: ".concat(n))}}},{key:"onStateUpdate",value:function(){var e=this;return function(t){var A,n,r=t.flags,i=t.target;(t=OB(t.allStates),!r.and(new Xa(0,2,!0)).isZero()&&e.log("metadata is cleared."),r.and(new Xa(1,0,!0)).isZero())?t.majorRevision>=(null!==(A=e.userMetaEventInfos.get(i))&&void 0!==A?A:0)&&e.emit("userMetaDataUpdated",{uid:i,data:t}):t.majorRevision>=(null!==(n=e.channelMetaEventInfos.get(i))&&void 0!==n?n:0)&&e.emit("channelMetaDataUpdated",{channelId:i,data:t})}}},{key:"onLockUpdate",value:function(){var e=this;return function(t){var A=t.target;t.flags;var n=t.code;t=t.lock;var r=Cj(A),i=r.channelName;r=r.channelType,n===ch.kLockWatching?e.emit("lockWatching",{prefixChannelName:A,lockName:t}):n===ch.kLockExpired&&e.emit("lockExpired",{channelType:r,channelName:i,eventType:"EXPIRED",lockName:t,ttl:0,publisher:"",snapshot:[]})}}},{key:"onLockEvent",value:function(){var e=this;return function(t){var A,n,r=t.target,i=t.lockStates,o=t.eventType,a=(t=Cj(r)).channelName,s=t.channelType;if(0===o)e.log("RTM service Error: lockEvent type is 0 on channel '%s', channelType 's%', member '%s'",uc(a),s,uc(e.context.uid||""));else{var c=(new Date).getTime();if(4===o&&0===i.length&&!e.lockSnapshotLastTime.has(r)&&4e3<c-(null!==(A=e.lockSnapshotLastTime.get(r))&&void 0!==A?A:0)){var u={channelType:s,channelName:a,eventType:"SNAPSHOT",lockName:"",ttl:0,publisher:"",snapshot:[]};e.log("received snapshot lockEvent is empty on channel(".concat(r,"), emit channelLockEvent")),e.lockSnapshotLastTime.set(r,c),e.emit("channelLockEvent",u)}else{A="SNAPSHOT";var g,I,l,E,C,d,h,p,f,B,Q=0,y=!1;t=null;try{var v,m;null!==(v=i[0])&&void 0!==v&&v.lockState&&(t=JSON.parse(null===(m=i[0])||void 0===m?void 0:m.lockState))}catch(t){e.warn("parse lockState error: %o",t)}switch(o){case 1:A="SET",Q=t.create_ttl;break;case 2:A=t.user?"ACQUIRED":"RELEASED",Q=t.create_ttl;break;case 3:A="REMOVED",Q=0;break;case 4:A="SNAPSHOT",y=!0}if(v={channelType:s,channelName:a,eventType:A,lockName:y?"":null!==(n=i[0].lockName)&&void 0!==n?n:"",ttl:Q,publisher:"",snapshot:[]},y)!e.lockSnapshotLastTime.has(r)&&4e3<c-(null!==(g=e.lockSnapshotLastTime.get(r))&&void 0!==g?g:0)&&(e.log("received snapshot lockEvent, emit channelLockEvent"),e.lockSnapshotLastTime.set(r,c),v.snapshot=i.map((function(t){var A,n,i,o,a,s,c=null;try{var u;c=JSON.parse(null!==(u=t.lockState)&&void 0!==u?u:"")}catch(t){e.log("parse lockState error: %o",t)}return u={prefixChannelName:r,lockName:null!==(A=t.lockName)&&void 0!==A?A:"",owner:null!==(n=c.user)&&void 0!==n?n:"",ttl:null!==(i=c.create_ttl)&&void 0!==i?i:10,revision:null!==(o=c._rev)&&void 0!==o?o:0},e.updateLockSnapshotCache(u),{lockName:t.lockName,owner:null!==(a=c.user)&&void 0!==a?a:"",ttl:null!==(s=c.create_ttl)&&void 0!==s?s:10}})),e.emit("channelLockEvent",v));else if(e.log("received incremental lockEvent, emit channelLockEvent"),n=t._rev||0,g=(null===(I=e.lockEventInfos.get(r))||void 0===I||null===(l=I.get(null!==(E=i[0].lockName)&&void 0!==E?E:""))||void 0===l?void 0:l.revision)||0,I=!1,("RELEASED"!==A&&n>g||"RELEASED"===A&&n>=g&&null!==(C=e.lockEventInfos.get(r))&&void 0!==C&&null!==(d=C.get(null!==(h=i[0].lockName)&&void 0!==h?h:""))&&void 0!==d&&d.owner)&&(I=!0),I)e.emit("channelLockEvent",v),i={prefixChannelName:r,lockName:null!==(u=i[0].lockName)&&void 0!==u?u:"",owner:null!==(p=t.user)&&void 0!==p?p:null,ttl:null!==(f=t.create_ttl)&&void 0!==f?f:null,revision:null!==(B=t._rev)&&void 0!==B?B:null},e.updateLockCache(i)}}}}},{key:"updateLockCache",value:function(e){var t,A=e.lockName,n=e.prefixChannelName;this.lockEventInfos.get(n)||this.lockEventInfos.set(n,new Map);var r=null!==(t=this.lockEventInfos.get(n))&&void 0!==t?t:new Map;r.set(A,e),this.lockEventInfos.set(n,r)}},{key:"updateLockSnapshotCache",value:function(e){var t,A=e.lockName,n=e.prefixChannelName,r=null!==(t=this.lockEventInfos.get(n))&&void 0!==t?t:new Map;r.set(A,e),this.lockEventInfos.set(n,r)}},{key:"onUserDrop",value:function(e){var t=this;return function(A){var n;A=A.code,De("KickedOff",{code:0,elapse:lf(t.startTime),linkId:parseInt(e.name.split("-")[1],10),lts:Xa.fromNumber(Date.now()),server:e.address,serverCode:A,sid:pg(t.instanceId),userId:t.context.uid},null!==(n=t.context.config.cloudProxy)&&void 0!==n&&n,t.context.vid),A===Jg.kConnectionTimeout?t.warn("connection timeout"):A===Jg.kJoinTooFrequently?t.warn("Login too often and kicked off, reconnect and login"):A===Jg.kUserInstanceConflict?(t.warn("The instance ID conflicts, reconnecting"),t.instanceId=lw(),t.context.sid=pg(t.instanceId),t.emit("instanceChanged",t.instanceId)):[Jg.kTimestampExpired,Jg.kRejoined,Jg.kUidBanned,Jg.kIpBanned,Jg.kChannelBanned,Jg.kUserBannedByAuth].includes(A)&&(t.emit("userDrop",A),t.clearSockets())}}},{key:"clearSockets",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,A=1<arguments.length&&void 0!==arguments[1]&&arguments[1];[0,1].forEach((function(n){e.cleanLoginSubs(n,A),e.connection.closeSocket(n,t)}))}},{key:"onMessage",value:function(e){var t=this;return function(A){var n=A.dialogue,r=A.instance,i=A.sequence,o=A.options;if(A.src===t.context.uid)t.log("The message is from the local account, ignored");else{var a=n.toString(),s=t.dialPendingMsgSubjectMap.get(a);if(n="".concat(r,"-").concat(n,"#").concat(i),s)s.next(A),t.log("Env_%d: The dialogue has pending messages, next: %s",e.env,n);else{var c=t.dialogueSequenceLru.get(a);if(s=!c&&i.eq(1),r=void 0!==c&&i.sub(c).eq(1),s||r)t.emitMessage(A,e.env);else{if(c){if(i.lte(c))return;t.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",e.env,n)}else t.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",e.env,n);i=new Cg,t.dialPendingMsgSubjectMap.set(a,i);var u=i.pipe(hV(Jm.asyncScheduler),qV((function(e,t){return[].concat(rb(e),[t])}),[]),hf((function(e){return rb(e).sort((function(e,t){return e=e.sequence,t=t.sequence,e.eq(t)?0:e.gt(t)?1:-1}))})),KH(1));o=!(o=new $v(o)).isFromCache()&&!o.isBufferedMessage(),u.pipe(wh(Ti(o?750:1500)),Bf((function(e){if(2>e.length)return!1;for(var t=void 0===c?Xa.fromNumber(1,!0):c.add(1),A=0;A<e.length;t=t.add(1),A++)if(!e[A].sequence.eq(t))return!1;return!0})),qo((function(){t.dialPendingMsgSubjectMap.delete(a)}))).subscribe((function(A){A.forEach((function(A){t.emitMessage(A,e.env),t.log("Env_%d: The message queue has fully ordered, emitting: %s",e.env,"".concat(A.instance,"-").concat(A.dialogue,"#").concat(A.sequence))}))}),(function(A){A instanceof aV&&u.pipe(Vd(1)).subscribe((function(A){return A.forEach((function(A){t.log("Env_%d: The message pending queue expired, emitting: %s",e.env,"".concat(A.instance,"-").concat(A.dialogue,"#").concat(A.sequence)),t.emitMessage(A,e.env)}))}))})),i.next(A)}}}}}},{key:"onPong",value:function(){var e=this;return function(){document.hidden&&e.getLoginSockets().forEach((function(t){e.sendPing(t)}))}}},{key:"onGroupEnterNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberJoined",size:t.size})}}},{key:"onGroupLeaveNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberLeft",size:t.size})}}},{key:"onGroupCountNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,type:"MemberCountUpdated",size:t.size})}}},{key:"sendPing",value:function(e){2500>=Date.now()-this.lastPingTime[e.env]||(this.incSeqIfNeeded(e.env),e.sendPacket("Ping2",{ms:Xa.fromNumber(Date.now(),!0),seq:this.seq,flags:new Xa(3,0,!0)}),this.lastPingTime[e.env]=Date.now())}},{key:"updateMessageCount",value:function(e){var t,A=(t={},na(t,ve.ChannelRMsg,this.chanelRawMessageReport),na(t,ve.ChannelSMsg,this.chanelStringMessageReport),na(t,ve.P2pRMsgNoOfflineFlag,this.p2pRMsgNoOfflineReport),na(t,ve.P2pSMsgNoOfflineFlag,this.p2pSMsgNoOfflineReport),na(t,3,void 0),na(t,4,void 0),na(t,7,void 0),na(t,8,void 0),na(t,9,void 0),na(t,10,void 0),t)[e.messageCategory];"common"===e.type?null==A||A.updateCommonCount(e.key):"peer"===e.type?null==A||A.updatePeerAckCount(e.delay):null==A||A.updateNorecipientackCount(e.delay)}},{key:"canMakeOperation",value:function(e){var t=Date.now();return this.operationsTimeCache[e]||(this.operationsTimeCache[e]=[]),this.operationsTimeCache[e]=this.operationsTimeCache[e].filter((function(e){return e>t-1e3})),10>=this.operationsTimeCache[e].length&&(this.operationsTimeCache[e].push(t),!0)}},{key:"updateChannelOptionsCache2False",value:function(e,t){t=Rd(Rd({},this.subscribedChannels.get(e)),{},na({},t,!1)),this.subscribedChannels.set(e,t)}},{key:"updateChannelOptionsCache2True",value:function(e,t){t=Rd(Rd({},this.subscribedChannels.get(e)),{},na({},t,!0)),this.subscribedChannels.set(e,t)}},{key:"clearLockSnapshotLastTime",value:function(){this.lockSnapshotLastTime.clear()}}],[{key:"sendMessageAck",value:function(e,t){var A=new $v(e.options);(A.isInvitation()||A.isPeerMessage())&&t.sendPacket("Ack",{code:0,dialogue:e.dialogue,instance:e.instance,sequence:e.sequence})}}]),t}(Mh);na(eW,"genTimeoutError",(function(e,t){return Oe(void 0).pipe(Km(void 0===t?1e4:t),hf((function(){throw new Ol(Wb.rtm,[$a(e).reason||"Request timed out after ".concat((void 0===t?1e4:t)/1e3,"s")],e)})))})),qc({target:"Array",proto:!0,forced:jD!==[].lastIndexOf},{lastIndexOf:jD}),qc({target:"Array",proto:!0},{flatMap:function(e){var t=Tf(this),A=Ee(t.length);pk(e);var n=tt(t,0);return n.length=FK(n,t,t,A,0,1,e,1<arguments.length?arguments[1]:void 0),n}}),Xm("flatMap");var sda=Mo("reduceRight"),tda=!dl&&79<al&&83>al;qc({target:"Array",proto:!0,forced:!sda||tda},{reduceRight:function(e){return jL(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var fW=hE("trimEnd"),gW=fW?function(){return YZ(this)}:"".trimEnd;qc({target:"String",proto:!0,forced:fW},{trimEnd:gW,trimRight:gW});var hW=hE("trimStart"),iW=hW?function(){return XZ(this)}:"".trimStart;qc({target:"String",proto:!0,forced:hW},{trimStart:iW,trimLeft:iW});var uda=$c((function(e,t){(function(){function A(e,t,A){switch(A.length){case 0:return e.call(t);case 1:return e.call(t,A[0]);case 2:return e.call(t,A[0],A[1]);case 3:return e.call(t,A[0],A[1],A[2])}return e.apply(t,A)}function n(e,t,A,n){for(var r=-1,i=null==e?0:e.length;++r<i;){var o=e[r];t(n,o,A(o),e)}return n}function r(e,t){for(var A=-1,n=null==e?0:e.length;++A<n&&!1!==t(e[A],A,e););return e}function i(e,t){for(var A=null==e?0:e.length;A--&&!1!==t(e[A],A,e););return e}function o(e,t){for(var A=-1,n=null==e?0:e.length;++A<n;)if(!t(e[A],A,e))return!1;return!0}function a(e,t){for(var A=-1,n=null==e?0:e.length,r=0,i=[];++A<n;){var o=e[A];t(o,A,e)&&(i[r++]=o)}return i}function s(e,t){return!(null==e||!e.length)&&-1<h(e,t,0)}function c(e,t,A){for(var n=-1,r=null==e?0:e.length;++n<r;)if(A(t,e[n]))return!0;return!1}function u(e,t){for(var A=-1,n=null==e?0:e.length,r=Array(n);++A<n;)r[A]=t(e[A],A,e);return r}function g(e,t){for(var A=-1,n=t.length,r=e.length;++A<n;)e[r+A]=t[A];return e}function I(e,t,A,n){var r=-1,i=null==e?0:e.length;for(n&&i&&(A=e[++r]);++r<i;)A=t(A,e[r],r,e);return A}function l(e,t,A,n){var r=null==e?0:e.length;for(n&&r&&(A=e[--r]);r--;)A=t(A,e[r],r,e);return A}function E(e,t){for(var A=-1,n=null==e?0:e.length;++A<n;)if(t(e[A],A,e))return!0;return!1}function C(e,t,A){var n;return A(e,(function(e,A,r){if(t(e,A,r))return n=A,!1})),n}function d(e,t,A,n){var r=e.length;for(A+=n?1:-1;n?A--:++A<r;)if(t(e[A],A,e))return A;return-1}function h(e,t,A){if(t==t)e:{--A;for(var n=e.length;++A<n;)if(e[A]===t){e=A;break e}e=-1}else e=d(e,f,A);return e}function p(e,t,A,n){--A;for(var r=e.length;++A<r;)if(n(e[A],t))return A;return-1}function f(e){return e!=e}function B(e,t){var A=null==e?0:e.length;return A?m(e,t)/A:K}function Q(e){return function(t){return null==t?G:t[e]}}function y(e){return function(t){return null==e?G:e[t]}}function v(e,t,A,n,r){return r(e,(function(e,r,i){A=n?(n=!1,e):t(A,e,r,i)})),A}function m(e,t){for(var A,n=-1,r=e.length;++n<r;){var i=t(e[n]);i!==G&&(A=A===G?i:A+i)}return A}function _(e,t){for(var A=-1,n=Array(e);++A<e;)n[A]=t(A);return n}function b(e){return e?e.slice(0,P(e)+1).replace(ie,""):e}function R(e){return function(t){return e(t)}}function S(e,t){return u(t,(function(t){return e[t]}))}function w(e,t){return e.has(t)}function D(e,t){for(var A=-1,n=e.length;++A<n&&-1<h(t,e[A],0););return A}function k(e,t){for(var A=e.length;A--&&-1<h(t,e[A],0););return A}function N(e){return"\\"+Te[e]}function T(e){var t=-1,A=Array(e.size);return e.forEach((function(e,n){A[++t]=[n,e]})),A}function O(e,t){return function(A){return e(t(A))}}function L(e,t){for(var A=-1,n=e.length,r=0,i=[];++A<n;){var o=e[A];o!==t&&"__lodash_placeholder__"!==o||(e[A]="__lodash_placeholder__",i[r++]=A)}return i}function M(e){var t=-1,A=Array(e.size);return e.forEach((function(e){A[++t]=e})),A}function U(e){if(Re.test(e)){for(var t=_e.lastIndex=0;_e.test(e);)++t;e=t}else e=Xe(e);return e}function x(e){return Re.test(e)?e.match(_e)||[]:e.split("")}function P(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var G,F=1/0,K=NaN,V=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Y=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,W=RegExp(H.source),X=RegExp(j.source),z=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+/,oe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ge=/[()=,{}\[\]\/\s]/,Ie=/\\(\\)?/g,le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ee=/\w*$/,Ce=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,fe=/^(?:0|[1-9]\d*)$/,Be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,ve=/['\u2019]/g,me=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,_e=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,be=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Re=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,Se=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,we="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),De=-1,ke={};ke["[object Float32Array]"]=ke["[object Float64Array]"]=ke["[object Int8Array]"]=ke["[object Int16Array]"]=ke["[object Int32Array]"]=ke["[object Uint8Array]"]=ke["[object Uint8ClampedArray]"]=ke["[object Uint16Array]"]=ke["[object Uint32Array]"]=!0,ke["[object Arguments]"]=ke["[object Array]"]=ke["[object ArrayBuffer]"]=ke["[object Boolean]"]=ke["[object DataView]"]=ke["[object Date]"]=ke["[object Error]"]=ke["[object Function]"]=ke["[object Map]"]=ke["[object Number]"]=ke["[object Object]"]=ke["[object RegExp]"]=ke["[object Set]"]=ke["[object String]"]=ke["[object WeakMap]"]=!1;var Ne={};Ne["[object Arguments]"]=Ne["[object Array]"]=Ne["[object ArrayBuffer]"]=Ne["[object DataView]"]=Ne["[object Boolean]"]=Ne["[object Date]"]=Ne["[object Float32Array]"]=Ne["[object Float64Array]"]=Ne["[object Int8Array]"]=Ne["[object Int16Array]"]=Ne["[object Int32Array]"]=Ne["[object Map]"]=Ne["[object Number]"]=Ne["[object Object]"]=Ne["[object RegExp]"]=Ne["[object Set]"]=Ne["[object String]"]=Ne["[object Symbol]"]=Ne["[object Uint8Array]"]=Ne["[object Uint8ClampedArray]"]=Ne["[object Uint16Array]"]=Ne["[object Uint32Array]"]=!0,Ne["[object Error]"]=Ne["[object Function]"]=Ne["[object WeakMap]"]=!1;var Te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Oe=parseFloat,Le=parseInt,Me="object"==ub(Xb)&&Xb&&Xb.Object===Object&&Xb,Ue="object"==("undefined"==typeof self?"undefined":ub(self))&&self&&self.Object===Object&&self,xe=Me||Ue||Function("return this")(),Pe=t&&!t.nodeType&&t,Ge=Pe&&e&&!e.nodeType&&e,Fe=Ge&&Ge.exports===Pe,Ke=Fe&&Me.process,Ve=function(){try{var e=Ge&&Ge.require&&Ge.require("util").types;return e||Ke&&Ke.binding&&Ke.binding("util")}catch(e){}}(),Ye=Ve&&Ve.isArrayBuffer,Je=Ve&&Ve.isDate,qe=Ve&&Ve.isMap,He=Ve&&Ve.isRegExp,je=Ve&&Ve.isSet,We=Ve&&Ve.isTypedArray,Xe=Q("length"),ze=y({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Ze=y({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),$e=y({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),et=function e(t){function y(e){if(Wn(e)&&!xo(e)&&!(e instanceof Te)){if(e instanceof _e)return e;if(xr.call(e,"__wrapped__"))return Qn(e)}return new _e(e)}function oe(){}function _e(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=G}function Te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Me(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function Ue(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function Ge(e){var t=-1,A=null==e?0:e.length;for(this.__data__=new Pe;++t<A;)this.add(e[t])}function Ke(e){this.size=(this.__data__=new Ue(e)).size}function Ve(e,t){var A,n=xo(e),r=!n&&Uo(e),i=!n&&!r&&Go(e),o=!n&&!r&&!i&&Jo(e),a=(r=(n=n||r||i||o)?_(e.length,Nr):[]).length;for(A in e)!t&&!xr.call(e,A)||n&&("length"==A||i&&("offset"==A||"parent"==A)||o&&("buffer"==A||"byteLength"==A||"byteOffset"==A)||an(A,a))||r.push(A);return r}function Xe(e){var t=e.length;return t?e[qt(0,t-1)]:G}function tt(e,t){return hn(yA(e),ut(t,0,e.length))}function At(e){return hn(yA(e))}function nt(e,t,A){(A===G||Fn(e[t],A))&&(A!==G||t in e)||st(e,t,A)}function rt(e,t,A){var n=e[t];xr.call(e,t)&&Fn(n,A)&&(A!==G||t in e)||st(e,t,A)}function it(e,t){for(var A=e.length;A--;)if(Fn(e[A][0],t))return A;return-1}function ot(e,t,A,n){return Mi(e,(function(e,r,i){t(n,e,A(e),i)})),n}function at(e,t){return e&&vA(t,cr(t),e)}function st(e,t,A){"__proto__"==t&&Ai?Ai(e,t,{configurable:!0,enumerable:!0,value:A,writable:!0}):e[t]=A}function ct(e,t){for(var A=-1,n=t.length,r=_r(n),i=null==e;++A<n;)r[A]=i?G:ar(e,t[A]);return r}function ut(e,t,A){return e==e&&(A!==G&&(e=e<=A?e:A),t!==G&&(e=e>=t?e:t)),e}function gt(e,t,A,n,i,o){var a,s=1&t,c=2&t,u=4&t;if(A&&(a=i?A(e,n,i,o):A(e)),a!==G)return a;if(!jn(e))return e;if(n=xo(e)){if(a=function(e){var t=e.length,A=new e.constructor(t);return t&&"string"==typeof e[0]&&xr.call(e,"index")&&(A.index=e.index,A.input=e.input),A}(e),!s)return yA(e,a)}else{var g=Hi(e),I="[object Function]"==g||"[object GeneratorFunction]"==g;if(Go(e))return dA(e,s);if("[object Object]"==g||"[object Arguments]"==g||I&&!i){if(a=c||I?{}:rn(e),!s)return c?function(e,t){return vA(e,qi(e),t)}(e,function(e,t){return e&&vA(t,ur(t),e)}(a,e)):function(e,t){return vA(e,Ji(e),t)}(e,at(a,e))}else{if(!Ne[g])return i?e:{};a=function(e,t,A){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return hA(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return t=A?hA(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return pA(e,A);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return(t=new e.constructor(e.source,Ee.exec(e))).lastIndex=e.lastIndex,t;case"[object Set]":return new n;case"[object Symbol]":return Ti?Dr(Ti.call(e)):{}}}(e,g,s)}}if(o||(o=new Ke),i=o.get(e))return i;o.set(e,a),Yo(e)?e.forEach((function(n){a.add(gt(n,t,A,n,e,o))})):Ko(e)&&e.forEach((function(n,r){a.set(r,gt(n,t,A,r,e,o))})),c=u?c?XA:WA:c?ur:cr;var l=n?G:c(e);return r(l||e,(function(n,r){l&&(n=e[r=n]),rt(a,r,gt(n,t,A,r,e,o))})),a}function It(e,t,A){var n=A.length;if(null==e)return!n;for(e=Dr(e);n--;){var r=A[n],i=t[r],o=e[r];if(o===G&&!(r in e)||!i(o))return!1}return!0}function lt(e,t,A){if("function"!=typeof e)throw new Tr("Expected a function");return Xi((function(){e.apply(G,A)}),t)}function Et(e,t,A,n){var r=-1,i=s,o=!0,a=e.length,g=[],I=t.length;if(!a)return g;A&&(t=u(t,R(A))),n?(i=c,o=!1):200<=t.length&&(i=w,o=!1,t=new Ge(t));e:for(;++r<a;){var l=e[r],E=null==A?l:A(l);if(l=n||0!==l?l:0,o&&E==E){for(var C=I;C--;)if(t[C]===E)continue e;g.push(l)}else i(t,E,n)||g.push(l)}return g}function Ct(e,t){var A=!0;return Mi(e,(function(e,n,r){return A=!!t(e,n,r)})),A}function dt(e,t,A){for(var n=-1,r=e.length;++n<r;){var i=e[n],o=t(i);if(null!=o&&(a===G?o==o&&!$n(o):A(o,a)))var a=o,s=i}return s}function ht(e,t){var A=[];return Mi(e,(function(e,n,r){t(e,n,r)&&A.push(e)})),A}function pt(e,t,A,n,r){var i=-1,o=e.length;for(A||(A=on),r||(r=[]);++i<o;){var a=e[i];0<t&&A(a)?1<t?pt(a,t-1,A,n,r):g(r,a):n||(r[r.length]=a)}return r}function ft(e,t){return e&&xi(e,t,cr)}function Bt(e,t){return e&&Pi(e,t,cr)}function Qt(e,t){return a(t,(function(t){return Jn(e[t])}))}function yt(e,t){for(var A=0,n=(t=EA(t,e)).length;null!=e&&A<n;)e=e[pn(t[A++])];return A&&A==n?e:G}function vt(e,t,A){return t=t(e),xo(e)?t:g(t,A(e))}function mt(e){if(null==e)return e===G?"[object Undefined]":"[object Null]";if(ti&&ti in Dr(e)){var t=xr.call(e,ti),A=e[ti];try{e[ti]=G;var n=!0}catch(e){}var r=Fr.call(e);n&&(t?e[ti]=A:delete e[ti]),e=r}else e=Fr.call(e);return e}function _t(e,t){return e>t}function bt(e,t){return null!=e&&xr.call(e,t)}function Rt(e,t){return null!=e&&t in Dr(e)}function St(e,t,A){for(var n=A?c:s,r=e[0].length,i=e.length,o=i,a=_r(i),g=1/0,I=[];o--;){var l=e[o];o&&t&&(l=u(l,R(t))),g=Ei(l.length,g),a[o]=!A&&(t||120<=r&&120<=l.length)?new Ge(o&&l):G}l=e[0];var E=-1,C=a[0];e:for(;++E<r&&I.length<g;){var d=l[E],h=t?t(d):d;if(d=A||0!==d?d:0,C?!C.has(h):!n(I,h,A)){for(o=i;--o;){var p=a[o];if(p?!p.has(h):!n(e[o],h,A))continue e}C&&C.push(h),I.push(d)}}return I}function wt(e,t,n){return null==(t=null==(e=2>(t=EA(t,e)).length?e:yt(e,$t(t,0,-1)))?e:e[pn(bn(t))])?G:A(t,e,n)}function Dt(e){return Wn(e)&&"[object Arguments]"==mt(e)}function kt(e,t,A,n,r){if(e===t)return!0;if(null==e||null==t||!Wn(e)&&!Wn(t))return e!=e&&t!=t;e:{var i=xo(e),o=xo(t),a=i?"[object Array]":Hi(e),s=o?"[object Array]":Hi(t),c="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a);if(o="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),(s=a==s)&&Go(e)){if(!Go(t)){t=!1;break e}i=!0,c=!1}if(s&&!c)r||(r=new Ke),t=i||Jo(e)?HA(e,t,A,n,kt,r):function(e,t,A,n,r,i,o){switch(A){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new Hr(e),new Hr(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Fn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=T;case"[object Set]":if(a||(a=M),e.size!=t.size&&!(1&n))break;return(A=o.get(e))?A==t:(n|=2,o.set(e,t),t=HA(a(e),a(t),n,r,i,o),o.delete(e),t);case"[object Symbol]":if(Ti)return Ti.call(e)==Ti.call(t)}return!1}(e,t,a,A,n,kt,r);else{if(!(1&A)&&(i=c&&xr.call(e,"__wrapped__"),a=o&&xr.call(t,"__wrapped__"),i||a)){e=i?e.value():e,t=a?t.value():t,r||(r=new Ke),t=kt(e,t,A,n,r);break e}if(s)t:if(r||(r=new Ke),i=1&A,a=WA(e),o=a.length,s=WA(t).length,o==s||i){for(s=o;s--;){var u=a[s];if(!(i?u in t:xr.call(t,u))){t=!1;break t}}if(c=r.get(e),u=r.get(t),c&&u)t=c==t&&u==e;else{c=!0,r.set(e,t),r.set(t,e);for(var g=i;++s<o;){var I=e[u=a[s]],l=t[u];if(n)var E=i?n(l,I,u,t,e,r):n(I,l,u,e,t,r);if(E===G?I!==l&&!kt(I,l,A,n,r):!E){c=!1;break}g||(g="constructor"==u)}c&&!g&&((A=e.constructor)!=(n=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof n&&n instanceof n)&&(c=!1)),r.delete(e),r.delete(t),t=c}}else t=!1;else t=!1}}return t}function Nt(e,t,A,n){var r=A.length,i=r,o=!n;if(null==e)return!i;for(e=Dr(e);r--;){var a=A[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){var s=(a=A[r])[0],c=e[s],u=a[1];if(o&&a[2]){if(c===G&&!(s in e))return!1}else{if(a=new Ke,n)var g=n(c,u,s,e,t,a);if(g===G?!kt(u,c,3,n,a):!g)return!1}}return!0}function Tt(e){return!(!jn(e)||Gr&&Gr in e)&&(Jn(e)?Yr:he).test(fn(e))}function Ot(e){return"function"==typeof e?e:null==e?hr:"object"==ub(e)?xo(e)?Pt(e[0],e[1]):xt(e):Qr(e)}function Lt(e){if(!gn(e))return Ii(e);var t,A=[];for(t in Dr(e))xr.call(e,t)&&"constructor"!=t&&A.push(t);return A}function Mt(e,t){return e<t}function Ut(e,t){var A=-1,n=Kn(e)?_r(e.length):[];return Mi(e,(function(e,r,i){n[++A]=t(e,r,i)})),n}function xt(e){var t=tn(e);return 1==t.length&&t[0][2]?In(t[0][0],t[0][1]):function(A){return A===e||Nt(A,e,t)}}function Pt(e,t){return cn(e)&&t==t&&!jn(t)?In(pn(e),t):function(A){var n=ar(A,e);return n===G&&n===t?sr(A,e):kt(t,n,3)}}function Gt(e,t,A,n,r){e!==t&&xi(t,(function(i,o){if(r||(r=new Ke),jn(i)){i=r;var a=En(e,o),s=En(t,o),c=i.get(s);if(c)nt(e,o,c);else{var u=(c=n?n(a,s,o+"",e,t,i):G)===G;if(u){var g=xo(s),I=!g&&Go(s),l=!g&&!I&&Jo(s);c=s,g||I||l?xo(a)?c=a:Vn(a)?c=yA(a):I?(u=!1,c=dA(s,!0)):l?(u=!1,c=pA(s,!0)):c=[]:zn(s)||Uo(s)?(c=a,Uo(a)?c=ir(a):jn(a)&&!Jn(a)||(c=rn(s))):u=!1}u&&(i.set(s,c),Gt(c,s,A,n,i),i.delete(s)),nt(e,o,c)}}else(a=n?n(En(e,o),i,o+"",e,t,r):G)===G&&(a=i),nt(e,o,a)}),ur)}function Ft(e,t){var A=e.length;if(A)return an(t+=0>t?A:0,A)?e[t]:G}function Kt(e,t,A){t=t.length?u(t,(function(e){return xo(e)?function(t){return yt(t,1===e.length?e[0]:e)}:e})):[hr];var n=-1;return t=u(t,R($A())),function(e,t){var A=e.length;for(e.sort(t);A--;)e[A]=e[A].value;return e}(e=Ut(e,(function(e,A,r){return{criteria:u(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){e:{for(var n=-1,r=e.criteria,i=t.criteria,o=r.length,a=A.length;++n<o;){var s=fA(r[n],i[n]);if(s){if(n>=a){e=s;break e}e=s*("desc"==A[n]?-1:1);break e}}e=e.index-t.index}return e}))}function Vt(e,t,A){for(var n=-1,r=t.length,i={};++n<r;){var o=t[n],a=yt(e,o);A(a,o)&&zt(i,EA(o,e),a)}return i}function Yt(e,t,A,n){var r=n?p:h,i=-1,o=t.length,a=e;for(e===t&&(t=yA(t)),A&&(a=u(e,R(A)));++i<o;){var s=0,c=t[i];for(c=A?A(c):c;-1<(s=r(a,c,s,n));)a!==e&&Zr.call(a,s,1),Zr.call(e,s,1)}return e}function Jt(e,t){for(var A=e?t.length:0,n=A-1;A--;){var r=t[A];if(A==n||r!==i){var i=r;an(r)?Zr.call(e,r,1):aA(e,r)}}return e}function qt(e,t){return e+ai(hi()*(t-e+1))}function Ht(e,t){var A="";if(!e||1>t||9007199254740991<t)return A;do{t%2&&(A+=e),(t=ai(t/2))&&(e+=e)}while(t);return A}function jt(e,t){return zi(ln(e,t,hr),e+"")}function Wt(e){return Xe(Ir(e))}function Xt(e,t){return hn(e=Ir(e),ut(t,0,e.length))}function zt(e,t,A,n){if(!jn(e))return e;for(var r=-1,i=(t=EA(t,e)).length,o=i-1,a=e;null!=a&&++r<i;){var s=pn(t[r]),c=A;if("__proto__"===s||"constructor"===s||"prototype"===s)break;if(r!=o){var u=a[s];(c=n?n(u,s,a):G)===G&&(c=jn(u)?u:an(t[r+1])?[]:{})}rt(a,s,c),a=a[s]}return e}function Zt(e){return hn(Ir(e))}function $t(e,t,A){var n=-1,r=e.length;for(0>t&&(t=-t>r?0:r+t),0>(A=A>r?r:A)&&(A+=r),r=t>A?0:A-t>>>0,t>>>=0,A=_r(r);++n<r;)A[n]=e[n+t];return A}function eA(e,t){var A;return Mi(e,(function(e,n,r){return!(A=t(e,n,r))})),!!A}function tA(e,t,A){var n=0,r=null==e?n:e.length;if("number"==typeof t&&t==t&&2147483647>=r){for(;n<r;){var i=n+r>>>1,o=e[i];null!==o&&!$n(o)&&(A?o<=t:o<t)?n=i+1:r=i}return r}return AA(e,t,hr,A)}function AA(e,t,A,n){var r=0,i=null==e?0:e.length;if(0===i)return 0;for(var o=(t=A(t))!=t,a=null===t,s=$n(t),c=t===G;r<i;){var u=ai((r+i)/2),g=A(e[u]),I=g!==G,l=null===g,E=g==g,C=$n(g);(o?n||E:c?E&&(n||I):a?E&&I&&(n||!l):s?E&&I&&!l&&(n||!C):!l&&!C&&(n?g<=t:g<t))?r=u+1:i=u}return Ei(i,4294967294)}function nA(e,t){for(var A=-1,n=e.length,r=0,i=[];++A<n;){var o=e[A],a=t?t(o):o;if(!A||!Fn(a,s)){var s=a;i[r++]=0===o?0:o}}return i}function rA(e){return"number"==typeof e?e:$n(e)?K:+e}function iA(e){if("string"==typeof e)return e;if(xo(e))return u(e,iA)+"";if($n(e))return Oi?Oi.call(e):"";var t=e+"";return"0"==t&&1/e==-F?"-0":t}function oA(e,t,A){var n=-1,r=s,i=e.length,o=!0,a=[],u=a;if(A)o=!1,r=c;else if(200<=i){if(r=t?null:Vi(e))return M(r);o=!1,r=w,u=new Ge}else u=t?[]:a;e:for(;++n<i;){var g=e[n],I=t?t(g):g;if(g=A||0!==g?g:0,o&&I==I){for(var l=u.length;l--;)if(u[l]===I)continue e;t&&u.push(I),a.push(g)}else r(u,I,A)||(u!==a&&u.push(I),a.push(g))}return a}function aA(e,t){return null==(e=2>(t=EA(t,e)).length?e:yt(e,$t(t,0,-1)))||delete e[pn(bn(t))]}function sA(e,t,A,n){for(var r=e.length,i=n?r:-1;(n?i--:++i<r)&&t(e[i],i,e););return A?$t(e,n?0:i,n?i+1:r):$t(e,n?i+1:0,n?r:i)}function cA(e,t){return e instanceof Te&&(e=e.value()),I(t,(function(e,t){return t.func.apply(t.thisArg,g([e],t.args))}),e)}function uA(e,t,A){var n=e.length;if(2>n)return n?oA(e[0]):[];for(var r=-1,i=_r(n);++r<n;)for(var o=e[r],a=-1;++a<n;)a!=r&&(i[r]=Et(i[r]||o,e[a],t,A));return oA(pt(i,1),t,A)}function gA(e,t,A){for(var n=-1,r=e.length,i=t.length,o={};++n<r;)A(o,e[n],n<i?t[n]:G);return o}function IA(e){return Vn(e)?e:[]}function lA(e){return"function"==typeof e?e:hr}function EA(e,t){return xo(e)?e:cn(e,t)?[e]:Zi(or(e))}function CA(e,t,A){var n=e.length;return A=A===G?n:A,!t&&A>=n?e:$t(e,t,A)}function dA(e,t){return t?e.slice():(t=e.length,t=jr?jr(t):new e.constructor(t),e.copy(t),t)}function hA(e){var t=new e.constructor(e.byteLength);return new Hr(t).set(new Hr(e)),t}function pA(e,t){return t=t?hA(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)}function fA(e,t){if(e!==t){var A=e!==G,n=null===e,r=e==e,i=$n(e),o=t!==G,a=null===t,s=t==t,c=$n(t);if(!a&&!c&&!i&&e>t||i&&o&&s&&!a&&!c||n&&o&&s||!A&&s||!r)return 1;if(!n&&!i&&!c&&e<t||c&&A&&r&&!n&&!i||a&&A&&r||!o&&r||!s)return-1}return 0}function BA(e,t,A,n){var r=-1,i=e.length,o=A.length,a=-1,s=t.length,c=li(i-o,0),u=_r(s+c);for(n=!n;++a<s;)u[a]=t[a];for(;++r<o;)(n||r<i)&&(u[A[r]]=e[r]);for(;c--;)u[a++]=e[r++];return u}function QA(e,t,A,n){var r=-1,i=e.length,o=-1,a=A.length,s=-1,c=t.length,u=li(i-a,0),g=_r(u+c);for(n=!n;++r<u;)g[r]=e[r];for(u=r;++s<c;)g[u+s]=t[s];for(;++o<a;)(n||r<i)&&(g[u+A[o]]=e[r++]);return g}function yA(e,t){var A=-1,n=e.length;for(t||(t=_r(n));++A<n;)t[A]=e[A];return t}function vA(e,t,A,n){var r=!A;A||(A={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(A[a],e[a],a,A,e):G;s===G&&(s=e[a]),r?st(A,a,s):rt(A,a,s)}return A}function mA(e,t){return function(A,r){var i=xo(A)?n:ot,o=t?t():{};return i(A,e,$A(r,2),o)}}function _A(e){return jt((function(t,A){var n=-1,r=A.length,i=1<r?A[r-1]:G,o=2<r?A[2]:G;for(i=3<e.length&&"function"==typeof i?(r--,i):G,o&&sn(A[0],A[1],o)&&(i=3>r?G:i,r=1),t=Dr(t);++n<r;)(o=A[n])&&e(t,o,n,i);return t}))}function bA(e,t){return function(A,n){if(null==A)return A;if(!Kn(A))return e(A,n);for(var r=A.length,i=t?r:-1,o=Dr(A);(t?i--:++i<r)&&!1!==n(o[i],i,o););return A}}function RA(e){return function(t,A,n){for(var r=-1,i=Dr(t),o=(n=n(t)).length;o--;){var a=n[e?o:++r];if(!1===A(i[a],a,i))break}return t}}function SA(e){return function(t){t=or(t);var A=Re.test(t)?x(t):G,n=A?A[0]:t.charAt(0);return t=A?CA(A,1).join(""):t.slice(1),n[e]()+t}}function wA(e){return function(t){return I(Cr(Er(t).replace(ve,"")),e,"")}}function DA(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var A=Li(e.prototype);return jn(t=e.apply(A,t))?t:A}}function kA(e){return function(t,A,n){var r=Dr(t);if(!Kn(t)){var i=$A(A,3);t=cr(t),A=function(e){return i(r[e],e,r)}}return-1<(A=e(t,A,n))?r[i?t[A]:A]:G}}function NA(e){return jA((function(t){var A=t.length,n=A,r=_e.prototype.thru;for(e&&t.reverse();n--;){var i=t[n];if("function"!=typeof i)throw new Tr("Expected a function");if(r&&!o&&"wrapper"==zA(i))var o=new _e([],!0)}for(n=o?n:A;++n<A;){var a="wrapper"==(r=zA(i=t[n]))?Yi(i):G;o=a&&un(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?o[zA(a[0])].apply(o,a[3]):1==i.length&&un(i)?o[r]():o.thru(i)}return function(){var e=arguments,n=e[0];if(o&&1==e.length&&xo(n))return o.plant(n).value();var r=0;for(e=A?t[r].apply(this,e):n;++r<A;)e=t[r].call(this,e);return e}}))}function TA(e,t,A,n,r,i,o,a,s,c){var u=128&t,g=1&t,I=2&t,l=24&t,E=512&t,C=I?G:DA(e);return function d(){for(var h=arguments.length,p=_r(h),f=h;f--;)p[f]=arguments[f];if(l){var B,Q=ZA(d);for(f=p.length,B=0;f--;)p[f]===Q&&++B}if(n&&(p=BA(p,n,r,l)),i&&(p=QA(p,i,o,l)),h-=B,l&&h<c)return Q=L(p,Q),GA(e,t,TA,d.placeholder,A,p,Q,a,s,c-h);if(Q=g?A:this,f=I?Q[e]:e,h=p.length,a){B=p.length;for(var y=Ei(a.length,B),v=yA(p);y--;){var m=a[y];p[y]=an(m,B)?v[m]:G}}else E&&1<h&&p.reverse();return u&&s<h&&(p.length=s),this&&this!==xe&&this instanceof d&&(f=C||DA(f)),f.apply(Q,p)}}function OA(e,t){return function(A,n){return function(e,t,A,n){return ft(e,(function(e,r,i){t(n,A(e),r,i)})),n}(A,e,t(n),{})}}function LA(e,t){return function(A,n){var r;if(A===G&&n===G)return t;if(A!==G&&(r=A),n!==G){if(r===G)return n;"string"==typeof A||"string"==typeof n?(A=iA(A),n=iA(n)):(A=rA(A),n=rA(n)),r=e(A,n)}return r}}function MA(e){return jA((function(t){return t=u(t,R($A())),jt((function(n){var r=this;return e(t,(function(e){return A(e,r,n)}))}))}))}function UA(e,t){var A=(t=t===G?" ":iA(t)).length;return 2>A?A?Ht(t,e):t:(A=Ht(t,oi(e/U(t))),Re.test(t)?CA(x(A),0,e).join(""):A.slice(0,e))}function xA(e){return function(t,A,n){n&&"number"!=typeof n&&sn(t,A,n)&&(A=n=G),t=tr(t),A===G?(A=t,t=0):A=tr(A),n=n===G?t<A?1:-1:tr(n);var r=-1;A=li(oi((A-t)/(n||1)),0);for(var i=_r(A);A--;)i[e?A:++r]=t,t+=n;return i}}function PA(e){return function(t,A){return"string"==typeof t&&"string"==typeof A||(t=rr(t),A=rr(A)),e(t,A)}}function GA(e,t,A,n,r,i,o,a,s,c){var u=8&t;return 4&(t=(t|(u?32:64))&~(u?64:32))||(t&=-4),r=[e,t,r,u?i:G,u?o:G,i=u?G:i,o=u?G:o,a,s,c],A=A.apply(G,r),un(e)&&Wi(A,r),A.placeholder=n,Cn(A,e,t)}function FA(e){var t=wr[e];return function(e,A){return e=rr(e),(A=null==A?0:Ei(Ar(A),292))&&ui(e)?(e=(or(e)+"e").split("e"),+((e=(or(e=t(e[0]+"e"+(+e[1]+A)))+"e").split("e"))[0]+"e"+(+e[1]-A))):t(e)}}function KA(e){return function(t){var A=Hi(t);return"[object Map]"==A?T(t):"[object Set]"==A?function(e){var t=-1,A=Array(e.size);return e.forEach((function(e){A[++t]=[e,e]})),A}(t):function(e,t){return u(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function VA(e,t,n,r,i,o,a,s){var c=2&t;if(!c&&"function"!=typeof e)throw new Tr("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=i=G),a=a===G?a:li(Ar(a),0),s=s===G?s:Ar(s),u-=i?i.length:0,64&t){var g=r,I=i;r=i=G}var l=c?G:Yi(e);return o=[e,t,n,r,i,g,I,o,a,s],l&&(t=(n=o[1])|(e=l[1]),r=128==e&&8==n||128==e&&256==n&&o[7].length<=l[8]||384==e&&l[7].length<=l[8]&&8==n,131>t||r)&&(1&e&&(o[2]=l[2],t|=1&n?0:4),(n=l[3])&&(r=o[3],o[3]=r?BA(r,n,l[4]):n,o[4]=r?L(o[3],"__lodash_placeholder__"):l[4]),(n=l[5])&&(r=o[5],o[5]=r?QA(r,n,l[6]):n,o[6]=r?L(o[5],"__lodash_placeholder__"):l[6]),(n=l[7])&&(o[7]=n),128&e&&(o[8]=null==o[8]?l[8]:Ei(o[8],l[8])),null==o[9]&&(o[9]=l[9]),o[0]=l[0],o[1]=t),e=o[0],t=o[1],n=o[2],r=o[3],i=o[4],!(s=o[9]=o[9]===G?c?0:e.length:li(o[9]-u,0))&&24&t&&(t&=-25),c=t&&1!=t?8==t||16==t?function(e,t,n){var r=DA(e);return function i(){for(var o=arguments.length,a=_r(o),s=o,c=ZA(i);s--;)a[s]=arguments[s];return(o-=(s=3>o&&a[0]!==c&&a[o-1]!==c?[]:L(a,c)).length)<n?GA(e,t,TA,i.placeholder,G,a,s,G,G,n-o):A(this&&this!==xe&&this instanceof i?r:e,this,a)}}(e,t,s):32!=t&&33!=t||i.length?TA.apply(G,o):function(e,t,n,r){var i=1&t,o=DA(e);return function t(){for(var a=-1,s=arguments.length,c=-1,u=r.length,g=_r(u+s),I=this&&this!==xe&&this instanceof t?o:e;++c<u;)g[c]=r[c];for(;s--;)g[c++]=arguments[++a];return A(I,i?n:this,g)}}(e,t,n,r):function(e,t,A){var n=1&t,r=DA(e);return function t(){return(this&&this!==xe&&this instanceof t?r:e).apply(n?A:this,arguments)}}(e,t,n),Cn((l?Gi:Wi)(c,o),e,t)}function YA(e,t,A,n){return e===G||Fn(e,Lr[A])&&!xr.call(n,A)?t:e}function JA(e,t,A,n,r,i){return jn(e)&&jn(t)&&(i.set(t,e),Gt(e,t,G,JA,i),i.delete(t)),e}function qA(e){return zn(e)?G:e}function HA(e,t,A,n,r,i){var o=1&A,a=e.length,s=t.length;if(a!=s&&!(o&&s>a))return!1;s=i.get(e);var c=i.get(t);if(s&&c)return s==t&&c==e;s=-1,c=!0;var u=2&A?new Ge:G;for(i.set(e,t),i.set(t,e);++s<a;){var g=e[s],I=t[s];if(n)var l=o?n(I,g,s,t,e,i):n(g,I,s,e,t,i);if(l!==G){if(l)continue;c=!1;break}if(u){if(!E(t,(function(e,t){if(!u.has(t)&&(g===e||r(g,e,A,n,i)))return u.push(t)}))){c=!1;break}}else if(g!==I&&!r(g,I,A,n,i)){c=!1;break}}return i.delete(e),i.delete(t),c}function jA(e){return zi(ln(e,G,mn),e+"")}function WA(e){return vt(e,cr,Ji)}function XA(e){return vt(e,ur,qi)}function zA(e){for(var t=e.name+"",A=bi[t],n=xr.call(bi,t)?A.length:0;n--;){var r=A[n],i=r.func;if(null==i||i==e)return r.name}return t}function ZA(e){return(xr.call(y,"placeholder")?y:e).placeholder}function $A(){var e=y.iteratee||pr;return e=e===pr?Ot:e,arguments.length?e(arguments[0],arguments[1]):e}function en(e,t){e=e.__data__;var A=ub(t);return("string"==A||"number"==A||"symbol"==A||"boolean"==A?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map}function tn(e){for(var t=cr(e),A=t.length;A--;){var n=t[A],r=e[n];t[A]=[n,r,r==r&&!jn(r)]}return t}function An(e,t){return Tt(e=null==e?G:e[t])?e:G}function nn(e,t,A){for(var n=-1,r=(t=EA(t,e)).length,i=!1;++n<r;){var o=pn(t[n]);if(!(i=null!=e&&A(e,o)))break;e=e[o]}return i||++n!=r?i:!!(r=null==e?0:e.length)&&Hn(r)&&an(o,r)&&(xo(e)||Uo(e))}function rn(e){return"function"!=typeof e.constructor||gn(e)?{}:Li(Wr(e))}function on(e){return xo(e)||Uo(e)||!!($r&&e&&e[$r])}function an(e,t){var A=ub(e);return!!(t=null==t?9007199254740991:t)&&("number"==A||"symbol"!=A&&fe.test(e))&&-1<e&&0==e%1&&e<t}function sn(e,t,A){if(!jn(A))return!1;var n=ub(t);return!!("number"==n?Kn(A)&&an(t,A.length):"string"==n&&t in A)&&Fn(A[t],e)}function cn(e,t){if(xo(e))return!1;var A=ub(e);return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=e&&!$n(e))||(te.test(e)||!ee.test(e)||null!=t&&e in Dr(t))}function un(e){var t=zA(e),A=y[t];return"function"==typeof A&&t in Te.prototype&&(e===A||!!(t=Yi(A))&&e===t[0])}function gn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Lr)}function In(e,t){return function(A){return null!=A&&(A[e]===t&&(t!==G||e in Dr(A)))}}function ln(e,t,n){return t=li(t===G?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=li(r.length-t,0),a=_r(o);++i<o;)a[i]=r[t+i];for(i=-1,o=_r(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),A(e,this,o)}}function En(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Cn(e,t,A){var n=t+"";t=zi;var r=Bn,i=(i=n.match(se))?i[1].split(ce):[];return A=r(i,A),(r=A.length)&&(A[i=r-1]=(1<r?"& ":"")+A[i],A=A.join(2<r?", ":" "),n=n.replace(ae,"{\n/* [wrapped with "+A+"] */\n")),t(e,n)}function dn(e){var t=0,A=0;return function(){var n=Ci(),r=16-(n-A);if(A=n,0<r){if(800<=++t)return arguments[0]}else t=0;return e.apply(G,arguments)}}function hn(e,t){var A=-1,n=e.length,r=n-1;for(t=t===G?n:t;++A<t;){var i=e[n=qt(A,r)];e[n]=e[A],e[A]=i}return e.length=t,e}function pn(e){if("string"==typeof e||$n(e))return e;var t=e+"";return"0"==t&&1/e==-F?"-0":t}function fn(e){if(null!=e){try{return Ur.call(e)}catch(e){}return e+""}return""}function Bn(e,t){return r(V,(function(A){var n="_."+A[0];t&A[1]&&!s(e,n)&&e.push(n)})),e.sort()}function Qn(e){if(e instanceof Te)return e.clone();var t=new _e(e.__wrapped__,e.__chain__);return t.__actions__=yA(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function yn(e,t,A){var n=null==e?0:e.length;return n?(0>(A=null==A?0:Ar(A))&&(A=li(n+A,0)),d(e,$A(t,3),A)):-1}function vn(e,t,A){var n=null==e?0:e.length;if(!n)return-1;var r=n-1;return A!==G&&(r=Ar(A),r=0>A?li(n+r,0):Ei(r,n-1)),d(e,$A(t,3),r,!0)}function mn(e){return null!=e&&e.length?pt(e,1):[]}function _n(e){return e&&e.length?e[0]:G}function bn(e){var t=null==e?0:e.length;return t?e[t-1]:G}function Rn(e,t){return e&&e.length&&t&&t.length?Yt(e,t):e}function Sn(e){return null==e?e:pi.call(e)}function wn(e){if(!e||!e.length)return[];var t=0;return e=a(e,(function(e){if(Vn(e))return t=li(e.length,t),!0})),_(t,(function(t){return u(e,Q(t))}))}function Dn(e,t){return e&&e.length?(e=wn(e),null==t?e:u(e,(function(e){return A(t,G,e)}))):[]}function kn(e){return(e=y(e)).__chain__=!0,e}function Nn(e,t){return t(e)}function Tn(e,t){return(xo(e)?r:Mi)(e,$A(t,3))}function On(e,t){return(xo(e)?i:Ui)(e,$A(t,3))}function Ln(e,t){return(xo(e)?u:Ut)(e,$A(t,3))}function Mn(e,t,A){return t=A?G:t,t=e&&null==t?e.length:t,VA(e,128,G,G,G,G,t)}function Un(e,t){var A;if("function"!=typeof t)throw new Tr("Expected a function");return e=Ar(e),function(){return 0<--e&&(A=t.apply(this,arguments)),1>=e&&(t=G),A}}function xn(e,t,A){function n(t){var A=s,n=c;return s=c=G,l=t,u=e.apply(n,A)}function r(e){var A=e-I;return e-=l,I===G||A>=t||0>A||C&&e>=h}function i(){var e=bo();if(r(e))return o(e);var A=Xi,n=e-l;e=t-(e-I),n=C?Ei(e,h-n):e,g=A(i,n)}function o(e){return g=G,d&&s?n(e):(s=c=G,u)}function a(){var e=bo(),A=r(e);if(s=arguments,c=this,I=e,A){if(g===G)return l=e=I,g=Xi(i,t),E?n(e):u;if(C)return Ki(g),g=Xi(i,t),n(I)}return g===G&&(g=Xi(i,t)),u}var s,c,u,g,I,l=0,E=!1,C=!1,d=!0;if("function"!=typeof e)throw new Tr("Expected a function");if(t=rr(t)||0,jn(A)){E=!!A.leading;var h=(C="maxWait"in A)?li(rr(A.maxWait)||0,t):h;d="trailing"in A?!!A.trailing:d}return a.cancel=function(){g!==G&&Ki(g),l=0,s=I=c=g=G},a.flush=function(){return g===G?u:o(bo())},a}function Pn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Tr("Expected a function");var A=function A(){var n=arguments,r=t?t.apply(this,n):n[0],i=A.cache;return i.has(r)?i.get(r):(n=e.apply(this,n),A.cache=i.set(r,n)||i,n)};return A.cache=new(Pn.Cache||Pe),A}function Gn(e){if("function"!=typeof e)throw new Tr("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Fn(e,t){return e===t||e!=e&&t!=t}function Kn(e){return null!=e&&Hn(e.length)&&!Jn(e)}function Vn(e){return Wn(e)&&Kn(e)}function Yn(e){if(!Wn(e))return!1;var t=mt(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!zn(e)}function Jn(e){return!!jn(e)&&("[object Function]"==(e=mt(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function qn(e){return"number"==typeof e&&e==Ar(e)}function Hn(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e}function jn(e){var t=ub(e);return null!=e&&("object"==t||"function"==t)}function Wn(e){return null!=e&&"object"==ub(e)}function Xn(e){return"number"==typeof e||Wn(e)&&"[object Number]"==mt(e)}function zn(e){return!(!Wn(e)||"[object Object]"!=mt(e))&&(null===(e=Wr(e))||"function"==typeof(e=xr.call(e,"constructor")&&e.constructor)&&e instanceof e&&Ur.call(e)==Kr)}function Zn(e){return"string"==typeof e||!xo(e)&&Wn(e)&&"[object String]"==mt(e)}function $n(e){return"symbol"==ub(e)||Wn(e)&&"[object Symbol]"==mt(e)}function er(e){if(!e)return[];if(Kn(e))return Zn(e)?x(e):yA(e);if(ei&&e[ei]){e=e[ei]();for(var t,A=[];!(t=e.next()).done;)A.push(t.value);return A}return("[object Map]"==(t=Hi(e))?T:"[object Set]"==t?M:Ir)(e)}function tr(e){return e?(e=rr(e))===F||e===-F?17976931348623157e292*(0>e?-1:1):e==e?e:0:0===e?e:0}function Ar(e){var t=(e=tr(e))%1;return e==e?t?e-t:e:0}function nr(e){return e?ut(Ar(e),0,4294967295):0}function rr(e){if("number"==typeof e)return e;if($n(e))return K;if(jn(e)&&(e=jn(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=b(e);var t=de.test(e);return t||pe.test(e)?Le(e.slice(2),t?2:8):Ce.test(e)?K:+e}function ir(e){return vA(e,ur(e))}function or(e){return null==e?"":iA(e)}function ar(e,t,A){return(e=null==e?G:yt(e,t))===G?A:e}function sr(e,t){return null!=e&&nn(e,t,Rt)}function cr(e){return Kn(e)?Ve(e):Lt(e)}function ur(e){if(Kn(e))e=Ve(e,!0);else if(jn(e)){var t=gn(e),A=[];for(n in e)("constructor"!=n||!t&&xr.call(e,n))&&A.push(n);e=A}else{var n=[];if(null!=e)for(t in Dr(e))n.push(t);e=n}return e}function gr(e,t){if(null==e)return{};var A=u(XA(e),(function(e){return[e]}));return t=$A(t),Vt(e,A,(function(e,A){return t(e,A[0])}))}function Ir(e){return null==e?[]:S(e,cr(e))}function lr(e){return ha(or(e).toLowerCase())}function Er(e){return(e=or(e))&&e.replace(Be,ze).replace(me,"")}function Cr(e,t,A){return e=or(e),(t=A?G:t)===G?Se.test(e)?e.match(be)||[]:e.match(ue)||[]:e.match(t)||[]}function dr(e){return function(){return e}}function hr(e){return e}function pr(e){return Ot("function"==typeof e?e:gt(e,1))}function fr(e,t,A){var n=cr(t),i=Qt(t,n);null!=A||jn(t)&&(i.length||!n.length)||(A=t,t=e,e=this,i=Qt(t,cr(t)));var o=!(jn(A)&&"chain"in A&&!A.chain),a=Jn(e);return r(i,(function(A){var n=t[A];e[A]=n,a&&(e.prototype[A]=function(){var t=this.__chain__;if(o||t){var A=e(this.__wrapped__);return(A.__actions__=yA(this.__actions__)).push({func:n,args:arguments,thisArg:e}),A.__chain__=t,A}return n.apply(e,g([this.value()],arguments))})})),e}function Br(){}function Qr(e){return cn(e)?Q(pn(e)):function(e){return function(t){return yt(t,e)}}(e)}function yr(){return[]}function vr(){return!1}var mr,_r=(t=null==t?xe:et.defaults(xe.Object(),t,et.pick(xe,we))).Array,br=t.Date,Rr=t.Error,Sr=t.Function,wr=t.Math,Dr=t.Object,kr=t.RegExp,Nr=t.String,Tr=t.TypeError,Or=_r.prototype,Lr=Dr.prototype,Mr=t["__core-js_shared__"],Ur=Sr.prototype.toString,xr=Lr.hasOwnProperty,Pr=0,Gr=(mr=/[^.]+$/.exec(Mr&&Mr.keys&&Mr.keys.IE_PROTO||""))?"Symbol(src)_1."+mr:"",Fr=Lr.toString,Kr=Ur.call(Dr),Vr=xe._,Yr=kr("^"+Ur.call(xr).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jr=Fe?t.Buffer:G,qr=t.Symbol,Hr=t.Uint8Array,jr=Jr?Jr.allocUnsafe:G,Wr=O(Dr.getPrototypeOf,Dr),Xr=Dr.create,zr=Lr.propertyIsEnumerable,Zr=Or.splice,$r=qr?qr.isConcatSpreadable:G,ei=qr?qr.iterator:G,ti=qr?qr.toStringTag:G,Ai=function(){try{var e=An(Dr,"defineProperty");return e({},"",{}),e}catch(e){}}(),ni=t.clearTimeout!==xe.clearTimeout&&t.clearTimeout,ri=br&&br.now!==xe.Date.now&&br.now,ii=t.setTimeout!==xe.setTimeout&&t.setTimeout,oi=wr.ceil,ai=wr.floor,si=Dr.getOwnPropertySymbols,ci=Jr?Jr.isBuffer:G,ui=t.isFinite,gi=Or.join,Ii=O(Dr.keys,Dr),li=wr.max,Ei=wr.min,Ci=br.now,di=t.parseInt,hi=wr.random,pi=Or.reverse,fi=An(t,"DataView"),Bi=An(t,"Map"),Qi=An(t,"Promise"),yi=An(t,"Set"),vi=An(t,"WeakMap"),mi=An(Dr,"create"),_i=vi&&new vi,bi={},Ri=fn(fi),Si=fn(Bi),wi=fn(Qi),Di=fn(yi),ki=fn(vi),Ni=qr?qr.prototype:G,Ti=Ni?Ni.valueOf:G,Oi=Ni?Ni.toString:G,Li=function(){function e(){}return function(t){return jn(t)?Xr?Xr(t):(e.prototype=t,t=new e,e.prototype=G,t):{}}}();y.templateSettings={escape:z,evaluate:Z,interpolate:$,variable:"",imports:{_:y}},y.prototype=oe.prototype,y.prototype.constructor=y,_e.prototype=Li(oe.prototype),_e.prototype.constructor=_e,Te.prototype=Li(oe.prototype),Te.prototype.constructor=Te,Me.prototype.clear=function(){this.__data__=mi?mi(null):{},this.size=0},Me.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Me.prototype.get=function(e){var t=this.__data__;return mi?"__lodash_hash_undefined__"===(e=t[e])?G:e:xr.call(t,e)?t[e]:G},Me.prototype.has=function(e){var t=this.__data__;return mi?t[e]!==G:xr.call(t,e)},Me.prototype.set=function(e,t){var A=this.__data__;return this.size+=this.has(e)?0:1,A[e]=mi&&t===G?"__lodash_hash_undefined__":t,this},Ue.prototype.clear=function(){this.__data__=[],this.size=0},Ue.prototype.delete=function(e){var t=this.__data__;return!(0>(e=it(t,e)))&&(e==t.length-1?t.pop():Zr.call(t,e,1),--this.size,!0)},Ue.prototype.get=function(e){var t=this.__data__;return 0>(e=it(t,e))?G:t[e][1]},Ue.prototype.has=function(e){return-1<it(this.__data__,e)},Ue.prototype.set=function(e,t){var A=this.__data__,n=it(A,e);return 0>n?(++this.size,A.push([e,t])):A[n][1]=t,this},Pe.prototype.clear=function(){this.size=0,this.__data__={hash:new Me,map:new(Bi||Ue),string:new Me}},Pe.prototype.delete=function(e){return e=en(this,e).delete(e),this.size-=e?1:0,e},Pe.prototype.get=function(e){return en(this,e).get(e)},Pe.prototype.has=function(e){return en(this,e).has(e)},Pe.prototype.set=function(e,t){var A=en(this,e),n=A.size;return A.set(e,t),this.size+=A.size==n?0:1,this},Ge.prototype.add=Ge.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ge.prototype.has=function(e){return this.__data__.has(e)},Ke.prototype.clear=function(){this.__data__=new Ue,this.size=0},Ke.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Ke.prototype.get=function(e){return this.__data__.get(e)},Ke.prototype.has=function(e){return this.__data__.has(e)},Ke.prototype.set=function(e,t){var A=this.__data__;if(A instanceof Ue){var n=A.__data__;if(!Bi||199>n.length)return n.push([e,t]),this.size=++A.size,this;A=this.__data__=new Pe(n)}return A.set(e,t),this.size=A.size,this};var Mi=bA(ft),Ui=bA(Bt,!0),xi=RA(),Pi=RA(!0),Gi=_i?function(e,t){return _i.set(e,t),e}:hr,Fi=Ai?function(e,t){return Ai(e,"toString",{configurable:!0,enumerable:!1,value:dr(t),writable:!0})}:hr,Ki=ni||function(e){return xe.clearTimeout(e)},Vi=yi&&1/M(new yi([,-0]))[1]==F?function(e){return new yi(e)}:Br,Yi=_i?function(e){return _i.get(e)}:Br,Ji=si?function(e){return null==e?[]:(e=Dr(e),a(si(e),(function(t){return zr.call(e,t)})))}:yr,qi=si?function(e){for(var t=[];e;)g(t,Ji(e)),e=Wr(e);return t}:yr,Hi=mt;(fi&&"[object DataView]"!=Hi(new fi(new ArrayBuffer(1)))||Bi&&"[object Map]"!=Hi(new Bi)||Qi&&"[object Promise]"!=Hi(Qi.resolve())||yi&&"[object Set]"!=Hi(new yi)||vi&&"[object WeakMap]"!=Hi(new vi))&&(Hi=function(e){var t=mt(e);if(e=(e="[object Object]"==t?e.constructor:G)?fn(e):"")switch(e){case Ri:return"[object DataView]";case Si:return"[object Map]";case wi:return"[object Promise]";case Di:return"[object Set]";case ki:return"[object WeakMap]"}return t});var ji=Mr?Jn:vr,Wi=dn(Gi),Xi=ii||function(e,t){return xe.setTimeout(e,t)},zi=dn(Fi),Zi=function(e){var t=(e=Pn(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ae,(function(e,A,n,r){t.push(n?r.replace(Ie,"$1"):A||e)})),t})),$i=jt((function(e,t){return Vn(e)?Et(e,pt(t,1,Vn,!0)):[]})),eo=jt((function(e,t){var A=bn(t);return Vn(A)&&(A=G),Vn(e)?Et(e,pt(t,1,Vn,!0),$A(A,2)):[]})),to=jt((function(e,t){var A=bn(t);return Vn(A)&&(A=G),Vn(e)?Et(e,pt(t,1,Vn,!0),G,A):[]})),Ao=jt((function(e){var t=u(e,IA);return t.length&&t[0]===e[0]?St(t):[]})),no=jt((function(e){var t=bn(e),A=u(e,IA);return t===bn(A)?t=G:A.pop(),A.length&&A[0]===e[0]?St(A,$A(t,2)):[]})),ro=jt((function(e){var t=bn(e),A=u(e,IA);return(t="function"==typeof t?t:G)&&A.pop(),A.length&&A[0]===e[0]?St(A,G,t):[]})),io=jt(Rn),oo=jA((function(e,t){var A=null==e?0:e.length,n=ct(e,t);return Jt(e,u(t,(function(e){return an(e,A)?+e:e})).sort(fA)),n})),ao=jt((function(e){return oA(pt(e,1,Vn,!0))})),so=jt((function(e){var t=bn(e);return Vn(t)&&(t=G),oA(pt(e,1,Vn,!0),$A(t,2))})),co=jt((function(e){var t=bn(e);return t="function"==typeof t?t:G,oA(pt(e,1,Vn,!0),G,t)})),uo=jt((function(e,t){return Vn(e)?Et(e,t):[]})),go=jt((function(e){return uA(a(e,Vn))})),Io=jt((function(e){var t=bn(e);return Vn(t)&&(t=G),uA(a(e,Vn),$A(t,2))})),lo=jt((function(e){var t=bn(e);return t="function"==typeof t?t:G,uA(a(e,Vn),G,t)})),Eo=jt(wn),Co=jt((function(e){var t=e.length;return t="function"==typeof(t=1<t?e[t-1]:G)?(e.pop(),t):G,Dn(e,t)})),ho=jA((function(e){var t=e.length,A=t?e[0]:0,n=this.__wrapped__,r=function(t){return ct(t,e)};return!(1<t||this.__actions__.length)&&n instanceof Te&&an(A)?((n=n.slice(A,+A+(t?1:0))).__actions__.push({func:Nn,args:[r],thisArg:G}),new _e(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(G),e}))):this.thru(r)})),po=mA((function(e,t,A){xr.call(e,A)?++e[A]:st(e,A,1)})),fo=kA(yn),Bo=kA(vn),Qo=mA((function(e,t,A){xr.call(e,A)?e[A].push(t):st(e,A,[t])})),yo=jt((function(e,t,n){var r=-1,i="function"==typeof t,o=Kn(e)?_r(e.length):[];return Mi(e,(function(e){o[++r]=i?A(t,e,n):wt(e,t,n)})),o})),vo=mA((function(e,t,A){st(e,A,t)})),mo=mA((function(e,t,A){e[A?0:1].push(t)}),(function(){return[[],[]]})),_o=jt((function(e,t){if(null==e)return[];var A=t.length;return 1<A&&sn(e,t[0],t[1])?t=[]:2<A&&sn(t[0],t[1],t[2])&&(t=[t[0]]),Kt(e,pt(t,1),[])})),bo=ri||function(){return xe.Date.now()},Ro=jt((function(e,t,A){var n=1;if(A.length){var r=L(A,ZA(Ro));n|=32}return VA(e,n,t,A,r)})),So=jt((function(e,t,A){var n=3;if(A.length){var r=L(A,ZA(So));n|=32}return VA(t,n,e,A,r)})),wo=jt((function(e,t){return lt(e,1,t)})),Do=jt((function(e,t,A){return lt(e,rr(t)||0,A)}));Pn.Cache=Pe;var ko=jt((function(e,t){var n=(t=1==t.length&&xo(t[0])?u(t[0],R($A())):u(pt(t,1),R($A()))).length;return jt((function(r){for(var i=-1,o=Ei(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return A(e,this,r)}))})),No=jt((function(e,t){var A=L(t,ZA(No));return VA(e,32,G,t,A)})),To=jt((function(e,t){var A=L(t,ZA(To));return VA(e,64,G,t,A)})),Oo=jA((function(e,t){return VA(e,256,G,G,G,t)})),Lo=PA(_t),Mo=PA((function(e,t){return e>=t})),Uo=Dt(function(){return arguments}())?Dt:function(e){return Wn(e)&&xr.call(e,"callee")&&!zr.call(e,"callee")},xo=_r.isArray,Po=Ye?R(Ye):function(e){return Wn(e)&&"[object ArrayBuffer]"==mt(e)},Go=ci||vr,Fo=Je?R(Je):function(e){return Wn(e)&&"[object Date]"==mt(e)},Ko=qe?R(qe):function(e){return Wn(e)&&"[object Map]"==Hi(e)},Vo=He?R(He):function(e){return Wn(e)&&"[object RegExp]"==mt(e)},Yo=je?R(je):function(e){return Wn(e)&&"[object Set]"==Hi(e)},Jo=We?R(We):function(e){return Wn(e)&&Hn(e.length)&&!!ke[mt(e)]},qo=PA(Mt),Ho=PA((function(e,t){return e<=t})),jo=_A((function(e,t){if(gn(t)||Kn(t))vA(t,cr(t),e);else for(var A in t)xr.call(t,A)&&rt(e,A,t[A])})),Wo=_A((function(e,t){vA(t,ur(t),e)})),Xo=_A((function(e,t,A,n){vA(t,ur(t),e,n)})),zo=_A((function(e,t,A,n){vA(t,cr(t),e,n)})),Zo=jA(ct),$o=jt((function(e,t){e=Dr(e);var A=-1,n=t.length,r=2<n?t[2]:G;for(r&&sn(t[0],t[1],r)&&(n=1);++A<n;)for(var i=ur(r=t[A]),o=-1,a=i.length;++o<a;){var s=i[o],c=e[s];(c===G||Fn(c,Lr[s])&&!xr.call(e,s))&&(e[s]=r[s])}return e})),ea=jt((function(e){return e.push(G,JA),A(ia,G,e)})),ta=OA((function(e,t,A){null!=t&&"function"!=typeof t.toString&&(t=Fr.call(t)),e[t]=A}),dr(hr)),Aa=OA((function(e,t,A){null!=t&&"function"!=typeof t.toString&&(t=Fr.call(t)),xr.call(e,t)?e[t].push(A):e[t]=[A]}),$A),na=jt(wt),ra=_A((function(e,t,A){Gt(e,t,A)})),ia=_A((function(e,t,A,n){Gt(e,t,A,n)})),oa=jA((function(e,t){var A={};if(null==e)return A;var n=!1;t=u(t,(function(t){return t=EA(t,e),n||(n=1<t.length),t})),vA(e,XA(e),A),n&&(A=gt(A,7,qA));for(var r=t.length;r--;)aA(A,t[r]);return A})),aa=jA((function(e,t){return null==e?{}:function(e,t){return Vt(e,t,(function(t,A){return sr(e,A)}))}(e,t)})),sa=KA(cr),ca=KA(ur),ua=wA((function(e,t,A){return t=t.toLowerCase(),e+(A?lr(t):t)})),ga=wA((function(e,t,A){return e+(A?"-":"")+t.toLowerCase()})),Ia=wA((function(e,t,A){return e+(A?" ":"")+t.toLowerCase()})),la=SA("toLowerCase"),Ea=wA((function(e,t,A){return e+(A?"_":"")+t.toLowerCase()})),Ca=wA((function(e,t,A){return e+(A?" ":"")+ha(t)})),da=wA((function(e,t,A){return e+(A?" ":"")+t.toUpperCase()})),ha=SA("toUpperCase"),pa=jt((function(e,t){try{return A(e,G,t)}catch(e){return Yn(e)?e:new Rr(e)}})),fa=jA((function(e,t){return r(t,(function(t){t=pn(t),st(e,t,Ro(e[t],e))})),e})),Ba=NA(),Qa=NA(!0),ya=jt((function(e,t){return function(A){return wt(A,e,t)}})),va=jt((function(e,t){return function(A){return wt(e,A,t)}})),ma=MA(u),_a=MA(o),ba=MA(E),Ra=xA(),Sa=xA(!0),wa=LA((function(e,t){return e+t}),0),Da=FA("ceil"),ka=LA((function(e,t){return e/t}),1),Na=FA("floor"),Ta=LA((function(e,t){return e*t}),1),Oa=FA("round"),La=LA((function(e,t){return e-t}),0);return y.after=function(e,t){if("function"!=typeof t)throw new Tr("Expected a function");return e=Ar(e),function(){if(1>--e)return t.apply(this,arguments)}},y.ary=Mn,y.assign=jo,y.assignIn=Wo,y.assignInWith=Xo,y.assignWith=zo,y.at=Zo,y.before=Un,y.bind=Ro,y.bindAll=fa,y.bindKey=So,y.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return xo(e)?e:[e]},y.chain=kn,y.chunk=function(e,t,A){if(t=(A?sn(e,t,A):t===G)?1:li(Ar(t),0),!(A=null==e?0:e.length)||1>t)return[];for(var n=0,r=0,i=_r(oi(A/t));n<A;)i[r++]=$t(e,n,n+=t);return i},y.compact=function(e){for(var t=-1,A=null==e?0:e.length,n=0,r=[];++t<A;){var i=e[t];i&&(r[n++]=i)}return r},y.concat=function(){var e=arguments.length;if(!e)return[];for(var t=_r(e-1),A=arguments[0];e--;)t[e-1]=arguments[e];return g(xo(A)?yA(A):[A],pt(t,1))},y.cond=function(e){var t=null==e?0:e.length,n=$A();return e=t?u(e,(function(e){if("function"!=typeof e[1])throw new Tr("Expected a function");return[n(e[0]),e[1]]})):[],jt((function(n){for(var r=-1;++r<t;){var i=e[r];if(A(i[0],this,n))return A(i[1],this,n)}}))},y.conforms=function(e){return function(e){var t=cr(e);return function(A){return It(A,e,t)}}(gt(e,1))},y.constant=dr,y.countBy=po,y.create=function(e,t){return e=Li(e),null==t?e:at(e,t)},y.curry=function e(t,A,n){return(t=VA(t,8,G,G,G,G,G,A=n?G:A)).placeholder=e.placeholder,t},y.curryRight=function e(t,A,n){return(t=VA(t,16,G,G,G,G,G,A=n?G:A)).placeholder=e.placeholder,t},y.debounce=xn,y.defaults=$o,y.defaultsDeep=ea,y.defer=wo,y.delay=Do,y.difference=$i,y.differenceBy=eo,y.differenceWith=to,y.drop=function(e,t,A){var n=null==e?0:e.length;return n?$t(e,0>(t=A||t===G?1:Ar(t))?0:t,n):[]},y.dropRight=function(e,t,A){var n=null==e?0:e.length;return n?$t(e,0,0>(t=n-(t=A||t===G?1:Ar(t)))?0:t):[]},y.dropRightWhile=function(e,t){return e&&e.length?sA(e,$A(t,3),!0,!0):[]},y.dropWhile=function(e,t){return e&&e.length?sA(e,$A(t,3),!0):[]},y.fill=function(e,t,A,n){var r=null==e?0:e.length;if(!r)return[];for(A&&"number"!=typeof A&&sn(e,t,A)&&(A=0,n=r),r=e.length,0>(A=Ar(A))&&(A=-A>r?0:r+A),0>(n=n===G||n>r?r:Ar(n))&&(n+=r),n=A>n?0:nr(n);A<n;)e[A++]=t;return e},y.filter=function(e,t){return(xo(e)?a:ht)(e,$A(t,3))},y.flatMap=function(e,t){return pt(Ln(e,t),1)},y.flatMapDeep=function(e,t){return pt(Ln(e,t),F)},y.flatMapDepth=function(e,t,A){return A=A===G?1:Ar(A),pt(Ln(e,t),A)},y.flatten=mn,y.flattenDeep=function(e){return null!=e&&e.length?pt(e,F):[]},y.flattenDepth=function(e,t){return null!=e&&e.length?pt(e,t=t===G?1:Ar(t)):[]},y.flip=function(e){return VA(e,512)},y.flow=Ba,y.flowRight=Qa,y.fromPairs=function(e){for(var t=-1,A=null==e?0:e.length,n={};++t<A;){var r=e[t];n[r[0]]=r[1]}return n},y.functions=function(e){return null==e?[]:Qt(e,cr(e))},y.functionsIn=function(e){return null==e?[]:Qt(e,ur(e))},y.groupBy=Qo,y.initial=function(e){return null!=e&&e.length?$t(e,0,-1):[]},y.intersection=Ao,y.intersectionBy=no,y.intersectionWith=ro,y.invert=ta,y.invertBy=Aa,y.invokeMap=yo,y.iteratee=pr,y.keyBy=vo,y.keys=cr,y.keysIn=ur,y.map=Ln,y.mapKeys=function(e,t){var A={};return t=$A(t,3),ft(e,(function(e,n,r){st(A,t(e,n,r),e)})),A},y.mapValues=function(e,t){var A={};return t=$A(t,3),ft(e,(function(e,n,r){st(A,n,t(e,n,r))})),A},y.matches=function(e){return xt(gt(e,1))},y.matchesProperty=function(e,t){return Pt(e,gt(t,1))},y.memoize=Pn,y.merge=ra,y.mergeWith=ia,y.method=ya,y.methodOf=va,y.mixin=fr,y.negate=Gn,y.nthArg=function(e){return e=Ar(e),jt((function(t){return Ft(t,e)}))},y.omit=oa,y.omitBy=function(e,t){return gr(e,Gn($A(t)))},y.once=function(e){return Un(2,e)},y.orderBy=function(e,t,A,n){return null==e?[]:(xo(t)||(t=null==t?[]:[t]),xo(A=n?G:A)||(A=null==A?[]:[A]),Kt(e,t,A))},y.over=ma,y.overArgs=ko,y.overEvery=_a,y.overSome=ba,y.partial=No,y.partialRight=To,y.partition=mo,y.pick=aa,y.pickBy=gr,y.property=Qr,y.propertyOf=function(e){return function(t){return null==e?G:yt(e,t)}},y.pull=io,y.pullAll=Rn,y.pullAllBy=function(e,t,A){return e&&e.length&&t&&t.length?Yt(e,t,$A(A,2)):e},y.pullAllWith=function(e,t,A){return e&&e.length&&t&&t.length?Yt(e,t,G,A):e},y.pullAt=oo,y.range=Ra,y.rangeRight=Sa,y.rearg=Oo,y.reject=function(e,t){return(xo(e)?a:ht)(e,Gn($A(t,3)))},y.remove=function(e,t){var A=[];if(!e||!e.length)return A;var n=-1,r=[],i=e.length;for(t=$A(t,3);++n<i;){var o=e[n];t(o,n,e)&&(A.push(o),r.push(n))}return Jt(e,r),A},y.rest=function(e,t){if("function"!=typeof e)throw new Tr("Expected a function");return jt(e,t=t===G?t:Ar(t))},y.reverse=Sn,y.sampleSize=function(e,t,A){return t=(A?sn(e,t,A):t===G)?1:Ar(t),(xo(e)?tt:Xt)(e,t)},y.set=function(e,t,A){return null==e?e:zt(e,t,A)},y.setWith=function(e,t,A,n){return n="function"==typeof n?n:G,null==e?e:zt(e,t,A,n)},y.shuffle=function(e){return(xo(e)?At:Zt)(e)},y.slice=function(e,t,A){var n=null==e?0:e.length;return n?(A&&"number"!=typeof A&&sn(e,t,A)?(t=0,A=n):(t=null==t?0:Ar(t),A=A===G?n:Ar(A)),$t(e,t,A)):[]},y.sortBy=_o,y.sortedUniq=function(e){return e&&e.length?nA(e):[]},y.sortedUniqBy=function(e,t){return e&&e.length?nA(e,$A(t,2)):[]},y.split=function(e,t,A){return A&&"number"!=typeof A&&sn(e,t,A)&&(t=A=G),(A=A===G?4294967295:A>>>0)?(e=or(e))&&("string"==typeof t||null!=t&&!Vo(t))&&(!(t=iA(t))&&Re.test(e))?CA(x(e),0,A):e.split(t,A):[]},y.spread=function(e,t){if("function"!=typeof e)throw new Tr("Expected a function");return t=null==t?0:li(Ar(t),0),jt((function(n){var r=n[t];return n=CA(n,0,t),r&&g(n,r),A(e,this,n)}))},y.tail=function(e){var t=null==e?0:e.length;return t?$t(e,1,t):[]},y.take=function(e,t,A){return e&&e.length?$t(e,0,0>(t=A||t===G?1:Ar(t))?0:t):[]},y.takeRight=function(e,t,A){var n=null==e?0:e.length;return n?$t(e,0>(t=n-(t=A||t===G?1:Ar(t)))?0:t,n):[]},y.takeRightWhile=function(e,t){return e&&e.length?sA(e,$A(t,3),!1,!0):[]},y.takeWhile=function(e,t){return e&&e.length?sA(e,$A(t,3)):[]},y.tap=function(e,t){return t(e),e},y.throttle=function(e,t,A){var n=!0,r=!0;if("function"!=typeof e)throw new Tr("Expected a function");return jn(A)&&(n="leading"in A?!!A.leading:n,r="trailing"in A?!!A.trailing:r),xn(e,t,{leading:n,maxWait:t,trailing:r})},y.thru=Nn,y.toArray=er,y.toPairs=sa,y.toPairsIn=ca,y.toPath=function(e){return xo(e)?u(e,pn):$n(e)?[e]:yA(Zi(or(e)))},y.toPlainObject=ir,y.transform=function(e,t,A){var n=xo(e),i=n||Go(e)||Jo(e);if(t=$A(t,4),null==A){var o=e&&e.constructor;A=i?n?new o:[]:jn(e)&&Jn(o)?Li(Wr(e)):{}}return(i?r:ft)(e,(function(e,n,r){return t(A,e,n,r)})),A},y.unary=function(e){return Mn(e,1)},y.union=ao,y.unionBy=so,y.unionWith=co,y.uniq=function(e){return e&&e.length?oA(e):[]},y.uniqBy=function(e,t){return e&&e.length?oA(e,$A(t,2)):[]},y.uniqWith=function(e,t){return t="function"==typeof t?t:G,e&&e.length?oA(e,G,t):[]},y.unset=function(e,t){return null==e||aA(e,t)},y.unzip=wn,y.unzipWith=Dn,y.update=function(e,t,A){return null!=e&&(e=zt(e,t,(A=lA(A))(yt(e,t)),void 0)),e},y.updateWith=function(e,t,A,n){return n="function"==typeof n?n:G,null!=e&&(e=zt(e,t,(A=lA(A))(yt(e,t)),n)),e},y.values=Ir,y.valuesIn=function(e){return null==e?[]:S(e,ur(e))},y.without=uo,y.words=Cr,y.wrap=function(e,t){return No(lA(t),e)},y.xor=go,y.xorBy=Io,y.xorWith=lo,y.zip=Eo,y.zipObject=function(e,t){return gA(e||[],t||[],rt)},y.zipObjectDeep=function(e,t){return gA(e||[],t||[],zt)},y.zipWith=Co,y.entries=sa,y.entriesIn=ca,y.extend=Wo,y.extendWith=Xo,fr(y,y),y.add=wa,y.attempt=pa,y.camelCase=ua,y.capitalize=lr,y.ceil=Da,y.clamp=function(e,t,A){return A===G&&(A=t,t=G),A!==G&&(A=(A=rr(A))==A?A:0),t!==G&&(t=(t=rr(t))==t?t:0),ut(rr(e),t,A)},y.clone=function(e){return gt(e,4)},y.cloneDeep=function(e){return gt(e,5)},y.cloneDeepWith=function(e,t){return gt(e,5,t="function"==typeof t?t:G)},y.cloneWith=function(e,t){return gt(e,4,t="function"==typeof t?t:G)},y.conformsTo=function(e,t){return null==t||It(e,t,cr(t))},y.deburr=Er,y.defaultTo=function(e,t){return null==e||e!=e?t:e},y.divide=ka,y.endsWith=function(e,t,A){e=or(e),t=iA(t);var n=e.length;return n=A=A===G?n:ut(Ar(A),0,n),0<=(A-=t.length)&&e.slice(A,n)==t},y.eq=Fn,y.escape=function(e){return(e=or(e))&&X.test(e)?e.replace(j,Ze):e},y.escapeRegExp=function(e){return(e=or(e))&&re.test(e)?e.replace(ne,"\\$&"):e},y.every=function(e,t,A){var n=xo(e)?o:Ct;return A&&sn(e,t,A)&&(t=G),n(e,$A(t,3))},y.find=fo,y.findIndex=yn,y.findKey=function(e,t){return C(e,$A(t,3),ft)},y.findLast=Bo,y.findLastIndex=vn,y.findLastKey=function(e,t){return C(e,$A(t,3),Bt)},y.floor=Na,y.forEach=Tn,y.forEachRight=On,y.forIn=function(e,t){return null==e?e:xi(e,$A(t,3),ur)},y.forInRight=function(e,t){return null==e?e:Pi(e,$A(t,3),ur)},y.forOwn=function(e,t){return e&&ft(e,$A(t,3))},y.forOwnRight=function(e,t){return e&&Bt(e,$A(t,3))},y.get=ar,y.gt=Lo,y.gte=Mo,y.has=function(e,t){return null!=e&&nn(e,t,bt)},y.hasIn=sr,y.head=_n,y.identity=hr,y.includes=function(e,t,A,n){return e=Kn(e)?e:Ir(e),A=A&&!n?Ar(A):0,n=e.length,0>A&&(A=li(n+A,0)),Zn(e)?A<=n&&-1<e.indexOf(t,A):!!n&&-1<h(e,t,A)},y.indexOf=function(e,t,A){var n=null==e?0:e.length;return n?(0>(A=null==A?0:Ar(A))&&(A=li(n+A,0)),h(e,t,A)):-1},y.inRange=function(e,t,A){return t=tr(t),A===G?(A=t,t=0):A=tr(A),(e=rr(e))>=Ei(t,A)&&e<li(t,A)},y.invoke=na,y.isArguments=Uo,y.isArray=xo,y.isArrayBuffer=Po,y.isArrayLike=Kn,y.isArrayLikeObject=Vn,y.isBoolean=function(e){return!0===e||!1===e||Wn(e)&&"[object Boolean]"==mt(e)},y.isBuffer=Go,y.isDate=Fo,y.isElement=function(e){return Wn(e)&&1===e.nodeType&&!zn(e)},y.isEmpty=function(e){if(null==e)return!0;if(Kn(e)&&(xo(e)||"string"==typeof e||"function"==typeof e.splice||Go(e)||Jo(e)||Uo(e)))return!e.length;var t=Hi(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(gn(e))return!Lt(e).length;for(var A in e)if(xr.call(e,A))return!1;return!0},y.isEqual=function(e,t){return kt(e,t)},y.isEqualWith=function(e,t,A){var n=(A="function"==typeof A?A:G)?A(e,t):G;return n===G?kt(e,t,G,A):!!n},y.isError=Yn,y.isFinite=function(e){return"number"==typeof e&&ui(e)},y.isFunction=Jn,y.isInteger=qn,y.isLength=Hn,y.isMap=Ko,y.isMatch=function(e,t){return e===t||Nt(e,t,tn(t))},y.isMatchWith=function(e,t,A){return A="function"==typeof A?A:G,Nt(e,t,tn(t),A)},y.isNaN=function(e){return Xn(e)&&e!=+e},y.isNative=function(e){if(ji(e))throw new Rr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tt(e)},y.isNil=function(e){return null==e},y.isNull=function(e){return null===e},y.isNumber=Xn,y.isObject=jn,y.isObjectLike=Wn,y.isPlainObject=zn,y.isRegExp=Vo,y.isSafeInteger=function(e){return qn(e)&&-9007199254740991<=e&&9007199254740991>=e},y.isSet=Yo,y.isString=Zn,y.isSymbol=$n,y.isTypedArray=Jo,y.isUndefined=function(e){return e===G},y.isWeakMap=function(e){return Wn(e)&&"[object WeakMap]"==Hi(e)},y.isWeakSet=function(e){return Wn(e)&&"[object WeakSet]"==mt(e)},y.join=function(e,t){return null==e?"":gi.call(e,t)},y.kebabCase=ga,y.last=bn,y.lastIndexOf=function(e,t,A){var n=null==e?0:e.length;if(!n)return-1;var r=n;if(A!==G&&(r=0>(r=Ar(A))?li(n+r,0):Ei(r,n-1)),t==t)e:{for(A=r+1;A--;)if(e[A]===t){e=A;break e}e=A}else e=d(e,f,r,!0);return e},y.lowerCase=Ia,y.lowerFirst=la,y.lt=qo,y.lte=Ho,y.max=function(e){return e&&e.length?dt(e,hr,_t):G},y.maxBy=function(e,t){return e&&e.length?dt(e,$A(t,2),_t):G},y.mean=function(e){return B(e,hr)},y.meanBy=function(e,t){return B(e,$A(t,2))},y.min=function(e){return e&&e.length?dt(e,hr,Mt):G},y.minBy=function(e,t){return e&&e.length?dt(e,$A(t,2),Mt):G},y.stubArray=yr,y.stubFalse=vr,y.stubObject=function(){return{}},y.stubString=function(){return""},y.stubTrue=function(){return!0},y.multiply=Ta,y.nth=function(e,t){return e&&e.length?Ft(e,Ar(t)):G},y.noConflict=function(){return xe._===this&&(xe._=Vr),this},y.noop=Br,y.now=bo,y.pad=function(e,t,A){e=or(e);var n=(t=Ar(t))?U(e):0;return!t||n>=t?e:UA(ai(t=(t-n)/2),A)+e+UA(oi(t),A)},y.padEnd=function(e,t,A){e=or(e);var n=(t=Ar(t))?U(e):0;return t&&n<t?e+UA(t-n,A):e},y.padStart=function(e,t,A){e=or(e);var n=(t=Ar(t))?U(e):0;return t&&n<t?UA(t-n,A)+e:e},y.parseInt=function(e,t,A){return A||null==t?t=0:t&&(t=+t),di(or(e).replace(ie,""),t||0)},y.random=function(e,t,A){if(A&&"boolean"!=typeof A&&sn(e,t,A)&&(t=A=G),A===G&&("boolean"==typeof t?(A=t,t=G):"boolean"==typeof e&&(A=e,e=G)),e===G&&t===G?(e=0,t=1):(e=tr(e),t===G?(t=e,e=0):t=tr(t)),e>t){var n=e;e=t,t=n}return A||e%1||t%1?(A=hi(),Ei(e+A*(t-e+Oe("1e-"+((A+"").length-1))),t)):qt(e,t)},y.reduce=function(e,t,A){var n=xo(e)?I:v,r=3>arguments.length;return n(e,$A(t,4),A,r,Mi)},y.reduceRight=function(e,t,A){var n=xo(e)?l:v,r=3>arguments.length;return n(e,$A(t,4),A,r,Ui)},y.repeat=function(e,t,A){return t=(A?sn(e,t,A):t===G)?1:Ar(t),Ht(or(e),t)},y.replace=function(){var e=arguments,t=or(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},y.result=function(e,t,A){var n=-1,r=(t=EA(t,e)).length;for(r||(r=1,e=G);++n<r;){var i=null==e?G:e[pn(t[n])];i===G&&(n=r,i=A),e=Jn(i)?i.call(e):i}return e},y.round=Oa,y.runInContext=e,y.sample=function(e){return(xo(e)?Xe:Wt)(e)},y.size=function(e){if(null==e)return 0;if(Kn(e))return Zn(e)?U(e):e.length;var t=Hi(e);return"[object Map]"==t||"[object Set]"==t?e.size:Lt(e).length},y.snakeCase=Ea,y.some=function(e,t,A){var n=xo(e)?E:eA;return A&&sn(e,t,A)&&(t=G),n(e,$A(t,3))},y.sortedIndex=function(e,t){return tA(e,t)},y.sortedIndexBy=function(e,t,A){return AA(e,t,$A(A,2))},y.sortedIndexOf=function(e,t){var A=null==e?0:e.length;if(A){var n=tA(e,t);if(n<A&&Fn(e[n],t))return n}return-1},y.sortedLastIndex=function(e,t){return tA(e,t,!0)},y.sortedLastIndexBy=function(e,t,A){return AA(e,t,$A(A,2),!0)},y.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var A=tA(e,t,!0)-1;if(Fn(e[A],t))return A}return-1},y.startCase=Ca,y.startsWith=function(e,t,A){return e=or(e),A=null==A?0:ut(Ar(A),0,e.length),t=iA(t),e.slice(A,A+t.length)==t},y.subtract=La,y.sum=function(e){return e&&e.length?m(e,hr):0},y.sumBy=function(e,t){return e&&e.length?m(e,$A(t,2)):0},y.template=function(e,t,A){var n=y.templateSettings;A&&sn(e,t,A)&&(t=G),e=or(e),t=Xo({},t,n,YA);var r,i,o=cr(A=Xo({},t.imports,n.imports,YA)),a=S(A,o),s=0;A=t.interpolate||Qe;var c="__p += '";A=kr((t.escape||Qe).source+"|"+A.source+"|"+(A===$?le:Qe).source+"|"+(t.evaluate||Qe).source+"|$","g");var u="//# sourceURL="+(xr.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++De+"]")+"\n";if(e.replace(A,(function(t,A,n,o,a,u){return n||(n=o),c+=e.slice(s,u).replace(ye,N),A&&(r=!0,c+="' +\n__e("+A+") +\n'"),a&&(i=!0,c+="';\n"+a+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),s=u+t.length,t})),c+="';\n",t=xr.call(t,"variable")&&t.variable){if(ge.test(t))throw new Rr("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";if(c=(i?c.replace(Y,""):c).replace(J,"$1").replace(q,"$1;"),c="function("+(t||"obj")+") {\n"+(t?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}",(t=pa((function(){return Sr(o,u+"return "+c).apply(G,a)}))).source=c,Yn(t))throw t;return t},y.times=function(e,t){if(1>(e=Ar(e))||9007199254740991<e)return[];var A=4294967295,n=Ei(e,4294967295);for(e-=4294967295,n=_(n,t=$A(t));++A<e;)t(A);return n},y.toFinite=tr,y.toInteger=Ar,y.toLength=nr,y.toLower=function(e){return or(e).toLowerCase()},y.toNumber=rr,y.toSafeInteger=function(e){return e?ut(Ar(e),-9007199254740991,9007199254740991):0===e?e:0},y.toString=or,y.toUpper=function(e){return or(e).toUpperCase()},y.trim=function(e,t,A){return(e=or(e))&&(A||t===G)?b(e):e&&(t=iA(t))?CA(e=x(e),t=D(e,A=x(t)),A=k(e,A)+1).join(""):e},y.trimEnd=function(e,t,A){return(e=or(e))&&(A||t===G)?e.slice(0,P(e)+1):e&&(t=iA(t))?CA(e=x(e),0,t=k(e,x(t))+1).join(""):e},y.trimStart=function(e,t,A){return(e=or(e))&&(A||t===G)?e.replace(ie,""):e&&(t=iA(t))?CA(e=x(e),t=D(e,x(t))).join(""):e},y.truncate=function(e,t){var A=30,n="...";if(jn(t)){var r="separator"in t?t.separator:r;A="length"in t?Ar(t.length):A,n="omission"in t?iA(t.omission):n}if(t=(e=or(e)).length,Re.test(e)){var i=x(e);t=i.length}if(A>=t)return e;if(1>(t=A-U(n)))return n;if(A=i?CA(i,0,t).join(""):e.slice(0,t),r===G)return A+n;if(i&&(t+=A.length-t),Vo(r)){if(e.slice(t).search(r)){for(i=A,r.global||(r=kr(r.source,or(Ee.exec(r))+"g")),r.lastIndex=0;e=r.exec(i);)var o=e.index;A=A.slice(0,o===G?t:o)}}else e.indexOf(iA(r),t)!=t&&(-1<(r=A.lastIndexOf(r))&&(A=A.slice(0,r)));return A+n},y.unescape=function(e){return(e=or(e))&&W.test(e)?e.replace(H,$e):e},y.uniqueId=function(e){var t=++Pr;return or(e)+t},y.upperCase=da,y.upperFirst=ha,y.each=Tn,y.eachRight=On,y.first=_n,fr(y,function(){var e={};return ft(y,(function(t,A){xr.call(y.prototype,A)||(e[A]=t)})),e}(),{chain:!1}),y.VERSION="4.17.21",r("bind bindKey curry curryRight partial partialRight".split(" "),(function(e){y[e].placeholder=y})),r(["drop","take"],(function(e,t){Te.prototype[e]=function(A){A=A===G?1:li(Ar(A),0);var n=this.__filtered__&&!t?new Te(this):this.clone();return n.__filtered__?n.__takeCount__=Ei(A,n.__takeCount__):n.__views__.push({size:Ei(A,4294967295),type:e+(0>n.__dir__?"Right":"")}),n},Te.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),r(["filter","map","takeWhile"],(function(e,t){var A=t+1,n=1==A||3==A;Te.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:$A(e,3),type:A}),t.__filtered__=t.__filtered__||n,t}})),r(["head","last"],(function(e,t){var A="take"+(t?"Right":"");Te.prototype[e]=function(){return this[A](1).value()[0]}})),r(["initial","tail"],(function(e,t){var A="drop"+(t?"":"Right");Te.prototype[e]=function(){return this.__filtered__?new Te(this):this[A](1)}})),Te.prototype.compact=function(){return this.filter(hr)},Te.prototype.find=function(e){return this.filter(e).head()},Te.prototype.findLast=function(e){return this.reverse().find(e)},Te.prototype.invokeMap=jt((function(e,t){return"function"==typeof e?new Te(this):this.map((function(A){return wt(A,e,t)}))})),Te.prototype.reject=function(e){return this.filter(Gn($A(e)))},Te.prototype.slice=function(e,t){e=Ar(e);var A=this;return A.__filtered__&&(0<e||0>t)?new Te(A):(0>e?A=A.takeRight(-e):e&&(A=A.drop(e)),t!==G&&(A=0>(t=Ar(t))?A.dropRight(-t):A.take(t-e)),A)},Te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Te.prototype.toArray=function(){return this.take(4294967295)},ft(Te.prototype,(function(e,t){var A=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),r=y[n?"take"+("last"==t?"Right":""):t],i=n||/^find/.test(t);r&&(y.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,a=t instanceof Te,s=o[0],c=a||xo(t),u=function(e){return e=r.apply(y,g([e],o)),n&&I?e[0]:e};c&&A&&"function"==typeof s&&1!=s.length&&(a=c=!1);var I=this.__chain__,l=!!this.__actions__.length;return s=i&&!I,a=a&&!l,!i&&c?(t=a?t:new Te(this),(t=e.apply(t,o)).__actions__.push({func:Nn,args:[u],thisArg:G}),new _e(t,I)):s&&a?e.apply(this,o):(t=this.thru(u),s?n?t.value()[0]:t.value():t)})})),r("pop push shift sort splice unshift".split(" "),(function(e){var t=Or[e],A=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);y.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var r=this.value();return t.apply(xo(r)?r:[],e)}return this[A]((function(A){return t.apply(xo(A)?A:[],e)}))}})),ft(Te.prototype,(function(e,t){if(e=y[t]){var A=e.name+"";xr.call(bi,A)||(bi[A]=[]),bi[A].push({name:t,func:e})}})),bi[TA(G,2).name]=[{name:"wrapper",func:G}],Te.prototype.clone=function(){var e=new Te(this.__wrapped__);return e.__actions__=yA(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yA(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yA(this.__views__),e},Te.prototype.reverse=function(){if(this.__filtered__){var e=new Te(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Te.prototype.value=function(){for(var e=this.__wrapped__.value(),t=this.__dir__,A=xo(e),n=0>t,r=A?e.length:0,i=0,o=r,a=this.__views__,s=-1,c=a.length;++s<c;){var u=a[s],g=u.size;switch(u.type){case"drop":i+=g;break;case"dropRight":o-=g;break;case"take":o=Ei(o,i+g);break;case"takeRight":i=li(i,o-g)}}if(o=(a=o)-i,i=n?a:i-1,s=(a=this.__iteratees__).length,c=0,u=Ei(o,this.__takeCount__),!A||!n&&r==o&&u==o)return cA(e,this.__actions__);A=[];e:for(;o--&&c<u;){for(n=-1,r=e[i+=t];++n<s;){var I=a[n];if(g=I.iteratee,I=I.type,g=g(r),2==I)r=g;else if(!g){if(1==I)continue e;break e}}A[c++]=r}return A},y.prototype.at=ho,y.prototype.chain=function(){return kn(this)},y.prototype.commit=function(){return new _e(this.value(),this.__chain__)},y.prototype.next=function(){this.__values__===G&&(this.__values__=er(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?G:this.__values__[this.__index__++]}},y.prototype.plant=function(e){for(var t,A=this;A instanceof oe;){var n=Qn(A);n.__index__=0,n.__values__=G,t?r.__wrapped__=n:t=n;var r=n;A=A.__wrapped__}return r.__wrapped__=e,t},y.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof Te?(this.__actions__.length&&(e=new Te(this)),(e=e.reverse()).__actions__.push({func:Nn,args:[Sn],thisArg:G}),new _e(e,this.__chain__)):this.thru(Sn)},y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=function(){return cA(this.__wrapped__,this.__actions__)},y.prototype.first=y.prototype.head,ei&&(y.prototype[ei]=function(){return this}),y}();Ge?((Ge.exports=et)._=et,Pe._=et):xe._=et}).call(Xb)})),vda=Dt(),wda=function(e){function t(e,n,r,i,o,a){zb(this,t);var s=A.call(this,o,rq("SocketOfSync-",o.loggerId));return na(V(s),"isActiveClose",!1),na(V(s),"loggedIn",!1),na(V(s),"useNewDomain",void 0),na(V(s),"receivedPacket",new Cg),na(V(s),"open$",void 0),na(V(s),"input$",new Cg),na(V(s),"packetCount",0),na(V(s),"attemptsSinceLastError",0),na(V(s),"socket$",void 0),na(V(s),"toClose",new Cg),na(V(s),"toReconnect",new Cg),na(V(s),"isReset",!0),na(V(s),"ip",void 0),na(V(s),"port",void 0),na(V(s),"ticket",void 0),na(V(s),"context",void 0),na(V(s),"getDomain",(function(){return"".concat(s.ip.split(".").join("-"),".edge.agora.io")})),na(V(s),"socketReconnector",(function(e){var t=function(e){return s.attemptsSinceLastError+=1,s.warn("The %s of Sync reconnecting %s",s.name,e.message),Ti(3e3)};return e.pipe(Pd((function(e){return s.warn("sync socket connection closed, ".concat(e)),s.loggedIn=!1,2<=s.attemptsSinceLastError?(s.warn("sync socket connection failure"),s.emit("connectionSyncFailure"),s.close(),Rc(e)):s.isActiveClose?ah.EMPTY:(s.emit("reconnectSync"),s.useNewDomain=!s.useNewDomain,Rc(e))})),Mm((function(e){return e.pipe(Sf(t))})))})),s.ip=e,s.port=n,s.ticket=r,s.context=i,s.useNewDomain=null!=a?a:.5<=Math.random(),s.log("Opening websocket address %s:%d for the Sync",s.ip,s.port),e=ng($J("",{protocols:[],makeWebSocket:function(){var e=Qc("SYNC_USE_WS")?"ws":"wss";if(s.log("sync proxy websocket use ".concat(e)),s.context.config.cloudProxy||s.context.socketUseProxy){if(0===s.context.cloudProxyServers.length)throw s.logError("No cloud proxy server to connect sync"),new Db("");var t=Pl(null)?JSON.parse(null.replace(/-/g,".")):s.context.cloudProxyServers;e=Tk(e="".concat(e,"://").concat(FB(uda.sample(t),!1),"/"),"sid",s.context.sid),e=Tk(e,"remote_port",n.toString()),e=Tk(e,"remote_ip",s.ip),e=Tk(e,"token",s.context.key),e=new WebSocket(e)}else e=new WebSocket("".concat(e,"://").concat(s.getDomain(),":").concat(s.port,"/").concat(e));return e.binaryType="arraybuffer",s.isReset=!1,e}}),s.toReconnect),s.socket$=Qf(e,LV.NEVER.pipe(Oh(7e3),Pd((function(e){return Qe(e)&&s.warn("socket open timed out"),Rc(e)})))).pipe(hf((function(e){if(e instanceof Error)throw s.warn("Sync: Force reconnect the socket"),e;return e(s.input$.pipe(Pd((function(e){return Rc(e)})))).pipe(hf((function(e){return new Uint8Array(e)})))})),s.socketReconnector),s.open$=s.socket$.pipe(Fc((function(e){s.log("Websocket opened",s.name),e.subscribe((function(e){s.receivedPacket.next(e)}),(function(){}))})),Lm(void 0),wh(s.toClose),gk()),s}Zb(t,e);var A=$b(t);return Ib(t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(this.port)}},{key:"sendPacket",value:function(e){this.packetCount++,this.input$.next(e)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(){return this.receivedPacket.pipe(hf((function(e){return e})))}},{key:"forceReconnect",value:function(){this.isReset=!0,this.toReconnect.next(new vda({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),t}(Mh),Ns=function(e){var t=Qc("APP_CENTER_DOMAIN"),A=Pl(t);return"https://".concat(A?t:e,"/api/v1")},qA=/web-(\d)/,jW=function(e){function t(e,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];zb(this,t);var i=A.call(this,n,"AppCenter");return na(V(i),"operation",Wb.login),na(V(i),"handleUniLbsError",gK.bind(V(i))),na(V(i),"getApEdgeInfo$",void 0),na(V(i),"getApEdgeInfoEndFirst$",void 0),na(V(i),"apFinish$",new Cg),na(V(i),"vid",void 0),na(V(i),"retryCount",0),na(V(i),"failedAreas",new Set),na(V(i),"usedUrl",[]),na(V(i),"newDomainUsed",!1),na(V(i),"backupNewDomainUsed",!1),na(V(i),"genUrl",(function(){var e=Oe.apply(void 0,rb(xi(QV.map(Ns)))),t=Oe.apply(void 0,rb(xi(RV.map(Ns))));return void 0===cc?kA.apply(void 0,rb(xi([e,t]))).pipe(lA((function(e){return Oe.apply(void 0,rb(e))}))):Oe.apply(void 0,rb(cc.AP_DOMAINS.slice(0,3).map(Ns)))})),na(V(i),"genBackupUrl",(function(){var e=Oe.apply(void 0,rb(xi(SV.map(Ns)))),t=Oe.apply(void 0,rb(xi(TV.map(Ns))));return void 0===cc?kA.apply(void 0,rb(xi([e,t]))).pipe(lA((function(e){return Oe.apply(void 0,rb(e))}))):Oe.apply(void 0,rb(cc.AP_BACKUP_DOMAINS.slice(0,3).map(Ns)))})),na(V(i),"getApUrl$",(function(e){var A,n;return i.genUrl().pipe(Af((function(e){return(!i.newDomainUsed||!e.includes("sd-rtn.com"))&&(e.includes("sd-rtn.com")&&(i.newDomainUsed=!0),!Zq(i.usedUrl,(function(t){var A;return t===(null===(A=e.match(qA))||void 0===A?void 0:A[1])})))})),Fc((function(e){var t;void 0===cc&&("string"==typeof(e=null===(t=e.match(qA))||void 0===t?void 0:t[1])&&i.usedUrl.push(e))})),Vd(e?Math.max(Qc("RECONNECTING_AP_NUM"),null!==(A=null==cc?void 0:cc.CODES.size)&&void 0!==A?A:0):null!==(n=null==cc?void 0:cc.CODES.size)&&void 0!==n?n:2),Ok((function(){return t.runOutOfUrlSymbol})),Pd((function(e,A){return i.newDomainUsed=!1,e===t.runOutOfUrlSymbol?(i.usedUrl=[],A):Rc(e)})))})),na(V(i),"getBackupApUrl$",(function(e){var A,n;return i.genBackupUrl().pipe(Af((function(e){return(!i.backupNewDomainUsed||!e.includes("sd-rtn.com"))&&(e.includes("sd-rtn.com")&&(i.backupNewDomainUsed=!0),!Zq(i.usedUrl,(function(t){var A;return t===(null===(A=e.match(qA))||void 0===A?void 0:A[1])})))})),Fc((function(e){var t;void 0===cc&&("string"==typeof(e=null===(t=e.match(qA))||void 0===t?void 0:t[1])&&i.usedUrl.push(e))})),Vd(e?Math.max(Qc("RECONNECTING_AP_NUM"),null!==(A=null==cc?void 0:cc.CODES.size)&&void 0!==A?A:0):null!==(n=null==cc?void 0:cc.CODES.size)&&void 0!==n?n:2),Ok((function(){return t.runOutOfUrlSymbol})),Pd((function(e,A){return i.backupNewDomainUsed=!1,e===t.runOutOfUrlSymbol?(i.usedUrl=[],A):Rc(e)})))})),na(V(i),"context",void 0),na(V(i),"fetchAp",(function(e,t){var A=rq("Sync AP-",i.loggerId);i.log("The uniLbs for sync requests %s(%s)",e,A);var n=new AbortController;i.apFinish$.pipe(Vd(1)).subscribe((function(){return n.abort()}));var r,o=qq(0,Number.MAX_SAFE_INTEGER);return oo(pa(O.mark((function r(){var a;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.log("%s request opid: %d",A,o),Cq("ApRequest",{sid:i.context.sid,userId:i.context.uid,lts:Xa.fromNumber(Date.now()),elapse:lf(i.context.startTime),apAddr:e,opId:Xa.fromNumber(o),envId:0,flag:128},null!==(a=i.context.config.cloudProxy)&&void 0!==a&&a),r.abrupt("return",Bo(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:i.context.sid,opid:o,appid:i.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:i.context.config.cloudProxy||i.context.socketUseProxy?[30,16]:[30],key:null!=t?t:i.context.key,cname:i.context.uid,uid:0,detail:Rd({},na(void 0===cc?{11:[Tb.CHINA,Tb.GLOBAL].join(),12:"1"}:{11:Array.from(cc.CODES).map((function(e){return e===Tb.OVERSEA?"".concat(Tb.ASIA,",").concat(Tb.EUROPE,",").concat(Tb.AFRICA,",").concat(Tb.NORTH_AMERICA,",").concat(Tb.SOUTH_AMERICA,",").concat(Tb.OCEANIA):e})).join(","),12:"1"},26,"RTM2"))}}]},signal:n.signal}));case 3:case"end":return r.stop()}}),r)})))).pipe(Pd((function(t){return"AbortError"!==t.name&&(i.logError(t),i.warn("The uniLbs for sync server %s request failure",e,t)),ah.EMPTY})),Df((r=pa(O.mark((function t(n){var r,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b;return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.responseText,o=null;try{o=JSON.parse(r)}catch(e){i.warn("The uniLbs for sync response parse error %s",e)}if(i.log("The %s response is %o",A,o),(void 0===(a=o.response_body)||0===a.length||a.some((function(e){var t;return void 0===(null===(t=e.buffer)||void 0===t?void 0:t.code)||23!==e.uri})))&&(s=$a(Aa.RTM_ERROR_LOGIN_REJECTED),c=s.code,u=s.reason,Rc(new Db(Wb.login,[u+"unilbs for sync response_body not valid"],c))),0===(g=a.filter((function(e){return 0!==e.buffer.code}))).length){t.next=10;break}return i.logError("unilbs for sync error response"),t.abrupt("return",i.handleUniLbsError(g[0].buffer.code,e));case 10:for(I=[],l="",E=0;E<a.length;E++)4194314===(C=a[E]).buffer.flag?(i.vid=null!==(d=null===(h=C.buffer)||void 0===h||null===(p=h.detail)||void 0===p?void 0:p[8])&&void 0!==d?d:"",l=atob(C.buffer.cert),I=C.buffer.edges_services.map((function(e){var t=e.ip;return e=e.port,i.log("edge of unilbs for sync is %o",{appTicket:l,ip:t,port:e}),{ticket:l,ip:t,port:e}}))):262144===C.buffer.flag?null===(f=C.buffer)||void 0===f||null===(B=f.edges_services)||void 0===B||null===(Q=B.forEach)||void 0===Q||Q.call(B,(function(e){eB(e=e.ip)&&-1===i.context.cloudProxyServers.indexOf(e)&&(i.log("got cloud proxy server: %s for sync",e),i.context.cloudProxyServers.push(e))})):i.warn("unexpected flag:".concat(null==C?void 0:C.buffer.flag," of resp of unilbs for sync"));if(Pl(y=Qc("SYNC_ADDRESS"))&&(v=y.split(":"),I=[{ip:v[0],ticket:l,port:Number(v[1])}]),0!==I.length){t.next=18;break}return m=$a(Aa.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES),_=m.code,b=m.reason,t.abrupt("return",Rc(new Db(i.operation,[b+"No available sync edge address to connect"],_)));case 18:return t.abrupt("return",Oe.apply(void 0,rb(I).concat([Wv.queueScheduler])));case 19:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})),Vv(),Pd((function(e){return be(e)?Rc(e):ah.EMPTY})),Af((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket})))})),na(V(i),"fetchAppCenter",(function(e,t){var A=rq("AppCenter-",i.loggerId);i.log("The AppCenter requests %s(%s)",e,A);var n=new AbortController;i.apFinish$.pipe(Vd(1)).subscribe((function(){return n.abort()}));var r,o=qq(0,Number.MAX_SAFE_INTEGER);return oo(pa(O.mark((function r(){var a;return O.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.log("%s request opid: %d",A,o),Cq("ApRequest",{sid:i.context.sid,userId:i.context.uid,lts:Xa.fromNumber(Date.now()),elapse:lf(i.context.startTime),apAddr:e,opId:Xa.fromNumber(o),envId:0,flag:128},null!==(a=i.context.config.cloudProxy)&&void 0!==a&&a),r.abrupt("return",Bo(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61","Content-Type":"application/json"},body:{json_body:JSON.stringify({command:"allocateEdge",sid:i.context.sid,appId:i.context.appId,ts:Date.now(),areaCode:void 0===cc?[Tb.CHINA,Tb.GLOBAL].join():Array.from(cc.CODES).map((function(e){return e===Tb.OVERSEA?"".concat(Tb.ASIA,",").concat(Tb.EUROPE,",").concat(Tb.AFRICA,",").concat(Tb.NORTH_AMERICA,",").concat(Tb.SOUTH_AMERICA,",").concat(Tb.OCEANIA):e})).join(","),appToken:t||i.context.key}),service_name:"sync"},signal:n.signal}));case 3:case"end":return r.stop()}}),r)})))).pipe(Pd((function(t){return"AbortError"!==t.name&&(i.logError(t),i.warn("The AppCenter server %s request failure",e,t)),ah.EMPTY})),Df((r=pa(O.mark((function e(t){var n,r,o,a,s,c,u,g,I,l,E,C,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.responseText,r=null;try{r=JSON.parse(n)}catch(e){i.warn("The AppCenter response parse error %s",e)}i.log("The %s response is %o",A,r),a=(o=r).code,s=o.json_body,c=null;try{c=JSON.parse(s)}catch(e){i.warn("The AppCenter response json_body parse error %s",e)}if(g=(u=c).servers,I=u.appTicket,l=u.vid,i.vid=String(l),i.log("Request AppCenter code is %d, result is %o",a,c),E=g.map((function(e){var t,A;return{ip:e.address,ticket:I,port:Qc("SYNC_USE_WS")?null!==(t=e.ws)&&void 0!==t?t:e.aut+1:null!==(A=e.wss)&&void 0!==A?A:e.aut+2}})),Pl(C=Qc("SYNC_ADDRESS"))&&(d=C.split(":"),E=[{ip:d[0],ticket:I,port:Number(d[1])}]),0!==E.length){e.next=15;break}return e.abrupt("return",Rc(Error("No available sync edge address to connect")));case 15:return e.abrupt("return",Oe.apply(void 0,rb(E).concat([Wv.queueScheduler])));case 16:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})),Vv(),Pd((function(e){return be(e)?Rc(e):ah.EMPTY})),Af((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket})))})),i.context=e,i.getApEdgeInfoEndFirst$=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Ti(0,e||r?Qc("RECONNECTING_AP_INTERVAL"):2e3).pipe(Vd(1),Fc((function(){i.retryCount+=1})),Df((function(){return 4<=i.retryCount&&(i.retryCount=0),3>=i.retryCount?i.getApUrl$(e||r):i.getBackupApUrl$(e||r)})),Df((function(e){return Qc("SYNC_UNILBS")?i.fetchAp(e):i.fetchAppCenter(e)})),Pd((function(e){return e instanceof sg&&i.warn("AP request timeout"),Rc(e)})),mA((function(e){return e.ip})),wh(i.apFinish$))},i.getApEdgeInfo$=function(e){return Ti(0,e||r?Qc("RECONNECTING_AP_INTERVAL"):2e3).pipe(Vd(8),Fc((function(){i.retryCount+=1})),Df((function(){return 3>=i.retryCount?i.getApUrl$(e||r):i.getBackupApUrl$(e||r)})),Df((function(e){return Qc("SYNC_UNILBS")?i.fetchAp(e):i.fetchAppCenter(e)})),Pd((function(e){return e instanceof sg&&i.warn("AppCenter request timeout"),Rc(e)})),mA((function(e){return e.ip})),wh(i.apFinish$))},i}Zb(t,e);var A=$b(t);return Ib(t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),t}(Mh);na(jW,"runOutOfUrlSymbol",Symbol("AppCenter urls are used up"));var xda=Dt(),kW=function(e){function t(e,n,r){zb(this,t);var i=A.call(this,n,"ConnectionSync");na(V(i),"apClient",void 0),na(V(i),"lastOpenSocketsOfSync",[new po(1)]),na(V(i),"curOpenSocketsOfSync",[void 0]),na(V(i),"loginSocketOpenFailureCount",0),na(V(i),"firstSocketOpener",void 0),na(V(i),"firstOpenKeeperSubject",new Cg),na(V(i),"blacklistedSyncIP",{}),na(V(i),"edgeInfoReplayed",void 0),na(V(i),"firstEnvOpenSocket",void 0),na(V(i),"firstOpenKeeperSub",void 0),na(V(i),"context",void 0),na(V(i),"logger",void 0),i.context=e,i.logger=n,i.apClient=new jW(i.context,n),i.apClient.apFinish$.subscribe((function(){i.log("AppCenter client fetch finished")}));var o,a=[];return i.edgeInfoReplayed=i.apClient.getApEdgeInfo$(r).pipe(Mm((function(e){return e.pipe(Fc((function(e){if(be(e))throw e})),Km(r?Qc("RECONNECTING_AP_INTERVAL"):900),wh(Ti(2e4)))})),Af((function(e){var t;return!Zq(a,e)&&1>=(null!==(t=i.blacklistedSyncIP[e.ip])&&void 0!==t?t:0)})),Ok((function(){return new xda({AP_NO_AVAILABLE_SYNC_PROXY:"No available sync address to connect"})})),Vd(1),Fc((function(e){a.push(e),i.log("An edge info got %o",e)})),Fc({error:function(e){i.emit("connectionSyncInitFailure",e)}}),qo((function(){i.apClient.clearUp()})),KH()),i.firstEnvOpenSocket=i.edgeInfoReplayed.pipe(Df((function(e){if(void 0===e)return Rc(Error("Invalid edge info"));var t=e.ip,A=e.ticket;e=e.port,i.emit("ticketUpdated",{ticket:A,vid:i.apClient.vid||""});var a=new wda(t,e,A,i.context,n,o);if(a.once("connectionSyncFailure",(function(){return i.onSocketConnectionFailure(a)})),!r&&Qc("ENABLE_EDGE_AUTO_FALLBACK")&&!i.context.config.cloudProxy){var s,c=Date.now();a.on("reconnectSync",(function(){var e;i.loginSocketOpenFailureCount+=1,null!==(e=s)&&void 0!==e||(s=Date.now()-c)}))}return o=!a.useNewDomain,a.open$.pipe(Lm(a))})),Fc((function(e){i.log("The websocket of Sync opened to %s:%d",e.ip,e.port),i.curOpenSocketsOfSync[0]=e,i.lastOpenSocketsOfSync[0].next(e)})),Vd(1),gk()),i.firstSocketOpener=i.firstEnvOpenSocket.pipe(Df((function(e){return e.open$.pipe(Fc((function(){i.log("The websocket of Sync re-opened to %s:%d",e.ip,e.port),i.curOpenSocketsOfSync[0]=e,i.lastOpenSocketsOfSync[0].next(e)})))}))),e=i.firstOpenKeeperSubject.pipe(LH.switchMap(wq.identity)),i.firstOpenKeeperSub=e.subscribe({error:i.logError}),i}Zb(t,e);var A=$b(t);return Ib(t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(e,t,A){var n=this;if(![0,1].includes(e))throw new Xw({INVALID_ENV:"The env argument is not 0 or 1"});var r=this.firstOpenKeeperSub;this.firstOpenKeeperSub=void 0;var i=this.curOpenSocketsOfSync[e];this.curOpenSocketsOfSync[e]=void 0,i&&(i.isActiveClose=!0,setTimeout((function(){i.close(),n.log("The websocket of Sync closed to ".concat(i.ip,":").concat(i.port,", start release memory of client")),A&&A()}),t)),void 0!==r&&setTimeout((function(){null==r||r.unsubscribe()}),t)}},{key:"waitClosing",value:function(e){var t=this;return e.isActiveClose=!0,e.open$.pipe(IV(),Pd((function(e){return e.message===HV.normalClosureMessage?ah.EMPTY:Rc(e)})),Oh(5e3),Pd((function(e){return e instanceof sg?(t.warn("Force closing the Sync connection"),ah.EMPTY):Rc(e)})))}},{key:"onSocketConnectionFailure",value:function(e){this.warn("socket(".concat(e.name,") internal emit onSocketConnectionFailure")),this.emit("socketsOfSyncFailure")}}]),t}(Mh),rA=vt.getWeakData,yda=Ye.set,zda=Ye.getterFor,Ada=0,sA=function(e){return e.frozen||(e.frozen=new lW)},lW=function(){this.entries=[]},QH=function(e,t){return eC(e.entries,(function(e){return e[0]===t}))};lW.prototype={get:function(e){if(e=QH(this,e))return e[1]},has:function(e){return!!QH(this,e)},set:function(e,t){var A=QH(this,e);A?A[1]=t:this.entries.push([e,t])},delete:function(e){var t=fC(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}};var mW={getConstructor:function(e,t,A,n){var r=e((function(e,i){Ij(e,r,t),yda(e,{type:t,id:Ada++,frozen:void 0}),null!=i&&yt(i,e[n],{that:e,AS_ENTRIES:A})})),i=zda(t),o=function(e,t,A){var n=i(e),r=rA(Pe(t),!0);return!0===r?sA(n).set(t,A):r[n.id]=A,e};return Tl(r.prototype,{delete:function(e){var t=i(this);if(!Hd(e))return!1;var A=rA(e);return!0===A?sA(t).delete(e):A&&Kc(A,t.id)&&delete A[t.id]},has:function(e){var t=i(this);if(!Hd(e))return!1;var A=rA(e);return!0===A?sA(t).has(e):A&&Kc(A,t.id)}}),Tl(r.prototype,A?{get:function(e){var t=i(this);if(Hd(e)){var A=rA(e);return!0===A?sA(t).get(e):A?A[t.id]:void 0}},set:function(e,t){return o(this,e,t)}}:{add:function(e){return o(this,e,!0)}}),r}};$c((function(e){var t=Ye.enforce,A=!ec.ActiveXObject&&"ActiveXObject"in ec,n=Object.isExtensible,r=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}};if(e=e.exports=mC("WeakMap",r,mW),qK&&A){var i=mW.getConstructor(r,"WeakMap",!0);vt.REQUIRED=!0;var o=(A=e.prototype).delete,a=A.has,s=A.get,c=A.set;Tl(A,{delete:function(e){if(Hd(e)&&!n(e)){var A=t(this);return A.frozen||(A.frozen=new i),o.call(this,e)||A.frozen.delete(e)}return o.call(this,e)},has:function(e){if(Hd(e)&&!n(e)){var A=t(this);return A.frozen||(A.frozen=new i),a.call(this,e)||A.frozen.has(e)}return a.call(this,e)},get:function(e){if(Hd(e)&&!n(e)){var A=t(this);return A.frozen||(A.frozen=new i),a.call(this,e)?s.call(this,e):A.frozen.get(e)}return s.call(this,e)},set:function(e,A){if(Hd(e)&&!n(e)){var r=t(this);r.frozen||(r.frozen=new i),a.call(this,e)?c.call(this,e,A):r.frozen.set(e,A)}else c.call(this,e,A);return this}})}}));var Bda=function(){function e(){var e=f.buffer;c.HEAP8=B=new Int8Array(e),c.HEAP16=y=new Int16Array(e),c.HEAPU8=Q=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAP32=v=new Int32Array(e),c.HEAPU32=m=new Uint32Array(e),c.HEAPF32=_=new Float32Array(e),c.HEAPF64=R=new Float64Array(e),c.HEAP64=b=new BigInt64Array(e),c.HEAPU64=new BigUint64Array(e)}function t(e){var t;N++,null===(t=c.monitorRunDependencies)||void 0===t||t.call(c,N)}function A(e){var t;throw null===(t=c.onAbort)||void 0===t||t.call(c,e),p(e="Aborted("+e+")"),S=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),s(e),e}function n(e){return Promise.resolve().then((function(){if(e==L&&h)var t=new Uint8Array(h);else{if(e.startsWith(O)){t=e.slice(O.length),t=atob(t);for(var A=new Uint8Array(t.length),n=0;n<t.length;++n)A[n]=t.charCodeAt(n);t=A}else t=void 0;if(!t){if(!l)throw"both async and sync fetching of the wasm failed";t=l(e)}}return t}))}function r(e,t,r){return n(e).then((function(e){return WebAssembly.instantiate(e,t)})).then(r,(function(e){p("failed to asynchronously prepare wasm: ".concat(e)),A(e)}))}function i(e,t,A){return A=0<A?A:H(e)+1,A=Array(A),e=j(e,A,0,A.length),t&&(A.length=e),A}function o(){function e(){if(!P&&(P=!0,c.calledRun=!0,!S)){if(M(D),a(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)k.unshift(c.postRun.shift());M(k)}}if(!(0<N)){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)w.unshift(c.preRun.shift());M(w),0<N||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}var a,s,c=Object.assign({},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),u=new Promise((function(e,t){a=e,s=t})),g="object"==("undefined"==typeof window?"undefined":ub(window)),I="function"==typeof importScripts;"object"==("undefined"==typeof process?"undefined":ub(process))&&"object"==ub(process.versions)&&process.versions.node;var l,E=Object.assign({},c),C="./this.program",d="";(g||I)&&(I?d=self.location.href:"undefined"!=typeof document&&document.currentScript&&(d=document.currentScript.src),d=d.startsWith("blob:")?"":d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1),I&&(l=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),c.print||console.log.bind(console);var h,p=c.printErr||console.error.bind(console);Object.assign(c,E),E=null,c.thisProgram&&(C=c.thisProgram),c.wasmBinary&&(h=c.wasmBinary);var f,B,Q,y,v,m,_,b,R,S=!1,w=[],D=[],k=[],N=0,T=null,O="data:application/octet-stream;base64,",L="data:application/octet-stream;base64,AGFzbQEAAAAB1QRKYAJ/fwBgAX8Bf2ABfwBgAn9/AX9gA39/fwBgA39/fwF/YAR/f39/AGAEf39/fwF/YAZ/f39/f38Bf2AFf39/f38Bf2AFf39/f38AYAJ/fgBgBn9/f39/fwBgCH9/f39/f39/AX9gA39/fgBgB39/f39/f38Bf2AAAGAAAX9gBX9+fn5+AGAFf39/f34Bf2AFf39+f38AYAJ/fgF/YAN/f38BfmAHf39/f39/fwBgBH9+fn8AYAp/f39/f39/f39/AGAKf39/f39/f39/fwF/YAJ+fwF/YAN/fn8Bf2ABfgF/YAV/f39/fAF/YAJ/fwF+YAJ/fgF+YAABfGACfn8AYAJ/fABgAAF+YAh/f39/f39/fwBgBH9/fn8Bf2AEf39+fwBgAX4BfmAMf39/f39/f39/f39/AX9gAnx/AXxgBX9+f39/AX9gBn9/f39+fwF/YA9/f39/f39/f39/f39/f38AYAt/f39/f39/f39/fwF/YAR/f39/AX5gAX8BfmADf39+AX9gB39/f39/fn4Bf2AGf39/f35+AX9gCH9/f39/fn9/AGAJf39/f39/fn9/AX9gB39/f39+f38AYAR+fn5+AX9gBX9/fn9/AX9gAn5+AXxgAn98AX9gBX9/f35/AGADf35/AGADf39/AXxgA39/fwF9YAJ+fgF9YAN+fn4Bf2AGf3x/f39/AX9gBH9/f34BfmAEf35+fgBgBn9+f39/fwBgBH9/f34Bf2ACf38BfGAJf39/f35/f39/AX9gCn9/f39/f39+f38Bf2AEf39/fgACPQoBYQFhAAYBYQFiABABYQFjAAkBYQFkAAMBYQFlAAMBYQFmABEBYQFnACEBYQFoAAEBYQFpACEBYQFqAAAD6A3mDQEDAQIBAwMBAQIDAQECEAAAAAEDAwIAAwEBBQEAAAMDAwUDAhESAgACAwEDAgQBAwEAAgUBAQIBAQEiAgAAAAIBAwIBAAQBAQEEEAICAxIEAAIDBgAAAwAYCgEDAAEBAQACAQAHAAEBFAMAAwAAAQQSBwADAwQFAAADCQEVAAUCBQAAAQEBAAEABgEDAAIBAQAABAUFAQUBAwACAAACAAMDDwADAgMLGQIAAQABAwAAAgABAAMACQkHBwUBIwMAAgEEAwIKBAQAAwILAAMBDQ0GAyQFAAQFAgIBBAABAAID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IAALEgAgAC0ADEEBRgRAIAAQDhoLC+8CAQZ/QbjwAi0AAARAQbTwAigCAA8LIwBBIGsiAiQAAkACQANAIAJBCGoiBCAAQQJ0IgNqAn9BASAAdEH/////B3EiBUEBckUEQCADKAIADAELIABB++UAQcX/ACAFGxDACQsiAzYCACADQX9GDQEgAEEBaiIAQQZHDQALQQAQvwlFBEBBmJICIQEgBEGYkgJBGBDdAUUNAkGwkgIhASAEQbCSAkEYEN0BRQ0CQQAhAEHE7gItAABFBEADQCAAQQJ0QZTuAmogAEHF/wAQwAk2AgAgAEEBaiIAQQZHDQALQcTuAkEBOgAAQazuAkGU7gIoAgA2AgALQZTuAiEBIAJBCGoiAEGU7gJBGBDdAUUNAkGs7gIhASAAQazuAkEYEN0BRQ0CQRgQPiIBRQ0BCyABIAIpAgg3AgAgASACKQIYNwIQIAEgAikCEDcCCAwBC0EAIQELIAJBIGokAEG48AJBAToAAEG08AIgATYCACABC8MKAgV/EX4jAEHgAGsiBSQAIARC////////P4MhDCACIASFQoCAgICAgICAgH+DIQogAkL///////8/gyINQiCIIQ4gBEIwiKdB//8BcSEHAkACQCACQjCIp0H//wFxIglB//8Ba0GCgH5PBEAgB0H//wFrQYGAfksNAQsgAVAgAkL///////////8AgyILQoCAgICAgMD//wBUIAtCgICAgICAwP//AFEbRQRAIAJCgICAgICAIIQhCgwCCyADUCAEQv///////////wCDIgJCgICAgICAwP//AFQgAkKAgICAgIDA//8AURtFBEAgBEKAgICAgIAghCEKIAMhAQwCCyABIAtCgICAgICAwP//AIWEUARAIAIgA4RQBEBCgICAgICA4P//ACEKQgAhAQwDCyAKQoCAgICAgMD//wCEIQpCACEBDAILIAMgAkKAgICAgIDA//8AhYRQBEAgASALhCEZQgAhASAZUARAQoCAgICAgOD//wAhCgwDCyAKQoCAgICAgMD//wCEIQoMAgsgASALhFAEQEIAIQEMAgsgAiADhFAEQEIAIQEMAgsgC0L///////8/WARAIAVB0ABqIAEgDSABIA0gDVAiBht5IAZBBnStfKciBkEPaxBiQRAgBmshBiAFKQNYIg1CIIghDiAFKQNQIQELIAJC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BEAgACACaiEAIAEgAmohAQNAIABBAWsiACABQQFrIgEtAAA6AAAgAkEBayICDQALCwsEAEEACw0AIAAoAgAQ2QkaIAALDQAgACgCABDgCRogAAuIAQECfyMAQRBrIgMkACACQff///8HTQRAAkAgAhCaAwRAIAAgAhB3IAAhBAwBCyADQQhqIAIQoQJBAWoQ/gEgAygCDBogACADKAIIIgQQjAEgACADKAIMEIsBIAAgAhBeCyAEIAEgAhB5IANBADoAByACIARqIANBB2oQdiADQRBqJAAPCxBUAAsFABAYAAuGAQEBfwJAAkACQCAAKAIIIgFFIAAtAAAiAEEBRnFFBEAgAUUgAEECRnENASABRSAAQQNGcQ0CIAFFIABBCEZxDQMPC0GbHUHBNUGyiwFB0xkQAAALQcscQcE1QbOLAUHTGRAAAAtB0h1BwTVBtIsBQdMZEAAAC0GUHEHBNUG1iwFB0xkQAAALCwAgAEHwgQEQkAMLEQAgACABIAAoAgAoAhwRAwALdQEBfiAAIAEgBH4gAiADfnwgA0IgiCICIAFCIIgiBH58IANC/////w+DIgMgAUL/////D4MiAX4iBUIgiCADIAR+fCIDQiCIfCABIAJ+IANC/////w+DfCIBQiCIfDcDCCAAIAVC/////w+DIAFCIIaENwMAC8EBAQN/IAAtAABBIHFFBEACQCACIAAoAhAiAwR/IAMFIAAQhAoNASAAKAIQCyAAKAIUIgRrSwRAIAAgASACIAAoAiQRBQAaDAELAkACQCACRSAAKAJQQQBIcg0AIAIhAwNAIAEgA2oiBUEBay0AAEEKRwRAIANBAWsiAw0BDAILCyAAIAEgAyAAKAIkEQUAIANJDQIgAiADayECIAAoAhQhBAwBCyABIQULIAQgBSACECQaIAAgACgCFCACajYCFAsLC2IBA38jAEEQayICJAAgAEEgaiEDA0AgACADRwRAIAAtAAAhBCAAIAEtAAA6AAAgASAEOgAAIAFBAWohASAAQQFqIQAMAQsLIAIgATYCDCACIAM2AgggAigCDBogAkEQaiQACwsAIABB0IABEMEIC44BACAAIAEpAwA3AwAgACABKAIINgIIIAFCADcDACABQQA2AgggAEEQaiABQRBqQTgQJBogAEHIAGogAUHIAGoQORogACABKAJcNgJcIAAgASkC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AgAoAhQRAAALDwAgACAAKAIAKAIQEQEACwsAIABB7PECENsBC6ECAQZ/IwBBsAFrIgUkACAFIAI3A6gBAkACQCADQeUARg0AIAAtAGQgAUYNAEECEBZFDQEgBUEcahAVIQcgBUECNgIYIAdBlPkAEAshCCAFQQxqIgMgARC6BSAIIAMQEEGl/wAQCyEJIAUgAC0AZBC6BSAJIAUQEEGr8wAQCxogBRAKGiADEAoaIAVBGGoQFwwBCyAAQdgAaiIGIAVBqAFqEIIGIgEgAEHcAGpHBEAgBUEYaiABQShqEDMhACAGIAEQvgQaIAAoAhAEQCAAIANB//8DcSAEEOUCCyAAEBIaDAELQQIQFkUNACAFQRxqEBUhCiAFQQI2AhggCkHt+QAQCyAFKQOoARCBAkGr8wAQCxogBUEYahAXCyAFQbABaiQAC1YBAn8gAEH/AToAGCAAQQA6AAAjAEEQayICJAAgABBAIAEtABgiA0H/AUcEQCACQQ9qIAAgASADQQJ0QawIaigCABEEACAAIAM6ABgLIAJBEGokACAAC7ABAgJ/AX4jAEEgayICJAAgAkEQaiABEBoCQCACLQAYRQRAIABBADoADCAAQQA6AAAMAQsgAikDECIEIAEoAgQiA61WBEAgAEEAOgAMIABBADoAAAwBCyABIAMgBKciA2s2AgQgASABKAIAIgEgA2o2AgAgAiABIAMQUyAAIAIoAgg2AgggACACKQMANwIAIAJBADYCCCACQgA3AwAgAEEBOgAMIAIQChoLIAJBIGokAAsRACAAIAEgACgCACgCLBEDAAsMACAAIAEtAAA6AAALJQAgACAALQALQYABcSABQf8AcXI6AAsgACAALQALQf8AcToACwsKACAALQALQQd2CwwAIAEgAiAAEOUJGgvNCQIEfwV+IwBB8ABrIgYkACAEQv///////////wCDIQkCQAJAIAFQIgUgAkL///////////8AgyIKQoCAgICAgMD//wB9QoCAgICAgMCAgH9UIApQG0UEQCADQgBSIAlCgICAgICAwP//AH0iC0KAgICAgIDAgIB/ViALQoCAgICAgMCAgH9RGw0BCyAFIApCgICAgICAwP//AFQgCkKAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCEEIAEhAwwCCyADUCAJQoCAgICAgMD//wBUIAlCgICAgICAwP//AFEbRQRAIARCgICAgICAIIQhBAwCCyABIApCgICAgICAwP//AIWEUARAQoCAgICAgOD//wAgAiABIAOFIAIgBIVCgICAgICAgICAf4WEUCIFGyEEQgAgASAFGyEDDAILIAMgCUKAgICAgIDA//8AhYRQDQEgASAKhFAEQCADIAmEQgBSDQIgASADgyEDIAIgBIMhBAwCCyADIAmEUEUNACABIQMgAiEEDAELIAMgASABIANUIAkgClYgCSAKURsiCBshCiAEIAIgCBsiDEL///////8/gyEJIAIgBCAIGyILQjCIp0H//wFxIQcgDEIwiKdB//8BcSIFRQRAIAZB4ABqIAogCSAKIAkgCVAiBRt5IAVBBnStfKciBUEPaxBiIAYpA2ghCSAGKQNgIQpBECAFayEFCyABIAMgCBshAyALQv///////z+DIQEgBwR+IAEFIAZB0ABqIAMgASADIAEgAVAiBxt5IAdBBnStfKciB0EPaxBiQRAgB2shByAGKQNQIQMgBikDWAtCA4YgA0I9iIRCgICAgICAgASEIQEgCUIDhiAKQj2IhCENIAIgBIUhBAJ+IANCA4YiAiAFIAdGDQAaIAUgB2siB0H/AEsEQEIAIQFCAQwBCyAGQUBrIAIgAUGAASAHaxBiIAZBMGogAiABIAcQqgIgBikDOCEBIAYpAzAgBikDQCAGKQNIhEIAUq2ECyEJIA1CgICAgICAgASEIQsgCkIDhiEKAkAgBEIAUwRAQgAhA0IAIQQgCSAKhSABIAuFhFANAiAKIAl9IQIgCyABfSAJIApWrX0iBEL/////////A1YNASAGQSBqIAIgBCACIAQgBFAiBxt5IAdBBnStfKdBDGsiBxBiIAUgB2shBSAGKQMoIQQgBikDICECDAELIAkgCnwiAiAJVK0gASALfHwiBEKAgICAgICACINQDQAgCUIBgyAEQj+GIAJCAYiEhCECIAVBAWohBSAEQgGIIQQLIAxCgICAgICAgICAf4MhAyAFQf//AU4EQCADQoCAgICAgMD//wCEIQRCACEDDAELQQAhBwJAIAVBAEoEQCAFIQcMAQsgBkEQaiACIAQgBUH/AGoQYiAGIAIgBEEBIAVrEKoCIAYpAwAgBikDECAGKQMYhEIAUq2EIQIgBikDCCEECyAEQj2GIAJCA4iEIQEg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AwALNwMAIAAgBUKAgICAgICAgIB/gyADQjCGhCAEhDcDCCAGQRBqJAALqQEBAn8CQCAAQYABSQ0AIAEgAEGAAXI6AAAgAEEHdiECQQEhAyAAQYCAAUkEQCACIQAMAQsgASACQYABcjoAASAAQQ52IQJBAiEDIABBgICAAUkEQCACIQAMAQsgASACQYABcjoAAiAAQRV2IQJBAyEDIABBgICAgAFJBEAgAiEADAELIAEgAkGAAXI6AAMgAEEcdiEAQQQhAwsgASADaiAAOgAAIANBAWoLFAAgASgCACAAKAIIIAAoAgQRAAALGwEBfyAAKAIAIQEgAEEANgIAIAEEQCABEA0LCxUAIAAtACBBAkcEQBAYAAsgAEEIagtdAQJ/IAEgABAhIQQgAiABECEhAwJAAkAgBEUEQCADRQ0CIAEgAhBaIAEgABAhRQ0CIAAgARBaDAELIAMEQCAAIAIQWg8LIAAgARBaIAIgARAhRQ0BIAEgAhBaCwsLCwAgACABQSAQ2QcLCwAgAEHIgAEQwQgLKwEBfyMAQRBrIgUkACAFIAM2AgwgACABIAIgBUEMaiAEEOAHIAVBEGokAAsrACAAIAEgAhCFAyIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIC/wCAQN/IwBBEGsiAyQAIAEgABAdIQUgAiABEB0hBAJAAkAgBUUEQCAERQ0CIAMgASgCCDYCCCADIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAMoAgg2AgggAiADKQMANwIAIAEgABAdRQ0CIAMgACgCCDYCCCADIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAMoAgg2AgggASADKQMANwIADAELIAQEQCADIAAoAgg2AgggAyAAKQIANwMAIAAgAigCCDYCCCAAIAIpAgA3AgAgAiADKAIINgIIIAIgAykDADcCAAwCCyADIAAoAgg2AgggAyAAKQIANwMAIAAgASgCCDYCCCAAIAEpAgA3AgAgASADKAIINgIIIAEgAykDADcCACACIAEQHUUNASADIAEoAgg2AgggAyABKQIANwMAIAEgAigCCDYCCCABIAIpAgA3AgAgAiADKAIINgIIIAIgAykDADcCAAsLIANBEGokAAsPACABKQMAIAAoAgAQwQILIgECfyMAQRBrIgIk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gwIpAwAhByABQSBqJAAgACAHNwMQIABBKGogAEEQahCDAikDACEIIABBMGokACAIC0MBA38CQCACRQ0AA0AgAC0AACIEIAEtAAAiBUYEQCABQQFqIQEgAEEBaiEAIAJBAWsiAg0BDAILCyAEIAVrIQMLIAML7wQBB38CQCAABEAgACgCACIHKAIAQfndq8UCRw0BIABBADYCACAAQQRqIQggAUGE5wIgARshAwNAIAcoAhggBE0EQAJAQQAhAQNAIAAoAgghAiABIAAoAgRPDQEgAiABQQR0aigCDCICBEAgAygCCCACIAMoAgQRAAALIAFBAWohAQwACwALBQJAIAcoAhwgBEEwbGoiAi0AIEEEcQRAIAIoAgQgACACKAIQaigCAEcNAQsgAigCCEECRgRAIAAgAigCFGooAgAiBUUNASAAIAIoAhBqKAIAIQZBACEBAkACQAJAAkAgAigCDEEOaw4DAAECAwsDQCABIAZGDQMgBSABQQJ0aigCACICBEAgAygCCCACIAMoAgQRAAALIAFBAWohAQwACwALA0AgASAGRg0CIAUgAUEDdGooAgQiAgRAIAMoAgggAiADKAIEEQAACyABQQFqIQEMAAsACwNAIAEgBkYNASAFIAFBAnRqKAIAIAMQ3gEgAUEBaiEBDAALAAsgAygCCCAFIAMoAgQRAAAMAQsCQAJAAkAgAigCDEEOaw4DAAECAwsgACACKAIUaigCACIBRQ0CIAEgAigCHEYNAiADKAIIIAEgAygCBBEAAAwCCyAIIAIoAhRqKAIAIgFFDQEgAigCHCICBEAgAigCBCABRg0CCyADKAIIIAEgAygCBBEAAAwBCyAAIAIoAhRqKAIAIgFFDQAgASACKAIcRg0AIAEgAxDeAQsgBEEBaiEEDAELCyACBEAgAygCCCACIAMoAgQRAAALIAMoAgggACADKAIEEQAACw8LQbTkAEHK1wBBghpBudEAEAAACwwAIAEgAikDADcDAAtvAQJ/IwBBEGsiBCQAIARBADYCDAJAA0AgA0EERwRAIAAQkQEaIAAgAUHcMxCgAUUNAiAEQQxqQQMgA2sgAyAALQAQG2ogACgCCDoAACADQQFqIQMMAQsLIAIgBCgCDDYCAAsgBEEQaiQAIANBA0sLDgAgAEEIahASGiAAEA0LCgAgAEEIahASGgsPACAALQAQBEAQGAALIAALNAEBfyMAQRBrIgMkACADQQhqIAEgAhCpByAAIAMoAgg2AgAgACADLQAMOgAEIANBEGokAAvXAgEFfyAAAn8gACgCBCICIAAoAghJBEAgACAAKAIEIAEQ0wNBGGo2AgQgAkEYagwBCyMAQSBrIgQkACAEQQxqIAAgACgCBCAAKAIAa0EYbUEBahDGAiAAKAIEIAAoAgBrQRhtIABBCGoQxQIiAigCCCABENMDGiACIAIoAghBGGo2AgggACgCBCEDIAAoAgAhBSACKAIEIQEDQCADIAVHBEAgAUEYayADQRhrIgMQ0wMhAQwBCwsgAiABNgIEIAAoAgAhAyAAIAE2AgAgAiADNgIEIAAoAgQhASAAIAIoAgg2AgQgAiABNgIIIAAoAgghASAAIAIoAgw2AgggAiABNgIMIAIgAigCBDYCACAAKAIEIQYgAigCBCEBA0AgASACKAIIIgNHBEAgAiADQRhrIgM2AgggAxAyDAELCyACKAIAIgEEQCABEA0LIARBIGokACAGCzYCBAsSACAALQAQQQVHBEAQGAALIAALxAEBBX8jAEGQAWsiBCQAIARBCGoQFSIDIAMoAgBBDGsoAgBqIgIgAigCBEG1f3FBCHI2AgQgBEEwOgAHIAQsAAchBSADIAMoAgBBDGsoAgBqIgIoAkxBf0YEQCACEKgIGgsgAiAFNgJMIANBDGohBUEAIQIDQCACQSBGBEAgACADQQRqEJsDIAMQ8gEaIARBkAFqJAAFIAEgAmotAAAhBiAFIAMoAgBBDGsoAgBqQQI2AgAgAyAGEJ0DIAJBAWohAgwBCwsLEAAgACgCCCIABEAgABANCwu6AQIEfwR+IAEoAgQgASgCACIEa0EDdSICIAAoAgQgACgCACIFa0EDdSIDIAIgA0kbrSEHQQAhAQJAA0AgBiAHUgRAAkAgBSAGp0EDdCIAaikDACIIIAAgBGopAwAiCVENACAIIAlUBEBBAyEAIAFBAUYNBEECIQEgAiADTw0BDAQLQQMhACABQQJGDQNBASEBIAIgA0sNAwsgBkIBfCEGDAELC0ECQQEgASACIANJGyACIANLGyEACyAAC1sBA38gAEEANgIIIABCADcCACABKAIAIQQgASgCBCIBIARrIgJBBXUiAwRAIAAgAxDIByACIQMgACgCBCECIAEgBEcEQCACIAQgAxBPCyAAIAIgA2o2AgQLIAALNwEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAKAIABEAgABD4ByABKAIMKAIAEA0LIAFBEGokAAsUACAAIAEgAiADQQdBgICAEBCtBQtVAQN/IwBBIGsiAiQAIAJBEGoiAyABEJACIAJBCGogAEEcaiIEIAMQfyABLQBQRQRAIAMgBCABEH8LIAAgACkDOCABLQAwQQBHrXw3AzggAkEgaiQAC88BAQR/IAACfyAAKAIEIgIgACgCCEkEQCACIAEpAgA3AgAgAiABKAIINgIIIAFCADcCACABQQA2AgggAkEMagwBCyMAQSBrIgMkACADQQxqIAAgACgCBCAAKAIAa0EMbUEBahDHAiAAKAIEIAAoAgBrQQxtIABBCGoQmAIiAigCCCIEIAEpAgA3AgAgBCABKAIINgIIIAFCADcCACABQQA2AgggAiACKAIIQQxqNgIIIAAgAhCDBCAAKAIEIQUgAhCPAyADQSBqJAAgBQs2AgQLDwAgACgCCBCYCCAAEMkBCw0AIAAgAacQjQQoAgALzgEBBH8jAEEQayIIJAACQCAARQRADAELIAQoAgwhByACIAFrIglBAEoEQCAAIAEgCSAAKAIAKAIwEQUAIAlHDQELIAcgAyABayIBa0EAIAEgB0gbIgFBAEoEQCAIQQRqIgcgASAFEIkEIAAgCCgCBCAHIAgsAA9BAEgbIAEgACgCACgCMBEFACEFIAcQChogASAFRw0BCyADIAJrIgFBAEoEQCAAIAIgASAAKAIAKAIwEQUAIAFHDQELIARBADYCDCAAIQYLIAhBEGokACAGCzoBAX8gAEHEjAIoAgAiATYCACAAIAFBDGsoAgBqQdCMAigCADYCACAAQQRqEKkFGiAAQThqEOcJIAALFwAgASACNgIAIAFBCGogAEEIahDtAhoLHwEBf0EgEBEiAiABNgIAIAJBCGogAEEIahDtAhogAgsPACAAIAAoAgAoAiQRAQALEQAgACABIAEoAgAoAiARAAALEQAgACABIAEoAgAoAiwRAAALFgAgABB4BEAgACABEF4PCyAAIAEQdwsMACAAQYKGgCA2AAALEQAgABAcIAAQDEECdGoQzAULDQAgACgCACABKAIARwsOACAAEBwgABAMahDMBQsWACAAIAEgAiADIAAoAgAoAiAR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KAIAIgIoAgQgAiwACyICIAJBAEgbRQ0DIAAgACkDCBDUAQwDCyABQQA2AiwgAUIANwIkIAFBJGoiAyACEEggASABKAIkNgIYIAEpAighBCABQQA2AiwgASAENwIcIAFCADcCJCAAIAFBGGoiABCIAyAAEA4aIAMQDhoMAgsgACACIAApAxAQoQUMAQsgAEEQaiACEEggASAAKAIQNgIMIAEgACgCFDYCECABIAAoAhg2AhQgAEEANgIYIABCADcDECAAIAFBDGoiABCIAyAAEA4aCyABQTBqJAALlwQCBH8BfiMAQUBqIgIkACAAQQhqIQMCQAJAAkACQAJAAkACQCAALQAgDgYABQQDAQIGCyACIAE3AxggAyACQRhqEPwDDAULIAEgAykDAFEEQCACQgI3AyAgAiABNwMYIAMgAkEYahCjCAwFCyACQQA2AjwgAkIANwI0IAJBNGoiBUECEMQCIAUgAxBIIAIgATcDGCACKAI0IQAgAkEANgI0IAIgADYCICACKQI4IQEgAkIANwI4IAIgATcCJCACQRhqIQQjAEEQayIAJAACQCADLQAYQQNGBEAgAyAEEJoIDAELIAAgBDYCDCAAIAM2AgggACgCDCEDIAAoAggiBBCnASAEIAMQmQhBAzoAGAsgAEEQaiQAIAJBIGoQDhogBRAOGgwECyAAKQMQIQYgASAAKQMIUQRAIAAgBkIBfDcDEAwECyAAIAMgBhChBSACIAE3AxggAyACQRhqEPwDDAMLIAEgACkDCFEEQCACIAAoAhA2AgwgAiAAKAIUNgIQIAIgACgCGDYCFCAAQQA2AhggAEIANwMQIAAgAkEMaiIAEIgDIAAQDhogAkICNwMgIAIgATcDGCADIAJBGGoQowgMAwsgAEEQaiADEEggAyABNwMADAILIAAgACkDCBDUASACIAE3AxggAyACQRhqEPwDDAELIAAgACkDCBDUASACIAE3AxggAyACQRhqEPwDCyACQUBrJAALCQAgAEEIEIUECxUAIAAgASACIANBA0GAgICAAhCtBQuKAwICfwF+IwBBIGsiAiQAIAFBCGohAwJAAkADQCABKQMYIgRCAFINASACQRBqIAEQrAEgAi0AGEUEQCAAQQA6ABAgAEEAOgAIIABBADoAAAwDCyACKQMQIgRCAFUEQCABIAQ3AxggAiABEBogAi0A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BCACIANHBEAgBCADIAYQTyAAKAIEIQILIAAgBCAGaiIDNgIIIAAgAiAHajYCBAwBCyAFQQxqQQEgAiAEa0EBdSACIARGGyICIAJBAnYgAEEMahDCASICIAAoAgQgACgCCBD2AiAAKAIAIQMgACACKAIANgIAIAIgAzYCACAAKAIEIQMgACACKAIENgIEIAIgAzYCBCAAKAIIIQMgACACKAIINgIIIAIgAzYCCCAAKAIMIQMgACACKAIMNgIMIAIgAzYCDCACEJcBIAAoAgghAwsgAyABKAIANgIAIAAgACgCCEEEajYCCCAFQSBqJAALqwIBAn8gAyABNgIIIANCADcCACACIAM2AgAgACgCACgCACIBBEAgACABNgIAIAIoAgAhAwsgAyADIAAoAgQiBUY6AAwDQAJAIAMgBUYNACADKAIIIgItAAwNAAJAIAIgAigCCCIBKAIAIgRGBEACQCABKAIEIgRFDQAgBC0ADEEBRg0ADAILIAMgAigCAEcEQCACEPMCIAIoAggiAigCCCEBCyACQQE6AAwgAUEAOgAMIAEQ8gIMAgsCQCAERQ0AIAQtAAxBAUYNAAwBCyADIAIoAgBGBEAgAhDyAiACKAIIIgIoAgghAQsgAkEBOgAMIAFBADoADCABEPMCDAELIAJBAToADCABIAEgBUY6AAwgBEEBOgAMIAEhAwwBCwsgACAAKAIIQQFqNgIICxUAIAAtACBBA0cEQBAYAAsgAEEIagtEAgF/An5BASEDAkAgASkDACIEIAIpAwAiBVQNACAEIAVRBEAgACABKQMIEPABIAAgAikDCBDwARAdDQELQQAhAwsgAwutBQILfwF+IABBLGohBgNAIAYoAgAiBgRAIAYpAwghDCMAQaABayIFJAAgBSAMNwOYASAAIAynEI0EIQFBABAWBEAgBUEQahAVIQsgBUEANgIMIAtBvP0AEAsgASgCABAQQcD/ABALIAwQgQIaIAVBDGoQFwsgAEE4aiABKAIAELMHIAFBADYCACMAQRBrIgckACAAQQxqIgEoAhQgASgCEGogASgCCCIDIAEoAgQiAmtBB3RBAWtBACACIANHG0YEQCMAQTBrIgMkAAJAIAEoAhAiAkGABE8EQCABIAJBgARrNgIQIAMgASgCBCICKAIANgIcIAEgAkEEajYCBCABIANBHGoQtwIMAQsCQCABKAIIIgQgASgCBGsiCCABKAIMIgIgASgCACIJayIKSQRAIAIgBEYNASADQYAgEBE2AhwgASADQRxqELcCDAILIANBHGpBASAKQQF1IAIgCUYbIAhBAnUgAUEMahDCASECQYAgEBEhBCADQYAENgIYIAMgAUEUajYCFCADIAQ2AgwgAiADQQxqEKwHIANBADYCECABKAIIIQQDQCABKAIEIARGBEAgASgCACEIIAEgAigCADYCACACIAg2AgAgASACKAIENgIEIAIgBDYCBCABKAIIIQQgASACKAIINgIIIAIgBDYCCCABKAIMIQQgASACKAIMNgIMIAIgBDYCDCADQRBqEEUgAhCXAQwDBSACIARBBGsiBBCrBwwBCwALAAsgA0GAIBARNgIcIAEgA0EcaiICEKoHIAMgASgCBCIEKAIANgIcIAEgBEEEajYCBCABIAIQtwILIANBMGokAAsgB0EIaiABELUHIAcoAgwgBSkDmAE3AwAgASABKAIUQQFqNgIUIAdBEGokACAFQaABaiQADAEFIABBJGoQ0wELCwvHAQIDfwR+IAEoAgQhAyABKAIAIQIDQCACIANGBEAgAEEANgIIQgAhBSAAQgA3AgAgACAGpxDbBwNAIAUgBlIEQCABKAIEIQMgASgCACECQgAhBwNAIAIgA0YEQCAAKAIAIAWnQQN0aiAHNwMAIAVCAXwhBQwDBSACKAIAIAUQ2gciCCAHIAcgCFQbIQcgAkEEaiECDAELAAsACwsFIAYgAigCACIEKAIEIAQoAgBrQQN1rSIFIAUgBlQbIQYgAkEEaiECDAELCwsZACAALQAMQQFGBEAgABAOGiAAQQA6AAwLC9sBAQN/IwBBEGsiAiQAIAJBCGogABCHBSACIAAQ9wIgAigCDCEBA0ACQCACKAIEIAFGBEAgAEEANgIUIAAoAgQhAQNAIAAoAgggAWtBAnUiA0EDSQ0CIAEoAgAQDSAAIAAoAgRBBGoiATYCBAwACwALIAEQTRogAiACKAIMQYABaiIBNgIMIAEgAigCCCIDKAIAa0GAIEcNASACIANBBGo2AgggAiADKAIEIgE2AgwMAQsLQRAhAQJAAkACQCADQQFrDgIBAAILQSAhAQsgACABNgIQCyACQRBqJAALigEAIAAgARA5IgBBDGogAUEMahA5GiAAQRhqIAFBGGoQ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IQIDQCACIAAoAggiAUcEQCAAIAFBQGoiATYCCCABEGQaDAELCyAAKAIAIgAEQCAAEA0LC6wBAQN/IAEoAgQhAyAAKAIAIQQgACgCBCECA0AgAiAERkUEQCADQQxrIgMgAkEMayICKQIANwIAIAMgAkEIaigCADYCCCACQgA3AgAgAkEANgIIDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACzQBAX8gASAFTwRAEAEACyAEIAAoAgggACgCAGsgA20iAEEBdCIGIAEgASAGSRsgACACTxsLOQECfyAAKAIEIQMgACgCCCECA0AgAiADRwRAIAAgAiABayICNgIIDAELCyAAKAIAIgAEQCAAEA0LC1cBAX8gACADNgIQIABBADYCDCABBEAgASAFTwRAEBgACyABIARsEBEhBgsgACAGNgIAIAAgBiACIARsaiICNgIIIAAgBiABIARsajYCDCAAIAI2AgQgAAtJAQJ/IAAoAgQiBkEIdSEFIAZBAXEEQCACKAIAIAUQtQUhBQsgACgCACIAIAEgAiAFaiADQQIgBkECcRsgBCAAKAIAKAIYEQoACxQAIAAgASACIANBBkGAgIAgEK0FC4kBAQJ/IwBBEGsiAyQAIAFB9////wdNBEACQCABEJoDBEAgACABEHcgACEEDAELIANBCGogARChAkEBahD+ASADKAIMGiAAIAMoAggiBBCMASAAIAMoAgwQiwEgACABEF4LIAQgASACEL0FIANBADoAByABIARqIANBB2oQdiADQRBqJAAPCxBUAAsHACAAQQhqCwcAIABBAkkLBABBBAsjACABIAAoAgQgACgCACIAa0EEdU8EQBABAAsgACABQQR0agsqAQF/IAAoAgQhAgNAIAEgAkZFBEAgAkHwAGsQOCECDAELCyAAIAE2AgQLHQAgAEEEahDFBUF/RgRAIAAgACgCACgCCBECAAsLEQAgACABIAEoAgAoAigRAAALFAECfyAAKAIAIQIgAEEANgIAIAILCABB/////wcLBQBB/wALaQEDfyMAQRBrIgQkACMAQRBrIgMkAANAIAAgAUcEQCACIAAQpQEgAkHwAGohAiAAQfAAaiEADAEL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BhogCUEkaiEFIAFBJGohAQwBCwsgACAFNgIcCyAAQQA2AkggAEIANwNAIABBADoAPCAAQgA3AiQgAEIANwApIAAgAikDgAE3A1AgBBC8ARogBhCFByADQegAahAOGiADQfQAahAOGiADQYABaiQACzsBAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQSBrIgE2AgggARBWDAELCyAAKAIAIgAEQCAAEA0LC40BAQN/IAAoAgQhAyAAKAIAIQQgASgCBCECA0AgAyAERwRAIAJBIGsgA0EgayIDEIoCIQIMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALCQAgAEEAEI8HCxgBAX9BDBARIgBCADcCACAAQQA2AgggAAsjAQF/QRQQESIAQgA3AgAgAEGAgID8AzYCECAAQgA3AgggAAuuAgICfwF+IwBB0ABrIgQkAAJAIAEgAiADEPECIgUEQCAAQQA6ADggACAFNgIIDAELIAMtABBBAUYEQCABIAIgAxDOAyIBRQRAIABBAToAOCAAQQA6ADAgAEEAOgAIDAILIARBKGoiAiABENADIABBCGogAhCbByAEQTBqEM0BDAELIAMQ4wEpAwAhBiAEQgA3AxggBEEANgIgIARCADcDECAEIAY3AwggAUHMAGogAhCtASICBEAgBEEIaiEBAkAgAkEYahCNASICLQBIQQFHDQAgASACQQhqIgIQyANBAUcNACACIAEQ+AYaCwsgBCgCICIBRQRAIABBADoAOCAAQQc2AggMAQsgBEEoaiICIAEQ0AMgAEEIaiACEJsHIARBMGoQzQELIARB0ABqJAALpAEBA38gAAJ/IAAoAgQiAiAAKAIISQRAIAAgACgCBCABEFxBgAFqNgIEIAJBgAFqDAELIwBBIGsiAyQAIANBDGogACAAKAIEIAAoAgBrQQd1QQFqEPUCIAAoAgQgACgCAGtBB3UgAEEIahDsASICKAIIIAEQXBogAiACKAIIQYABajYCCCAAIAIQ8AQgACgCBCEEIAIQ7wQgA0EgaiQAIAQLNgIEC7UBAQR/IwBBEGsiAyQAIANBBGohAgJAIABBzABqIgUgARCMAiIELQCAAUUEQCACIAQoAjQQywkMAQsgAiAEEI0BKAJwEMsJCyADKAIIIQQgAygCBCECA0AgAiAERgRAIANBBGoQDhogBSABEKMEIgAEQCMAQRBrIgEkACAAKAIAGiABQQRqIgIgBSAAEJ8CIAIQ1QUgAUEQaiQACyADQRBqJAAFIAAgAhD7BCACQRBqIQIMAQsLCwkAIAEgAhAUGgs2AQF/IAAhAyAAKAIEIQADQCABIAJHBEAgACABEI0CQRhqIQAgAUEYaiEBDAELCyADIAA2AgQLFgAgACABEH4iAEUEQBABAAsgAEEoaguLCgMNfwJ+An0jAEEQayIGJAAgAEEAQTQQKyICQgA3AzggAkGAgID8AzYCNCACQUBrQgA3AwAgAkIANwJMIAJBgICA/AM2AkggAkIANwJUIAJCADcDYCACQYCAgPwDNgJcIAZBADYCDCAGIAI2AggjAEEgayIJJAAgCUGogAE2AhQgCSAGIgxBCGo2AhAgCUGhgAE2AgwgCSAGQQxqNgIIIAlBFGohCiAJQQhqIQtBACEGIwBBEGsiCCQAQaiAARCuAiEAIAkCfwJAIAJBzABqIgcoAgQiA0UNACAHKAIAAn8gA0EBayAAcSADaSIEQQFNDQAaIAAgACADSQ0AGiAAIANwCyIGQQJ0aigCACIFRQ0AIANBAWshDUGwgAEpAwAhD0GogAEpAwAhECAEQQFLIQ4DQCAFKAIAIgVFDQEgACAFKAIEIgRHBEACQCAORQRAIAQgDXEhBAwBCyADIARLDQAgBCADcCEECyAEIAZHDQIMAQsgBSkDCCAQUg0AIAUpAxAgD1INAAtBAAwBC0HIARARIQUgCCAHQQhqNgIIIAggBTYCBCAFIAA2AgQgBUEANgIAIwBBEGsiBCQAIAooAgAhCiAEIAsoAgg2AgggBCALKQIANwMAIAQgCjYCDCMAQTBrIgskACAFQQhqIgUgBCgCDCIKKQMANwMAIAUgCikDCDcDCCAEKAIAKAIAIQogC0EAOgAoIAtBADoACCAFQRBqIAogC0EIaiIFIAQoAggoAgAQggUgBRCaBCALQTBqJAAgBEEQaiQAIAhBAToADAJAQQAgAyAHKAIMQQFqsyIRIAcqAhAiEiADs5ReGw0AIAcgAyADQQFrcUEARyADQQNJciADQQF0ciIGAn8gESASlY0iEUMAAIBPXSARQwAAAABgcQRAIBGpDAELQQALIgMgAyAGSRsQOyAHKAIEIgMgA0EBayIGcUUEQCAAIAZxIQYMAQsgACADSQRAIAAhBgwBCyAAIANwIQYLAkAgBkECdCIGIAcoAgBqKAIAIgBFBEAgCCgCBCAHKAIINgIAIAcgCCgCBDYCCCAHKAIAIAZqIAdBCGo2AgAgCCgCBCIFKAIAIgBFDQEgACgCBCEEAkAgAyADQQFrIgBxRQRAIAAgBHEhBAwBCyADIARLDQAgBCADcCEECyAHKAIAIARBAnRqIAU2AgAgCCgCBCEFDAELIAgoAgQgACgCADYCACAAIAgoAgQiBTYCAAsgCEEANgIEIAcgBygCDEEBajYCDCAIQQRqELUJQQELOgAcIAkgBTYCGCAIQRBqJAAgDCAJKAIYNgIAIAwgCS0AHDoABCAJQSBqJAAgDEEQaiQAIAJCADcDaCACQgA3A4gBIAJBgICA/AM2ApgBIAJCADcDeCACQgA3A3AgAkKAgICAgICAwD83A4ABIAJCADcDkAEgAkGgAWpBAEEwECsaIAJBgICA/AM2AtABIAIgASgCCDYC3AEgAiABKQIANwLUASABQgA3AgAgAUEANgIIIAJCADcD+AEgAkIANwPwASACQgA3A+gBIAJBgICA/AM2AoACIAJBiAJqQQBByAAQKxogAkIANwLUAiACQYCAgPwDNgLQAiACQgA3ANkCIAJCADcC5AIgAkIANwLsAiACQQA2AvQCIwBBEGsiACQAIAIgAEEEaiACQdQBahAUIgEQ2gMhDyABEAoaIABBEGokACACIA83A+ABIAIgDxCzAgsPACAAQRBqELgHIAAQChoL3gYBB38gARCUASEGIAEgACgCAEYEQCAAIAY2AgALIAAgACgCCEEBazYCCCAAKAIEIQACfwJAIAEiAygCACIEBEAgAygCBEUNASADEJQBIgMoAgAiBA0BCyADKAIEIgQNACADKAIIIQVBACEEQQEMAQsgBCADKAIIIgU2AghBAAshBwJAIAMgBSgCACICRgRAIAUgBDYCACAAIANGBEBBACECIAQhAAwCCyAFKAIEIQIMAQsgBSAENgIECyADLQAMIQggASADRwRAIAMgASgCCCIFNgIIIAUgBSgCACABR0ECdGogAzYCACADIAEoAgAiBTYCACAFIAM2AgggAyABKAIEIgU2AgQgBQRAIAUgAzYCCAsgAyABLQAMOgAMIAMgACAAIAFGGyEACyAARSAIQQFxRXJFBEACQCAHBEADQCACLQAMIQECQCACIAIoAggiBCgCAEcEQCABQQFxRQRAIAJBAToADCAEQQA6AAwgBBDzAiACIAAgACACKAIAIgFGGyEAIAEoAgQhAgsCQAJAAkACQCACKAIAIgEEQCABLQAMQQFHDQELIAIoAgQiAwRAIAMtAAxBAUcNAgsgAkEAOgAMAkAgACACKAIIIgJGBEAgACECDAELIAItAAwNBgsgAkEBOgAMDAgLIAIoAgQiA0UNAQsgAy0ADEEBRw0BCyABQQE6AAwgAkEAOgAMIAIQ8gIgAigCCCICKAIEIQMLIAIgAigCCCIALQAMOgAMIABBAToADCADQQE6AAwgABDzAgwECyABQQFxRQRAIAJBAToADCAEQQA6AAwgBBDyAiACIAAgACACKAIEIgFGGyEAIAEoAgAhAgsCQAJAAkACQCACKAIAIgMEQCADLQAMIgFBAUcNAQsCQCACKAIEIgEEQCABLQAMQQFHDQELIAJBADoADCACKAIIIgItAAxBAUYgACACR3ENBSACQQE6AAwMCAsgA0UNAiADLQAMQQFxDQEMAwsgAUUNAgsgAigCBCEBCyABQQE6AAwgAkEAOgAMIAIQ8wIgAigCCCICKAIAIQMLIAIgAigCCCIALQAMOgAMIABBAToADCADQQE6AAwgABDyAgwDCyACKAIIIgEgASgCACACRkECdGooAgAhAgwACwALIARBAToADAsLIAYL9AEAIAAgAzYCAAJ/IAFFBEAgAEIANwIEIABCADcDGCAAQYCAgPwDNgIUIABCADcCLCAAQYCAgPwDNgIoIABCADcCDCAAQgA3AyAgAEIANwI0IABBPGohA0EADAELIABBADoASCAAQQA6AAggAEHQAGpBAEEoECsaIABB+ABqIQNBAQshASADQYCAgPwDNgIAIABBADoAqAEgAEEAOgCIASAAIAE6AIABIAItACBBAUYEQCAAIAIpAwA3A4gBIAAgAikDCDcDkAEgACACKAIYNgKgASAAIAIpAxA3A5gBIAJCADcDECACQQA2AhggAEEBOgCoAQsLMwEBfyAAKAIAIQEgAEEANgIAIAEEQCAALQAIQQFGBEAgAUEIahC5BwsgAQRAIAEQDQsLC6UBAQJ/IAAgARDtASAAQRxqIAIoAiQQtwcgACAAKQM4IAIpAzh8NwM4IABBEGoiAyABEPcDIAIoAhQhBCACKAIQIQEDQCABIARGBEACQCAAQQRqIQMgAigCCCEEIAIoAgQhAQNAIAEgBEYNASADIAEQjQMgAUFAayEBDAALAAsFIAMgARD3AyABQfAAaiEBDAELCyAAIAIpAzAgACkDMHxCAXw3AzALOwAgACABIAIQywECQCADIAIQIUUNACACIAMQWiACIAEQIUUNACABIAIQWiABIAAQIUUNACAAIAEQWgsLKQECfyMAQRBrIgEkACABIAA2AgwgAUEMakEEELQEIQIgAUEQaiQAIAILRwEDfyABKAIEIgMgASgCECIEQQN2Qfz///8BcWohAiAAIAMgASgCCEYEf0EABSACKAIAIARBH3FBB3RqCzYCBCAAIAI2AgALIwAgACABKQIANwIAIAAgASgCCDYCCCAAQQxqIAFBDGoQORoLOQEBfyABQQBIBEAQAQALQf////8HIAAoAgggACgCAGsiAEEBdCICIAEgASACSRsgAEH/////A08bC1AAIAAoAgAEQCAAEPgHIAAoAgAQDSAAQQA2AgggAEIANwIACyAAIAEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCABQQA2AgggAUIANwIAC2ABAn8gAUH4////B0kEQCABQQpNBEAgAEEANgIIIABCADcCACAAIAE6AAsgAA8LIAFBB3JBAWoiAhARIQMgACABNgIEIAAgAzYCACAAIAJBgICAgHhyNgIIIAAPCxABAAsxAQF/IwBBEGsiAiQAIAAgAkEMaiABEP0CKAIAIgBFBEAQAQALIAJBEGokACAAQSBqCysAIAFBIBC9ASAAIAEoAgg2AgggACABKQIANwIAIAFCADcCACABQQA2AggLulgCQ38EfiMAQbABayIOJABBCSECAkAgASgCBCABLAALIgMgA0EASCIFGyIDRQ0AAkACQAJAAkAgASgCACABIAUbIgEtAABBwwBrDgMBAgACCyAOIANBAWs2AqwBIA4gAUEBajYCqAEgDiAOKQKoATcDACAOQRBqIgkhAyMAQeADayIBJAAgAUHQA2ogDhAaAkAgAS0A2ANFBEAgA0EAOgBwIANBADoAAAwBCyABQQA6AMgDIAFBADoA8AICQCABKQPQAyJFUEUEQCAOKAIAIQUgASBFPgLsAiABIAU2AugCIAEgASkC6AI3AwggAUHYAWoiBSABQQhqEPEGIAFB8AJqIAUQjgggBRDAAiABLQDIA0UEQEEDEBYEQCABQdwBahAVISEgAUEDNgLYASAhQdbQABALGiAFEBcLIANBADoAcCADQQA6AAAMAgsgDiABKALQAyIFIA4oAgBqNgIAIA4gDigCBCAFazYCBAsgAUHIAWogDhAaIAEtANABRQRAIANBADoAcCADQQA6AAAMAQsgAUEANgLEAUIAIUUgAUIANwK8ASABKALIASELIwBBIGsiBCQAAkACQCALIAFBvAFqIgUoAgggBSgCACIGa0EHdUsEQCALQYCAgBBPDQEgBSAEQQxqIAsgBSgCBCAGa0EHdSAFQQhqEOwBIgUQlAUgBRCTBQsgBEEgaiQADAELEAEACyABQdwBaiEMA0ACQAJAAkACQAJAIAEpA8gBIEVWBEAgAUGsAWoiBSAOEHQgAS0AuAFFDQMgAUGYAWogDhAaIAEtAKABRQ0DIAFBiAFqIA4QdCABLQCUAUUNASABQfgAaiAOEBogAS0AgAFFDQEgDigCACELIAEgASkDeD4CFCABIAs2AhAgASABKQIQNwMAIAFBGGogARDxBgJ/IAEtAHBFBEBBAxAWBEAgDBAVISIgAUEDNgLYASAiQbz+ABALIAUQEBogAUHYAWoQFwsgA0EAOgBwIANBADoAAEEBDAELIA4gASgCeCIFIA4oAgBqNgIAIA4gDigCBCAFazYCBCABQawBaiEEIAFBmAFqIQYgAUGIAWohCiABQRhqIQcgAUG8AWoiBQJ/IAUoAgQiCyAFKAIISQRAIAUgBSgCBCAEIAYgCiAHEM4HQYABajYCBCALQYABagwBCyMAQSBrIggkACAIQQxqIAUgBSgCBCAFKAIAa0EHdUEBahD1AiAFKAIEIAUoAgBrQQd1IAVBCGoQ7AEiCygCCCAEIAYgCiAHEM4HGiALIAsoAghBgAFqNgIIIAUgCxCUBSAFKAIEISMgCxCTBSAIQSBqJAAgIws2AgRBAAshBSABQRhqEMACDAILIAFB2AFqIAFB8AJqEI0IIgUgASgCvAE2AmAgBSABKALAATYCZCAFIAEoAsQBNgJoIAFBADYCxAEgAUIANwK8ASADIAUQjQgiA0HgAGogBUHgAGoQORogA0EBOgBwIAUQlQUMBAsgA0EAOgBwIANBADoAAEEBIQULIAFBiAFqEEEaDAELIANBADoAcCADQQA6AABBASEFCyBFQgF8IUUgAUGsAWoQQRogBUUNAQsLIAFBvAFqEIsICyABQfACahDAAgsgAUHgA2okACAOLQCAASIdQQFGBEAjAEGABGsiCiQAIAogACgCACIINgL8A0EBIRMCQAJAIAktAFhBAUcNACAJEIUIITAgCS0APCECIAAoAgAiA0EoaiEBIABBEGohBCAKQaADaiAJEL8CIQdBACADIAIbIQUgCkH8A2ohC0EAIQMjAEHgAWsiBiQAAkACQAJAIAcpA1AiRVBFBEAgBCkDgAEiRiBGQj+HIkeFIEd9IkcgRSBFQj+HIkiFIEh9VgRAQQEQFkUNBCAGQdgAahAVISQgBkEBNgJUICRBvdoAEAsgBEHAAWoQEEG82gAQCyABQewCahAQQY76ABALQav/ABALIAQpA4ABEIYBQcD/ABALIAcpA1AQhgEaIAZB1ABqEBcMBAsCQCBFQgBTBEAgR0IAIEV9Wg0BQQEQFgRAIAZB2ABqEBUhJSAGQQE2AlQgJUG92gAQCyAEQcABahAQQbzaABALIAFB7AJqEBBBjvoAEAtBsfsAEAsgBykDUBCGARogBkHUAGoQFwsgBEGUAWogB0EYahDvAxC5ASAEKAIMIQIgBEEANgIMIAYgAjYCVCAEKAIQIQIgBEEANgIQIAYgAjYCWCAEKAIUIQIgBEEANgIUIAYgAjYCXCAEKAIYIQIgBEEANgIYIAYgAjYCSCAEKAIcIQIgBEEANgIcIAYgAjYCTCAEKAIgIQIgBEEANgIgIAYgAjYCUCAEQdQAahDTASAGQTxqIgIgARDuAyAEIAIQRyACEA4aIARBoAFqEL4CIARBAToAeyAGQcgAahAOGiAGQdQAahAOGgwBCyBGQgBZDQBBARAWBEAgBkHYAGoQFSEmIAZBATYCVCAmQb3aABALIARBwAFqEBBBvNoAEAsgAUHsAmoQEEGO+gAQC0Gx+wAQCyAHKQNQEIYBGiAGQdQAahAXCyAEIAdBGGoQ7wMQuQELIAcpA1AiRkIAVQ0BCyAEKQOAASJFIEVCP4ciRYUgRX1CACBGfVoNAQsgBCBGNwOAAQsgBkHIAGogARCjAQJAAkAgBy0APEEBRgRAIAcoAjQgBywAOyICIAJBAEgbRQRAQQwhA0ECEBZFDQMgBkHYAGoQFSEnIAZBAjYCVCAnQb3aABALIARBwAFqEBBBvNoAEAsgAUHsAmoQEEGO+gAQC0HwFRALGiAGQdQAahAXDAMLIAYgBygCODYCOCAGIAcpAjA3AzAgB0IANwIwIAdBADYCOCABIAZBMGoiAhD/BiEDIAIQChogAwRAIANBDEcNA0ECEBYEQCAGQdgAahAVISggBkECNgJUIChBvdoAEAsgBEHAAWoQEEG82gAQCyABQewCahAQQY76ABALQYgWEAsaIAZB1ABqEBcLIAEoAswBRQRAQQshAwwECyAEQQE6AHgMAgsgBiAHKAJANgIkIAYgBygCRDYCKCAGIAcoAkg2AiwgB0EANgJIIAdCADcCQEIAIUYjAEGgAmsiDCQAIAFB7AJqIREgAUGIAWohEyAMQZQBaiEVIAZBJGoiECgCBCEUIBAoAgAhAwNAIAMgFEYEQCABQbQCaiICIBAoAgQgECgCAGtBB3UQxAIFAkAgEyADQShqIggQjwIEQEEAEBZFDQEgFRAVISkgDEEANgKQASApIBEQEEG1+gAQCyEqIAxBhAFqIgIgCBDnASAqIAIQEBogAhAKGiAMQZABahAXDAELIAwgAxBcIhYhCCMAQYACayICJAAgAkEAOgD8ASACQQA6APABIAJB5AFqIAEgCBDRAwJAAkAgAigC5AEgAigC6AFHBEAgASACQeAAaiAIEFwiDSAIKQNoIAIoAugBIAIoAuQBa0EHda18QgF9IAJB0ABqIAJB8AFqEIwDIghBABDwAiAIEC0gDRBNGiACQTRqIRggAigC6AEhGSACKALkASEIA0AgCCAZRwRAIAhBEGohDwJAIAgtAFhFBEAgAkEIaiAIQcgAahAUIQ0CQCAFRQ0AIAEgCCANIA8Q5wNFDQAgCC0AQARAIAUgDRDHBwwBCyAFIA0QxgcLIAJByABqIAEgCCANIA8Q5gMCQCAFRQ0AIAItAExBAXFFDQAgAigCSARAIAUgDRDFBwwBCyAFIA0QxAcLIA0QChoMAQsCQCABIAggAkEIaiAPIAEQ5QMQ5ANFDQAgCC0AYEEBRgRAIAItADBFDQYgASAIIAIpAyAgDxDjAxoMAQsgAi0AMUEBRw0AIAItADBFDQUgASAIIAIpAyAgDyACLQAyQX9zQQFxEOIDGgsgGBBJCyAIQYABaiEIDAELCyALBEAgCxDhAwsgARC7AgsgAkHkAWoQ4AMgAkHwAWoQLSACQYACaiQADAELEAEACyAWEE0aCyADQYABaiEDDAELCwNAIAwgRjcDkAEgECgCBCAQKAIAa0EHda0gRlYEQCACIAxBkAFqEEggDCkDkAFCAXwhRgwBCwsgDEGgAmokACAQEKQBIAEQgAgLIAcoAiQiAiAHKAIoIgNHBEAgBiADNgIcIAYgAjYCGCAGIAcoAiw2AiAgB0EANgIsIAdCADcCJAJ/IwBBoANrIggkACAEQaABaiEMIAFB7AJqIRAgBEHAAWohDyABQYgBaiENIAhBlAJqIREgBkEYaiITIgIoAgQhFSACKAIAIQIDQAJAAkACQCACIBVGBEADQEEAIQMgBCgCtAFFDQIgDSAEKAKkASAEKAKwASICQQN2Qfz///8BcWooAgAgAkEfcUEHdGpBKGoQjwIiEEUEQCABIAQoAqQBIAQoArABIgJBA3ZB/P///wFxaigCACACQR9xQQd0ahDoA0UNAwsgCEGQAmogBCgCpAEgBCgCsAEiAkEDdkH8////AXFqKAIAIAJBH3FBB3RqEFwhAiAMEMwHIAQoArQBBEAgBBDcATcDuAELAkAgEA0AIAEgCCACEFwiECAFIAsQywchAyAQEE0aIANFDQAgAhBNGgwDCyACEE0aDAALAAsgDSACQShqIhQQjwIEQEEAEBZFDQMgERAVISsgCEEANgKQAiArQb3aABALIA8QEEG82gAQCyAQEBBBjvoAEAtBtfoAEAshLCAIQYQCaiIDIBQQ5wEgLCADEBAaIAMQChogCEGQAmoQFwwDCyABIAIQ6ANFDQEgASAIQYABaiACEFwiFCAFIAsQywchAyAUEE0aIANFDQILIAhBoANqJAAgAwwDCyAEKAK0AUUEQCAEENwBNwO4AQsgDCACEMoHCyACQYABaiECDAALAAshLSATEKQBIC0EQCAEKQOAAUIAUwRAQQwhAyABKALMAkUNBCAELQB8DQQLIARBAToAeAwCCyAGQTxqIgIgARCjASAGQdQAaiIDIAZByABqIAIgBBCCByAEIAMQRyADEA4aIAIQDhoLIAEgByAEQdQAaiICEIMHIgMNASAGQQA2AkQgBkIANwI8IAFBiAFqIQsgBygCBCEIIAcoAgAhAwJAAkADQAJAIAMgCEYEQCAGKAJAIAYoAjxrIAcoAgQgBygCAGtHDQEgBCAHELkBIAcoAgAgBygCBEYEQCAEKAIMIQMgBEEANgIMIAYgAzYCVCAEKAIQIQMgBEEANgIQIAYgAzYCWCAEKAIUIQMgBEEANgIUIAYgAzYCXCAEKAIYIQMgBEEANgIYIAYgAzYCDCAEKAIcIQMgBEEANgIcIAYgAzYCECAEKAIgIQMgBEEANgIgIAYgAzYCFCACENMBIARBADoAeSAELQB6RQRAIARBAToAewsgBkEMahAOGiAGQdQAahAOGgsgBygCGCAHKAIcRg0DIAZBADYCFCAGQgA3AgwgBkHUAGogBBDqASICQgA3AgwgAkIANwIcIAJCADcCFCAGQQxqIgMgAhCAAyACELwBGiAEQcQAaiADEP8CIAMQ6wEMBAsgCyADEH4EQCAGQTxqIAMQgQELIANBIGohAwwBCwsgBkHUAGogBCgCACAEKAIEEP8HIQIgBigCQCELIAYoAjwhAwNAIAMgC0YEQCAEKAIAIAQoAgQQ7QMgAhBJDAILIAIgAxB+RQRAIAQgAxCBAQsgA0EgaiEDDAALAAsgBEHEAGogB0EYahD/AgsgBEEkaiIDIAcQkQIgBEE0aiAHQQxqEJECIARBAToAeiAEQegAaiECAkAgAS0A4AJFBEACQCAELQB0DQAgAiADEP4HQQEQFkUNACAGQdgAahAVIS4gBkEBNgJUIC5BvdoAEAsgBEHAAWoQEEG82gAQCyABQewCahAQQY76ABALQaf8ABALIAQoAmwgBCgCaGtBBXUQYBogBkHUAGoQFwsgASAEKAJoIAQoAmwgARD9BzoA4AIMAQsgAhC9AgsgBkE8ahAOGgtBACEDCyAGQcgAahAOGgsgBkHgAWokACAHEIkBIAMiAQRAQQMQFkUNAiAKQZQCahAVIS8gCkEDNgKQAiAvIAAoAgBB0ARqEBBBvdoAEAsgAEEEahAQQbraABALQdP+ABALIAEQhAggCkGQAmoQFwwCCyAwQQFzIRMgACgCACEIIAUNACAKQgA3AxAgCkIANwMIIApBkAJqIAhBKGogCkEIahCaByAKLQCcAkEBRwRAEBgACyAKKAKUAiEMIAooApACIQgDQCAIIAxHBEACQCAAKAIAQQxqIAgQ8wNFDQAgACgCACIBKAL0BCABLAD7BCICIAJBAEgbBEAgCCABQfAEahCCAw0BIAAoAgAhAQsgCkHwAGohCyMAQRBrIgUkACAFIAg2AgQgBSABNgIAIAVBBGohBiMAQRBrIgIkACAFIAFBoANqIgQgAkEMaiAIEP0CIg0oAgAiAwR/QQAFQZgDEBEhAyACIARBBGo2AgQgAiADNgIAIAYoAgAhBiAFKAIAIQcjAEEQayIBJAAgASAHNgIIIAEgBjYCDCMAQRBrIgYkACADQRBqIgcgASgCDCIDKQIANwIAIAcgAygCCDYCCCADQgA3AgAgA0EANgIIIAdBEGogBkEEaiABKAIIEBQiAxD/BCADEAoaIAZBEGokACABQRBqJAAgAkEBOgAIIAQgAigCDCANIAIoAgAQuAIgAigCACEDIAJBADYCACACELQHQQELOgAMIAUgAzYCCCACQRBqJAAgCyAFKAIINgIAIAsgBS0ADDoABCAFQRBqJAAgACgCACECIAooAnAiASABQRBqIgM2AogDIAEgAjYChAMgCkH4AWoiBSACQdAEakEvEPIDIApBhAJqIgIgBSADEM8BIAsgAhCNBSABQYwDaiALEBkgCxAKGiACEAoaIAUQChogACgCACABQSBqIAMQ8QMLIAhBOGohCAwBCwsgCkGQAmoQggggACgCACEICwJAIAgtAKwDDQAgAC0A9AENACAKQgA3A5gCIApCADcDkAIgCkGAgID8AzYCoAIgCkGQAmohAwJAIABB4AFqIgsiAS0AFEEBRgRAQQAhAiABKAIMBEAgASgCCBCYCCABQQA2AgggASgCBCEFA0AgAiAFRgRAIAFBADYCDAUgASgCACACQQJ0akEANgIAIAJBAWohAgwBCwsLIAMoAgAhAiADQQA2AgAgASACEIUCIAEgAygCBDYCBCADQQA2AgQgASADKAIMIgI2AgwgASADKgIQOAIQIAEgAygCCCIFNgIIIAIEQCABQQhqIQQgBSgCBCECAkAgASgCBCIFIAVBAWsiBnFFBEAgAiAGcSECDAELIAIgBUkNACACIAVwIQILIAEoAgAgAkECdGogBDYCACADQgA3AggLDAELIAEgAxC8B0EBOgAUCyADEO8BIApB8ABqEBUhASAJKAJkIQIgCSgCYCEIA0AgAiAIRgRAQQEQFgRAIApBlAJqEBUhMSAKQQE2ApACIDEg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GQu7AQIEfwF+IwBB8AFrIgIkACAAQfgBaiABEIoIIQMgAkHgAWogACgCAEEoakGogAEgARDPAwJAIAIgAikD4AEiBiADKQMAUQR+IANBCGogAigC6AEQggNFDQEgAikD4AEFIAYLNwMQIAJBGGogAigC6AEQFCEFIAMgAkEQaiIEEIkIIAUQChogA0EYaiAEIAJBBGogAEEEahAUIgAQ9QMiARCRBSABEIEDIAAQChoLIAJB8AFqJAAgA0EYags+AQJ/IAAoAgQhAgNAIAIgACgCCCIBRwRAIAAgAUGAAWsiATYCCCABEM8HGgwBCwsgACgCACIABEAgABANCwvkAQEDfyAAKAIEIQIgACgCACEEIAEoAgQhAwNAIAIgBEcEQCADQYABayIDIAJBgAFrIgIpAwA3AwAgAyACKAIINgIIIAJBADYCCCACQgA3AwAgAyACKQMQNwMQIAMgAigCIDYCICADIAIpAxg3AxggAkEANgIgIAJCADcDGCADQShqIAJBKGoQvwIaDAELCyABIAM2AgQgACgCACEEIAAgAzYCACABIAQ2AgQgACgCBCEEIAAgASgCCDYCBCABIAQ2AgggACgCCCEEIAAgASgCDDYCCCABIAQ2AgwgASABKAIENgIACxAAIABB4ABqEIsIIAAQwAILjQEBA38CQCACIgQgAWsiA0H4////B0kEQAJAIANBCk0EQCAAIAM6AAsMAQsgA0EHckEBaiIFEBEhAiAAIAVBgICAgHhyNgIIIAAgAjYCACAAIAM2AgQgAiEACwNAIAEgBEcEQCAAIAEtAAA6AAAgAEEBaiEAIAFBAWohAQwBCwsgAEEAOgAADAELEAEACwvvAQEBfyMAQRBrIgQkACAAIAEgAhDQAQJAIAMgAhAdRQ0AIAQgAigCCDYCCCAEIAIpAgA3AwAgAiADKAIINgIIIAIgAykCADcCACADIAQoAgg2AgggAyAEKQMANwIAIAIgARAdRQ0AIAQgASgCCDYCCCAEIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAQoAgg2AgggAiAEKQMANwIAIAEgABAdRQ0AIAQgACgCCDYCCCAEIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAQoAgg2AgggASAEKQMANwIACyAEQRBqJAALLAEBfyAAKAIAIQIDQCAB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IABBBGogAkEIahCCASACQRBqJAALPQEBfyMAQRBrIgMkACADIAI6AA8DQCABBEAgACADLQAPOgAAIAFBAWshASAAQQFqIQAMAQsLIANBEGokAAsLACAAIAEgAhDPCQsLACAAIAEgAhCDDQsHACAAQQxqC04BAX8jAEEQayIDJAAgAyABNgIIIAMgADYCDCADIAI2AgRBACEBIANBBGoiACADQQxqEKADRQRAIAAgA0EIahCgAyEBCyADQRBqJAAgAQsXACAAKAIIEC5HBEAgACgCCBC5CQsgAAubAQEDfyABKAIEIQIgACgCACEEIAAoAgQhAwNAIAMgBEZFBEAgAkEQayICIANBEGsiAykDADcDACACIAMpAwg3AwgMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALOgECfyMAQRBrIgMkACADIAI2AgwgA0EIaiADQQxqEK8BIQQgACABEOMFIQAgBBCuASADQRBqJAAgAAsTACAAIAAoAgBBAWsiADYCACAACzcBAn8jAEEQayICJAAgAiAAKAIANgIMIAIgAigCDCABQQJ0ajYCDCACKAIMIQMgAkEQaiQAIAMLGgEBf0EBIQEgABB4BH8gABD/AUEBawVBAQsLNAECfyMAQRBrIgIkACACIAAoAgA2AgwgAiACKAIMIAFqNgIMIAIoAgwhAyACQRBqJAAgAwvMAQEDfyMAQRBrIgUkAAJAIAJB9////wcgAWtNBEAgABAcIQYgBUEEaiIHIAFB8////wNJBH8gBSABQQF0NgIMIAUgASACajYCBCAHIAVBDGoQowIoAgAQoQJBAWoFQff///8HCxD+ASAFKAIEIQIgBSgCCBogBARAIAIgBiAEEHkLIAMgBEcEQCACIARqIAQgBmogAyAEaxB5CyABQQpHBEAgBhCeBAsgACACEIwBIAAgBSgCCBCLASAFQRBqJAAMAQsQVAALIAAgAxBeC5EBAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQQRrIgIgA0EEayIDKAIANgIADAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACw8AIAAgACgCAEEEajYCAAslAQJ/IwBBEGsiASQAIAFBDGogABC+ASgCACECIAFBEGokACACCw8AIAAgACgCAEEBajYCAAuoAQEEfyAAENMBIAEoAgAhAiABQQA2AgAgACACEIUCIAAgASgCBDYCBCABQQA2AgQgACABKAIMIgI2AgwgACABKgIQOAIQIAAgASgCCCIDNgIIIAIEQCAAQQhqIQQgAygCBCECAkAgACgCBCIDIANBAWsiBXFFBEAgAiAFcSECDAELIAIgA0kNACACIANwIQILIAAoAgAgAkECdGogBDYCACABQgA3AggLC10BA38jAEEQayIDJAAgAigCACEEIAACfyABIABrQQJ1IgIEQANAIAAgBCAAKAIARg0CGiAAQQRqIQAgAkEBayICDQALC0EACyIAIAEgABsQogIhBSADQRBqJAAgBQv6AwEBfyMAQRBrIgwkACAMIAA2AgwCQCAAIAVGBEBBfyEAIAEtAABBAUcNAUEAIQAgAUEAOgAAIAQgBCgCACIBQQFqNgIAIAFBLjoAACAHEAxFDQEgCSgCACIBIAhrQZ8BSg0BIAooAgAhAiAJIAFBBGo2AgAgASACNgIADAELAkAgACAGRw0AIAcQDEUNAEF/IQAgAS0AAEEBRw0BQQAhACAJKAIAIgEgCGtBnwFKDQEgCigCACEAIAkgAUEEajYCACABIAA2AgBBACEAIApBADYCAAwBC0F/IQAgCyALQYABaiAMQQxqEM8FIAtrIgtBAnUiBkEfSg0AIAZBsKsCaiwAACEFAkACQCALQXtxIgBB2ABHBEAgAEHgAEcNASADIAQoAgAiAUcEQEF/IQAgAUEBaywAABDZAiACLAAAENkCRw0ECyAEIAFBAWo2AgAgASAFOgAAQQAhAAwDCyACQdAAOgAADAELIAUQ2QIiACACLAAARw0AIAIgABC9CToAACABLQAAQQFHDQAgAUEAOgAAIAcQDEUNACAJKAIAIgAgCGtBnwFKDQAgCigCACEBIAkgAEEEajYCACAAIAE2AgALIAQgBCgCACIAQQFqNgIAIAAgBToAAEEAIQAgBkEVSg0AIAogCigCAEEBajYCAAsgDEEQaiQAIAALUgECfyMAQRBrIgYkACAGQQxqIgUgARAgIAUQcUGwqwJB0KsCIAIQ2gEgAyAFENYCIgEQmAE2AgAgBCABEHA2AgAgACABEG8gBRAfIAZBEGokAAszAQJ/IwBBEGsiAyQAIAAgACACLAAAIAEgAGsQ5AUiACABIAAbEKICIQQgA0EQaiQAIAQL7gMBAX8jAEEQayIMJAAgDCAAOgAPAkAgACAFRgRAQX8hACABLQAAQQFHDQFBACEAIAFBADoAACAEIAQoAgAiAUEBajYCACABQS46AAAgBxAMRQ0BIAkoAgAiASAIa0GfAUoNASAKKAIAIQIgCSABQQRqNgIAIAEgAjYCAAwBCwJAIAAgBkcNACAHEAxFDQBBfyEAIAEtAABBAUcNAUEAIQAgCSgCACIBIAhrQZ8BSg0BIAooAgAhACAJIAFBBGo2AgAgASAANgIAQQAhACAKQQA2AgAMAQtBfyEAIAsgC0EgaiAMQQ9qENIFIAtrIgVBH0oNACAFQbCrAmosAAAhBgJAAkACQAJAIAVBfnFBFmsOAwECAAILIAMgBCgCACIBRwRAIAFBAWssAAAQ2QIgAiwAABDZAkcNBAsgBCABQQFqNgIAIAEgBjoAAEEAIQAMAwsgAkHQADoAAAwBCyAGENkCIgAgAiwAAEcNACACIAAQvQk6AAAgAS0AAEEBRw0AIAFBADoAACAHEAxFDQAgCSgCACIAIAhrQZ8BSg0AIAooAgAhASAJIABBBGo2AgAgACABNgIACyAEIAQoAgAiAEEBajYCACAAIAY6AABBACEAIAVBFUoNACAKIAooAgBBAWo2AgALIAxBEGokACAAC1IBAn8jAEEQayIGJAAgBkEMaiIFIAEQICAFEGxBsKsCQdCrAiACEP0BIAMgBRDYAiIBEJgBOgAAIAQgARBwOgAAIAAgARBvIAUQHyAGQRBqJAALMwEBfyAAKAIAIQEgAEEANgIAIAEEQCAALQAIQQFGBEAgAUEYahCtCQsgAQRAIAEQDQsLC5oDAQh/AkAgACIBQQNxBEADQCABLQAAIgJFIAJBPUZyDQIgAUEBaiIBQQNxDQALCwJAAkBBgIKECCABKAIAIgNrIANyQYCBgoR4cUGAgYKEeEcNAANAQYCChAggA0G9+vTpA3MiAmsgAnJBgIGChHhxQYCBgoR4Rw0BIAEoAgQhAyABQQRqIgIhASADQYCChAggA2tyQYCBgoR4cUGAgYKEeEYNAAsMAQsgASECCwNAIAIiAS0AACIDRQ0BIAFBAWohAiADQT1HDQALCyAAIAFGBEBBAA8LAkAgACABIABrIgNqLQAADQBBiO4CKAIAIgRFDQAgBCgCACIBRQ0AA0ACQAJ/IAAhAkEAIAMiBkUNABogAC0AACIFBH8CQANAIAUgAS0AACIHRyAHRXINASAGQQFrIgZFDQEgAUEBaiEBIAItAAEhBSACQQFqIQIgBQ0AC0EAIQULIAUFQQALIAEtAABrC0UEQCAEKAIAIANqIgEtAABBPUYNAQsgBCgCBCEBIARBBGohBCABDQEMAgsLIAFBAWohCAsgCAtqAQJ/IABB2I0CNgIAIAAoAighAQNAIAEEQEEAIAAgAUEBayIBQQJ0IgIgACgCJGooAgAgACgCICACaigCABEEAAwBCwsgAEEcahAfIAAoAiAQDSAAKAIkEA0gACgCMBANIAAoAjwQDSAACx4BAX8DQCAABEAgAUEBaiEBIAAoAgAhAAwBCwsgAQsfAQF/IwBBEGsiAyQAIAAgASACENMJIANBEGokACAACxMAIAAgASACIAAoAgAoAjARBQALDAAgAEEEahDnCSAACygBAn8jAEEQayICJAAgASgCACAAKAIASCEDIAJBEGokACABIAAgAxsLEAAgACABNwMIIABCADcDAAsUACAAQeiIAjYCACAAQQRqEB8gAAsJACAAIAEQ6QkLCwAgACABIAIQqQIL6AMCA34FfyMAQSBrIgYkACABQv///////z+DIQICfiABQjCIQv//AYMiA6ciBUGB+ABrQf0PTQRAIAJCBIYgAEI8iIQhAiAFQYD4AGutIQMCQCAAQv//////////D4MiAEKBgICAgICAgAhaBEAgAkIBfCECDAELIABCgICAgICAgIAIUg0AIAJCAYMgAnwhAgtCACACIAJC/////////wdWIgUbIQQgBa0gA3wMAQsgACAChFAgA0L//wFSckUEQCACQgSGIABCPIiEQoCAgICAgIAEhCEEQv8PDAELIAVB/ocBSwRAQv8PDAELQgBBgPgAQYH4ACADUCIIGyIJIAVrIgdB8ABKDQAaIAZBEGogACACIAJCgICAgICAwACEIAgbIgJBgAEgB2sQYiAGIAAgAiAHEKoCIAYpAwhCBIYgBikDACICQjyIhCEA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AEIANwP4ASAAQQA6APQBIABBADoA4AEgAEIANwOAAiAAQQA6AJgCIABCADcDkAIgAEGAgID8AzYCiAIgACAEENsEIANBEGokACABEAoaIAJBEGokACAAQQE6AKACC5AEAQR/IwBBEGsiBSQAIABCADcDACAAQgA3AAUgAEEQakEAQSYQKxogAEIANwJcIABBADYCVCAAIABBzABqIgM2AlAgACADNgJMIABBCjYCSCAAQriXgICA9wI3A0AgAEEBOgA8IAAgATYCOCAAQQA2AsgBIABBADYCsAEgAEEANgKYASAAQQA6AGQgACAAQdwAajYCWCAAQgA3A2ggAEIANwNwIABCADcDeCAAQgA3A4ABIABBADYC8AIgAEEANgLYAiAAQQA2AsACIABBADYCqAIgACAAQYACajYCkAIgAEGQiwE2AoACIAAgAEHoAWo2AvgBIABB7IoBNgLoASAAIABB0AFqNgLgASAAQciKATYC0AEgAEIANwOIAyAAQQA2ApADIABBADYCqAMgAEEANgLAAyAAQQA2AtADIABCADcD2AMgAEIANwPIAyAAQQA6AOADIABCADcA/QIgAEIANwP4AiAFQQRqIAIQFCEDIwBBkAFrIgQkACAAIAMQqAECQCADKAIEIAMsAAsiASABQQBIIgIbIgFFDQAgAygCACADIAIbIAFqQQFrLQAAQS9GDQAgBEEEaiIBIABBhvMAENMGIAAgARAZIAEQChoLQQEQFgRAIARBCGoQFSEGIARBATYCBCAGQdv4ABALIAAQEBogBEEEahAXCyAEQZABaiQAIAMQChogBUEQaiQAIAALKgACQCAALQCsAw0AIABBsANqIAEQkAEgACgCwANFDQAgABDcATcD4AQLCxUAIAAtAChBAUYEQCAAQQhqEM0BCwsJACAAQQAQsgQLVAEBfyMAQRBrIgIkACAAIAAoAgAgASkDABCjA2pBx4yijgZrIgAgAEEQdnNBrdXCjwJsIgBBD3YgAHNBl9vomgdsIgBBD3YgAHM2AgAgAkEQaiQACzoBAX9B0N8BQQAgASgCBCABLAALIgIgAkEASCICGyABKAIAIAEgAhsQeyEBIABBAToAICAAIAE2AgQLnwEBA38jAEEQayIEJAAgBEEEaiICQQE2AgQgAkEUEBE2AgggAigCCCIDQQA2AgQgA0EANgIAIAMgASgCCDYCECADIAEpAgA3AgggAUIANwIAIAFBADYCCCACKAIIIQEgAkEANgIIIAIQ6AEgBEEQaiQAIAEgADYCBCABIAAoAgAiAjYCACACIAE2AgQgACABNgIAIAAgACgCCEEBajYCCAskAQF/IABBIGoiAiABEBkgACAAKAIgIAIgACwAK0EASBs2AhALJAEBfyAAQRRqIgIgARAZIAAgACgCFCACIAAsAB9BAEgbNgIMCzYBAX8gAEEoaiICIAEQqAEgACAAKAIoIAIgACwAMyIBQQBIIgIbQQAgACgCLCABIAIbGzYCDAt2AQF/IwBBEGsiAiQAIABBBGoiACgCAEGkkQFHBEBBhyVB/9cAQRNB8MMAEAAACyABIAAQaRBtIAIgATYCDCACQesBNgIIIAJBCGohASAAKAIAQaSRAUcEQEGHJUH/1wBBIUHKMRAAAAsgACABEHwgAkEQaiQACxcAIAAgASgCACABIAEsAAtBAEgbNgIoCzABAn8gASgCBCECIAAgASgCACABIAEsAAsiAUEASCIDGzYCGCAAIAIgASADGzYCFAsVACAAQeyIATYCACAAQQhqEBIaIAALYwIDfwF+IAAoAgQhAiAAQQRqIgMhACABKQMAIQUDQCACBEAgACACIAIpAxAgBVQiBBshACACIARBAnRqKAIAIQIMAQsLAkAgACADRwRAIAEpAwAgACkDEFoNAQsgAyEACyAAC10BBH8jAEEQayICJAAgAkEEaiIBQQE2AgQgAUH4ABARNgIIIAEoAggiA0EANgIEIANBADYCACADQQhqIAAQiAYaIAEoAgghBCABQQA2AgggARDoASACQRBqJAAgBAthACAAIAEvAQA7AQAgAEEEaiACEBQaIABBEGogAxAzGiAAIAQpAwA3AyggAEEwaiAFEBQaIABBPGogBhAUGiAAQcgAaiAHEBQaIABB1ABqIAgQFBogAEHgAGogCRAUGiAACygBAX8jAEEQayICJAAgAiABNwMIIAAgAkEIakEIEIoBGiACQRBqJAALKAEBfyMAQRBrIgIkACACIAE6AA8gACACQQ9qQQEQigEaIAJBEGokAAvxBAMIfwJ9An4jAEEQayIIJAAgAhCuAiEGIAACfwJAIAEoAgQiA0UNACABKAIAAn8gA0EBayAGcSADaSIJQQFNDQAaIAYgAyAGSw0AGiAG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D2oQdgwBCyACIAQgAyAFaiAEayAFQQBBACADIAEQkgMLIAZBEGokACACDAELEFQACyIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIC3MBAX8jAEEQayIDJAACQCAALQAYQQFGBEAgAigCACEAIAJBADYCACABIAAQkgcMAQsgAyACNgIMIAMgADYCCCADKAIMIQAgAygCCCIBEFYgACgCACECIABBADYCACABQQE6ABggASACNgIACyADQRBqJAALDwAgACAAKAIAEJQBNgIAC3MBAX8jAEEQayIDJAACQCAALQAYQQJGBEAgAigCACEAIAJBADYCACABIAAQjwcMAQsgAyACNgIMIAMgADYCCCADKAIMIQAgAygCCCIBEFYgACgCACECIABBADYCACABQQI6ABggASACNgIACyADQRBqJAALCwAgAEHshgEQ5gkLNwAgACABKQIANwIAIAAgASkCCDcCCCAAQgA3AhAgAEEYakGE8wAQDxogAEEANgIsIABCADcCJAsiAQF/QQEhAQNAIAFBAExFBEAgABCoBiABQQFrIQEMAQsLC2ABAX8gAEGAgICAeDYCDCAAQgA3AgQgACABNgIAIAEEQCAAQQRqIQICQAJAAkAgAS0AAEEBaw4CAQACCyAAQQhqIQILIAJBADYCAAsgAA8LQYcdQcE1QcLZAEGZOxAAAAsSACAAQSRqEAoaIABBGGoQChoLWgEBfyAAKAIAIgEEQAJAAkACQCABLQAAQQFrDgIAAQILIABBBGoQrAYPCyAAIAAoAghBEGo2AggPCyAAIAAoAgxBAWo2AgwPC0GHHUHBNUHX2wBBw/MAEAAACxIAIAAtABhBAkcEQBAYAAsgAAubAQECfwJAAkAgACgCACIBBEACQAJAAkACQCABLQAADgMGAAECCyAAKAIEIgAgASgCCEEEakYNBCAAQSBqDwsgACgCCCICIAEoAggoAgRHDQFB9fQAQcE1QYLbAEHO8wAQAAALIAEhAiAAKAIMDQMLIAIPC0GHHUHBNUH22gBBzvMAEAAAC0Gr9QBBwTVB/NoAQc7zABAAAAsQAQALcwEBfwJ/AkAgACgCACICIAEoAgBGBEAgAkUNAQJAAkACQCACLQAAQQFrDgIAAQILIAAoAgQgASgCBEYMBAsgACgCCCABKAIIRgwDCyAAKAIMIAEoAgxGDAILEAEAC0GHHUHBNUG53ABB7ucAEAAAC0EBcwtkAAJAIAAgARCtBiIAKAIAIgEEQAJAAkACQCABLQAAQQFrDgIAAQILIAAgASgCCEEEajYCBAwDCyAAIAEoAggoAgQ2AggMAgsgAEEBNgIMDAELQYcdQcE1Qc/aAEGmzwAQAAALC20AAkAgACABEK0GIgAoAgAiAQRAAkACQAJAAkAgAS0AAA4DAgABAwsgACABKAIIKAIANgIEDAQLIAAgASgCCCgCADYCCAwDCyAAQQE2AgwMAgsgAEEANgIMDAELQYcdQcE1QaPaAEHAOBAAAAsLdwEBfyMAQRBrIgIkAAJAIAAtABhFBEAgACABEOMEDAELIAIgATYCDCACIAA2AgggAigCDCEAIAIoAggiARBWIAEgACgCCDYCCCABIAApAgA3AgAgAEIANwIAIABBADYCCCABQQA6ABggAUEEOgAQCyACQRBqJAALEgAgAC0AGEEBRwRAEBgACyAACz8BAX8jAEEgayIFJAAgBSADNwMQIAUgATYCHCAFIAQ6AA8gACAFQRxqIAIgBUEQaiAFQQ9qEOAHIAVBIGokAAsVACAAQdCGATYCACAAQQhqEBIaIAALFQAgAEGshgE2AgAgAEEIahASGiAACxUAIABBiIYBNgIAIABBCGoQEhogAAsVACAAQeSFATYCACAAQQhqEBIaIAALFQAgAEHAhQE2AgAgAEEIahASGiAACxUAIABBnIUBNgIAIABBCGoQEhogAAsVACAAQfiEATYCACAAQQhqEBIaIAAL5wEBBX8gAEGgBWoQEhogAEGIBWoiASgCCBDUByABELEEIABB/ARqEA4aIABB8ARqEAoaIABB0ARqEAoaIABBsARqEEkCQCAAQaQEaiICKAIIRQ0AIAIoAgQiASgCACIDIAIoAgAoAgQiBDYCBCAEIAM2AgAgAkEANgIIA0AgASACRg0BIAEoAgQhBSABEA0gBSEBDAALAAsgAEGQBGoQSSAAQfgDahASGiAAQeADahASGiAAQcgDahASGiAAQbADahASGiAAQaADaiAAKAKkAxDMBCAAQShqELgHIABBDGoQZxogABAKGgscAQF/IABBEGoiAUHABWoQzQQgARC/BiAAEAoaCy0AIABCADcCACAAQgA3AgggACABKAIQNgIQIAAgASgCBBA7IAAg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ABARNgIIIAIoAggiAUEANgIEIAFBADYCACABQQhqIgFBOGpBAEEkECsaIAEQoAogAigCCCEBIAJBADYCCCACEOgBIARBEGokACABIABBBGo2AgQgASAAKAIEIgI2AgAgAiABNgIEIAAgATYCBCAAIAAoAgxBAWo2AgwgAyAAKAIEQQhqNgIMIABBEGogA0EMahBGIAAoAgAiASAAKAIQNgIQIAEgASgCDEEBajYCDCAAKAIEIQUgA0EQaiQAIAVBCGoLIQAgACgCECIARQRAEBgACyAAIAEgAiAAKAIAKAIYEQQACxUAIAAgASgCACIAKAIcIAAoAhgQUwtbAQR/AkAgACgCCEUNACAAKAIEIgEoAgAiAyAAKAIAKAIEIgI2AgQgAiADNgIAIABBADYCCANAIAAgAUYNASABKAIEIQQgAUEIahDGBhogARANIAQhAQwACwALC+MBAQV/IwBBEGsiAyQAIwBBEGsiBCQAIARBBGoiAkEBNgIEIAJB1AAQETYCCCACKAIIIgFBADYCBCABQQA2AgAgAUEIaiIBQShqQQBBJBArGiABEKwKIAIoAgghASACQQA2AgggAhDoASAEQRBqJAAgASAAQTBqNgIEIAEgACgCMCICNgIAIAIgATYCBCAAIAE2AjAgACAAKAI4QQFqNgI4IAMgACgCMEEIajYCDCAAQTxqIANBDGoQRiAAIAAoAjw2AhwgACAAKAIYQQFqNgIYIAAoAjAhBSADQRBqJAAgBUEIagsvAQF/IABCADcDOCAAIABBMGoiATYCNCAAIAE2AjAgAEFAa0IANwMAIAAQqQogAAuAAQEDfyMAQRBrIgUkACAAIAEoAgQgASwACyIAIABBAEgbIgAgAhCOASIEahCLBSIDKAIAIAMgAywAC0EASBshAyAABEAgAyABKAIAIAEgASwAC0EASBsgABBPCyAAIANqIQAgBARAIAAgAiAEEE8LIAAgBGpBADoAACAFQRBqJAAL8wcCA38BfiMAQYABayIGJAACQAJAIAItADAiBSADRXJFBEAgACAAKQM4QgF9NwM4DAELIAVBA0YNAQsgBkEQaiAAQRxqIAIQfwsCQCAAKAIEIAAoAghGBEAgAaciA0HwAGwiBSAAKAIQaiIHLQAwQQFGBEAgACgCACAHENQDCyAAKAIQIgcgBWohBQJAIAItADBBA0YE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BCAAKQMAVARAAkAgAS0AMEUNACAAIARCAXw3AwggAiABEJACIAAtAChBAUYEQCAAIAIpAwA3AxggACACKQMINwMgDAELIABBGGoiASACKQMANwMAIAEgAikDCDcDCCAAQQE6ACgLIAAgACkDEEIBfDcDEEEAIQMLIAJBEGokACADC+ABAgV/An4CQCAAKAIEIgIgACgCCCIDRwRAA0AgByADIAJrQQZ1rSIIVCEDIAcgCFoNAgJAAkAgASACIAenIgRBBnQiBWoQ4QZBAWsOAgAEAQsgACgCBCAFaiABEOAGDQMLIAAoAhQgACgCECICa0HwAG2tIAdWBEAgASACIARB8ABsahDfBkECRg0DCyAHQgF8IQcgACgCBCECIAAoAgghAwwACwALIAAoAhQhAiAAKAIQIQADQCAAIAJHIQMgACACRg0BIAEgABDfBiEGIABB8ABqIQAgBkECRw0ACwsgAwtAAgF/An5BASECIAApAwggASkDOHwiAyAAKQMAVAR/IAEpAzAhBCAAIAM3AwggACAEIAApAxB8NwMQQQAFQQELCxMAIABBKGoQOBogAEEQahAyIAALyQECBH8BfiMAQZABayIDJAACQCAALQA4DQAgACgCACABIAIQ8QINACADQQA6AIgBIANB8ABqIQQCQCACLQAQQQFGBEAgAyACKAIINgJgIAMgAikCADcDWCACQgA3AgAgAkEANgIIIANBOGogBBBzIQUgACABIANB2ABqIgAgA0EwahDhBCAFEEAgABAKGgwBCyACEOMBKQMAIQcgA0EQaiAEEHMhBiAAIAEgByADQQhqEOAEIAYQQAsgA0HwAGoQQAsgA0GQAWokAAuwAQEDfyAAAn8gACgCBCIEIAAoAghJBEAgACAAKAIEIAEgAiADENsGQZgBajYCBCAEQZgBagwBCyMAQSBrIgUkACAFQQxqIAAgACgCBCAAKAIAa0GYAW1BAWoQ2gYgACgCBCAAKAIAa0GYAW0gAEEIahDZBiIEKAIIIAEgAiADENsGGiAEIAQoAghBmAFqNgIIIAAgBBDYBiAAKAIEIQYgBBDXBiAFQSBqJAAgBgs2AgQLCwAgACAAIAEQsgoLCwAgACAAIAEQrwoLkgICA38BfiMAQaABayIEJAACQCAALQA4DQAgACgCACABIAIQ8QINACAEQQA6AJgBAkACQCAD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IAcoAgQhDwNAIAEgCkcEQCAPIAEpAwA3AwAgDyABKQMINwMIIA9BEGohDyABQRBqIQEMAQsLIAcgDzYCBCAAQQBMDQILIAcoAgQiACEPIAIgACACIAlBBHRqa2oiCSEBA0AgASADTwRAIAcgDzYCBCMAQRBrIg8kACAJIQEDQCABIAJHBEAgAEEQayIDIAFBEGsiCikDADcDACAAQQhrIAFBCGspAwA3AwAgCiEBIAMhAAwBCwsgDyAANgIMIA8gCTYCCCAPKAIMGiAPQRBqJAAFIA8gASkDADcDACAPIAEpAwg3AwggD0EQaiEPIAFBEGohAQwBCwsgESEAIA4hASMAQRBrIgokAANAIAAgAUcEQCACIAApAwA3AwAgAiAAKQMINwMIIAJBEGohAiAAQRBqIQAMAQsLIAogAjYCDCAKIAE2AgggCigCDBogCkEQaiQADAELIAxBDGogByADIAcoAgBrQQR1IAlqEIMBIAIgBygCAGtBBHUgB0EIahBuIgMoAggiACAJQQR0aiEBA0AgACABRwRAIAAgESkDADcDACAAIBEpAwg3AwggEUEQaiERIABBEGohAAwBCwsgAyABNgIIIAcoAgAhASADKAIEIQogAiEAA0AgACABRwRAIApBEGsiCiAAQRBrIgApAwA3AwAgCiAAKQMINwMIDAELCyADIAo2AgQgAygCCCEAIAcoAgQhAQNAIAEgAkcEQCAAIAIpAwA3AwAgACACKQMINwMIIABBEGohACACQRBqIQIMAQsLIAMgADYCCCAHKAIAIQAgByADKAIENgIAIAMgADYCBCAHKAIEIQAgByADKAIINgIEIAMgADYCCCAHKAIIIQAgByADKAIMNgIIIAMgADYCDCADIAMoAgQ2AgAgAxCWAwsgDEEgaiQAIAQoAlAhACAEQQA2AlAgCyAANgIEIAQoAlQhACAEQQA2AlQgCyAANgIIIAQoAlghACAEQQA2AlggCyAANgIMIAtBBGoQDhogC0EQaiQAQQEhAAsgCEGQAWokACAACwsAIAAgACABEOgJCwsAIAAgACABEIYKC6ULAwN/Bn4BfCMAQfACayIEJAAgBEHgAmogAhAaAkAgBC0A6AJFBEAgAEEAOgBwIABBADoAAAwBCyAEQdACaiACEBogBC0A6AJFBEAgAEEAOgBwIABBADoAAAwBCyADIARB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QSBrIgMkACADQQxqIAAgACgCBCAAKAIAa0EFdUEBahCKAyAAKAIEIAAoAgBrQQV1IABBCGoQzAIiAigCCCABEIoCGiACIAIoAghBIGo2AgggACACEPUEIAAoAgQhBCACEPQEIANBIGokACAECxQAIAAgACgCBCABEIoCQSBqNgIEC04BAn8gACgCACECIAAgATYCACACBEAgAgRAIAIoAgghAANAIAAEQCAAKAIAIQMgAEEIahDGAxogABANIAMhAAwBCwsgAhDJAQsgAhANCwsoAAJAIAAtAEhBAUcNACABIABBCGoiABCMB0EBRw0AIAAgARCEBxoLCz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQShrNgIIIAFBIGsQzQEMAQsLIAAoAgAiAARAIAAQDQsLlwEBA38gACgCBCEDIAAoAgAhBCABKAIEIQIDQCADIARHBEAgAkEgayADQSBrEIsCIANBKGshAyACQShrIQIMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALFAAgACABIAIgA0EoQefMmTMQhgQLPQECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBOGsiATYCCCABEOIHGgwBCwsgACgCACIABEAgABANCwu1AQEDfyAAKAIEIQIgACgCACEDIAEoAgQhBANAIAIgA0cEQCAEQThrIgQgAkE4ayICKQMANwMAIAQgAigCCDYCCCACQgA3AwAgAkEANgIIIARBGGogAkEYahCLAgwBCwsgASAENgIEIAAoAgAhAyAAIAQ2AgAgASADNgIEIAAoAgQhAyAAIAEoAgg2AgQgASADNgIIIAAoAgghAyAAIAEoAgw2AgggASADNgIMIAEgASgCBDYCAAsUACAAIAEgAiADQThBpZLJJBCGBAuHCwEMfyMAQdAAayIEJAAgBEHIAGogASACEJ8HAkAgBC0ATEUEQCAAQQA6AAwgAEEDNgIADAELIAQoAkhFBEAgAUHMAGogAhDNAxD0AiEFIwBBEGsiAyQAIARBPGoiAkEANgIIIAJCADcCACAFKAIQIQEjAEEgayIGJAACQAJAIAEgAigCCCACKAIAIgdrQQN1SwRA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BCACKQAINwAIIAAgAkYEQCAAIQIMAQsgAiEEIAMgAkEgayIFECENAQsLIAIgAykDADcAACACIAMpAxg3ABggAiADKQMQNwAQIAIgAykDCDcACCAIQQFqIghBCEcNACAGQSBqIAFGIQcMAwsgBkEgaiECIAYhBQwACwALIAAgAEEgaiABQSBrEMsBCyADQSBqJAAgBwtMACAAIAEgAiADEIUFAkAgBCADECFFDQAgAyAEEFogAyACECFFDQAgAiADEFogAiABECFFDQAgASACEFogASAAECFFDQAgACABEFoLC6kRAQh/IwBBEGsiCiQAA0AgAUHgAGshCCABQUBqIQwgAUEgayEJAkADQAJAAkACQAJAAkAgASAAa0EFdSIFDgYGBgABAgMECyABQSBrIgEgABAhRQ0FIAAgARBaDAULIAAgAEEgaiABQSBrEMsBDAQLIAAgAEEgaiAAQUBrIAFBIGsQhQUMAwsgACAAQSBqIABBQGsgAEHgAGogAUEgaxDXBwwCCyAFQRdMBEAgBEEBcQRAIwBBIGsiBSQAAkAgASIHIABGDQAgACEBA0AgASIDQSBqIgEgB0YNASABIAMQIUUNACAFIAEpABg3AxggBSABKQAQNwMQIAUgASkACDcDCCAFIAEpAAA3AwAgASEEA0ACQCAEIAMiAikAADcAACAEIAIpABg3ABggBCACKQAQNwAQIAQgAikACDcACCAAIAJGBEAgACECDAELIAIhBCAFIAJBIGsiAxAhDQELCyACIAUpAwA3AAAgAiAFKQMYNwAYIAIgBSkDEDcAECACIAUpAwg3AAgMAAsACyAFQSBqJAAMAwsjAEEgayIEJAACQCABIgMgAEYNAANAIAAiAUEgaiIAIANGDQEgACABECFFDQAgBCAAKQAYNwMYIAQgACkAEDcDECAEIAApAAg3AwggBCAAKQAANwMAIAAhAgNAIAIgASkAADcAACACIAEpABg3ABggAiABKQAQNwAQIAIgASkACDcACCAEIAEiAkEgayIBECENAAsgAiAEKQMANwAAIAIgBCkDGDcAGCACIAQpAxA3ABAgAiAEKQMINwAIDAALAAsgBEEgaiQADAILIANFBEAgACABRyICBH8gAgRAAkAgASAAa0EFdSIDQQJIDQAgA0ECa0EBdiECA0AgAkEASA0BIAAgAyAAIAJBBXRqENUHIAJBAWshAgwACwALIAEgAGtBBXUhAyABIQIDQCABIAJHBEAgAiAAECEEQCACIAAQWiAAIAMgABDVBwsgAkEgaiECDAELCyABIABrQQV1IQIDQCACQQFKBEAgASEHQQAhAyMAQSBrIgYkAAJAIAIiBUECSA0AIAYgACkAGDcDGCAGIAApABA3AxAgBiAAKQAINwMIIAYgACkAADcDACAAIQEgAkECa0ECbSEJA0AgA0EBdCIIQQFyIQQgASADQQV0aiIDQSBqIQIgBSAIQQJqIghMBH8gBAUgA0FAayIDIAIgAiADECEiAxshAiAIIAQgAxsLIQMgASACKQAANwAAIAEgAikAGDcAGCABIAIpABA3ABAgASACKQAINwAIIAIhASADIAlMDQALIAdBIGsiAiABRgRAIAEgBikDADcAACABIAYpAxg3ABggASAGKQMQNwAQIAEgBikDCDcACAwBCyABIAIpAAA3AAAgASACKQAYNwAYIAEgAikAEDcAECABIAIpAAg3AAggAiAGKQMANwAAIAIgBikDCDcACCACIAYpAxA3ABAgAiAGKQMYNwAYIwBBIGsiCSQAAkAgAUEgaiIBIAAiA2tBBXUiAkECSA0AIAAgAkECa0EBdiIIQQV0aiIEIAFBIGsiARAhRQ0AIAkgASkAGDcDGCAJIAEpABA3AxAgCSABKQAINwMIIAkgASkAADcDAANAAkAgASAEIgIpAAA3AAAgASACKQAYNwAYIAEgAikAEDcAECABIAIpAAg3AAggCEUNACACIQEgAyAIQQFrQQF2IghBBXRqIgQgCRAhDQELCyACIAkpAwA3AAAgAiAJKQMYNwAYIAIgCSkDEDcAECACIAkpAwg3AAgLIAlBIGokAAsgBkEgaiQAIAVBAWshAiAHQSBrIQEMAQsLC0EABSABCxoMAgsgACAFQQF2QQV0IgZqIQcCQCAFQYEBTwRAIAAgByAJEMsBIABBIGoiBSAHQSBrIgsgDBDLASAAQUBrIAUgBmoiBSAIEMsBIAsgByAFEMsBIAAgBxBaDAELIAcgACAJEMsBCyADQQFrIQMCQCAEQQFxIgsNACAAQSBrIAAQIQ0AQQAhBCMAQSBrIgYkACAGIAApABg3AxggBiAAKQAQNwMQIAYgACkACDcDCCAGIAApAAA3AwACQCAGIAEiBUEgaxAhBEAgACEHA0AgBiAHQSBqIgcQIUUNAAsMAQsgACEHA0AgB0EgaiIHIAVPDQEgBiAHECFFDQALCyAFIAdLBEADQCAGIAVBIGsiBRAhDQALCwNAIAUgB0sEQCAHIAUQWgNAIAYgB0EgaiIHECFFDQALA0AgBiAFQSBrIgUQIQ0ACwwBCwsgACAHQSBrIgVHBEAgACAFKQAANwAAIAAgBSkAGDcAGCAAIAUpABA3ABAgACAFKQAINwAICyAFIAYpAwA3AAAgBSAGKQMYNwAYIAUgBikDEDcAECAFIAYpAwg3AAggBkEgaiQAIAchAAwBCwsgASEFIwBBIGsiCCQAIAggACkAGDcDGCAIIAApABA3AxAgCCAAKQAINwMIIAggACkAADcDACAAIQcDQCAHIgZBIGoiByAIECENAAsCQCAAIAZGBEADQCAFIAdNDQIgBUEgayIFIAgQIUUNAAwCCwALA0AgBUEgayIFIAgQIUUNAAsLIAUhCSAHIQYDQCAGIAlJBEAgBiAJEFoDQCAGQSBqIgYgCBAhDQALA0AgCUEgayIJIAgQIUUNAAsMAQsLIAAgBkEgayIGRwRAIAAgBikAADcAACAAIAYpABg3ABggACAGKQAQNwAQIAAgBikACDcACAsgBiAIKQMANwAAIAYgCCkDGDcAGCAGIAgpAxA3ABAgBiAIKQMINwAIIAogBSAHTToADCAKIAY2AgggCEEgaiQAIAooAgghBQJAIAotAAxBAUcNACAAIAUQ1gchBiAFQSBqIgcgARDWBwRAIAUhASAGRQ0DDAILIAZFDQAgByEADAILIAAgBSACIAMgCxDYByAFQSBqIQBBACEEDAELCyAKQRBqJAALDAAgACABIAIQ3QFFCyoBAX4gASAAKAIEIAAoAgAiAGtBA3WtVAR+IAAgAadBA3RqKQMABUIACwv/AQEDfyAAKAIEIAAoAgAiA2tBA3UiAiABSQRAIwBBIGsiAyQAAkAgASACayICIAAoAgggACgCBCIBa0EDdU0EQCAAKAIEIgEgAkEDdGohAgNAIAEgAkYEQCAAIAI2AgQFIAFCADcDACABQQhqIQEMAQsLDAELIANBDGogACABIAAoAgBrQQN1IAJqEIkDIAAoAgQgACgCAGtBA3UgAEEIahCWAiIEKAIIIgEgAkEDdGohAgNAIAEgAkcEQCABQgA3AwAgAUEIaiEBDAELCyAEIAI2AgggACAEEKYFIAQQlQILIANBIGokAA8LIAEgAkkEQCAAIAMgAUEDdGo2AgQLC5oGAQd/IAIQ2AUhByMAQSBrIggkAAJAIAdBAEwNACAHIAAoAgggACgCBCIGa0EFdUwEQCAIIAIgBxCWCDYCDCAAKAIEIAFrQQV1IgQgB0gEQCAIIAI2AgwgCEEMaiAEEJgFIAgoAgwhBSAAKAIEIQMDQCAFBEAgAyAFKQAINwAAIAMgBSkAIDcAGCADIAUpABg3ABAgAyAFKQAQNwAIIANBIGohAyAFKAIAIQUMAQsLIAAgAzYCBCAEQQBMDQILIAEgACgCBCIEIAEgB0EFdGoiBWsiB2ohCSAEIQMDQCAGIAlNBEAgACADNgIEIAQgBUcEQCAEIAdrIAEgBxBPCwUgAyAJKQAANwAAIAMgCSkAGDcAGCADIAkpABA3ABAgAyAJKQAINwAIIANBIGohAyAJQSBqIQkMAQsLIAgoAgwhACMAQRBrIgYkAANAIAAgAkcEQCABIAIpAAg3AAAgASACKQAgNwAYIAEgAikAGDcAECABIAIpABA3AAggAUEgaiEBIAIoAgAhAgwBCwsgBiABNgIMIAYgADYCCCAGKAIMGiAGQRBqJAAMAQsgAiEEIAhBDGogACAGIAAoAgBrQQV1IAdqEIoDIAEgACgCAGtBBXUgAEEIahDMAiICKAIIIgMgB0EFdGohBgNAIAMgBkcEQCADIAQpAAg3AAAgAyAEKQAgNwAYIAMgBCkAGDcAECADIAQpABA3AAggA0EgaiEDIAQoAgAhBAwBCwsgAiAGNgIIIAAoAgAhBiABIQQgAigCBCEFA0AgBCAGRwRAIAVBIGsiBSAEQSBrIgQpAAA3AAAgBSAEKQAYNwAYIAUgBCkAEDcAECAFIAQpAAg3AAgMAQsLIAIgBTYCBCAAKAIEIgYgAWshAyACKAIIIQQgASAGRwRAIAQgASADEE8gAigCBCEFCyACIAMgBGo2AgggACgCACEBIAAgBTYCACACIAE2AgQgACgCBCEBIAAgAigCCDYCBCACIAE2AgggACgCCCEBIAAgAigCDDYCCCACIAE2AgwgAiACKAIENgIAIAIQrwULIAhBIGokAAsZACAALQAUQQFGBEAgABDvASAAQQA6ABQLCykBAX8gACgCBCECA0AgASACRkUEQCACQRhrIgIQMgwBCwsgACABNgIECwwAIAAgACgCABDeBwslACAAKAIQIgBFBEAQGAALIAAgASACIAMgBCAAKAIAKAIYEQoACzEBAX8DQCABBEAgAiABIAFBEGogABAdIgMbIQIgAUEEQQAgAxtqKAIAIQEMAQsLIAILDgAgAEEYahDNASAAEAoLYwEDfyMAQRBrIgEkACABIAA2AgwgASgCDCIAKAIABEAgACgCACEDIAAoAgQhAgNAIAIgA0cEQCACQSBrEM0BIAJBKGshAgwBCwsgACADNgIEIAEoAgwoAgAQDQsgAUEQaiQAC14BA38jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAoAgAhAyAAKAIEIQIDQCACIANHBEAgAkE4axDiByECDAELCyAAIAM2AgQgASgCDCgCABANCyABQRBqJAALFQAgAEEBNgIEIABBARClBTYCCCAACwoAIAAoAgAQhgULLQECfyAAKAIIIgEgACgCBCICa0EDdEEBa0EAIAEgAkcbIAAoAhQgACgCEGprCwoAIAAQ5wdBBXYLvwEBBn8jAEEgayIDJAAgACgCCCAAKAIEayIBIAAoAgwgACgCAGtJBEAgA0EMaiABQQJ1QQAgAEEMahDCASIBIAAoAgQgACgCCBD2AiABKAIEIQIgACgCACEGIAAgASgCADYCACAAKAIIIQQgACgCBCEFIAEgBjYCACAAIAI2AgQgASAFNgIEIAAgAiAEIAVrajYCCCABIAQ2AgggACgCDCECIAAgASgCDDYCDCABIAI2AgwgARCXAQsgA0EgaiQAC0ABAX8gACgCECICQcAASSACQSBJIAFycUUEQCAAKAIEKAIAEA0gACAAKAIEQQRqNgIEIAAgACgCEEEgazYCEAsLDwAgACAAKAIIQQRrEJgJCxcAIABByOPxOE8EQBAYAAsgAEEkbBARCz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQSRrIgE2AgggARC8ARoMAQsLIAAoAgAiAARAIAAQDQsLjQEBA38gACgCBCEDIAAoAgAhBCABKAIEIQIDQCADIARHBEAgAkEkayADQSRrIgMQ+QIhAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAA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BSADIAFBOGogBBtqNgL4ASACQegBaiACQfgBahAaAkAgAi0A8AFFBEAgAEEAOgCAASAAQQA6AAAMAQsgAkEANgLkASACQgA3AtwBIAJB3AFqIAIoAugBEJQDAkACQANAIAYgAikD6AFaDQEgAigC/AEiBEEgTwRAIAIgAigC+AEiAykACDcDECACIAMpABA3AxggAiADKQAYNwMgIAIgAykAADcDCCACIARBIGs2AvwBIAJBAToAKCACIANBIGo2AvgBIAZCAXwhBiACQdwBaiACQQhqEIEBDAELCyAAQQA6AIABIABBADoAAAwBCyACQcwBaiACQfgBahB0AkAgAi0A2AFFBEAgAEEAOgCAASAAQQA6AAAMAQsgAkG4AWogAkH4AWoQGiACLQDAAUUEQCAAQQA6AIABIABBADoAAAwBCyACQagBaiACQfgBahAaIAItALABRQRAIABBADoAgAEgAEEAOgAADAELIAJBmAFqIAJB+AFqEKwBIAItAKABRQRAIABBADoAgAEgAEEAOgAADAELIAJBiAFqIAJB+AFqEBoCQCACLQCQAUEBRgRAIAIpA4gBIgYgAigC/AEiA61YDQELIABBADoAgAEgAEEAOgAADAELIAIgBqciBCACKAL4AWo2AvgBIAIgAyAEayIENgL8ASABKAI8IQUgASwAQyEDIAIgASgCQDYCECACIAEpAzg3AwggAUIANwM4IAFBADYCQCACQRhqIAFBOBAkGiACIAIoAtwBNgJQIAIpAuABIQYgAkEANgLkASACIAY3AlQgAkIANwLcASACQdwAaiACQcwBahAUGiACIAUgAyADQQBIGyAEa603A4ABIAIgAikDuAE3A2ggAiACKQOoATcDcCACIAIpA5gBNwN4IAAgAkEIaiIAEFxBAToAgAEgABBNGgsgAkHMAWoQQRoLIAJB3AFqEA4aCyACQYACaiQACxUAIABB0LYCNgIAIABBEGoQChogAAsVACAAQai2AjYCACAAQQxqEAoaIAALngUDCX8CfQF+IwBBEGsiCSQAIwBBEGsiBSQAIAIpAwAQowMhBiAJAn8CQCABKAIEIgNFDQAgASgCAAJ/IANBAWsgBnEgA2kiBEEBTQ0AGiAGIAMgBksNABogBiADcAsiCEECdGooAgAiB0UNACADQQFrIQogAikDACEOIARBAUshCwNA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QgA3AgAgAEEANgIIIAALEgAgAgRAIAAgASACQQJ0EE8LC0UBAX8jAEEQayIEJAAgBCACNgIMIAMgASACIAFrIgFBAnUQzQkgBCABIANqNgIIIAAgBEEMaiAEQQhqEJwBIARBEGokAAsPACACBEAgACABIAIQTwsLQgEBfyMAQRBrIgQkACAEIAI2AgwgAyABIAIgAWsiARDPCSAEIAEgA2o2AgggACAEQQxqIARBCGoQnAEgBEEQaiQACwkAIAAQ8gEQDQsOAEEAIAAgAEF/EIICGwurAQEDfwJAIAEgAhDICSEEIwBBEGsiAyQAIARB9////wdNBEACQCAEEJoDBEAgACAEEHcgACEFDAELIANBCGogBBChAkEBahD+ASADKAIMGiAAIAMoAggiBRCMASAAIAMoAgwQiwEgACAEEF4LA0AgASACRwRAIAUgARB2IAVBAWohBSABQQFqIQEMAQsLIANBADoAByAFIANBB2oQdiADQRBqJAAMAQsQVAALC3IBAX8jAEEQayIDJAACQCAALQAQQQFGBEAgASACKQMANwMAIAEgAikDCDcDCAwBCyADIAI2AgwgAyAANgIIIAMoAgwhASADKAIIIgAQugEgACABKQMINwMIIAAgASkDADcDACAAQQE6ABALIANBEGokAAsPACAAIAAoAhggAWo2AhgLFwAgACACNgIcIAAgATYCFCAAIAE2AhgLMAAgABC6ASAAIAEoAgg2AgggACABKQIANwIAIAFCADcCACABQQA2AgggAEEAOgAQC1cBAn8CQCAAKAIAIgJFDQACfyACKAIYIgMgAigCHEYEQCACIAEgAigCACgCNBEDAAwBCyACIANBBGo2AhggAyABNgIAIAELQX8QggJFDQAgAEEANgIACwsxAQF/IAAoAgwiASAAKAIQRgRAIAAgACgCACgCKBEBAA8LIAAgAUEEajYCDCABKAIACycBAX8gACgCDCIBIAAoAhBGBEAgACAAKAIAKAIkEQEADwsgASgCAAsnAQF/AkAgACgCACICRQ0AIAIgARDfCUF/EIICRQ0AIABBADYCAAsLQwEBfyMAQRBrIgMkAAJAIAAtABBFBEAgASACEBkMAQsgAyACNgIMIAMgADYCCCADKAIIIAMoAgwQ1wkLIANBEGokAAsOACAAKAIAIAEgAhDUCQsJACAAENsFEA0L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AEIZiKchAgJAIAMpAwAgBSAIRyADKQMQIAMpAxiEQgBSca2EIglQIABC////D4MiAEKAgIAIVCAAQoCAgAhRG0UEQCACQQFqIQIMAQsgCSAAQoCAgAiFhEIAUg0AIAJBAXEgAmohAgsgAkGAgIAEcyACIAJB////A0siBBshAgsgA0EgaiQAIAFCIIinQYCAgIB4cSAEQRd0ciACcr4LRQEBfyMAQRBrIgMkAAJAIAAtABBBBEYEQCABIAIQGQwBCyADIAI2AgwgAyAANgIIIAMoAgggAygCDBDtCQsgA0EQaiQAC6oPAgV/D34jAEHQAmsiBSQAIARC////////P4MhCiACQv///////z+DIQsgAiAEhUKAgICAgICAgIB/gyEMIARCMIinQf//AXEhCAJAAkAgAkIwiKdB//8BcSIJQf//AWtBgoB+TwRAIAhB//8Ba0GBgH5LDQELIAFQIAJC////////////AIMiDUKAgICAgIDA//8AVCANQoCAgICAgMD//wBRG0UEQCACQoCAgICAgCCEIQwMAgsgA1AgBEL///////////8AgyICQoCAgICAgMD//wBUIAJCgICAgICAwP//AFEbRQRAIARCgICAgICAIIQhDCADIQEMAgsgASANQoCAgICAgMD//wCFhFAEQCADIAJCgICAgICAwP//AIWEUARAQgAhAUKAgICAgIDg//8AIQwMAwsgDEKAgICAgIDA//8AhCEMQgAhAQwCCyADIAJCgICAgICAwP//AIWEUARAQgAhAQwCCyABIA2EUARAQoCAgICAgOD//wAgDCACIAOEUBshDEIAIQEMAgsgAiADhFAEQCAMQoCAgICAgMD//wCEIQxCACEBDAILIA1C////////P1gEQCAFQcACaiABIAsgASALIAtQIgYbeSAGQQZ0rXynIgZBD2sQYkEQIAZrIQYgBSkDyAIhCyAFKQPAAiEBCyACQv///////z9WDQAgBUGwAmogAyAKIAMgCiAKUCIHG3kgB0EGdK18pyIHQQ9rEGIgBiAHakEQayEGIAUpA7gCIQogBSkDsAIhAwsgBUGgAmogCkKAgICAgIDAAIQiEkIPhiADQjGIhCICQgBCgICAgLDmvIL1ACACfSIEQgAQWCAFQZACakIAIAUpA6gCfUIAIARCABBYIAVBgAJqIAUpA5gCQgGGIAUpA5ACQj+IhCIEQgAgAkIAEFggBUHwAWogBEIAQgAgBSkDiAJ9QgAQWCAFQeABaiAFKQP4AUIBhiAFKQPwAUI/iIQiBEIAIAJCABBYIAVB0AFqIARCAEIAIAUpA+gBfUIAEFggBUHAAWogBSkD2AFCAYYgBSkD0AFCP4iEIgRCACACQgAQWCAFQbABaiAEQgBCACAFKQPIAX1CABBYIAVBoAFqIAJCACAFKQO4AUIBhiAFKQOwAUI/iIRCAX0iAkIAEFggBUGQAWogA0IPhkIAIAJCABBYIAVB8ABqIAJCAEIAIAUpA6gBIAUpA6ABIg0gBSkDmAF8IgQgDVStfCAEQgFWrXx9QgAQWCAFQYABakIBIAR9QgAgAkIAEFggBiAJIAhraiEGAn8gBSkDcCITQgGGIg4gBSkDiAEiD0IBhiAFKQOAAUI/iIR8IhBC5+wAfSIUQiCIIgIgC0KAgICAgIDAAIQiFUIBhiIWQiCIIgR+IhEgAUIBhiINQiCIIgogECAUVq0gDiAQVq0gBSkDeEIBhiATQj+IhCAPQj+IfHx8QgF9IhNCIIgiEH58Ig4gEVStIA4gDiATQv////8PgyITIAFCP4giFyALQgGGhEL/////D4MiC358Ig5WrXwgBCAQfnwgBCATfiIRIAsgEH58Ig8gEVStQiCGIA9CIIiEfCAOIA4gD0IghnwiDlatfCAOIA4gFEL/////D4MiFCALfiIRIAIgCn58Ig8gEVStIA8gDyATIA1C/v///w+DIhF+fCIPVq18fCIOVq18IA4gBCAUfiIYIBAgEX58IgQgAiALfnwiCyAKIBN+fCIQQiCIIAsgEFatIAQgGFStIAQgC1atfHxCIIaEfCIEIA5UrXwgBCAPIAIgEX4iAiAKIBR+fCIKQiCIIAIgClatQiCGhHwiAiAPVK0gAiAQQiCGfCACVK18fCICIARUrXwiBEL/////////AFgEQCAWIBeEIRUgBUHQAGogAiAEIAMgEhBYIAFCMYYgBSkDWH0gBSkDUCIBQgBSrX0hCkIAIAF9IQsgBkH+/wBqDAELIAVB4ABqIARCP4YgAkIBiIQiAiAEQgGIIgQgAyASEFggAUIwhiAFKQNofSAFKQNgIg1CAFKtfSEKQgAgDX0hCyABIQ0gBkH//wBqCyIGQf//AU4EQCAMQoCAgICAgMD//wCEIQxCACEBDAELAn4gBkEASgRAIApCAYYgC0I/iIQhASAEQv///////z+DIAatQjCGhCEKIAtCAYYMAQsgBkGPf0wEQEIAIQEMAgsgBUFAayACIARBASAGaxCqAiAFQTBqIA0gFSAGQfAAahBiIAVBIGogAyASIAUpA0AiAiAFKQNIIgoQWCAFKQM4IAUpAyhCAYYgBSkDICIBQj+IhH0gBSkDMCIEIAFCAYYiDVStfSEBIAQgDX0LIQQgBUEQaiADIBJCA0IAEFggBSADIBJCBUIAEFggCiACIAIgAyAEIAJCAYMiBHwiA1QgASADIARUrXwiASASViABIBJRG618IgJWrXwiBCACIAIgBEKAgICAgIDA//8AVCADIAUpAxBWIAEgBSkDGCIEViABIARRG3GtfCICVq18IgQgAiAEQoCAgICAgMD//wBUIAMgBSkDAFYgASAFKQMIIgNWIAEgA1Ebca18IgEgAlStfCAMhCEMCyAAIAE3AwAgACAMNwMIIAVB0AJqJAALwAECAX8CfkF/IQMCQCAAQgBSIAFC////////////AIMiBEKAgICAgIDA//8AViAEQoCAgICAgMD//wBRGw0AIAJC////////////AIMiBUKAgICAgIDA//8AViAFQoCAgICAgMD//wBScQ0AIAAgBCAFhIRQBEBBAA8LIAEgAoNCAFkEQCABIAJSIAEgAlNxDQEgACABIAKFhEIAUg8LIABCAFIgASACVSABIAJRGw0AIAAgASAChYRCAFIhAwsgAwthAQJ/IwBBEGsiAyQAAkAgAC0AEEEDRgRAIAEgAi0AADoAAAwBCyADIAI2AgwgAyAANgIIIAMoAgwhBCADKAIIIgAQNiAELQAAIQEgAEEDOgAQIAAgAToAAAsgA0EQaiQAC2wBBX8gASAAKAIEIAAoAgAgASgCBBCHCSICNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsSACAARQRAQQAPCyAAIAEQ4wULKQAgASABKAIAQQdqQXhxIgFBEGo2AgAgACABKQMAIAEpAwgQ4QU5AwALohgDE38BfAJ+IwBBsARrIgwkACAMQQA2AiwCQCABvSIaQgBTBEBBASEPQeoL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DAULIAlCAYYgBEI/iIQMAQsgCkIBhiAEQj+IhAshCiAEQgGGIQQgBkEBayIGIAdKDQALIAchBgsCQCAKIAt9IAMgBFatfSIJQgBTBEAgCiEJDAELIAkgBCADfSIEhEIAUg0AIAVBMGogASACQgBCABAvIAUpAzghAiAFKQMwIQQMAQsgCUL///////8/WARAA0AgBEI/iCEMIAZBAWshBiAEQgGGIQQgDCAJQgGGhCIJQoCAgICAgMAAVA0ACwsgCEGAgAJxIQcgBkEATARAIAVBQGsgBCAJQv///////z+DIAZB+ABqIAdyrUIwhoRCAEKAgICAgIDAwz8QLyAFKQNIIQIgBSkDQCEEDAELIAlC////////P4MgBiAHcq1CMIaEIQILIAAgBDcDACAAIAI3AwggBUGAAWokAAu/AgEBfyMAQdAAayIEJAACQCADQYCAAU4EQCAEQSBqIAEgAkIAQoCAgICAgID//wAQLyAEKQMoIQIgBCkDICEBIANB//8BSQRAIANB//8AayEDDAILIARBEGogASACQgBCgICAgICAgP//ABAvQf3/AiADIANB/f8CTxtB/v8BayEDIAQpAxghAiAEKQMQIQEMAQsgA0GBgH9KDQAgBEFAayABIAJCAEKAgICAgICAORAvIAQpA0ghAiAEKQNAIQEgA0H0gH5LBEAgA0GN/wBqIQMMAQsgBEEwaiABIAJCAEKAgICAgICAORAvQeiBfSADIANB6IF9TRtBmv4BaiEDIAQpAzghAiAEKQMwIQELIAQgASACQgAgA0H//wBqrUIwhhAvIAAgBCkDCDcDCCAAIAQpAwA3AwAgBEHQAGokAAs8ACAAIAE3AwAgACACQv///////z+DIAJCgICAgICAwP//AINCMIinIANCMIinQYCAAnFyrUIwhoQ3AwgLYQICfwF+IwBBEGsiAyQAAkAgAC0AEEUEQCABIAIpAwA3AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDYgBCkDACEFIABBADoAECAAIAU3AwALIANBEGokAAt8AQJ/IAAgACgCSCIBQQFrIAFyNgJIIAAoAhQgACgCHEcEQCAAQQBBACAAKAIkEQUAGgsgAEEANgIcIABCADcDECAAKAIAIgFBBHEEQCAAIAFBIHI2AgBBfw8LIAAgACgCLCAAKAIwaiICNgIIIAAgAjYCBCABQRt0QR91CwwAIAAoAgAgAhDmCQsTACAAQQAgAUGQ5wIoAgARBQAaC4QFAQt/IAEoAgAiBCgCHCELA0ACQCAEKAIYIApNBEBBAQ8LAkACQAJAAkAgCyAKQTBsaiIDKAIIQQFrDgMBAAECCyAAIAMoAhAiBmoiBCgCACIIRQ0BIAEgAygCFCIFaiEHIAAgBWohBQJAIAEgBmoiBigCAARAIAMoAgwQrAIhAyACKAIIIAMgBigCACAEKAIAamwgAigCABEDACIIRQ0EIAggBSgCACAEKAIAIANsECQiCCAEKAIAIANsaiAHKAIAIAYoAgAgA2wQJBogBygCACIDBEAgAigCCCADIAIoAgQRAAALIAUoAgAiAwRAIAIoAgggAyACKAIEEQAACyAHIAg2AgAgBiAGKAIAIAQoAgBqNgIADAELIAYgCDYCACAHIAUoAgA2AgALIARBADYCACAFQQA2AgAMAQsgASADKAIQIgZqIQggACAGaiEGIAMtACBBBHEEQCAIKAIADQEgBCgCJCAEKAIoIAYoAgAQ6QUiA0EASA0DIAQoAhwgA0EwbGohAwsgASADKAIUIgRqIQcgACAEaiEEIAMoAhwhBQJAAkACQAJAAkACQCADKAIMIgxBDmsOAwIBAAMLIAQoAgAiBUUNBSAHKAIAIglFDQQgBSAJIAIQkApFDQYMBQsgBCgCBCINRQ0EIAcoAgQhCSAFRQ0CIA0gBSgCBCIFRg0EIAlFIAUgCUZyDQMMBAsgBCgCACAFRg0DIAcoAgAgBUYNAgwDCyAGKAIARQ0CIAgoAgANAgwBCyAJDQELIAcgBCAMEKwCIgcQJBogBEEAIAcQKxogAygCEEUNACAIIAYoAgA2AgAgBkEANgIACyAKQQFqIQogASgCACEEDAILCwtBAAsuAQN/A0AgACACRgRAQQAPCyABIAJqIQQgAkEBaiECIAQtAABB/wBxRQ0AC0EBCw4AIAAoAgAgASACEOgJC5cFAQJ/IwBBIGsiAyQAIAAoAgQgAxDqBSEEAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgACgCDA4RAAsEAwIFAQQDBQQFBgAHCAkKCyACIAEoAgAgAyAEahCWCiAEaiIAIAMgAigCABEEAAwLCyACIAEoAgAgAyAEahDHASAEaiIAIAMgAigCABEEAAwKCyACIAEpAwAgAyAEahCUCiAEaiIAIAMgAigCABEEAAwJCyACIAEpAwAgAyAEahCtBCAEaiIAIAMgAigCABEEAAwICyADIAMtAABBBXI6AAAgAyAEaiABKAIANgAAIAIgBEEEaiIAIAMgAigCABEEAAwHCyADIAMtAABBAXI6AAAgAyAEaiABKQMANwAAIAIgBEEIaiIAIAMgAigCABEEAAwGCyADIARqIAEoAgBBAEc6AAAgAiAEQQFqIgAgAyACKAIAEQQADAULIAEoAgAiAQR/IAEQjgEFQQALIQAgAyADLQAAQQJyOgAAIAIgACADIARqEMcBIARqIgQgAyACKAIAEQQAIAIgACABIAIoAgARBAAgACAEaiEADAQLIAEoAgAhACADIAMtAABBAnI6AAAgAiAAIAMgBGoQxwEgBGoiBCADIAIoAgARBAAgAiAAIAEoAgQgAigCABEEACAAIARqIQAMAwsgASgCACEAIAMgAy0AAEECcjoAACAARQRAIAMgBGpBADoAACACIARBAWoiACADIAIoAgARBAAMAwsgAiAAEGkiASADIARqEMcBIARqIgQgAyACKAIAEQQAIAAgAhB8IAEgBGohAAwCC0GE8wBBytcAQekMQdgtEAAACyACIAEoAgAgAyAEahCVCiAEaiIAIAMgAigCABEEAAsgA0EgaiQAIAALEgAgAEIBhiAAQj+HhSABEK0ECxIAIABBAXQgAEEfdXMgARDHAQthACAAQQBIBEAgAUEBOgAJIAFBfzYABSABIABBHHU6AAQgASAAQYABcjoAACABIABBFXZBgAFyOgADIAEgAEEOdkGAAXI6AAIgASAAQQd2QYABcjoAAUEKDwsgACABEMcBC4UBAQF/QQEhAgJAAkACQAJAAkACQAJAAkAgACgCDA4RAQEBAgICAQECAgMEAAEFBgYHCyABKAIARQ8LIAEoAgBFDwsgASkDAFAPCyABKgIAQwAAAABbDwsgASsDAEQAAAAAAAAAAGEPCyABKAIAIgBFDQEgAC0AAEUPCyABKAIARSECCyACCw4AIAAoAgAgASACEPoJCyYAIABByOEBKQMANwMQIABBwOEBKQMANwMIIABBuOEBKQMANwMACyYAIABB9OABKAIANgIQIABB7OABKQIANwIIIABB5OABKQIANwIACzIAIABBpOABKAIANgIYIABBnOABKQIANwIQIABBlOABKQIANwIIIABBjOABKQIANwIACw4AIAAoAgAgASACEP8JCzIAIABB2NwBKQMANwMYIABB0NwBKQMANwMQIABByNwBKQMANwMIIABBwNwBKQMANwMACw4AIABByNoBQcAAECQaCyYAIABBhNoBKAIANgIQIABB/NkBKQIANwIIIABB9NkBKQIANwIACw0AIABBgNkBQTgQJBoLJgAgAEHswAEoAgA2AhAgAEHkwAEpAgA3AgggAEHcwAEpAgA3AgALDQAgAEH4vwFBKBAkGgsOACAAKAIAIAEgAhCGCgsNACAAQdC8AUEwECQaCw0AIABBjLsBQTQQJBoLJgAgAEH8uQEoAgA2AhAgAEH0uQEpAgA3AgggAEHsuQEpAgA3AgALJgAgAEHcuAEoAgA2AhAgAEHUuAEpAgA3AgggAEHMuAEpAgA3AgALDgAgACgCACABIAIQjAoLDQAgAEHYlwFBMBAkGgsaACAAQcyWASkCADcCCCAAQcSWASkCADcCAAsOACAAQZiUAUHgABAkGgsNACAAQbSTAUEoECQaCw0AIABB/JABQSgQJBoLEQAgABBAIAAgARB9QQI6ABgLRgEBfyMAQRBrIgMkAAJAIAAtABhBAkYEQCABIAIQ7wUMAQsgAyACNgIMIAMgADYCCCADKAIIIAMoAgwQrgoLIANBEGokAAsaACAAIAEoAgA2AgAgAEEIaiABQQhqEO0CGgsVACAAQfiNATYCACAAQRBqEBIaIAALYQECfyMAQRBrIgMkAAJAIAAtABhBAUYEQCABIAIoAgA2AgAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEEAgBCgCACEBIABBAToAGCAAIAE2AgALIANBEGokAAtqAgJ/AX4gACgCACEDIwBBEGsiACQAAkAgAy0AGEEDRgRAIAEgAikDADcDAAwBCyAAIAI2AgwgACADNgIIIAAoAgwhBCAAKAIIIgEQQCAEKQMAIQUgAUEDOgAYIAEgBTcDAAsgAEEQaiQACxUAIAAgASgCACIAKAIYIAAoAhQQUwuxAwEMfyABKAIEIQgjAEGQAWsiASQAIAhB6ANqIQsgAUEEaiEKAkADQCACKAIEIgMoAkAgBkwEQCAJBEAgACAIQQAQvwQMAwsFIAEgBkECdCIEIAMoAkRqKAIANgKMASABIAFBjAFqIgMQtAogASwACyEFIAEoAgQhByABEAoaAkAgByAFIAVBAEgbRQ0AIAEgAigCBCgCRCAEaigCADYCjAEgASADENkEIAEsAAshBSABKAIEIQwgARAKGiAMIAUgBUEASBtFDQAgASACKAIEKAJEIARqKAIANgKMASABIAMQ2QQgCyABEJUBIQMgARAKGiADRQ0AQQEQFgRAIAoQFSENIAFBATYCACANIANBCGoQEEG8/AAQCyACKAIEKAJEIARqKAIAKAIUEJ0DIAEQFwsgASACKAIEKAJEIARqKAIANgKMASABIAFBjAFqELQKIANB2AVqIAEQjgUhBCABEAoaIARFBEBBASEJDAELQQMQFkUNACAKEBUhDiABQQM2AgAgDkGR/gAQCyAEEJ0DIAEQFwsgBkEBaiEGDAELCyAAQcX/ABAPGgsgAUGQAWokAAsOACAAKAIAIAEgAhCyCgs/ACAAKAIAIQEjAEEQayIAJAAgAS0AGARAIAAgAjYCDCAAIAE2AgggACgCCCIBEEAgAUEAOgAYCyAAQRBqJAALPAECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBGGsiATYCCCABEGcaDAELCyAAKAIAIgAEQCAAEA0LC9wBAQV/IAAoAgQhAiAAKAIAIQYgASgCBCEEA0AgAiAGRwRAIARBGGsiAyACQRhrIgUpAgA3AgAgAyAFKAIINgIIIAVCADcCACAFQQA2AgggBEEMayIEIAJBDGsiAigCCDYCCCAEIAIpAgA3AgAgAkIANwIAIAJBADYCCCADIQQgBSECDAELCyABIAQ2AgQgACgCACEDIAAgBDYCACABIAM2AgQgACgCBCEDIAAgASgCCDYCBCABIAM2AgggACgCCCEDIAAgASgCDDYCCCABIAM2AgwgASABKAIENgIAC10BA38jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAoAgAhAyAAKAIEIQIDQCACIANHBEAgAkEYaxBnIQIMAQsLIAAgAzYCBCABKAIMKAIAEA0LIAFBEGokAAsMACAAIAAoAgAQgAQLFQAgACgCBCAALAALIgAgAEEASButCxIAIAAoAgAgACAALAALQQBIGwsQACAABEAgABAKGgsgABANC8cKAhN/An0jAEEgayIMJAAgDCACNgIQ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AgQiAkEBazYCBCACRQRAIAEgASgCACgCCBECAAJAIAFBCGoiAigCAARAIAIQxQVBf0cNAQsgASABKAIAKAIQEQIACwsLIABBIGoQChogAEEUahAKGiAAEAoaCyAAEA0LkgkBC38jAEEwayIGJAAgBkEANgIsIAZCADcCJCAGQSRqIAIQywIDfyACIAhGBH9BkA0QESEMIAZBGGogABAPIQQgBkEIaiAGQSRqIgsQqQEhCSMAQbABayIDJAAgA0GkAWogBBAUIQcCQCAJLQAMQQFGBEAgA0GYAWoiBUEANgIIIAVCADcCACAJKAIEIgIgCSgCACIBa0EMbSIABEAgAEHWqtWqAU8EQBABAAsgBSAAEKYIIgg2AgQgBSAINgIAIAUgCCAAQQxsajYCCCACIQAgBSgCBCECA0AgACABRwRAIAIgARAUQQxqIQIgAUEMaiEBDAELCyAFIAI2AgQLDAELIANBADYCoAEgA0IANwKYAQsjAEEQayICJAAgDEEPIAJBBGpBxf8AEA8iARD0BSEAIAEQChogAEEBOgCEAyAAQYgDaiAHEBkgAEHIA2ogA0GYAWoiARCPCCACQRBqJAAgARBMIAcQChogAEIANwPwAyAAQgA3A+gDIABCADcDgAQgAEGAgID8AzYC+AMgAEIANwOQBCAAQqwCNwOIBCAAIABBgARqNgL8AyAAQZgEaiAEEBQhASAAQgA3ArQEIAAgAEGsBGo2AqgEIABCADcCrAQgAEIANwK8BCAAQgA3A8gEIABBgICA/AM2AsQEIABCADcD0AQgAEGAgID8AzYC2AQgA0GMAWogARAUIQIgA0IANwOAASADQgA3A3ggA0IANwNwIABB4ARqIAIgA0HwAGoiARC9AyEFIAEQZxogAhAKGiAAQgA3AswMIABBADoAyAwgAEEAOgDADCAAQQA6AKAKIABB1AxqQgA3AgAgAEEANgKIDSAAQQA2AvAMIABBgICA/AM2AtwMIAMgADYCXCADQeiMATYCWCADIANB2ABqIgE2AmggAEGYA2ogARCQASABEBIaIAMgADYCRCADQYyNATYCQCADIANBQGsiATYCUCAAQbADaiABEJABIAEQEhogAyAANgIsIANBsI0BNgIoIAMgA0EoaiIBNgI4IABBiAFqIAEQkAEgARASGiADIAA2AhQgA0HUjQE2AhAgAyADQRBqIgE2AiAgAEGYAmogARCQASABEBIaIAAgCS0ADCIBOgDIDCABQQFGBEAgAyAFNgIMIABBoApqIANBDGoQ8wUgBUEBOgCIAyAFQaQDaiEBIAUoAqADIQIDQCABIAJGBEAgBUEBOgCsAwUgAkEBOgCAAyACEJQBIQIMAQsLIABBsApqEPYDCyADQbABaiQAIAktAAxBAUYEQCAJEEwLIAQQChogCxBMIAZBMGokACAABSABIAhBAnRqIQogBkEkaiIEAn8gBCgCBCIFIAQoAghJBEAgBCAEKAIEIAooAgAQD0EMajYCBCAFQQxqDAELIwBBIGsiCyQAIAtBDGogBCAEKAIEIAQoAgBrQQxtQQFqEMcCIAQoAgQgBCgCAGtBDG0gBEEIahCYAiIHKAIIIAooAgAQDxogByAHKAIIQQxqNgIIIAQgBxCDBCAEKAIEIQ0gBxCPAyALQSBqJAAgDQs2AgQgCEEBaiEIDAELCwvKBAEFfyMAQRBrIgMkAEGQDRARIQYgA0EEaiABEA8hBCMAQaABayIBJAAgBiAAIAQQ9AUiAEIANwPoAyAAQgA3A4AEIABBgICA/AM2AvgDIABCADcCrAQgAEGsAjYCiAQgAEIANwKMBCAAQgA3ArQEIABCADcDyAQgAEGAgID8AzYCxAQgAEGAgID8AzYC2AQgAEIANwPwAyAAIABBgARqNgL8AyAAQgA3ApQEIABCADcCnAQgACAAQawEajYCqAQgAEIANwK8BCAAQgA3A9AEIAFBlAFqIABBmARqEBQhAiABQgA3A4gBIAFCADcDgAEgAUIANwN4IABB4ARqIAIgAUH4AGoiBRC9AxogBRBnGiACEAoaIABCADcCzAwgAEEAOgDIDCAAQQA6AMAMIABBADoAoAogAEHUDGpCADcCACAAQQA2AogNIABBADYC8AwgAEGAgID8AzYC3AwgASAANgJkIAFBtIsBNgJgIAEgAUHgAGoiAjYCcCAAQbACaiACEJABIAIQEhogASAANgJMIAFB2IsBNgJIIAEgAUHIAGoiAjYCWCAAQegBaiACEJABIAIQEhogASAANgI0IAFB/IsBNgIwIAEgAUEwaiICNgJAIABByAJqIAIQkAEgAhASGiABIAA2AhwgAUGgjAE2AhggASABQRhqIgI2AiggAEGIAWogAhCQASACEBIaIAEgADYCBCABQcSMATYCACABIAE2AhAgAEGYAmogARCQASABEBIaIAFBoAFqJAAgBBAKGiADQRBqJAAgAAufAgECfyMAQdAAayIFJAAgBSABKAIINgJIIAUgASkCADcDQCABQgA3AgAgAUEANgIIIAUgAigCADYCNCAFIAIoAgQ2AjggBSACKAIINgI8IAJBADYCCCACQgA3AgAgAygCACEGIAVBEGoiAUH/AToAGCABQQA6AAAjAEEQayICJAAgARBbIARBCGoiBC0AGCIDQf8BRwRAIAJBuIoBKQMANwMIIAJBB2ogASAEIAJBCGogA0ECdGooAgARBAAgASADOgAYCyACQRBqJAAgBSgCQCAFQUBrIgIgBSwASyIDQQBIIgQbIAUoAkQgAyAEG60gBUE0aiIDIAYgBUEIaiAAKAIIIAAoAgQRRAAgARBbIAMQayACEAoaIAVB0ABqJAALFQAgAUGcigE2AgAgASAAKQIENwIECwsAIABBnIoBEKoBCxUAIAFB+IkBNgIAIAEgACkCBDcCBAsLACAAQfiJARCqAQsHACABEPYFC2sBAX8jAEEwayIDJAACfyABRQRAIANBADYCKCADQRhqDAELIAMgAjYCCCADIAE2AgQgA0GcigE2AgAgAyADNgIQIAMLIQEgAC0ArANBAUYEQCAAQcgDaiABEJABCyABEBIaIANBMGokAEEAC0UBAX8jAEEgayIDJAAgAyACNgIQIAMgATYCDCADQfiJATYCCCADIANBCGoiATYCGCAAIAEQ9QUgARASGiADQSBqJABBAAtUAQF/IAAoAgAiAyAAKAIERgRAQbECDwsgASADKAIQIANBEGogAywAG0EASBs2AgAgAiAAKAIAIgEoAhQgASwAGyIBIAFBAEgbrTcDACAAEKgGQQALagEDfyMAQRBrIgQkACAAQaADaiEDAkAgAUUEQCADKAIAIQEMAQsgBEEEaiIFIAEgAqcQUyAFIAMoAgQgA0EEahDhByEBIAUQChoLQQgQESIDIABBpANqNgIEIAMgATYCACAEQRBqJAAgAwubAQEDfyMAQRBrIgMkACADQQRqIgQgASACpxBTAkACfyAAQaADaiIFQQRqIQEDf0EAIAEoAgAiAUUNARogBCABQRBqIgAQHQ0AIAAgBBAdBH8gAUEEaiEBDAEFQQELCwtFBEBBACEBDAELQQgQ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AiEAIARBMGogA0EIahC1BCECIAQgBCkDcDcDECAEIAQpA2g3AwggBiAEQQhqIAAgBEEoahDnBiACEFsgABAyQQALIQcgBEGQAWokACAHCzwBA38jAEEwayICJAAgACgCBCIBBH8gAkEPaiABEN8EIABBBGpBABCyBEEABUG0AgshAyACQTBqJAAgAwupAQEDfyMAQdAAayIDJABBswIhASAAKAIERQRAIANBCGogACgCABDiBCEBQcAAEBEiAiABKQMANwMAIAIgASkDGDcDGCACIAEpAxA3AxAgAiABKQMINwMIIAJBIGogAUEgahA5GiACQSxqIAFBLGoQORogAiABLQA4OgA4IANBADYCTCAAQQRqIAIQsgQgA0HMAGoQ9wUgARDCA0EAIQELIANB0ABqJAAgAQumBgEEfyMAQaACayIEJAAgAUHQiQEgARshAQJAIAIoAgAgAigCBEYEQCAAKAIAIQAgBCABKQMINwMQIAQgASkDADcDCCAEQYABaiIBIAAgBEEIahDMAyAELQCoAQR/IAMgARDKAxDJBEEABUG1AgshASAEQYgBahDJAwwBCyAAKAIAIQUgBCABKQMINwNQIAQgASkDADcDSCAEQYgCaiAFIARByABqIAIQ4gJBtQIhASAELQCYAkEBRw0AIAAoAgAhBiACKAIEIQUgBEFAayAEKQOQAjcDACAEIAQpA4gCNwM4IwBBgAFrIgEkACABIAQpA0A3AzggASAEKQM4NwMwIAFBGGogBUEYaxCNAiEFIAEgASkDODcDECABIAEpAzA3AwggAUFAayIHIAYgAUEIaiAFEPkEIAUQMgJAAkAgAS0AeEUNACAHELMEIgUtAChFDQBBASEGIAUtACBBAUcNACAEIAUpAxA3A/ABIAQgBSkDGDcD+AEMAQtBACEGIARBADoA8AELIAQgBjoAgAIgAUHIAGoQoQMgAUGAAWokACAELQCAAkEBRgRAIAAoAgAhACAEIAQpA/gBNwMgIAQgBCkD8AE3AxggBEGAAWoiASAAIARBGGoQzAMgAyABEMoDEMkEIARBiAFqEMkDQQAhAQwBCyAAKAIAIQAgBCAEKQOQAjcDeCAEIAQpA4gCNwNwIARB2ABqIAIoAgRBGGsQjQIhASAEIAQpA3g3AzAgBCAEKQNwNwMoIARBgAFqIgIgACAEQShqIAEQ+QQgAhCzBCECIARBwAFqIgBBADoAKCAAQQA6AAAgAi0AKEEBRgRAIABBCGogAkEIahCLAiAAQQE6ACgLIARBiAFqEKEDIAEQMkG1AiEBIAAtAChBAUYEQCAALQAgBEAQGAALIABBCGohAiMAQRBrIgEkAAJAIAMtABhFBEAgAyACENwGDAELIAEgAjYCDCABIAM2AggjAEEgayICJAAgASgCCCACQQhqIAEoAgwQ0gMiAxCRBiADEDYgAkEgaiQACyABQRBqJABBACEBCyAAEPYFCyAEQaACaiQAIAELEwAgAARAIABBBGoQ9wULIAAQDQt4AQF/IAAoAgAiBCAAKAIERgRAQbECDwsCQAJAIARFDQAgBC0AEEEBRw0AIAEgBCgCACAEIAQsAAtBAEgbNgIAIAIgBCgCBCAELAALIgEgAUEASButNwMADAELIAMgBBDjASkDADcDAAsgACAAKAIAQRhqNgIAQQALFAEBf0EIEBEiASAAKQIANwIAIAELMgEBfyMAQSBrIgIkACACQQA6ABggAiABNwMIIAAgAkEIaiIAEOUBIAAQMiACQSBqJAALYAECfyMAQTBrIgMkACADQQhqIgQgASACpxBTIAMgAygCEDYCICADQQA2AhAgA0EBOgAoIAMgAykDCDcDGCADQgA3AwggACADQRhqIgAQ5QEgABAyIAQQChogA0EwaiQACw8AIAAEQCAAEGsLIAAQDQsLAEEMEBEgABCjBwsYAQF/QQwQESIAQQA2AgggAEIANwIAIAALSQEBfyAALQAIRQRAQbICDwsgAC0ACEEBRwRAEBgACyAAKAIAIgIgACgCBEYEQEGxAg8LIAEgAjYCACAAIAAoAgBBIGo2AgBBAAuAAQEBfyAALQAIQQFHBH8gAC0ACARAEBgACyAAKAIAIgQgACgCBEYEQEGxAg8LIAEgBCgCCCAEQQhqIAQsABNBAEgbNgIAIAIgACgCACIBKAIMIAEsABMiAiACQQBIG603AwAgAyABQRhqNgIAIAAgACgCACgCADYCAEEABUGyAgsLawECfwJAIABFDQACfwJAAkAgAC0AGEEBaw4CAAEDC0EMEBEiASAAKAIAKAIINgIAQQAhAEEADAELQQwQESEBIAAoAgAiAigCBCEAIAEgAigCADYCAEEBCyECIAEgAjoACCABIAA2AgQLIAELFQAgAEUEQEEADwtBACAAIAAtABgbCwoAIAAtABhBAkYLCgAgAC0AGEEBRgsIACAALQAYRQtYAQV/IwBBoAFrIgEkAEEBEBYEQCABQRhqEBUhBCABQQE2AhQgBEGT/QAQCyEFIAFBCGoiAyAAQQAQuQMgBSADEBAaIAMQChogAUEUahAXCyABQaABaiQACw8AIAAEQCAAEFYLIAAQDQsfAQF/QSAQESIAQQA6ABggAEEAOgAQIABCADcDACAACycBAX9BsgIhAiAALQAQQQVGBH8gASAAEOYBKQMINwMAQQAFQbICCwtMAQF/QbICIQMgAC0AEEEERgR/IAEgABCOBiIAKAIAIAAgACwAC0EASBs2AgAgAiAAKAIEIAAsAAsiACAAQQBIG603AwBBAAVBsgILCycBAX9BsgIhAiAALQAQQQNGBH8gASAAEI8GLQAAOgAAQQAFQbICCwsnAQF/QbICIQIgAC0AEEECRgR/IAEgABCQBisDADkDAEEABUGyAgsLJwEBf0GyAiECIAAtABBBAUYEfyABIAAQjwEpAwA3AwBBAAVBsgILCyQBAX9BsgIhAiAALQAQBH9BsgIFIAEgABDjASkDADcDAEEACwsKACAALQAQQQVGCwoAIAAtABBBBkYLCgAgAC0AEEEERgsKACAALQAQQQNGCwoAIAAtABBBAkYLCgAgAC0AEEEBRgsIACAALQAQRQspAQF/IwBBEGsiAiQAIAIgATcDCCACIAE3AwAgACACEOoGIAJBEGokAAsHACAAEKoGCy4BAn8jAEEQayIDJAAgA0EEaiIEIAEgAqcQUyAAIAQQ4wQgBBAKGiADQRBqJAALJQEBfyMAQRBrIgIkACACIAE6AA8gACACQQ9qEOQEIAJBEGokAAslAQF/IwBBEGsiAiQAIAIgATkDCCAAIAJBCGoQ5QQgAkEQaiQACyUBAX8jAEEQayICJAAgAiABNwMIIAAgAkEIahDrBiACQRBqJAALJQEBfyMAQRBrIgIkACACIAE3AwggACACQQhqEOYEIAJBEGokAAsJACAAQQEQxAgLYQECfyMAQRBrIgIkAAJAIAAtABhBAUYEQCAAIAEoAgA2AgAMAQsgAiABNgIMIAIgADYCCCACKAIMIQMgAigCCCIAEFsgAygCACEBIABBAToAGCAAIAE2AgALIAJBEGokAAsJACAAQQAQxAgLkwEBB38jAEEgayICJAAgAkEAOgAYIAJCADcDCCACQQhqIQMjAEEQayIBJAACQCAAQQhqIgQtABhFBEAgBCADEO8FDAELIAEgAzYCDCABIAQ2AgggASgCDCEGIAEoAggiBxBbIAcgBhB9QQA6ABgLIAFBEGokACADEDYgAARAQQAgBCAALQAgGyEFCyACQSBqJAAgBQsYACAARQRAQQAPC0EAIABBCGogAC0AIBsLHQEBfyAALQAgQQFGBH8gABC1AigCAEEBRgVBAAsLGwEBfyAALQAgQQFGBH8gABC1AigCAAVBAQtFCwgAIAAtACBFCxIAIAAEQCAAQQhqEFsLIAAQDQsYAQF/QSgQESIBQQhqIABBCGoQtQQaIAELHwEBf0EoEBEiAEEAOgAgIABBADoAGCAAQgA3AwggAAsJAEGQ6AIQEhoLDwAgACgCBCACIAEQigEaC/8BAQd/IwBBsAFrIgMkACAAKAIEIQACQCABLwEAIgEEQEECEBYEQCADQShqEBUhBiADQQI2AiQgBkH6+AAQCyABEGAaIANBJGoQFwsgABCIAgwBC0EBEBYEQCADQShqEBUhByADQQE2AiQgB0Hs+gAQCyEIIANBGGoiASACKAIEKAIgEA8aIAggARAQQd36ABALIQkgA0EMaiIEIAIoAgQoAiwQDxogCSAEEBAaIAQQChogARAKGiADQSRqEBcLIABBATsBNCAAKALwAkUNACADQSRqIgEgAigCBCICKAI0IAIoAjAQUyAAQeACaiABEPwCIAEQChoLIANBsAFqJAALFQAgAUG0iQE2AgAgASAAKAIENgIECx0BAX9BCBARIgFBtIkBNgIAIAEgACgCBDYCBCABC+4BAQV/IwBBoAFrIgMkACAAKAIEIQACQCABLwEAIgEEQEECEBYEQCADQRhqEBUhBSADQQI2AhQgBUH6+AAQCyABEGAaIANBFGoQFwsgABCIAgwBCyAAKAKwAQRAIABBoAFqIAIQ/AILQQEQFgRAIANBGGoQFSEGIANBATYCFCAGQez6ABALIQcgA0EIaiIBIAIoAgQoAjQQDxogByABEBAaIAEQChogA0EUahAXCyAAQgA3A3ggAEEBOwE0IAAoAsACRQ0AIANBFGoiASAAQbACaiACEKcDIABB+AJqIAEQGSABEAoaCyADQaABaiQACxUAIAFBkIkB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AQsgAEH8AWoiAhBDQRAgASAAQbQBaiAAQQhqQQAgBiAAQRBqIABBDGogAEHQAWoQ1wINACACEFIaDAELCyADIAAoArQBIAFrEBsgAxAcIQkQLiEHIAAgBTYCACAJIAcgABCoCUEBRwRAIARBBDYCAAsgAEH8AWogAEH4AWoQKQRAIAQgBCgCAEECcjYCAAsgACgC/AEhCCADEAoaIAYQChogAEGAAmokACAIC9MDAgF+AX8jAEGQAmsiACQAIAAgAjYCiAIgACABNgKMAiAAQdABaiADIABB4AFqIABB3wFqIABB3gFqENQFIABBxAFqECMiASABECIQGyAAIAFBABAeIgI2AsABIAAgAEEgajYCHCAAQQA2AhggAEEBOgAXIABBxQA6ABYDQAJAIABBjAJqIABBiAJqECkNACAAKALAASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGyABIAEQIhAbIAAgAyABQQAQHiICajYCwAELIABBjAJqIgMQQyAAQRdqIABBFmogAiAAQcABaiAALADfASAALADeASAAQdABaiAAQSBqIABBHGogAEEYaiAAQeABahDTBQ0AIAMQUhoMAQsLAkAgAEHQAWoQDEUNACAALQAXQQFHDQAgACgCHCIDIABBIGprQZ8BSg0AIAAgA0EEajYCHCADIAAoAhg2AgALIAAgAiAAKALAASAEEKkJIAApAwAhBiAFIAApAwg3AwggBSAGNwMAIABB0AFqIABBIGogACgCHCAEEF0gAEGMAmogAEGIAmoQKQRAIAQgBCgCAEECcjYCAAsgACgCjAIhByABEAoaIABB0AFqEAoaIABBkAJqJAAgBwu8AwEBfyMAQYACayIAJAAgACACNgL4ASAAIAE2AvwBIABBwAFqIAMgAEHQAWogAEHPAWogAEHOAWoQ1AUgAEG0AWoQIyIBIAEQIhAbIAAgAUEAEB4iAjYCsAEgACAAQRBqNgIMIABBADYCCCAAQQE6AAcgAEHFADoABgNAAkAgAEH8AWogAEH4AWoQKQ0AIAAoArABIAEQDCACakYEQCABEAwhAyABIAEQDEEBdBAbIAEgARAiEBsgACADIAFBABAeIgJqNgKwAQsgAEH8AWoiAxBDIABBB2ogAEEGaiACIABBsAFqIAAsAM8BIAAsAM4BIABBwAFqIABBEGogAEEMaiAA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NgIUIAILFgAgACABIAJCgICAgICAgICAfxCFCgsNACAAIAEgAkJ/EIUKCzICAX8CfCMAQRBrIgIkACACIAAgAUEBEOUFIAIpAwAgAikDCBDhBSEEIAJBEGokACAECwYAIAEQDQsGACABED4LDgAgACgCACABIAIQ9wkLJgAgAEGk5AEoAgA2AhAgAEGc5AEpAgA3AgggAEGU5AEpAgA3AgALMgAgAEHU4wEoAgA2AhggAEHM4wEpAgA3AhAgAEHE4wEpAgA3AgggAEG84wEpAgA3AgALMgAgAEH44gEpAwA3AxggAEHw4gEpAwA3AxAgAEHo4gEpAwA3AwggAEHg4gEpAwA3AwALJgAgAEGc4gEpAgA3AhAgAEGU4gEpAgA3AgggAEGM4gEpAgA3AgALDQAgAEGo3wFBKBAkGgsmACAAQeDeASkCADcCECAAQdjeASkCADcCCCAAQdDeASkCADcCAAsyACAAQYzeASkCADcCGCAAQYTeASkCADcCECAAQfzdASkCADcCCCAAQfTdASkCADcCAAsyACAAQbTdASgCADYCGCAAQazdASkCADcCECAAQaTdASkCADcCCCAAQZzdASkCADcCAAsNACAAQcjbAUE4ECQaCw0AIABBkL8BQSgQJBoLDQAgAEGYvgFBOBAkGgsyACAAQdS9ASgCADYCGCAAQcy9ASkCADcCECAAQcS9ASkCADcCCCAAQby9ASkCADcCAAsmACAAQYy8ASgCADYCECAAQYS8ASkCADcCCCAAQfy7ASkCADcCAAsmACAAQcy6ASgCADYCECAAQcS6ASkCADcCCCAAQby6ASkCADcCAAsmACAAQay5ASgCADYCECAAQaS5ASkCADcCCCAAQZy5ASkCADcCAAsmACAAQYy4ASgCADYCECAAQYS4ASkCADcCCCAAQfy3ASkCADcCAAsOACAAQciYAUHQABAkGgsaACAAQZiXASgCADYCCCAAQZCXASkCADcCAAsOACAAQbiVAUHQABAkGgsNACAAQdCSAUEoECQaCw0AIABB4JEBQTAQJBoLDgAgASgCACACKAIAEAkLCwAgAUHgkAE2AgALEQBBCBARIgBB4JABNgIAIAALowMCA38BfiMAQUBqIgUkACABKAIAIQYgBSACKAIAIgE2AgAgBSACKAIEIgc2AgQgBSACKAIINgIIIAJBADYCCCACQgA3AgACQCAGBEAgBkEAQQBBAEEAQgBBACAAKAIIIAAoAgQRNAAMAQsgBC0AACEEIAMpAwAhCCAFQQA2AjwgBUIANwI0IAVBADYCMCAFQgA3AiggBUEANgIkIAVCADcCHCAFQQA2AhggBUIANwIQIAVBNGogByABa0EwbSICEGYgBUEoaiACEGYgBUEcaiACEGYgBUEQaiACEGYDQCABIAdGBEBBACAFKAI0IAUoAiggBSgCHCAFKAIQIAggBCAAKAIIIAAoAgQRNAAgBUEQahAOGiAFQRxqEA4aIAVBKGoQDhogBUE0ahAOGgUgBSABKAIAIAEgASwAC0EASBs2AgwgBUE0aiAFQQxqIgIQRiAFIAEtAAw2AgwgBUEoaiACEOwDIAUgAS0ADTYCDCAFQRxqIAIQ7AMgBSABQRBqNgIMIAFBMGohASAFQRBqIAIQRgwBCwsLIAUQugMgBUFAayQACxUAIAFBvJABNgIAIAEgACkCBDcCBAsLACAAQbyQARCqAQsVACABQZiQATYCACABIAApAgQ3AgQLCwAgAEGYkAEQqgELFQAgAUH0jwE2AgAgASAAKQIENwIECwsAIABB9I8BEKoBCxUAIAFB0I8BNgIAIAEgACkCBDcCBAsLACAAQdCPARCqAQsVACABQayPATYCACABIAApAgQ3AgQLCwAgAEGsjwEQqgELFQAgAUGIjwE2AgAgASAAKQIENwIECwsAIABBiI8BEKoBCxUAIAFB5I4BNgIAIAEgACkCBDcCBAsLACAAQeSOARCqAQsVACABQcCOATYCACABIAApAgQ3AgQLCwAgAEHAjgEQqgELFQAgAUGcjgE2AgAgASAAKQIENwIECwsAIABBnI4BEKoBC2EBA38gASgCABojAEGQAWsiASQAIABBCGoiACgCACECQQEQFgRAIAFBCGoQFSEEIAFBATYCBCAEQfz9ABALIAJBmARqEBAaIAFBBGoQFwsgAEEIakEAEPADIAFBkAFqJAALDgAgAEEQahASGiAAEA0LCgAgAEEQahASGgsYACABQfiNATYCACABQQhqIABBCGoQsAoLTgECfyMAQRBrIgEkAEEoEBEhAiABQQE2AgggASABQQ9qNgIEIAJB+I0BNgIAIAJBCGogAEEIahCwCiABQQA2AgAgARBFIAFBEGokACACCwkAIAAQsQoQDQutBwERfyAAIQQgASgCBCEAIwBB0ABrIgYkAAJAIAAoArAERQRAIARBxf8AEA8aDAELIABBqARqIQcgAEGsBGohDyAGQSRqIgFCADcCHCABIAFBFGoiAjYCGCABIAI2AhQgAUIANwIkIAEQmgogACgCqAQhBQNAIAUgD0YEQCAEQgA3AgAgBEEANgIIIwBBEGsiACQAIAEoAgBB+OABRwRAQcYkQbTYAEHVA0HHwwAQAAALIAQgARBpEG0gACAENgIMIABB6wE2AgggASgCAEH44AFHBEBBxiRBtNgAQeMDQaIxEAAACyABIABBCGoQfCAAQRBqJAAgByAHKAIEELwDIAcgB0EEajYCACAHQgA3AgQgAUEgahAOGgJAIAFBFGoiBCgCCEUNACAEKAIEIgAoAgAiASAEKAIAKAIEIgI2AgQgAiABNgIAIARBADYCCANAIAAgBEYNASAAKAIEIRIgAEEIaiICQTRqEAoaIAJBKGoQChogAkEcahAKGiAAEA0gEiEADAALAAsFIAZBGGogBUEQahAUIQggBkEMaiAFQRxqEBQhCSAGIAVBKGoQFCEKIAUoAjQhACMAQRBrIgskACALIAA2AgwjAEEQayIOJAAgDkEEaiIAQQE2AgQgAEHIABARNgIIIAAoAggiAkEANgIEIAJBADYCACMAQTBrIgMkACADIAgoAgg2AiggAyAIKQIANwMgIAhCADcCACAIQQA2AgggAyAJKAIINgIYIAMgCSkCADcDECAJQgA3AgAgCUEANgIIIAMgCigCCDYCCCADIAopAgA3AwAgCkIANwIAIApBADYCCCALKAIMIRAgAkEIaiICQRxqQQBBJBArIQwgAhCbCiACQTRqIg0gA0EgaiIREBkgAiACKAI0IA0gAiwAP0EASBs2AgwgDCADQRBqIg0QGSACIAIoAhwgDCACLAAnQQBIGzYCECACQShqIgwgAxAZIAIgEDYCGCACIAIoAiggDCACLAAzQQBIGzYCFCADEAoaIA0QChogERAKGiADQTBqJAAgACgCCCECIABBADYCCCAAEOgBIA5BEGokACACIAFBFGo2AgQgAiABKAIUIgA2AgAgACACNgIEIAEgAjYCFCABIAEoAhxBAWo2AhwgCyABKAIUQQhqNgIIIAFBIGogC0EIahBGIAEgASgCIDYCECABIAEoAgxBAWo2AgwgC0EQaiQAIAoQChogCRAKGiAIEAoaIAUQlAEhBQwBCwsLIAZB0ABqJAALFQAgAUHUjQE2AgAgASAAKAIENgIECwsAIABB1I0BENYBC+IGAgR/AX4jAEEQayIGJAAgBC8BACEJIAMpAwAhCiACLQAAIQMgAS8BACEHIAYgBSgCCDYCCCAGIAUpAgA3AwAgBUIANwIAIAVBADYCCCMAQRBrIgQkACAAKAIEIQIgBCAGKAIINgIIIAQgBikCADcDACAGQgA3AgAgBkEANgIIIAkhASAEIQBBACEFIwBBMGsiBCQAAkACQAJAAkACQAJAAkACQAJAAkACQCAHQZMDaw4JAAoBAgMEBQYHCAsgBEIANwIYIARCADcCICAEQgA3ACUgBEIANwIQIARBiIMBNgIMIAFFBEAgBEEMaiAAEPkFCyACIAMgCiABIARBDGoiARByIAEQwQMaDAgLIARCADcCGCAEQgA3AiAgBEIANwAlIARCADcCECAEQYiDATYCDCABRQRAIARBDGogABD5BQsgAiADIAogASAEQQxqIgEQciABEMEDGgwHCyAEQQA2AhAgBEHsgwE2AgwgAUUEQCAEQYDjAUEAIAAoAgQgACwACyIFIAVBAEgiBRsgACgCACAAIAUbEHs2AhALIAIgAyAKIAEgBEEMaiIBEHIgARDTBBoMBgsgBEGAhAE2AgwgAiADIAogASAEQQxqEHIMBQsgBEGUhAE2AgwgAiADIAogASAEQQxqEHIMBAsgBEGohAE2AgwgAiADIAogASAEQQxqEHIMAwsgBEEANgIQIARBvIQBNgIMIAFFBEAgBEHY4wFBACAAKAIEIAAsAAsiBSAFQQBIIgUbIAAoAgAgACAFGxB7NgIQCyACIAMgCiABIARBDGoiARByIAEQ0gQaDAILIARBADYCECAEQdCEATYCDCABRQRAIARBqOQBQQAgACgCBCAALAALIgUgBUEASCIFGyAAKAIAIAAgBRsQezYCEAsgAiADIAogASAEQQxqIgEQciABENEEGgwBCyAHQa4CRw0BIARBADYCECAEQeSEATYCDCABRQRAIARBuN0BQQAgACgCBCAALAALIgEgAUEASCIBGyAAKAIAIAAgARsQezYCEAsgAigC8AwEQCAEIAQoAhAiASgCGCABKAIUEFMgAkHgDGogBBD8AiAEEAoaCyAE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9gMBCH8jAEFAaiIGJAAgBkE0aiABEA8hASAGQShqIAIQDyECIAZBHGogAxAPIQMgBiAFNgIIIAYgBDYCBCAGQdCPATYCACAGIAY2AhAjAEGwAmsiBCQAIARBtAFqEL8DIQUgBCABKAIINgKwASAEIAEpAgA3A6gBIAFCADcCACABQQA2AgggBSAEQagBaiIHEOMCIAcQChogBCACKAIINgKgASAEIAIpAgA3A5gBIAJCADcCACACQQA2AgggBSAEQZgBaiIHEKYDIAcQChogBCADKAIINgKQASAEIAMpAgA3A4gBIANCADcCACADQQA2AgggBSAEQYgBaiIHEKUDIAcQChogBUEBNgIMIARBADYCgAEgBEIANwN4IAUgBEH4AGoiBxCkAyAEQcgAaiAGEDMhCUEgEBEiCEHkhQE2AgAgCEEIaiAJEDMaIAQgCDYCcCAAQQYgByAEQeAAaiIAQQEgBEE8akHF/wAQDyIIIARBMGpBxf8AEA8iCiAEQSRqQcX/ABAPIgsgBEEYakHF/wAQDyIMIARBDGpBxf8AEA8iDRCxASANEAoaIAwQChogCxAKGiAKEAoaIAgQChogABASGiAJEBIaIAcQChogBRC+AyAEQbACaiQAIAYQEhogAxAKGiACEAoaIAEQChogBkFAayQAQQALugkCCX8BfiMAQYABayIJJAAgCUEANgJ8IAlCADcCdCMAQSBrIgokAAJAAkAgBqciDSAJQfQAaiILKAIIIAsoAgAiDGtBGG1LBEAgDUGr1arVAE8NASALIApBDGogDSALKAIEIAxrQRhtIAtBCGoQxQIiCxC5CiALELgKCyAKQSBqJAAMAQsQAQALA38gBiASUQR/IAlBNGogARAPIQMgCUEoaiACEA8hBCAJIAg2AgggCSAHNgIEIAlBrI8BNgIAIAkgCSgCdDYCHCAJKQJ4IQYgCUEANgJ8IAkgBjcCICAJQgA3AnQgCSAJNgIQIwBBwAJrIgEkACABQcQBahC/AyICQX82AiwgASADKAIINgLAASABIAMpAgA3A7gBIANCADcCACADQQA2AgggAiABQbgBaiIFEOMCIAUQChogASAEKAIINgKwASABIAQpAgA3A6gBIARCADcCACAEQQA2AgggAiABQagBaiIFEKYDIAUQChogCUEcaiILIgUoAgQhCCAFKAIAIQcDfyAH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DgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACQAAAAlAAAAAAAAACYAAAAnAAAAKAAAACkAAAB9AEdhbGFjdHVzX19Qcm9wZXJ0eQBnYWxhY3R1cy5Qcm9wZXJ0eQBpbmZpbml0eQBGZWJydWFyeQBKYW51YXJ5AGJpbmFyeQBKdWx5AGNvdW50X29ubHkAa2V5c19vbmx5AERpZ2VzdE9ubHkAa2V5AEhhc2hLZXkAcm91dGluZ0tleQBSb3V0aW5nS2V5AGtFbXB0eVN0cmluZ0tleQBVbmlxdWVLZXkAU3luY0tleQBzaXplb2ZfZWx0X2luX3JlcGVhdGVkX2FycmF5AFRodXJzZGF5AFR1ZXNkYXkAV2VkbmVzZGF5AFNhdHVyZGF5AFN1bmRheQBNb25kYXkARnJpZGF5AE1heQBpbmRleABDb25uSW5kZXgATmFtZXNwYWNlSW5kZXgAa0ludmFsaWRJbmRleAAtKyAgIDBYMHgALTBYKzBYIDBYLTB4KzB4IDB4AFVuc3VwcG9ydGVkIEJTT04gcmVjb3JkIHR5cGUgMHgAZXhwZWN0ZWQgZW5kIG9mIGlucHV0OyBsYXN0IGJ5dGU6IDB4AGV4cGVjdGVkICcjJyBhZnRlciB0eXBlIGluZm9ybWF0aW9uOyBsYXN0IGJ5dGU6IDB4AGJ5dGUgYWZ0ZXIgJ0MnIG11c3QgYmUgaW4gcmFuZ2UgMHgwMC4uMHg3RjsgbGFzdCBieXRlOiAweABleHBlY3RlZCBsZW5ndGggdHlwZSBzcGVjaWZpY2F0aW9uIChVLCBpLCBJLCBsLCBMKTsgbGFzdCBieXRlOiAweABleHBlY3RlZCBsZW5ndGggc3BlY2lmaWNhdGlvbiAoMHg2MC0weDdCKSBvciBpbmRlZmluaXRlIHN0cmluZyB0eXBlICgweDdGKTsgbGFzdCBieXRlOiAweABleHBlY3RlZCBsZW5ndGggc3BlY2lmaWNhdGlvbiAoMHg0MC0weDVCKSBvciBpbmRlZmluaXRlIGJpbmFyeSBhcnJheSB0eXBlICgweDVGKTsgbGFzdCBieXRlOiAweABleHBlY3RlZCBsZW5ndGggc3BlY2lmaWNhdGlvbiAoMHhBMC0weEJGLCAweEQ5LTB4REIpOyBsYXN0IGJ5dGU6IDB4AGV4cGVjdGVkIGxlbmd0aCB0eXBlIHNwZWNpZmljYXRpb24gKFUsIGksIEksIGwsIEwpIGFmdGVyICcjJzsgbGFzdCBieXRlOiAweABpbnZhbGlkIGJ5dGU6IDB4AF9fbmV4dF9wcmltZSBvdmVyZmxvdwBOb3YAVGh1AHVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0AFRpbWVvdXQAR0FMQUNUVVNfX09QX1RZUEVfX0JhdGNoUHV0AEdBTEFDVFVTX19PUF9UWVBFX19QdXQAQXVndXN0AGVsZW1lbnQgbGlzdABrTm90QUxpc3QAR2FsYWN0dXNfX1JlbmV3S2V5UmVxdWVzdABnYWxhY3R1cy5SZW5ld0tleVJlcXVlc3QAR2FsYWN0dXNfX0dldFJlcXVlc3QAZ2FsYWN0dXMuR2V0UmVxdWVzdABHYWxhY3R1c19fRG9jT3BSZXF1ZXN0AGdhbGFjdHVzLkRvY09wUmVxdWVzdABHYWxhY3R1c19fRXN0YWJsaXNoUmVxdWVzdABDcnN5bmNfX0VzdGFibGlzaFJlcXVlc3QAZ2FsYWN0dXMuRXN0YWJsaXNoUmVxdWVzdABjcnN5bmMuRXN0YWJsaXNoUmVxdWVzdABHYWxhY3R1c19fQmF0Y2hLZWVwYWxpdmVSZXF1ZXN0AGdhbGFjdHVzLkJhdGNoS2VlcGFsaXZlUmVxdWVzdABDcnN5bmNfX0RhdGFiYXNlUmVxdWVzdABjcnN5bmMuRGF0YWJhc2VSZXF1ZXN0AEdhbGFjdHVzX19TaGFrZUhhbmRSZXF1ZXN0AGdhbGFjdHVzLlNoYWtlSGFuZFJlcXVlc3QAR2FsYWN0dXNfX1B1dERvY1JlcXVlc3QAZ2FsYWN0dXMuUHV0RG9jUmVxdWVzdABHYWxhY3R1c19fRGVsZXRlRG9jUmVxdWVzdABnYWxhY3R1cy5EZWxldGVEb2NSZXF1ZXN0AEJlc3QAR0FMQUNUVVNfX09QX1RZUEVfX0luc2VydAByZWNlaXZlZCBlbXB0eSBzbmFwc2hvdABmYWlsIHRvIHJlY3Ygc25hcHNob3QAc2VuZGluZyBzbmFwc2hvdABjb3VudABDb25uZWN0aW9uQ291bnQAU3RyZWFtQ291bnQAZ2V0X2NvZGVwb2ludABFbmRwb2ludABnZXRfZGVjaW1hbF9wb2ludABDcnN5bmNfX1RpY2tldEV2ZW50AGNyc3luYy5UaWNrZXRFdmVudABDcnN5bmNfX1Blcm1pc3Npb25FdmVudABjcnN5bmMuUGVybWlzc2lvbkV2ZW50AENyc3luY19fS2VlcGFsaXZlRXZlbnQAY3JzeW5jLktlZXBhbGl2ZUV2ZW50AENvbnRlbnQAaW52YWxpZCBudW1iZXI7IGV4cGVjdGVkICcrJywgJy0nLCBvciBkaWdpdCBhZnRlciBleHBvbmVudABzaG91bGQgaGF2ZSBvbmx5IHVzZWQgaGFzaGVzIHRoYXQgYXJlIGluIHRoZSBkb2N1bWVudABHYWxhY3R1c19fRG9jdW1lbnQAQ3JzeW5jX19Eb2N1bWVudABnYWxhY3R1cy5Eb2N1bWVudABjcnN5bmMuRG9jdW1lbnQAb2JqZWN0X2VsZW1lbnQASW5zdGFudABhc3NlcnRfaW52YXJpYW50AGxpbWl0AHVuZ2V0AGtOb3RBbk9iamVjdABPY3QAU2F0AGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMDkgKEhUKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDA5IG9yIFx0AGdhbGFjdHVzAERvY3VtZW50cwBDbGllbnRzAEdyYW50cwBpbnZhbGlkIHN0cmluZzogJ1x1JyBtdXN0IGJlIGZvbGxvd2VkIGJ5IDQgaGV4IGRpZ2l0cwBUaWNrZXRzAHN1Y2Nlc3MAQ2x1c3RlcnMAT3B0aW9ucwBQZXJtcwBpdGVtcwBJdGVtcwBkaWZmcwB2YWx1ZXMAcHJvcGVydGllcwBGb3JiaWRzAExvYWRzAGRvY3MARG9jcwBUcwAlcwBtX3R5cGUgIT0gdmFsdWVfdDo6YmluYXJ5IHx8IG1fdmFsdWUuYmluYXJ5ICE9IG51bGxwdHIAbV90eXBlICE9IHZhbHVlX3Q6OmFycmF5IHx8IG1fdmFsdWUuYXJyYXkgIT0gbnVsbHB0cgBhbmNob3IubV9vYmplY3QgIT0gbnVsbHB0cgBtX3R5cGUgIT0gdmFsdWVfdDo6b2JqZWN0IHx8IG1fdmFsdWUub2JqZWN0ICE9IG51bGxwdHIAbV90eXBlICE9IHZhbHVlX3Q6OnN0cmluZyB8fCBtX3ZhbHVlLnN0cmluZyAhPSBudWxscHRyAGxvYyAhPSBudWxscHRyAEFwcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19yZW5ld19rZXlfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19nZXRfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19kb2Nfb3BfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19lc3RhYmxpc2hfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fZXN0YWJsaXNoX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fYmF0Y2hfa2VlcGFsaXZlX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX2RhdGFiYXNlX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX3B1dF9kb2NfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19kZWxldGVfZG9jX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX3RpY2tldF9ldmVudF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcGVybWlzc2lvbl9ldmVudF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fa2VlcGFsaXZlX2V2ZW50X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2V4dF9oZWFkZXJfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fcmVuZXdfa2V5X3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2dldF9yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcmFuZ2VfZG9jc19yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19kb2Nfb3BfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZXN0YWJsaXNoX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19lc3RhYmxpc2hfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fc2hha2VfaGFuZF9yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcXVlcnlfZG9jX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX3B1dF9kb2NfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX2dldF9kb2NfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZGVsZXRlX2RvY19yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fc3luY19tZXNzYWdlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19zaGFrZWhhbmRfX2Rlc2NyaXB0b3IAdmVjdG9yAHBhcnNlX2Vycm9yAG1vbmV5X2dldCBlcnJvcgBwYXJzZSBlcnJvcgBjbHVzdGVyAENsdXN0ZXIAa01pc3NpbmdDb3VudGVyAEdBTEFDVFVTX19PUF9UWVBFX19Db3VudGVyAHByb3RvYnVmX2NfbWVzc2FnZV9wYWNrX3RvX2J1ZmZlcgByZXBlYXRlZF9maWVsZF9wYWNrX3RvX2J1ZmZlcgByZXF1aXJlZF9maWVsZF9wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fcmVuZXdfa2V5X3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19nZXRfcmVxdWVzdF9fcGFja190b19idWZmZXIAZ2FsYWN0dXNfX2RvY19vcF9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fZXN0YWJsaXNoX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fZXN0YWJsaXNoX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19iYXRjaF9rZWVwYWxpdmVfcmVxdWVzdF9fcGFja190b19idWZmZXIAZ2FsYWN0dXNfX3NoYWtlX2hhbmRfcmVxdWVzdF9fcGFja190b19idWZmZXIAZ2FsYWN0dXNfX3B1dF9kb2NfcmVxdWVzdF9fcGFja190b19idWZmZXIAZ2FsYWN0dXNfX2RlbGV0ZV9kb2NfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX190aWNrZXRfZXZlbnRfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fa2VlcGFsaXZlX2V2ZW50X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fZXh0X2hlYWRlcl9fcGFja190b19idWZmZXIAY3JzeW5jX19zeW5jX21lc3NhZ2VfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fc2hha2VoYW5kX19wYWNrX3RvX2J1ZmZlcgBjb2x1bW5zIG91dCBvZiBvcmRlcgBfZm9sZGVyAGhlYWRlcgBMZWFkZXIAR2FsYWN0dXNfX0V4dEhlYWRlcgBnYWxhY3R1cy5FeHRIZWFkZXIAR2FsYWN0dXNfX1Jlc3BvbnNlSGVhZGVyAGdhbGFjdHVzLlJlc3BvbnNlSGVhZGVyAE9jdG9iZXIAc2Nhbl9udW1iZXIAaGlnaC1wcmVjaXNpb24gbnVtYmVyAGtEdXBsaWNhdGVTZXFOdW1iZXIATm92ZW1iZXIAU2VwdGVtYmVyAHBhcnNlX21lbWJlcgBwYXJzZV9wYWNrZWRfcmVwZWF0ZWRfbWVtYmVyAERlY2VtYmVyAExvY2FsQWRkcgBSZW1vdGVBZGRyAGNoYXIAaW9zX2Jhc2U6OmNsZWFyAE1hcgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDBEIChDUikgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwRCBvciBccgBEaWZmU2VxAC4vbWVkaWFfc2VydmVyX2xpYnJhcnkvZG9jdW1lbnQvanNvbi5ocHAAbWVkaWFfc2VydmVyX2xpYnJhcnkvY3JkdC9kb2N1bWVudC5jcHAAbGFzdF90aW1lc3RhbXAAU2VwAGtOb3RBTWFwAE9wACVJOiVNOiVTICVwAEdhbGFjdHVzX19QZWVySW5mbwBnYWxhY3R1cy5QZWVySW5mbwBTdW4ASnVuAFBlcm1Kc29uAHN0ZDo6ZXhjZXB0aW9uAEJpRGlyZWN0aW9uAFRyeSB0byBlc3RhYmxpc2ggY29ubmVjdGlvbgBUcnkgdG8gZXN0YWJsaXNoIG5ld3N5bmMgY29ubmVjdGlvbgBDb2xsZWN0aW9uAGtJbnZhbGlkVHJhbnNhY3Rpb24AQ3JzeW5jX19PcGVyYXRpb24AY3JzeW5jLk9wZXJhdGlvbgBDcnN5bmNfX1Blcm1pc3Npb24AY3JzeW5jLlBlcm1pc3Npb24AVmVyc2lvbgBNb24Ac2V0X2JlZ2luAGludmFsaWQgbnVtYmVyOyBleHBlY3RlZCBkaWdpdCBhZnRlciBleHBvbmVudCBzaWduAGludmFsaWQgQk9NOyBtdXN0IGJlIDB4RUYgMHhCQiAweEJGIGlmIGdpdmVuAHRtcCA9PSBwYXlsb2FkX2xlbgBuYW4ASmFuAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMEEgKExGKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDBBIG9yIFxuAFF1b3J1bQBHYWxhY3R1c19fS2VlcGFsaXZlSXRlbQBDcnN5bmNfX0tlZXBhbGl2ZUl0ZW0AZ2FsYWN0dXMuS2VlcGFsaXZlSXRlbQBjcnN5bmMuS2VlcGFsaXZlSXRlbQBDcnN5bmNfX0l0ZW0AY3JzeW5jLkl0ZW0ASnVsAHR0bABUdGwAaXRlcl9pbXBsAEdhbGFjdHVzX19QZWVyUHJvdG9jb2wAZ2FsYWN0dXMuUGVlclByb3RvY29sAG51bGwAY29sbABDb2xsAEFwcmlsAEdBTEFDVFVTX19PUF9UWVBFX19EZWwAc2Nhbl9saXRlcmFsAGludmFsaWQgbGl0ZXJhbABwYXJzZV9jYm9yX2ludGVybmFsAExvY2FsAHByb3RvYnVmX2NfbWVzc2FnZV91bnBhY2sATWVzc2FnZVBhY2sARnJpAGdldF9wYWNrZWRfcGF5bG9hZF9sZW5ndGgAaW52YWxpZCBzdHJpbmc6IGZvcmJpZGRlbiBjaGFyYWN0ZXIgYWZ0ZXIgYmFja3NsYXNoAGtNaXNzaW5nSGFzaABvcCBmaWVsZCBjb3VudCBkb2VzIG5vdCBtYXRjaABtYWdpYyBudW1iZXIgZG9lcyBub3QgbWF0Y2gAY2hlY2tzdW0gZG9lcyBub3QgbWF0Y2gATWFyY2gAQXVnAGtJbnZhbGlkTXNnAGNzdHJpbmcAc2Nhbl9zdHJpbmcAYmFzaWNfc3RyaW5nAEZsYWcAaW5mAEdhbGFjdHVzX19JbnRlcmVzdERpZmYAZ2FsYWN0dXMuSW50ZXJlc3REaWZmAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMEMgKEZGKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDBDIG9yIFxmACUuMExmACVMZgBwcm90b2J1Zl9jX21lc3NhZ2VfZ2V0X3BhY2tlZF9zaXplAHJlcXVpcmVkX2ZpZWxkX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fcmVuZXdfa2V5X3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fZ2V0X3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fZG9jX29wX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fZXN0YWJsaXNoX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2VzdGFibGlzaF9yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAZ2FsYWN0dXNfX2JhdGNoX2tlZXBhbGl2ZV9yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAZ2FsYWN0dXNfX3NoYWtlX2hhbmRfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19wdXRfZG9jX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fZGVsZXRlX2RvY19yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX190aWNrZXRfZXZlbnRfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2tlZXBhbGl2ZV9ldmVudF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19leHRfaGVhZGVyX19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19zeW5jX21lc3NhZ2VfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX3NoYWtlaGFuZF9fZ2V0X3BhY2tlZF9zaXplAEdBTEFDVFVTX19PUF9UWVBFX19SZW1vdmUAdHJ1ZQBoYW5kbGVfdmFsdWUAVmFsdWUAVHVlAGludmFsaWQgc3RyaW5nOiBpbGwtZm9ybWVkIFVURi04IGJ5dGUAaW52YWxpZCBzdHJpbmc6IG1pc3NpbmcgY2xvc2luZyBxdW90ZQBSZW1vdGUAQ1JTWU5DX19PUEVSQVRJT05fX1dyaXRlACwgcmVzZXQgY29ubmVjdGlvbiBzdGF0ZQBjcmVhdGUAc2F4X3BhcnNlAEdhbGFjdHVzX19SZW5ld0tleVJlc3BvbnNlAGdhbGFjdHVzLlJlbmV3S2V5UmVzcG9uc2UAR2FsYWN0dXNfX0dldFJlc3BvbnNlAGdhbGFjdHVzLkdldFJlc3BvbnNlAENyc3luY19fUmFuZ2VEb2NzUmVzcG9uc2UAY3JzeW5jLlJhbmdlRG9jc1Jlc3BvbnNlAEdhbGFjdHVzX19Eb2NPcFJlc3BvbnNlAGdhbGFjdHVzLkRvY09wUmVzcG9uc2UAR2FsYWN0dXNfX0VzdGFibGlzaFJlc3BvbnNlAENyc3luY19fRXN0YWJsaXNoUmVzcG9uc2UAZ2FsYWN0dXMuRXN0YWJsaXNoUmVzcG9uc2UAY3JzeW5jLkVzdGFibGlzaFJlc3BvbnNlAEdhbGFjdHVzX19TaGFrZUhhbmRSZXNwb25zZQBnYWxhY3R1cy5TaGFrZUhhbmRSZXNwb25zZQBDcnN5bmNfX1F1ZXJ5RG9jUmVzcG9uc2UAY3JzeW5jLlF1ZXJ5RG9jUmVzcG9uc2UAR2FsYWN0dXNfX1B1dERvY1Jlc3BvbnNlAGdhbGFjdHVzLlB1dERvY1Jlc3BvbnNlAENyc3luY19fR2V0RG9jUmVzcG9uc2UAY3JzeW5jLkdldERvY1Jlc3BvbnNlAEdhbGFjdHVzX19EZWxldGVEb2NSZXNwb25zZQBnYWxhY3R1cy5EZWxldGVEb2NSZXNwb25zZQBmYWxzZQBEYXRhYmFzZQBjaGFuZ2UgaXMgZWFybGllciB0aGFuIHBlZXIgYmFzZQBtb3JlAFNjb3JlAE1vcmUAR0FMQUNUVVNfX09QX1RZUEVfX0V4cGlyZQB0eXBlAEdhbGFjdHVzX19Qcm9wZXJ0eV9fUHJvcGVydHlUeXBlAGdhbGFjdHVzLlByb3BlcnR5LlByb3BlcnR5VHlwZQBDbGllbnRUeXBlAEdhbGFjdHVzX19PcFR5cGUAZ2FsYWN0dXMuT3BUeXBlAEp1bmUAbmFtZQBOYW1lAEF2YWlsYWJsZQBrVW5hYmxlVG9NZXJnZQBuZXh0X2J5dGVfaW5fcmFuZ2UAa05vdEluUmFuZ2UAQ3JzeW5jX19Qcml2aWxlZ2UAY3JzeW5jLlByaXZpbGVnZQBleGNlcHRpb25fbWVzc2FnZQBDcnN5bmNfX1N5bmNNZXNzYWdlAGNyc3luYy5TeW5jTWVzc2FnZQBiYXNlIGlzIG5vdCBiZWZvcmUgc2hhcmVkIGhlYWRzLCB0byBwcm9iZSBtb2RlAHJlY3YgZXJyLCB0byBwcm9iZSBtb2RlAGJhc2UgaXMgbm90IGJlZm9yZSBsYXN0IHN5bmMsIHRvIHByb2JlIG1vZGUAR2FsYWN0dXNfX1BlZXJNb2RlAGdhbGFjdHVzLlBlZXJNb2RlAEFzeW5jTW9kZQBBZGFwdG9yIHN1Z2dlc3QgZGlzY29ubmVjdCBmb3IgbmFtZXNwYWNlAE5hbWVzcGFjZQBVcHRpbWVJblNlY29uZABzZXRfZW5kAHJhbmdlX2VuZABHZXRDaGFuZ2VzVG9TZW5kAENyc3luY19fU2hha2VoYW5kAGNyc3luYy5TaGFrZWhhbmQAcmVtb3ZlZABSZW1vdmVkAGNvbm5lY3Rpb24gdGltZW91dGVkAGxvY2FsZSBub3Qgc3VwcG9ydGVkAGtBbHJlYWR5SW5pdGVkAGlnbm9yZV9leHBpcmVkAGRlY29kZSBvcHMgZmFpbGVkAHBhcnNlIGZvbGRlciBtc2cgZmFpbGVkAGNsb2NrX2dldHRpbWUoQ0xPQ0tfUkVBTFRJTUUpIGZhaWxlZABjbG9ja19nZXR0aW1lKENMT0NLX01PTk9UT05JQykgZmFpbGVkAHByb3RvYnVmX2NfbWVzc2FnZV9mcmVlX3VucGFja2VkAGNyc3luY19fZGF0YWJhc2VfcmVxdWVzdF9fZnJlZV91bnBhY2tlZABjcnN5bmNfX3Blcm1pc3Npb25fZXZlbnRfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX3JlbmV3X2tleV9yZXNwb25zZV9fZnJlZV91bnBhY2tlZABnYWxhY3R1c19fZ2V0X3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGNyc3luY19fcmFuZ2VfZG9jc19yZXNwb25zZV9fZnJlZV91bnBhY2tlZABnYWxhY3R1c19fZG9jX29wX3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGdhbGFjdHVzX19lc3RhYmxpc2hfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19lc3RhYmxpc2hfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX3NoYWtlX2hhbmRfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19xdWVyeV9kb2NfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX3B1dF9kb2NfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19nZXRfZG9jX3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGdhbGFjdHVzX19kZWxldGVfZG9jX3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGNyc3luY19fc3luY19tZXNzYWdlX19mcmVlX3VucGFja2VkAHN1Y2Nlc3NmdWxseSBzeW5jZWQAaGVhZHMgZXF1YWwsIHBlZXIgc3luY2VkAFdlZABwYWNrX2J1ZmZlcl9wYWNrZWRfcGF5bG9hZABHYWxhY3R1c19fUXVvcnVtTG9hZABnYWxhY3R1cy5RdW9ydW1Mb2FkAFRvdGFsTG9hZABDUlNZTkNfX09QRVJBVElPTl9fUmVhZABMZWFzZUlkAGNyc3luYwBEZWMAbWVkaWFfc2VydmVyX2xpYnJhcnkvdGhpcmRfcGFydHkvZXRjZC1jL3Byb3RvYnVmLWMuYwBtZWRpYV9zZXJ2ZXJfbGlicmFyeS90aGlyZF9wYXJ0eS9ldGNkLWMvcHJveHkucGItYy5jAG1lZGlhX3NlcnZlcl9saWJyYXJ5L3RoaXJkX3BhcnR5L2V0Y2QtYy9jcnN5bmMucGItYy5jAG1lZGlhX3NlcnZlcl9saWJyYXJ5L3RoaXJkX3BhcnR5L2V0Y2QtYy9zeW5jLnBiLWMuYwBGZWIAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwOCAoQlMpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMDggb3IgXGIAZGVsdGEAc3RkOjpjaGFyX3RyYWl0czxjaGFyX3R5cGU+Ojp0b19jaGFyX3R5cGUoY3VycmVudCkgPT0gbGl0ZXJhbF90ZXh0WzBdAF1bAEFaAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9QUk9YWQAlYSAlYiAlZCAlSDolTTolUyAlWQAlLjJoaFgAUE9TSVgAR0FMQUNUVVNfX1BST1BFUlRZX19QUk9QRVJUWV9UWVBFX19MSVNUAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9DTFVTVEVSX0NMSUVOVABHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfQ0xJRU5UAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9TSURFQ0FSX0RJUkVDVABHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfRU1TAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9NSUdSQVRPUgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfQ09PUkRJTkFUT1IAQ0JPUgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfU1lOQ19DRU5URVIAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX1NJREVDQVIAR0FMQUNUVVNfX1BFRVJfUFJPVE9DT0xfX1BST1RPQ09MX1RDUABHQUxBQ1RVU19fUFJPUEVSVFlfX1BST1BFUlRZX1RZUEVfX01BUABVQkpTT04AQlNPTgBOQU4AUE0AQU0AVFRMAHJ2LT5kZXNjcmlwdG9yICE9IE5VTEwATENfQUxMAGtPSwBHQUxBQ1RVU19fUFJPUEVSVFlfX1BST1BFUlRZX1RZUEVfX1NUUklORwBMQU5HAElORgAweDAwMDAgPD0gY29kZXBvaW50ICYmIGNvZGVwb2ludCA8PSAweEZGRkYAMHgwMCA8PSBjb2RlcG9pbnQgJiYgY29kZXBvaW50IDw9IDB4MTBGRkZGAGludmFsaWQgc3RyaW5nOiBzdXJyb2dhdGUgVStEODAwLi5VK0RCRkYgbXVzdCBiZSBmb2xsb3dlZCBieSBVK0RDMDAuLlUrREZGRgBpbnZhbGlkIHN0cmluZzogc3Vycm9nYXRlIFUrREMwMC4uVStERkZGIG11c3QgZm9sbG93IFUrRDgwMC4uVStEQkZGAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMUYgKFVTKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDFGAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMEYgKFNJKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDBGAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMUUgKFJTKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDFFAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMEUgKFNPKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDBFAElEAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMUQgKEdTKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDFEAEdBTEFDVFVTX19QRUVSX1BST1RPQ09MX19QUk9UT0NPTF9HUlBDACgobWVzc2FnZSktPmRlc2NyaXB0b3IpLT5tYWdpYyA9PSBQUk9UT0JVRl9DX19NRVNTQUdFX0RFU0NSSVBUT1JfTUFHSUMAKGRlc2MpLT5tYWdpYyA9PSBQUk9UT0JVRl9DX19NRVNTQUdFX0RFU0NSSVBUT1JfTUFHSUMASURDAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMUMgKEZTKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDFDAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMUIgKEVTQykgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxQgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDBCIChWVCkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwQgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDFBIChTVUIpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMUEAPGVuZCBvZiBmaWxlPgA8VSslLjRYPgBvcGVyYXRvcj09ACwgZXJyOgByZWN2IHVyaToALCBzZXFpZDoAMDEyMzQ1Njc4OQBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDE5IChFTSkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxOQBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDE4IChDQU4pIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMTgAQy5VVEYtOABpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDE3IChFVEIpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMTcAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwNyAoQkVMKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDA3AGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMTYgKFNZTikgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxNgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDA2IChBQ0spIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMDYAcmFuZ2VzLnNpemUoKSA9PSAyIHx8IHJhbmdlcy5zaXplKCkgPT0gNCB8fCByYW5nZXMuc2l6ZSgpID09IDYAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAxNSAoTkFLKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDE1AGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMDUgKEVOUSkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwNQBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDE0IChEQzQpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMTQAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwNCAoRU9UKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDA0AGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMTMgKERDMykgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxMwBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDAzIChFVFgpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMDMAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAxMiAoREMyKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDEyAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMDIgKFNUWCkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwMgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDExIChEQzEpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMTEAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwMSAoU09IKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDAxAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMTAgKERMRSkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxMABpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDAwIChOVUwpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMDAALwAgYWxyZWFkeSB0aW1lb3V0LgBbanNvbi5leGNlcHRpb24uACwgaWdub3JlLgAsACt0b21ic3RvbmUrAG9wZXJhdG9yKysAb3BlcmF0b3IqAChudWxsKQAhdG9rZW5fc3RyaW5nLmVtcHR5KCkAIWhhdmUuZW1wdHkoKQByZWZfc3RhY2suYmFjaygpLT5pc19hcnJheSgpIHx8IHJlZl9zdGFjay5iYWNrKCktPmlzX29iamVjdCgpAGVuZHB0ciA9PSB0b2tlbl9idWZmZXIuZGF0YSgpICsgdG9rZW5fYnVmZmVyLnNpemUoKQBtX2l0LmFycmF5X2l0ZXJhdG9yICE9IG1fb2JqZWN0LT5tX3ZhbHVlLmFycmF5LT5lbmQoKQBtX2l0Lm9iamVjdF9pdGVyYXRvciAhPSBtX29iamVjdC0+bV92YWx1ZS5vYmplY3QtPmVuZCgpAGN1cnJlbnQgPT0gJ3UnAGludmFsaWQgY29tbWVudDsgbWlzc2luZyBjbG9zaW5nICcqLycAaW52YWxpZCBjb21tZW50OyBleHBlY3RpbmcgJy8nIG9yICcqJyBhZnRlciAnLycAaW52YWxpZCBudW1iZXI7IGV4cGVjdGVkIGRpZ2l0IGFmdGVyICcuJwBpbnZhbGlkIG51bWJlcjsgZXhwZWN0ZWQgZGlnaXQgYWZ0ZXIgJy0nAGN1cnJlbnQgPT0gJ1wiJwAgICAgIgAgY29sbCBtc2cgdHlwZSBkb2VzIG5vdCBtYXRjaCEAc3luYyBtc2cgdHlwZSBkb2VzIG5vdCBtYXRjaCEAUHVyZSB2aXJ0dWFsIGZ1bmN0aW9uIGNhbGxlZCEAYnl0ZSBhcnJheSBsZW5ndGggY2Fubm90IGJlIG5lZ2F0aXZlLCBpcyAAc3RyaW5nIGxlbmd0aCBtdXN0IGJlIGF0IGxlYXN0IDEsIGlzIABTZXQgbmFtZXNwYWNlIGFzIAAgd2l0aCBlcnJubyAARmFpbGVkIHRvIGVzdGFibGlzaCBjb25uIABSZWNlaXZlIHdyb25nIHRlcm0gAFVua25vd24gdXJpIAAgb24gdXJpIABzeW50YXggZXJyb3Igd2hpbGUgcGFyc2luZyAAIGF0IGJ5dGUgAGNvbW1hbmQgAFJlY2VpdmUgdW5rb3duIHNlcWlkIAAvX2ZvbGRlcl8gAF0gAGludmFsaWQgbnVtYmVyIHRleHQ6IABkZXAgbm90IG1ldDogAGNoYW5nZSBleGlzdHM6IAAgaW5pdGlhbCBkb2NzOiAALCBlcnI6IAAsIGxvY2FsX2FkZHI6IABlc3RhYmxpc2ggY29ubmVjdGlvbiBzdWNjZXNzZnVsbHksIHJlbW90ZV9hZGRyOiAAaW52YWxpZCBvcCBhY3Rpb246IAAsIGdlbmVyYXRpb246IAAsIGN1cnJlbnQgdmVyc2lvbjogACwgdmVyc2lvbjogAGRlbGV0ZSBjb2xsOiAAc2VudCB1cmk6IAByZWN2IG1zZzogAGlnbm9yZSBtc2c6IABuZWVkZWQgaGFzaCBtaXNzaW5nOiAAaW5pdGlhbCBoZWFkcyBzaXplOiAALCByZWN2IGRpZmYgc2l6ZTogACwgZ2VuIGRpZmYgc2l6ZTogAHJlY2VpdmluZyBzbmFwc2hvdCwgc2l6ZTogACBpbml0aWFsIGRvY3MgcmVtb3ZlOiAAbmVzdGVkIHZhbHVlOiAAIGluaXRpYWwgZG9jcyBvdmVyd3JpdGU6IAByZW1vdmUgY2FjaGU6IAByZXF1ZXN0IGZhaWxlZCwgc2VxX2lkOiAAUmVxdWVzdCBmYWlsZWQsIG9wX2lkOiAAZm9sZGVyIGluaXRpYWxpemVkOiAAcmVjdiBtc2cgZmFpbGVkOiAAcmVjdiBmb2xkZXIgbXNnIGZhaWxlZDogAHBhcnNlIGRvYyBtc2cgZmFpbGVkOiAAIHByb2Nlc3MgZm9sZGVyIHN5bmMgZmFpbGVkOiAAcHJvY2VzcyBkb2Mgc3luYyBmYWlsZWQ6IABjaGFuZ2UgY2Fubm90IGJlIG1lcmdlZDogACB2cy4gAGRyb3BwaW5nIG91dGRhdGVkIG1zZywgAHsKAEHY/wALRSoAAAArAAAALAAAAC0AAAAuAAAALwAAADAAAAAxAAAAMgAAADMAAAA0AAAA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OwAAAD0AAABDAAAARwAAAEkAAABPAAAAUwAAAFkAAABhAAAAZQAAAGcAAABrAAAAbQAAAHEAAAB5AAAAfwAAAIMAAACJAAAAiwAAAI8AAACVAAAAlwAAAJ0AAACjAAAApwAAAKkAAACtAAAAswAAALUAAAC7AAAAvwAAAMEAAADFAAAAxwAAANEAAAAAAAAAfIUAAMMBAADEAQAAxQEAAMYBAADHAQAAyAEAAMkBAADKAQAAywEAAMwBAADNAQAAzgEAAM8BAADQAQAABAAAAAAAAAC0hQAA0QEAANIBAAD8/////P///7SFAADTAQAA1AEAAKyEAADAhAAAAAAAABCGAADVAQAA1gEAAMUBAADGAQAA1wEAANgBAADJAQAAygEAAMsBAADZAQAAzQEAANoBAADPAQAA2wEAAE5TdDNfXzI5YmFzaWNfaW9zSWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFAAAAWLIAABCFAAD0hgAATlN0M19fMjE1YmFzaWNfc3RyZWFtYnVmSWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFAAAAADCyAABIhQAATlN0M19fMjEzYmFzaWNfb3N0cmVhbUljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRQAAtLIAAISFAAAAAAAAAQAAADyFAAAD9P//TlN0M19fMjE1YmFzaWNfc3RyaW5nYnVmSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAABYsgAAzIUAAHyFAAA4AAAAAAAAAMSGAADcAQAA3QEAAMj////I////xIYAAN4BAADfAQAAKIYAAGCGAAB0hgAAPIYAADgAAAAAAAAAtIUAANEBAADSAQAAyP///8j///+0hQAA0wEAANQBAABOU3QzX18yMTliYXNpY19vc3RyaW5nc3RyZWFtSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAABYsgAAfIYAALSFAAAAAAAA9IYAAOABAADhAQAATlN0M19fMjhpb3NfYmFzZUUAAAAwsgAA4IYAAAAAAAD/////////////////////////////////////////////////////////////////AAECAwQFBgcICf////////8KCwwNDg8QERITFBUWFxgZGhscHR4fICEiI////////woLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIj/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wABAgQHAwYFAAAAAAAAAAIAAMADAADABAAAwAUAAMAGAADABwAAwAgAAMAJAADACgAAwAsAAMAMAADADQAAwA4AAMAPAADAEAAAwBEAAMASAADAEwAAwBQAAMAVAADAFgAAwBcAAMAYAADAGQAAwBoAAMAbAADAHAAAwB0AAMAeAADAHwAAwAAAALMBAADDAgAAwwMAAMMEAADDBQAAwwYAAMMHAADDCAAAwwkAAMMKAADDCwAAwwwAAMMNAADTDgAAww8AAMMAAAy7AQAMwwIADMMDAAzDBAAM2wAAAADeEgSVAAAAAP///////////////+CIAAAUAAAAQy5VVEYtOABBsJICCwL0iABB0JICC0pMQ19DVFlQRQAAAABMQ19OVU1FUklDAABMQ19USU1FAAAAAABMQ19DT0xMQVRFAABMQ19NT05FVEFSWQBMQ19NRVNTQUdFUwCgiwBBpJcCC/kDAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAACYAAAAnAAAAKAAAACkAAAAqAAAAKwAAACwAAAAtAAAALgAAAC8AAAAwAAAAMQAAADIAAAAzAAAANAAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAADsAAAA8AAAAPQAAAD4AAAA/AAAAQAAAAEEAAABCAAAAQwAAAEQAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAABLAAAATAAAAE0AAABOAAAATwAAAFAAAABRAAAAUgAAAFMAAABUAAAAVQAAAFYAAABXAAAAWAAAAFkAAABaAAAAWwAAAFwAAABdAAAAXgAAAF8AAABgAAAAQQAAAEIAAABDAAAARAAAAEUAAABGAAAARwAAAEgAAABJAAAASgAAAEsAAABMAAAATQAAAE4AAABPAAAAUAAAAFEAAABSAAAAUwAAAFQAAABVAAAAVgAAAFcAAABYAAAAWQAAAFoAAAB7AAAAfAAAAH0AAAB+AAAAfwBBoJ8CCwKwkQBBtKMCC/kDAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAACYAAAAnAAAAKAAAACkAAAAqAAAAKwAAACwAAAAtAAAALgAAAC8AAAAwAAAAMQAAADIAAAAzAAAANAAAADUAAAA2AAAANwAAADgAAAA5AAAAOgAAADsAAAA8AAAAPQAAAD4AAAA/AAAAQAAAAGEAAABiAAAAYwAAAGQAAABlAAAAZgAAAGcAAABoAAAAaQAAAGoAAABrAAAAbAAAAG0AAABuAAAAbwAAAHAAAABxAAAAcgAAAHMAAAB0AAAAdQAAAHYAAAB3AAAAeAAAAHkAAAB6AAAAWwAAAFwAAABdAAAAXgAAAF8AAABgAAAAYQAAAGIAAABjAAAAZAAAAGUAAABmAAAAZwAAAGgAAABpAAAAagAAAGsAAABsAAAAbQAAAG4AAABvAAAAcAAAAHEAAAByAAAAcwAAAHQAAAB1AAAAdgAAAHcAAAB4AAAAeQAAAHoAAAB7AAAAfAAAAH0AAAB+AAAAfwBBsKsCCzEwMTIzNDU2Nzg5YWJjZGVmQUJDREVGeFgrLXBQaUluTgAlSTolTTolUyAlcCVIOiVNAEHwqwILgQElAAAAbQAAAC8AAAAlAAAAZAAAAC8AAAAlAAAAeQAAACUAAABZAAAALQAAACUAAABtAAAALQAAACUAAABkAAAAJQAAAEkAAAA6AAAAJQAAAE0AAAA6AAAAJQAAAFMAAAAgAAAAJQAAAHAAAAAAAAAAJQAAAEgAAAA6AAAAJQAAAE0AQYCtAgtmJQAAAEgAAAA6AAAAJQAAAE0AAAA6AAAAJQAAAFMAAAAAAAAA9J8AAPcBAAD4AQAA+QEAAAAAAABUoAAA+gEAAPsBAAD5AQAA/AEAAP0BAAD+AQAA/wEAAAACAAABAgAAAgIAAAMCAEHwrQIL/QMEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAFAgAABQAAAAUAAAAFAAAABQAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMCAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAABCAQAAQgEAAEIBAABCAQAAQgEAAEIBAABCAQAAQgEAAEIBAABCAQAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAggAAACoBAAAqAQAAKgEAACoBAAAqAQAAKgEAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAMgEAADIBAAAyAQAAMgEAADIBAAAyAQAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAACCAAAAggAAAIIAAACCAAAABABB9LUCC+0CvJ8AAAQCAAAFAgAA+QEAAAYCAAAHAgAACAIAAAkCAAAKAgAACwIAAAwCAAAAAAAAjKAAAA0CAAAOAgAA+QEAAA8CAAAQAgAAEQIAABICAAATAgAAAAAAALCgAAAUAgAAFQIAAPkBAAAWAgAAFwIAABgCAAAZAgAAGgIAAHQAAAByAAAAdQAAAGUAAAAAAAAAZgAAAGEAAABsAAAAcwAAAGUAAAAAAAAAJQAAAG0AAAAvAAAAJQAAAGQAAAAvAAAAJQAAAHkAAAAAAAAAJQAAAEgAAAA6AAAAJQAAAE0AAAA6AAAAJQAAAFMAAAAAAAAAJQAAAGEAAAAgAAAAJQAAAGIAAAAgAAAAJQAAAGQAAAAgAAAAJQAAAEgAAAA6AAAAJQAAAE0AAAA6AAAAJQAAAFMAAAAgAAAAJQAAAFkAAAAAAAAAJQAAAEkAAAA6AAAAJQAAAE0AAAA6AAAAJQAAAFMAAAAgAAAAJQAAAHAAQey4Agv+CpScAAAbAgAAHAIAAPkBAABOU3QzX18yNmxvY2FsZTVmYWNldEUAAABYsgAAfJwAAMCwAAAAAAAAFJ0AABsCAAAdAgAA+QEAAB4CAAAfAgAAIAIAACECAAAiAgAAIwIAACQCAAAlAgAAJgIAACcCAAAoAgAAKQIAAE5TdDNfXzI1Y3R5cGVJd0VFAE5TdDNfXzIxMGN0eXBlX2Jhc2VFAAAwsgAA9pwAALSyAADknAAAAAAAAAIAAACUnAAAAgAAAAydAAACAAAAAAAAAKidAAAbAgAAKgIAAPkBAAArAgAALAIAAC0CAAAuAgAALwIAADACAAAxAgAATlN0M19fMjdjb2RlY3Z0SWNjMTFfX21ic3RhdGVfdEVFAE5TdDNfXzIxMmNvZGVjdnRfYmFzZUUAAAAAMLIAAIadAAC0sgAAZJ0AAAAAAAACAAAAlJwAAAIAAACgnQAAAgAAAAAAAAAcngAAGwIAADICAAD5AQAAMwIAADQCAAA1AgAANgIAADcCAAA4AgAAOQIAAE5TdDNfXzI3Y29kZWN2dElEc2MxMV9fbWJzdGF0ZV90RUUAALSyAAD4nQAAAAAAAAIAAACUnAAAAgAAAKCdAAACAAAAAAAAAJCeAAAbAgAAOgIAAPkBAAA7AgAAPAIAAD0CAAA+AgAAPwIAAEACAABBAgAATlN0M19fMjdjb2RlY3Z0SURzRHUxMV9fbWJzdGF0ZV90RUUAtLIAAGyeAAAAAAAAAgAAAJScAAACAAAAoJ0AAAIAAAAAAAAABJ8AABsCAABCAgAA+QEAAEMCAABEAgAARQIAAEYCAABHAgAASAIAAEkCAABOU3QzX18yN2NvZGVjdnRJRGljMTFfX21ic3RhdGVfdEVFAAC0sgAA4J4AAAAAAAACAAAAlJwAAAIAAACgnQAAAgAAAAAAAAB4nwAAGwIAAEoCAAD5AQAASwIAAEwCAABNAgAATgIAAE8CAABQAgAAUQIAAE5TdDNfXzI3Y29kZWN2dElEaUR1MTFfX21ic3RhdGVfdEVFALSyAABUnwAAAAAAAAIAAACUnAAAAgAAAKCdAAACAAAATlN0M19fMjdjb2RlY3Z0SXdjMTFfX21ic3RhdGVfdEVFAAAAtLIAAJifAAAAAAAAAgAAAJScAAACAAAAoJ0AAAIAAABOU3QzX18yNmxvY2FsZTVfX2ltcEUAAABYsgAA3J8AAJScAABOU3QzX18yN2NvbGxhdGVJY0VFAFiyAAAAoAAAlJwAAE5TdDNfXzI3Y29sbGF0ZUl3RUUAWLIAACCgAACUnAAATlN0M19fMjVjdHlwZUljRUUAAAC0sgAAQKAAAAAAAAACAAAAlJwAAAIAAAAMnQAAAgAAAE5TdDNfXzI4bnVtcHVuY3RJY0VFAAAAAFiyAAB0oAAAlJwAAE5TdDNfXzI4bnVtcHVuY3RJd0VFAAAAAFiyAACYoAAAlJwAAAAAAAAUoAAAUgIAAFMCAAD5AQAAVAIAAFUCAABWAgAAAAAAADSgAABXAgAAWAIAAPkBAABZAgAAWgIAAFsCAAAAAAAA0KEAABsCAABcAgAA+QEAAF0CAABeAgAAXwIAAGACAABhAgAAYgIAAGMCAABkAgAAZQIAAGYCAABnAgAATlN0M19fMjdudW1fZ2V0SWNOU18xOWlzdHJlYW1idWZfaXRlcmF0b3JJY05TXzExY2hhcl90cmFpdHNJY0VFRUVFRQBOU3QzX18yOV9fbnVtX2dldEljRUUATlN0M19fMjE0X19udW1fZ2V0X2Jhc2VFAAAwsgAAlqEAALSyAACAoQAAAAAAAAEAAACwoQAAAAAAALSyAAA8oQAAAAAAAAIAAACUnAAAAgAAALihAEH0wwILygGkogAAGwIAAGgCAAD5AQAAaQIAAGoCAABrAgAAbAIAAG0CAABuAgAAbwIAAHACAABxAgAAcgIAAHMCAABOU3QzX18yN251bV9nZXRJd05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzI5X19udW1fZ2V0SXdFRQAAALSyAAB0ogAAAAAAAAEAAACwoQAAAAAAALSyAAAwogAAAAAAAAIAAACUnAAAAgAAAIyiAEHIxQIL3gGMowAAGwIAAHQCAAD5AQAAdQIAAHYCAAB3AgAAeAIAAHkCAAB6AgAAewIAAHwCAABOU3QzX18yN251bV9wdXRJY05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzI5X19udW1fcHV0SWNFRQBOU3QzX18yMTRfX251bV9wdXRfYmFzZUUAADCyAABSowAAtLIAADyjAAAAAAAAAQAAAGyjAAAAAAAAtLIAAPiiAAAAAAAAAgAAAJScAAACAAAAdKMAQbDHAgu+AVSkAAAbAgAAfQIAAPkBAAB+AgAAfwIAAIACAACBAgAAggIAAIMCAACEAgAAhQIAAE5TdDNfXzI3bnVtX3B1dEl3TlNfMTlvc3RyZWFtYnVmX2l0ZXJhdG9ySXdOU18xMWNoYXJfdHJhaXRzSXdFRUVFRUUATlN0M19fMjlfX251bV9wdXRJd0VFAAAAtLIAACSkAAAAAAAAAQAAAGyjAAAAAAAAtLIAAOCjAAAAAAAAAgAAAJScAAACAAAAPKQAQfjIAguaC1SlAACGAgAAhwIAAPkBAACIAgAAiQIAAIoCAACLAgAAjAIAAI0CAACOAgAA+P///1SlAACPAgAAkAIAAJECAACSAgAAkwIAAJQCAACVAgAATlN0M19fMjh0aW1lX2dldEljTlNfMTlpc3RyZWFtYnVmX2l0ZXJhdG9ySWNOU18xMWNoYXJfdHJhaXRzSWNFRUVFRUUATlN0M19fMjl0aW1lX2Jhc2VFADCyAAANpQAATlN0M19fMjIwX190aW1lX2dldF9jX3N0b3JhZ2VJY0VFAAAAMLIAACilAAC0sgAAyKQAAAAAAAADAAAAlJwAAAIAAAAgpQAAAgAAAEylAAAACAAAAAAAAECmAACWAgAAlwIAAPkBAACYAgAAmQIAAJoCAACbAgAAnAIAAJ0CAACeAgAA+P///0CmAACfAgAAoAIAAKECAACiAgAAowIAAKQCAAClAgAATlN0M19fMjh0aW1lX2dldEl3TlNfMTlpc3RyZWFtYnVmX2l0ZXJhdG9ySXdOU18xMWNoYXJfdHJhaXRzSXdFRUVFRUUATlN0M19fMjIwX190aW1lX2dldF9jX3N0b3JhZ2VJd0VFAAAwsgAAFaYAALSyAADQpQAAAAAAAAMAAACUnAAAAgAAACClAAACAAAAOKYAAAAIAAAAAAAA5KYAAKYCAACnAgAA+QEAAKgCAABOU3QzX18yOHRpbWVfcHV0SWNOU18xOW9zdHJlYW1idWZfaXRlcmF0b3JJY05TXzExY2hhcl90cmFpdHNJY0VFRUVFRQBOU3QzX18yMTBfX3RpbWVfcHV0RQAAADCyAADFpgAAtLIAAICmAAAAAAAAAgAAAJScAAACAAAA3KYAAAAIAAAAAAAAZKcAAKkCAACqAgAA+QEAAKsCAABOU3QzX18yOHRpbWVfcHV0SXdOU18xOW9zdHJlYW1idWZfaXRlcmF0b3JJd05TXzExY2hhcl90cmFpdHNJd0VFRUVFRQAAAAC0sgAAHKcAAAAAAAACAAAAlJwAAAIAAADcpgAAAAgAAAAAAAD4pwAAGwIAAKwCAAD5AQAArQIAAK4CAACvAgAAsAIAALECAACyAgAAswIAALQCAAC1AgAATlN0M19fMjEwbW9uZXlwdW5jdEljTGIwRUVFAE5TdDNfXzIxMG1vbmV5X2Jhc2VFAAAAADCyAADYpwAAtLIAALynAAAAAAAAAgAAAJScAAACAAAA8KcAAAIAAAAAAAAAbKgAABsCAAC2AgAA+QEAALcCAAC4AgAAuQIAALoCAAC7AgAAvAIAAL0CAAC+AgAAvwIAAE5TdDNfXzIxMG1vbmV5cHVuY3RJY0xiMUVFRQC0sgAAUKgAAAAAAAACAAAAlJwAAAIAAADwpwAAAgAAAAAAAADgqAAAGwIAAMACAAD5AQAAwQIAAMICAADDAgAAxAIAAMUCAADGAgAAxwIAAMgCAADJAgAATlN0M19fMjEwbW9uZXlwdW5jdEl3TGIwRUVFALSyAADEqAAAAAAAAAIAAACUnAAAAgAAAPCnAAACAAAAAAAAAFSpAAAbAgAAygIAAPkBAADLAgAAzAIAAM0CAADOAgAAzwIAANACAADRAgAA0gIAANMCAABOU3QzX18yMTBtb25leXB1bmN0SXdMYjFFRUUAtLIAADipAAAAAAAAAgAAAJScAAACAAAA8KcAAAIAAAAAAAAA+KkAABsCAADUAgAA+QEAANUCAADWAgAATlN0M19fMjltb25leV9nZXRJY05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SWNFRQAAMLIAANapAAC0sgAAkKkAAAAAAAACAAAAlJwAAAIAAADwqQBBnNQCC5oBnKoAABsCAADXAgAA+QEAANgCAADZAgAATlN0M19fMjltb25leV9nZXRJd05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SXdFRQAAMLIAAHqqAAC0sgAANKoAAAAAAAACAAAAlJwAAAIAAACUqgBBwNUCC5oBQKsAABsCAADaAgAA+QEAANsCAADcAgAATlN0M19fMjltb25leV9wdXRJY05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfcHV0SWNFRQAAMLIAAB6rAAC0sgAA2KoAAAAAAAACAAAAlJwAAAIAAAA4qwBB5NYCC5oB5KsAABsCAADdAgAA+QEAAN4CAADfAgAATlN0M19fMjltb25leV9wdXRJd05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfcHV0SXdFRQAAMLIAAMKrAAC0sgAAfKsAAAAAAAACAAAAlJwAAAIAAADcqwBBiNgCC7kIXKwAABsCAADgAgAA+QEAAOECAADiAgAA4wIAAE5TdDNfXzI4bWVzc2FnZXNJY0VFAE5TdDNfXzIxM21lc3NhZ2VzX2Jhc2VFAAAAADCyAAA5rAAAtLIAACSsAAAAAAAAAgAAAJScAAACAAAAVKwAAAIAAAAAAAAAtKwAABsCAADkAgAA+QEAAOUCAADmAgAA5wIAAE5TdDNfXzI4bWVzc2FnZXNJd0VFAAAAALSyAACcrAAAAAAAAAIAAACUnAAAAgAAAFSsAAACAAAAUwAAAHUAAABuAAAAZAAAAGEAAAB5AAAAAAAAAE0AAABvAAAAbgAAAGQAAABhAAAAeQAAAAAAAABUAAAAdQAAAGUAAABzAAAAZAAAAGEAAAB5AAAAAAAAAFcAAABlAAAAZAAAAG4AAABlAAAAcwAAAGQAAABhAAAAeQAAAAAAAABUAAAAaAAAAHUAAAByAAAAcwAAAGQAAABhAAAAeQAAAAAAAABGAAAAcgAAAGkAAABkAAAAYQAAAHkAAAAAAAAAUwAAAGEAAAB0AAAAdQAAAHIAAABkAAAAYQAAAHkAAAAAAAAAUwAAAHUAAABuAAAAAAAAAE0AAABvAAAAbgAAAAAAAABUAAAAdQAAAGUAAAAAAAAAVwAAAGUAAABkAAAAAAAAAFQAAABoAAAAdQAAAAAAAABGAAAAcgAAAGkAAAAAAAAAUwAAAGEAAAB0AAAAAAAAAEoAAABhAAAAbgAAAHUAAABhAAAAcgAAAHkAAAAAAAAARgAAAGUAAABiAAAAcgAAAHUAAABhAAAAcgAAAHkAAAAAAAAATQAAAGEAAAByAAAAYwAAAGgAAAAAAAAAQQAAAHAAAAByAAAAaQAAAGwAAAAAAAAATQAAAGEAAAB5AAAAAAAAAEoAAAB1AAAAbgAAAGUAAAAAAAAASgAAAHUAAABsAAAAeQAAAAAAAABBAAAAdQAAAGcAAAB1AAAAcwAAAHQAAAAAAAAAUwAAAGUAAABwAAAAdAAAAGUAAABtAAAAYgAAAGUAAAByAAAAAAAAAE8AAABjAAAAdAAAAG8AAABiAAAAZQAAAHIAAAAAAAAATgAAAG8AAAB2AAAAZQAAAG0AAABiAAAAZQAAAHIAAAAAAAAARAAAAGUAAABjAAAAZQAAAG0AAABiAAAAZQAAAHIAAAAAAAAASgAAAGEAAABuAAAAAAAAAEYAAABlAAAAYgAAAAAAAABNAAAAYQAAAHIAAAAAAAAAQQAAAHAAAAByAAAAAAAAAEoAAAB1AAAAbgAAAAAAAABKAAAAdQAAAGwAAAAAAAAAQQAAAHUAAABnAAAAAAAAAFMAAABlAAAAcAAAAAAAAABPAAAAYwAAAHQAAAAAAAAATgAAAG8AAAB2AAAAAAAAAEQAAABlAAAAYwAAAAAAAABBAAAATQAAAAAAAABQAAAATQBBzOACC3pMpQAAjwIAAJACAACRAgAAkgIAAJMCAACUAgAAlQIAAAAAAAA4pgAAnwIAAKACAAChAgAAogIAAKMCAACkAgAApQIAAAAAAADAsAAA6AIAAOkCAADqAgAATlN0M19fMjE0X19zaGFyZWRfY291bnRFAAAAADCyAACksABB1OECC6oFCgAAAGQAAADoAwAAECcAAKCGAQBAQg8AgJaYAADh9QUAypo7AAAAAAAAAAAwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OU4xMF9fY3h4YWJpdjExNl9fc2hpbV90eXBlX2luZm9FAAAAAFiyAADIsQAAeLMAAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQAAAFiyAAD4sQAA7LEAAAAAAAAcsgAA6wIAAOwCAADtAgAA7gIAAO8CAADwAgAA8QIAAPICAAAAAAAAoLIAAOsCAADzAgAA7QIAAO4CAADvAgAA9AIAAPUCAAD2AgAATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAAAAAFiyAAB4sgAAHLIAAAAAAAD8sgAA6wIAAPcCAADtAgAA7gIAAO8CAAD4AgAA+QIAAPoCAABOMTBfX2N4eGFiaXYxMjFfX3ZtaV9jbGFzc190eXBlX2luZm9FAAAAWLIAANSyAAAcsgAAAAAAACyzAAD7AgAA/AIAAP0CAABTdDlleGNlcHRpb24AAAAAMLIAAByzAAAAAAAAXLMAAP4CAAD/AgAAAAMAAFN0MTNydW50aW1lX2Vycm9yAAAAWLIAAEizAAAsswAAU3Q5dHlwZV9pbmZvAAAAADCyAABoswBBgOcCCzABAAAAvQEAAL4BAAAAAAAAvwEAAAC/AQAlbS8lZC8leQAAAAglSDolTTolUwAAAAg=",M=function(e){for(;0<e.length;)e.shift()(c)};c.noExitRuntime;var U,x,P,G="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,F=function(e,t){if(e){var A=Q,n=e+t;for(t=e;A[t]&&!(t>=n);)++t;if(16<t-e&&A.buffer&&G)A=G.decode(A.subarray(e,t));else{for(n="";e<t;){var r=A[e++];if(128&r){var i=63&A[e++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|i);else{var o=63&A[e++];65536>(r=224==(240&r)?(15&r)<<12|i<<6|o:(7&r)<<18|i<<12|o<<6|63&A[e++])?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}A=n}}else A="";return A},K={},V=function e(){if(!e.strings){var t,A={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==("undefined"==typeof navigator?"undefined":ub(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"};for(t in K)void 0===K[t]?delete A[t]:A[t]=K[t];var n=[];for(t in A)n.push("".concat(t,"=").concat(A[t]));e.strings=n}return e.strings},Y=function(e){return 0==e%4&&(0!=e%100||0==e%400)},J=[31,29,31,30,31,30,31,31,30,31,30,31],q=[31,28,31,30,31,30,31,31,30,31,30,31],H=function(e){for(var t=0,A=0;A<e.length;++A){var n=e.charCodeAt(A);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++A):t+=3}return t},j=function(e,t,A,n){if(!(0<n))return 0;var r=A;n=A+n-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(A>=n)break;t[A++]=o}else{if(2047>=o){if(A+1>=n)break;t[A++]=192|o>>6}else{if(65535>=o){if(A+2>=n)break;t[A++]=224|o>>12}else{if(A+3>=n)break;t[A++]=240|o>>18,t[A++]=128|o>>12&63}t[A++]=128|o>>6&63}t[A++]=128|63&o}}return t[A]=0,A-r},W=function(e,t,A,n){function r(e,t,A){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=A[0]+e;return e}function o(e,t){return r(e,t,"0")}function a(e,t){function A(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=A(e.getFullYear()-t.getFullYear()))&&0===(n=A(e.getMonth()-t.getMonth()))&&(n=A(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){e:{var t=e.tm_yday;for(e=new Date(new Date(e.tm_year+1900,0,1).getTime());0<t;){var A=Y(e.getFullYear()),n=e.getMonth();if(!(t>(A=(A?J:q)[n])-e.getDate())){e.setDate(e.getDate()+t),t=e;break e}t-=A-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}t=e}return n=new Date(t.getFullYear(),0,4),e=new Date(t.getFullYear()+1,0,4),n=s(n),e=s(e),0>=a(n,t)?0>=a(e,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var u=m[n+40>>2];for(var g in n={tm_sec:v[n>>2],tm_min:v[n+4>>2],tm_hour:v[n+8>>2],tm_mday:v[n+12>>2],tm_mon:v[n+16>>2],tm_year:v[n+20>>2],tm_wday:v[n+24>>2],tm_yday:v[n+28>>2],tm_isdst:v[n+32>>2],tm_gmtoff:v[n+36>>2],tm_zone:u?F(u):""},A=F(A),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})A=A.replace(new RegExp(g,"g"),u[g]);var I="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),l="January February March April May June July August September October November December".split(" ");for(g in u={"%a":function(e){return I[e.tm_wday].substring(0,3)},"%A":function(e){return I[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return o((e.tm_year+1900)/100|0,2)},"%d":function(e){return o(e.tm_mday,2)},"%e":function(e){return r(e.tm_mday,2," ")},"%g":function(e){return c(e).toString().substring(2)},"%G":c,"%H":function(e){return o(e.tm_hour,2)},"%I":function(e){return 0==(e=e.tm_hour)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=e.tm_mday,A=Y(e.tm_year+1900)?J:q,n=0,r=0;r<=e.tm_mon-1;n+=A[r++]);return o(t+n,3)},"%m":function(e){return o(e.tm_mon+1,2)},"%M":function(e){return o(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.tm_hour&&12>e.tm_hour?"AM":"PM"},"%S":function(e){return o(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){return o(Math.floor((e.tm_yday+7-e.tm_wday)/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if(2>=(e.tm_wday+371-e.tm_yday-2)%7&&t++,t)53==t&&(4==(A=(e.tm_wday+371-e.tm_yday)%7)||3==A&&Y(e.tm_year)||(t=1));else{t=52;var A=(e.tm_wday+7-e.tm_yday-1)%7;(4==A||5==A&&Y(e.tm_year%400-1))&&t++}return o(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){return o(Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=0<=(e=e.tm_gmtoff);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}},A=A.replace(/%%/g,"\0\0"),u)A.includes(g)&&(A=A.replace(new RegExp(g,"g"),u[g](n)));return(g=i(A=A.replace(/\0\0/g,"%"),!1)).length>t?0:(B.set(g,e),g.length-1)},X=[],z={a:function(e,t,n,r){A("Assertion failed: ".concat(F(e),", at: ")+[t?F(t):"unknown filename",n,r?F(r):"unknown function"])},f:function(){return 1},b:function(){A("")},g:function(){return Date.now()},i:function(){return performance.now()},h:function(t){var A=Q.length;if(2147483648<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=A*(1+.2/n);r=Math.min(r,t+100663296);var i=Math;r=Math.max(t,r);e:{i=(i.min.call(i,2147483648,r+(65536-r%65536)%65536)-f.buffer.byteLength+65535)/65536;try{f.grow(i),e();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},d:function(e,t){var A=0;return V().forEach((function(n,r){var i=t+A;for(r=m[e+4*r>>2]=i,i=0;i<n.length;++i)B[r++]=n.charCodeAt(i);B[r]=0,A+=n.length+1})),0},e:function(e,t){var A=V();m[e>>2]=A.length;var n=0;return A.forEach((function(e){return n+=e.length+1})),m[t>>2]=n,0},j:function(e,t){c.rtejsLog(e,F(t))},c:function(e,t,A,n,r){return W(e,t,A,n)}},Z=function(){function A(t,A){var n;return Z=t.exports,f=Z.k,e(),U=Z.m,D.unshift(Z.l),N--,null===(n=c.monitorRunDependencies)||void 0===n||n.call(c,N),0==N&&T&&(t=T,T=null,t()),Z}var n={a:z};if(t(),c.instantiateWasm)try{return c.instantiateWasm(n,A)}catch(e){p("Module.instantiateWasm callback failed with error: ".concat(e)),s(e)}return r(L,n,(function(e){A(e.instance)})).catch(s),{}}();if(c._free=function(e){return(c._free=Z.n)(e)},c._malloc=function(e){return(c._malloc=Z.o)(e)},c._rte_crdt_value_create=function(){return(c._rte_crdt_value_create=Z.p)()},c._rte_crdt_value_clone=function(e){return(c._rte_crdt_value_clone=Z.q)(e)},c._rte_crdt_value_destroy=function(e){return(c._rte_crdt_value_destroy=Z.r)(e)},c._rte_crdt_value_is_scalar=function(e){return(c._rte_crdt_value_is_scalar=Z.s)(e)},c._rte_crdt_value_is_map=function(e){return(c._rte_crdt_value_is_map=Z.t)(e)},c._rte_crdt_value_is_list=function(e){return(c._rte_crdt_value_is_list=Z.u)(e)},c._rte_crdt_value_get_scalar=function(e){return(c._rte_crdt_value_get_scalar=Z.v)(e)},c._rte_crdt_value_set_scalar=function(e){return(c._rte_crdt_value_set_scalar=Z.w)(e)},c._rte_crdt_value_set_map=function(e){return(c._rte_crdt_value_set_map=Z.x)(e)},c._rte_crdt_value_set_list=function(e){return(c._rte_crdt_value_set_list=Z.y)(e)},c._rte_crdt_scalar_value_set_i64=function(e,t){return(c._rte_crdt_scalar_value_set_i64=Z.z)(e,t)},c._rte_crdt_scalar_value_set_u64=function(e,t){return(c._rte_crdt_scalar_value_set_u64=Z.A)(e,t)},c._rte_crdt_scalar_value_set_double=function(e,t){return(c._rte_crdt_scalar_value_set_double=Z.B)(e,t)},c._rte_crdt_scalar_value_set_bool=function(e,t){return(c._rte_crdt_scalar_value_set_bool=Z.C)(e,t)},c._rte_crdt_scalar_value_set_bytes=function(e,t,A){return(c._rte_crdt_scalar_value_set_bytes=Z.D)(e,t,A)},c._rte_crdt_scalar_value_set_null=function(e){return(c._rte_crdt_scalar_value_set_null=Z.E)(e)},c._rte_crdt_scalar_value_set_counter=function(e,t){return(c._rte_crdt_scalar_value_set_counter=Z.F)(e,t)},c._rte_crdt_scalar_value_is_i64=function(e){return(c._rte_crdt_scalar_value_is_i64=Z.G)(e)},c._rte_crdt_scalar_value_is_u64=function(e){return(c._rte_crdt_scalar_value_is_u64=Z.H)(e)},c._rte_crdt_scalar_value_is_double=function(e){return(c._rte_crdt_scalar_value_is_double=Z.I)(e)},c._rte_crdt_scalar_value_is_bool=function(e){return(c._rte_crdt_scalar_value_is_bool=Z.J)(e)},c._rte_crdt_scalar_value_is_bytes=function(e){return(c._rte_crdt_scalar_value_is_bytes=Z.K)(e)},c._rte_crdt_scalar_value_is_null=function(e){return(c._rte_crdt_scalar_value_is_null=Z.L)(e)},c._rte_crdt_scalar_value_is_counter=function(e){return(c._rte_crdt_scalar_value_is_counter=Z.M)(e)},c._rte_crdt_scalar_value_get_i64=function(e,t){return(c._rte_crdt_scalar_value_get_i64=Z.N)(e,t)},c._rte_crdt_scalar_value_get_u64=function(e,t){return(c._rte_crdt_scalar_value_get_u64=Z.O)(e,t)},c._rte_crdt_scalar_value_get_double=function(e,t){return(c._rte_crdt_scalar_value_get_double=Z.P)(e,t)},c._rte_crdt_scalar_value_get_bool=function(e,t){return(c._rte_crdt_scalar_value_get_bool=Z.Q)(e,t)},c._rte_crdt_scalar_value_get_bytes=function(e,t,A){return(c._rte_crdt_scalar_value_get_bytes=Z.R)(e,t,A)},c._rte_crdt_scalar_value_get_counter=function(e,t){return(c._rte_crdt_scalar_value_get_counter=Z.S)(e,t)},c._rte_crdt_nested_value_create=function(){return(c._rte_crdt_nested_value_create=Z.T)()},c._rte_crdt_nested_value_destroy=function(e){return(c._rte_crdt_nested_value_destroy=Z.U)(e)},c._rte_crdt_nested_value_print=function(e){return(c._rte_crdt_nested_value_print=Z.V)(e)},c._rte_crdt_nested_value_is_scalar=function(e){return(c._rte_crdt_nested_value_is_scalar=Z.W)(e)},c._rte_crdt_nested_value_is_map=function(e){return(c._rte_crdt_nested_value_is_map=Z.X)(e)},c._rte_crdt_nested_value_is_list=function(e){return(c._rte_crdt_nested_value_is_list=Z.Y)(e)},c._rte_crdt_nested_value_get_scalar=function(e){return(c._rte_crdt_nested_value_get_scalar=Z.Z)(e)},c._rte_crdt_nested_value_iterator_create=function(e){return(c._rte_crdt_nested_value_iterator_create=Z._)(e)},c._rte_crdt_nested_value_iterator_destroy=function(e){return(c._rte_crdt_nested_value_iterator_destroy=Z.$)(e)},c._rte_crdt_nested_value_iterator_next_key_value=function(e,t,A,n){return(c._rte_crdt_nested_value_iterator_next_key_value=Z.aa)(e,t,A,n)},c._rte_crdt_nested_value_iterator_next_value=function(e,t){return(c._rte_crdt_nested_value_iterator_next_value=Z.ba)(e,t)},c._rte_crdt_path_create=function(){return(c._rte_crdt_path_create=Z.ca)()},c._rte_crdt_path_clone=function(e){return(c._rte_crdt_path_clone=Z.da)(e)},c._rte_crdt_path_destroy=function(e){return(c._rte_crdt_path_destroy=Z.ea)(e)},c._rte_crdt_path_add_property=function(e,t,A){return(c._rte_crdt_path_add_property=Z.fa)(e,t,A)},c._rte_crdt_path_add_index=function(e,t){return(c._rte_crdt_path_add_index=Z.ga)(e,t)},c._rte_crdt_path_iterator_create=function(e){return(c._rte_crdt_path_iterator_create=Z.ha)(e)},c._rte_crdt_path_iterator_destroy=function(e){return(c._rte_crdt_path_iterator_destroy=Z.ia)(e)},c._rte_crdt_path_iterator_next=function(e,t,A,n){return(c._rte_crdt_path_iterator_next=Z.ja)(e,t,A,n)},c._rte_crdt_document_destroy=function(e){return(c._rte_crdt_document_destroy=Z.ka)(e)},c._rte_crdt_document_get=function(e,t,A,n){return(c._rte_crdt_document_get=Z.la)(e,t,A,n)},c._rte_crdt_document_batch_write_begin=function(e){return(c._rte_crdt_document_batch_write_begin=Z.ma)(e)},c._rte_crdt_document_batch_write_end=function(e){return(c._rte_crdt_document_batch_write_end=Z.na)(e)},c._rte_crdt_document_put=function(e,t,A,n){return(c._rte_crdt_document_put=Z.oa)(e,t,A,n)},c._rte_crdt_document_insert=function(e,t,A,n){return(c._rte_crdt_document_insert=Z.pa)(e,t,A,n)},c._rte_crdt_document_delete=function(e,t,A){return(c._rte_crdt_document_delete=Z.qa)(e,t,A)},c._rte_crdt_document_increment=function(e,t,A,n){return(c._rte_crdt_document_increment=Z.ra)(e,t,A,n)},c._rte_crdt_collection_put_doc=function(e,t,A){return(c._rte_crdt_collection_put_doc=Z.sa)(e,t,A)},c._rte_crdt_collection_delete_doc=function(e,t,A){return(c._rte_crdt_collection_delete_doc=Z.ta)(e,t,A)},c._rte_crdt_collection_ref_doc=function(e,t,A){return(c._rte_crdt_collection_ref_doc=Z.ua)(e,t,A)},c._rte_crdt_collection_iterator_create=function(e,t,A){return(c._rte_crdt_collection_iterator_create=Z.va)(e,t,A)},c._rte_crdt_collection_iterator_destroy=function(e){return(c._rte_crdt_collection_iterator_destroy=Z.wa)(e)},c._rte_crdt_collection_iterator_next=function(e,t,A){return(c._rte_crdt_collection_iterator_next=Z.xa)(e,t,A)},c._rte_crdt_collection_init=function(e,t,A){return(c._rte_crdt_collection_init=Z.ya)(e,t,A)},c._rte_crdt_collection_subscribe=function(e,t,A){return(c._rte_crdt_collection_subscribe=Z.za)(e,t,A)},c._rte_crdt_client_create=function(e,t){return(c._rte_crdt_client_create=Z.Aa)(e,t)},c._rte_crdt_client_create2=function(e,t,A){return(c._rte_crdt_client_create2=Z.Ba)(e,t,A)},c._rte_crdt_client_destroy=function(e){return(c._rte_crdt_client_destroy=Z.Ca)(e)},c._rte_crdt_client_set_key=function(e,t){return(c._rte_crdt_client_set_key=Z.Da)(e,t)},c._rte_crdt_client_set_routingkey=function(e,t){return(c._rte_crdt_client_set_routingkey=Z.Ea)(e,t)},c._rte_crdt_client_set_ttl=function(e,t){return(c._rte_crdt_client_set_ttl=Z.Fa)(e,t)},c._rte_crdt_client_set_shakehand_interval=function(e,t){return(c._rte_crdt_client_set_shakehand_interval=Z.Ga)(e,t)},c._rte_crdt_client_set_keepalive_interval=function(e,t){return(c._rte_crdt_client_set_keepalive_interval=Z.Ha)(e,t)},c._rte_crdt_client_enable_bidirection=function(e,t){return(c._rte_crdt_client_enable_bidirection=Z.Ia)(e,t)},c._sync_client_init=function(e,t,A){return(c._sync_client_init=Z.Ja)(e,t,A)},c._rte_crdt_bytes_create=function(){return(c._rte_crdt_bytes_create=Z.Ka)()},c._rte_crdt_bytes_destroy=function(e){return(c._rte_crdt_bytes_destroy=Z.La)(e)},c._rte_crdt_bytes_data=function(e){return(c._rte_crdt_bytes_data=Z.Ma)(e)},c._rte_crdt_bytes_length=function(e){return(c._rte_crdt_bytes_length=Z.Na)(e)},c._rte_crdt_client_tick=function(e,t){return(c._rte_crdt_client_tick=Z.Oa)(e,t)},c._rte_crdt_client_recv_proxy_msg=function(e,t,A,n){return(c._rte_crdt_client_recv_proxy_msg=Z.Pa)(e,t,A,n)},c._rte_crdt_client_reset_connection=function(e){return(c._rte_crdt_client_reset_connection=Z.Qa)(e)},c._rte_crdt_client_create_coll=function(e,t,A,n){return(c._rte_crdt_client_create_coll=Z.Ra)(e,t,A,n)},c._rte_crdt_client_get_coll=function(e,t){return(c._rte_crdt_client_get_coll=Z.Sa)(e,t)},c._rte_crdt_client_delete_coll=function(e,t){return(c._rte_crdt_client_delete_coll=Z.Ta)(e,t)},c._rte_crdt_client_iterator_create=function(e){return(c._rte_crdt_client_iterator_create=Z.Ua)(e)},c._rte_crdt_client_iterator_destroy=function(e){return(c._rte_crdt_client_iterator_destroy=Z.Va)(e)},c._rte_crdt_client_iterator_next=function(e,t){return(c._rte_crdt_client_iterator_next=Z.Wa)(e,t)},c._rte_crdt_client_renew_key_remote=function(e,t,A,n){return(c._rte_crdt_client_renew_key_remote=Z.Xa)(e,t,A,n)},c._rte_crdt_client_put_doc_remote=function(e,t,A,n,r){return(c._rte_crdt_client_put_doc_remote=Z.Ya)(e,t,A,n,r)},c._rte_crdt_client_delete_doc_remote=function(e,t,A,n,r){return(c._rte_crdt_client_delete_doc_remote=Z.Za)(e,t,A,n,r)},c._rte_crdt_client_put_remote=function(e,t,A,n,r,i,o,a,s){return(c._rte_crdt_client_put_remote=Z._a)(e,t,A,n,r,i,o,a,s)},c._rte_crdt_client_delete_remote=function(e,t,A,n,r,i){return(c._rte_crdt_client_delete_remote=Z.$a)(e,t,A,n,r,i)},c._rte_crdt_client_insert_remote=function(e,t,A,n,r,i,o,a,s,u){return(c._rte_crdt_client_insert_remote=Z.ab)(e,t,A,n,r,i,o,a,s,u)},c._rte_crdt_client_remove_values_remote=function(e,t,A,n,r,i,o,a,s){return(c._rte_crdt_client_remove_values_remote=Z.bb)(e,t,A,n,r,i,o,a,s)},c._rte_crdt_client_get_remote=function(e,t,A,n,r,i,o,a,s){return(c._rte_crdt_client_get_remote=Z.cb)(e,t,A,n,r,i,o,a,s)},c._rte_crdt_client_start_keepalive=function(e,t,A){return(c._rte_crdt_client_start_keepalive=Z.db)(e,t,A)},c._rte_crdt_client_stop_keepalive=function(e,t,A){return(c._rte_crdt_client_stop_keepalive=Z.eb)(e,t,A)},c._rte_crdt_client_enable_logging=function(){return(c._rte_crdt_client_enable_logging=Z.fb)()},c._rte_crdt_client_set_log_level=function(e){return(c._rte_crdt_client_set_log_level=Z.gb)(e)},c.___start_em_js=46e3,c.___stop_em_js=46094,c.addFunction=function(e,t){if(!x){x=new WeakMap;var A=U.length;if(x)for(var n=0;n<0+A;n++){var r=U.get(n);r&&x.set(r,n)}}if(A=x.get(e)||0)return A;if(X.length)A=X.pop();else{try{U.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}A=U.length-1}try{U.set(A,e)}catch(a){if(!(a instanceof TypeError))throw a;if("function"==typeof WebAssembly.Function){n=WebAssembly.Function,r={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var i={parameters:[],results:"v"==t[0]?[]:[r[t[0]]]},o=1;o<t.length;++o)i.parameters.push(r[t[o]]);t=new n(i,e)}else{for(n=[1],r=t.slice(0,1),t=t.slice(1),i={i:127,p:127,j:126,f:125,d:124,e:111},n.push(96),128>(o=t.length)?n.push(o):n.push(o%128|128,o>>7),o=0;o<t.length;++o)n.push(i[t[o]]);"v"==r?n.push(0):n.push(1,i[r]),t=[0,97,115,109,1,0,0,0,1],128>(r=n.length)?t.push(r):t.push(r%128|128,r>>7),t.push.apply(t,n),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}U.set(A,t)}return x.set(e,A),A},c.removeFunction=function(e){x.delete(U.get(e)),U.set(e,null),X.push(e)},c.setValue=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"i8";switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":B[e]=t;break;case"i16":y[e>>1]=t;break;case"i32":v[e>>2]=t;break;case"i64":b[e>>3]=BigInt(t);break;case"float":_[e>>2]=t;break;case"double":R[e>>3]=t;break;case"*":m[e>>2]=t;break;default:A("invalid type for setValue: ".concat(n))}},c.getValue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"i8";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return B[e];case"i16":return y[e>>1];case"i32":return v[e>>2];case"i64":return b[e>>3];case"float":return _[e>>2];case"double":return R[e>>3];case"*":return m[e>>2];default:A("invalid type for getValue: ".concat(t))}},c.UTF8ToString=F,c.stringToUTF8=function(e,t,A){return j(e,Q,t,A)},c.lengthBytesUTF8=H,T=function e(){P||o(),P||(T=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return o(),u},nW=new po(1),eb;Bda({rtejsLog:function(e){console.log("[UTC_Time: ".concat(fE(),"]"),e," ---------- rtejsLog")}}).then((function(e){eb=e,nW.next(eb),console.log({Module:eb},"wasm-module")}));var oW,RH,SH=0,TH=0;Gs.v1=function(e,t,A){A=t&&A||0;var n=t||[],r=(e=e||{}).node||oW,i=void 0!==e.clockseq?e.clockseq:RH;if(null==r||null==i){var o=lU();null==r&&(r=oW=[1|o[0],o[1],o[2],o[3],o[4],o[5]]),null==i&&(i=RH=16383&(o[6]<<8|o[7]))}o=void 0!==e.msecs?e.msecs:(new Date).getTime();var a=void 0!==e.nsecs?e.nsecs:TH+1,s=o-SH+(a-TH)/1e4;if(0>s&&void 0===e.clockseq&&(i=i+1&16383),(0>s||o>SH)&&void 0===e.nsecs&&(a=0),1e4<=a)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(SH=o,TH=a,RH=i,e=(1e4*(268435455&(o+=122192928e5))+a)%4294967296,n[A++]=e>>>24&255,n[A++]=e>>>16&255,n[A++]=e>>>8&255,n[A++]=255&e,e=o/4294967296*1e4&268435455,n[A++]=e>>>8&255,n[A++]=255&e,n[A++]=e>>>24&15|16,n[A++]=e>>>16&255,n[A++]=i>>>8|128,n[A++]=255&i,i=0;6>i;++i)n[A+i]=r[i];return t||mU(n)},Gs.v4=Gs;var pW=function(){return{joined:new Set,left:new Set,timeout:new Set,stateChanged:new Set}},Cda=function(e){function t(e,A,r,i,o,a){zb(this,t);var s,c=n.call(this,i,"SessionSync");return na(V(c),"operation",Wb.login),na(V(c),"startTime",Date.now()),na(V(c),"seq",Xa.fromNumber(1,!0)),na(V(c),"userJoinOptions",new oA(!1)),na(V(c),"seqSentStatuses",[!1]),na(V(c),"loggedOut",!1),na(V(c),"curLoginSockets",[void 0]),na(V(c),"loginSocketSubs",[{channels:new Map,receivers:[]}]),na(V(c),"lastLoginSockets",[new po(1)]),na(V(c),"context",void 0),na(V(c),"vid",void 0),na(V(c),"connection",void 0),na(V(c),"instanceId",void 0),na(V(c),"clientPtr",void 0),na(V(c),"tickAndMsgPtr",void 0),na(V(c),"withoutPresenceChannels",new Map),na(V(c),"withPresenceChannels",new Map),na(V(c),"withPresenceCbContextPtrs",new Map),na(V(c),"localStateCache",new Map),na(V(c),"isInitBusy",!1),na(V(c),"channelsUsersStates",new Map),na(V(c),"cbPtrMap4InitCollByCrdt",new Map),na(V(c),"cbPtr4InitCollByCrdt",eb.addFunction((function(e,t,A,n,r,i){if(1===n||2===n){t=(i=c.cbPtrMap4InitCollByCrdt.get(i)).prefixChannelName;var o=i.controlInterval;e=eb.UTF8ToString(e);var a=Cj(t),s={eventType:"SNAPSHOT",channelType:i=a.channelType,channelName:a=a.channelName,publisher:e,stateChanged:{},interval:null,snapshot:[]};if(c.isScalarValueWithCrdt(r)){r=c.getScalarValuePtrWithCrdt(r);var u=eb._rte_crdt_scalar_value_is_null(r);if(u&&1===n){var g;if(null===(g=c.channelsUsersStates.get(t))||void 0===g||g.set(e,{}),s.eventType="REMOTE_JOIN",e===c.context.uid)c.log('"'.concat(uc(e),'" receive self presence event in channel("').concat(i,'"-"').concat(uc(a),'"), type is ').concat(s.eventType,"."));else if(c.intervalMode.get(t)){var I,l,E,C;if(null!==(I=c.intervalInfos)&&void 0!==I&&null!==(l=I.get(t))&&void 0!==l&&l.left.has(e))null===(E=c.intervalInfos.get(t))||void 0===E||E.left.delete(e);else null===(C=c.intervalInfos.get(t))||void 0===C||C.joined.add(e)}else c.emit("presence",s),o("open")}else{for(g=eb._rte_crdt_path_iterator_create(A),I=eb._malloc(4),l=eb._malloc(4),A=[],E=0;;E++){if((C=eb._rte_crdt_path_iterator_next(g,I,l,null))!==Yc.ErrOK){C!==Yc.ErrNoMoreElems&&c.warn("path iterator error in presence subscribe callback. ".concat("Sync Api Error",": rte_crdt_path_iterator_next, ret is ").concat(C,"."));break}C=eb.getValue(l,"i64");var d=eb.getValue(I,"i32");C=eb.UTF8ToString(d,Number(C).valueOf()),A.push(C)}var h,p,f;if(c.log("received keys: %o in presence subscribe callback.",A),eb._free(I),eb._free(l),eb._rte_crdt_path_iterator_destroy(g),u&&0===A.length&&2===n)if(null===(h=c.channelsUsersStates.get(t))||void 0===h||h.delete(e),s.eventType="REMOTE_LEAVE",e===c.context.uid)c.log('"'.concat(uc(e),'" receive self presence event in channel("').concat(i,'"-"').concat(uc(a),'"), type is ').concat(s.eventType,". need execute logout.")),c.emit("internal-logout");else if(null!==(p=c.timeoutUsersWithoutInterval.get(t))&&void 0!==p&&p.has(e))null===(f=c.timeoutUsersWithoutInterval.get(t))||void 0===f||f.delete(e),c.log("timeout user(".concat(uc(e),") left, ignore"));else if(c.intervalMode.get(t)){var B,Q,y;if(null!==(B=c.intervalInfos.get(t))&&void 0!==B&&B.joined.has(e))null===(Q=c.intervalInfos.get(t))||void 0===Q||Q.joined.delete(e);else null===(y=c.intervalInfos.get(t))||void 0===y||y.left.add(e);o("close")}else c.emit("presence",s);else if(0===A.length)c.log("no return keys but type is ".concat(n," and value is exist in presence subscribe callback"));else if("_expired"===A[0]&&2===n){var v;s.eventType="REMOTE_JOIN";var m=c.requestCRDTGetState(t,e);if(null===(v=c.channelsUsersStates.get(t))||void 0===v||v.set(e,m),e===c.context.uid)c.log('"'.concat(uc(e),'" receive self presence event in channel("').concat(i,'"-"').concat(uc(a),'"), type is REJOIN.'));else{var _,b,R,S;if(c.log("remote user(".concat(uc(e),') rejoin channel("').concat(i,'"-"').concat(uc(a),'") in presence subscribe callback')),c.intervalMode.get(t))if(null!==(b=c.intervalInfos.get(t))&&void 0!==b&&b.timeout.has(e))null===(R=c.intervalInfos.get(t))||void 0===R||R.timeout.delete(e);else null===(S=c.intervalInfos.get(t))||void 0===S||S.joined.add(e);else c.emit("presence",s),o("open");null===(_=c.timeoutUsersWithoutInterval.get(t))||void 0===_||_.delete(e)}}else if("_expired"===A[0]&&1===n){var w;if(null===(w=c.channelsUsersStates.get(t))||void 0===w||w.delete(e),s.eventType="REMOTE_TIMEOUT",e===c.context.uid)c.log('"'.concat(uc(e),'" receive self presence event in channel("').concat(i,'"-"').concat(uc(a),'"), type is TIMEOUT.')),c.emit("internal-logout");else if(c.log("remote user(".concat(uc(e),') timeout at channel("').concat(i,'"-"').concat(uc(a),'") in presence subscribe callback')),c.intervalMode.get(t)){var D,k,N;if(null!==(D=c.intervalInfos.get(t))&&void 0!==D&&D.joined.has(e))null===(k=c.intervalInfos.get(t))||void 0===k||k.joined.delete(e);else null===(N=c.intervalInfos.get(t))||void 0===N||N.timeout.add(e);o("close")}else{var T;null===(T=c.timeoutUsersWithoutInterval.get(t))||void 0===T||T.add(e),c.emit("presence",s)}}else if(at(A[0][0]))if(A[0][0]&&u){var O,L;if(s.eventType="REMOTE_STATE_CHANGED",delete(m=null!==(O=null===(L=c.channelsUsersStates.get(t))||void 0===L?void 0:L.get(e))&&void 0!==O?O:{})[A[0]],s.stateChanged=m,e===c.context.uid)c.log('"'.concat(uc(e),'" receive self presence event in channel("').concat(i,'"-"').concat(uc(a),'"), type is ').concat(s.eventType,", state is ").concat(s.stateChanged));else if(c.intervalMode.get(t)){var M;null===(M=c.intervalInfos.get(t))||void 0===M||M.stateChanged.add(e)}else c.emit("presence",s)}else if(c.scalarValueIsBytes(r))if(v=eb._malloc(4),_=eb._malloc(4),(b=eb._rte_crdt_scalar_value_get_bytes(r,v,_))!==Yc.ErrOK)c.warn("getBytes with scalar ptr failure in presence subscribe callback. ".concat("Sync Api Error",": rte_crdt_scalar_value_get_bytes, ret is ").concat(b));else{var U,x;b=null!==(U=null===(x=c.channelsUsersStates.get(t))||void 0===x?void 0:x.get(e))&&void 0!==U?U:{},U=Fw(v),s.eventType="REMOTE_STATE_CHANGED",b[A[0]]=U,s.stateChanged=b,e===c.context.uid?c.log('"'.concat(uc(e),'" receive self presence event in channel("').concat(i,'"-"').concat(uc(a),'"), type is ').concat(s.eventType,", state is ").concat(s.stateChanged)):c.intervalMode.get(t)?null===(m=c.intervalInfos.get(t))||void 0===m||m.stateChanged.add(e):c.emit("presence",s),eb._free(v),eb._free(_)}else c.warn("scalar value is not a bytes in presence subscribe callback.");else c.log("key is invalid in presence subscribe callback, key(".concat(A[0],")"))}}else eb._rte_crdt_value_is_map(r)?c.warn("value is a map in presence subscribe callback."):eb._rte_crdt_value_is_list?c.warn("value is a list in presence subscribe callback."):c.warn("value is not scalar, map or list in presence subscribe callback.")}}),"vijiiii")),na(V(c),"getConsoleConfig",void 0),na(V(c),"presenceShakeHandInterval",void 0),na(V(c),"timeoutInSnapshot",new Map),na(V(c),"timeoutUsersWithoutInterval",new Map),na(V(c),"intervalMode",new Map),na(V(c),"intervalTimerId",new Map),na(V(c),"intervalSnapshot",new Map),na(V(c),"intervalInfos",new Map),na(V(c),"presenceTimeout",0),na(V(c),"subscribedPresenceChannels",new Set),na(V(c),"registerSocketsFailureListener",(function(){c.connection.once("socketsOfSyncFailure",(function(){c.log("sync-proxy: socketsFailure, creating a new connection"),oo((function(){return c.connection.removeAllListeners(),c.connection=new kW(c.context,c.logger,!0),c.loginHandler(15e3,!0)})).pipe(Mm((function(e){return e.pipe(Km(Qc("RECONNECTING_AP_INTERVAL")))})),wh(ng(c.connection.apClient.apFinish$,Ti(1e3*(120+c.presenceTimeout-20)).pipe(Fc((function(){c.connection.apClient.apFinish$.next(void 0),c.log("reconnecting server of presence timeout, need execute logout"),c.emit("internal-logout")})))))).subscribe((function(){c.log("new connection connected")}))}))})),na(V(c),"cbPtrMap4SetStateByRpc",new Map),na(V(c),"cbPtr4SetStateByRpc",eb.addFunction((function(e,t){var A=c.cbPtrMap4SetStateByRpc.get(t);t=A.rejectPromise;var n=A.resolvePromise,r=A.operation,i=A.prefixChannelName;A=A.state,e!==Yc.ErrOK?(c.warn("".concat("Sync Callback Error",": rte_crdt_client_put_remote, resp is ").concat(e)),e=yh(e),t(new Db(r,[e.reason],e.code))):(c.log("".concat("Sync Callback emitted ",": ").concat(r," by rpc succeed. ")),n({timeToken:0}),c.updatePresenceStateCache(i,r,A))}),"vii")),na(V(c),"cbPtrMap4GetStateByRpc",new Map),na(V(c),"cbPtr4GetStateByRpc",eb.addFunction((function(e,t,A,n,r,i,o,a){A=(o=c.cbPtrMap4GetStateByRpc.get(a)).operation,a=o.rejectPromise,n=o.resolvePromise,o=o.userId,e!==Yc.ErrOK?(c.log("".concat(A," failure! code is ").concat(e)),c.warn("".concat("Sync Callback Error",": rte_crdt_client_get_remote, resp is ").concat(e)),a(new Db(A,"Channel presence doc query failure. service code is ".concat(e),e))):c.log("".concat("Sync Callback emitted ",": ").concat(A," by rpc succeed. ")),e=Number(i).valueOf(),i={statesCount:0,states:{},userId:o,timeToken:0},a=[];for(var s=0;s<e;s++){var u=eb.getValue(t+4*s,"i32");at(u=mk(u))&&u===o?(u=eb.getValue(r+4*s,"i32"),eb._rte_crdt_nested_value_print(u),eb._rte_crdt_nested_value_is_map(u)?(u=c.getStatesWithMapNested(u),i.states=u,i.statesCount=Object.keys(u).length):c.warn("nested value is not a map in ".concat(A," callback."))):a.push(u)}0<a.length&&c.log("invalid users: ".concat(a," when performing ").concat(A)),i.statesCount=Object.keys(i.states).length,n(i)}),"viiiiijii")),na(V(c),"cbPtrMap4RemoveStateByRpc",new Map),na(V(c),"cbPtr4RemoveStateByRpc",eb.addFunction((function(e,t){var A=c.cbPtrMap4RemoveStateByRpc.get(t);t=A.failedKeys;var n=A.operation,r=A.key,i=A.prefixChannelName;A=A.state,e!==Yc.ErrOK?(c.warn("".concat("Sync Callback Error",": rte_crdt_client_delete_remote, resp is ").concat(e)),t.push(r)):(c.updatePresenceStateCache(i,n,A),c.log("".concat("Sync Callback emitted ",": ").concat(n," by rpc succeed. ")))}),"vii")),na(V(c),"cbPtrMap4WhoNowByRpc",new Map),na(V(c),"cbPtr4WhoNowByRpc",eb.addFunction((function(e,t,A,n,r,i,o,a){var s=c.cbPtrMap4WhoNowByRpc.get(a);A=s.operation;var u=s.rejectPromise;if(n=s.resolvePromise,a=s.countOnly,s=s.keysOnly,e!==Yc.ErrOK?(c.warn("".concat("Sync Callback Error",": rte_crdt_client_get_remote, resp is ").concat(e)),u(new Db(A,"Channel presence doc query failure. service code is ".concat(e),e))):c.log("".concat("Sync Callback emitted ",": ").concat(A," by rpc succeed. ")),i={totalOccupancy:e=Number(i).valueOf(),occupants:[],nextPage:"",timeToken:0},a)c.log("".concat("Sync Callback emitted ",": ").concat(A," by rpc succeed."));else{u=[];for(var g=0;g<e;g++){var I=eb.getValue(t+4*g,"i32"),l=mk(I);if(at(l)){I={states:{},userId:l,statesCount:0};var E=eb.getValue(r+4*g,"i32"),C=eb._rte_crdt_nested_value_is_map(E);C||c.warn("nested value is not a map when performing ".concat(A)),g===e-1&&o&&(l=btoa(l),i.nextPage=l),!C||a||s||(E=c.getStatesWithMapNested(E),I.states=E,I.statesCount=Object.keys(E).length),i.occupants.push(I)}else u.push(l)}0<u.length&&c.log("invalid users: ".concat(u," when performing ").concat(A))}n(i)}),"viiiiijii")),na(V(c),"cbPtrMap4WhereNowByRpc",new Map),na(V(c),"cbPtr4WhereNowByRpc",eb.addFunction((function(e,t,A,n,r,i,o,a){A=(o=c.cbPtrMap4WhereNowByRpc.get(a)).operation,a=o.rejectPromise,n=o.resolvePromise,o=o.key,e!==Yc.ErrOK?(c.warn("".concat("Sync Callback Error",": rte_crdt_client_get_remote, resp is ").concat(e)),a(new Db(A,"Channel presence doc query failure. service code is ".concat(e),e))):c.log("".concat("Sync Callback emitted ",": ").concat(A," by rpc succeed. ")),i={channels:[],totalChannel:e=Number(i).valueOf(),timeToken:0},a=[];for(var s=0;s<e;s++){var u=eb.getValue(t+4*s,"i32"),g=eb.getValue(r+4*s,"i32");u=mk(u),a.push(u),u===o&&(eb._rte_crdt_nested_value_is_map(g)?(g=c.getChannelsWithMapNested(g),i.channels=g):c.warn("nested value is not a map in whereNow callback."))}i.totalChannel=i.channels.length,c.log("received channels: ".concat(a," of ").concat(A)),n(i)}),"viiiiijii")),na(V(c),"cbPtrMap4SubscribeChannel",new Map),na(V(c),"cbPtr4SubscribeChannel",eb.addFunction((function(e,t){var A=c.cbPtrMap4SubscribeChannel.get(t),n=A.prefixChannelName,r=A.crdtCollectionPtr,i=A.rejectPromise;if(A=A.resolvePromise,e===Yc.ErrOK){c.log("".concat("Sync Callback emitted ",": channel(").concat(uc(n),") crdt collection init succeed.")),e=td("/Vendors/"+c.vid+"/ChannelPresence/"+n+"/Users");var o=td(c.context.uid);eb._rte_crdt_client_start_keepalive(c.clientPtr,e,o),c.getLoginSockets().map((function(e){c.sendPing(e)})),Md(e),Md(o),e=c.withPresenceChannels.get(n).collNamePtr,c.withPresenceChannels.set(n,{writeable:!0,crdtCollectionPtr:r,collNamePtr:e,channelType:Cj(n).channelType}),c.emit("initCollSucceed",n,r,{resolvePromise:A,rejectPromise:i})}else r="".concat("Sync Callback Error",": rte_crdt_collection_init, resp is ").concat(e,"."),c.warn(r),c.emit("initDocFailure",n),n=yh(e),i(new Db(Wb.subscribe,[n.reason+r],n.code));c.cbPtrMap4SubscribeChannel.delete(t),Md(t)}),"vii")),na(V(c),"cbPtrMap4AttendChannel",new Map),na(V(c),"cbPtr4AttendChannel",eb.addFunction((s=pa(O.mark((function e(t,A){var n,r,i,o,a,s,u,g,I,l;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.cbPtrMap4AttendChannel.get(A),r=n.prefixChannelName,i=n.remoteChannelCollPtr,o=n.docPtr,a=n.rejectPromise,s=n.resolvePromise,t!==Yc.ErrOK?(u="".concat("Sync Callback Error",": rte_crdt_client_put_doc_remote, resp is ").concat(t),c.warn(u),c.emit("initDocFailure",r),g=yh(t),I=g.code,l=g.reason,a(new Db(Wb.subscribe,[l+u],I))):(c.log("".concat("Sync Callback emitted ",": Put channel(").concat(uc(r),") document succeed by rpc.")),c.subscribedPresenceChannels.add(r),eb._rte_crdt_client_start_keepalive(c.clientPtr,i,o),c.getLoginSockets().map((function(e){c.sendPing(e)})),c.withoutPresenceChannels.set(r,{writeable:!0,docPtr:o,remoteChannelCollPtr:i}),c.emit("putCache2Remote",r)),c.cbPtrMap4AttendChannel.delete(A),Md(A),s(!0);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)}),"vii")),na(V(c),"cbPtrMap4DelChannelByRpc",new Map),na(V(c),"cbPtr4DelChannelByRpc",eb.addFunction((function(e,t){var A=c.cbPtrMap4DelChannelByRpc.get(t),n=A.prefixChannelName;A=A.resolvePromise,e!==Yc.ErrOK?c.warn("".concat("Sync Callback Error",": rte_crdt_client_delete_doc_remote, resp is ").concat(e)):c.log("".concat("Sync Callback emitted ",": Delete channel(").concat(uc(n),") document succeed by rpc.")),A(!0),c.cbPtrMap4DelChannelByRpc.delete(t),Md(t)}),"vii")),c.context=e,c.context.startTime=c.startTime,c.connection=A,c.getConsoleConfig=a,e=Qc("PRESENCE_RPC_TIMEOUT"),c.presenceShakeHandInterval=Math.max(e/3-1,1),c.presenceTimeout=o(),c.instanceId=r,c.setMaxListeners(512),c.log("The instanceId is %s",c.instanceId.toString()),r=td("/rtm-state/"),e=eb._rte_crdt_client_create(e,r),Md(r),c.clientPtr=e,eb._rte_crdt_client_enable_logging(),r=eb._rte_crdt_bytes_create(),c.tickAndMsgPtr=r,c.connection.once("ticketUpdated",(function(e){var t=e.ticket;e=e.vid,c.vid=e,c.updateClientKey(t),t=eb._rte_crdt_client_set_routingkey,e=td(e),t(c.clientPtr,e),Md(e),eb._rte_crdt_client_set_ttl(c.clientPtr,BigInt(o())),t=Math.max(1,o()/5-1),eb._rte_crdt_client_set_keepalive_interval(c.clientPtr,1e3*t),eb._rte_crdt_client_set_shakehand_interval(c.clientPtr,1e3*c.presenceShakeHandInterval)})),c.on("presence-interval",(function(e,t){var A,n,r,i,o,a,s,u,g=Cj(e),I={eventType:"INTERVAL",channelType:g.channelType,channelName:g.channelName,publisher:"",stateChanged:{},interval:{join:{users:[],userCount:0},leave:{users:[],userCount:0},timeout:{users:[],userCount:0},userStateList:[]},snapshot:[]},l=(g=c.intervalSnapshot.get(e)).alreadyJoinedUsers;g=g.alreadyTimeoutUsers,null===(A=c.intervalInfos.get(e))||void 0===A||A.timeout.forEach((function(e){var t;l.includes(e)&&(null===(t=I.interval)||void 0===t||t.timeout.users.push(e),I.interval.timeout.userCount++)})),null===(n=c.intervalInfos.get(e))||void 0===n||n.left.forEach((function(e){var t;l.includes(e)&&(null===(t=I.interval)||void 0===t||t.leave.users.push(e),I.interval.leave.userCount++)})),null===(r=c.intervalInfos.get(e))||void 0===r||r.joined.forEach((function(e){I.interval.join.users.push(e),I.interval.join.userCount++}));var E=l.filter((function(t){var A,n;return!(null!==(A=c.intervalInfos.get(e))&&void 0!==A&&A.left.has(t)||null!==(n=c.intervalInfos.get(e))&&void 0!==n&&n.timeout.has(t))})).concat(rb(null!==(i=null===(o=c.intervalInfos.get(e))||void 0===o?void 0:o.joined)&&void 0!==i?i:new Set));A=g.filter((function(t){var A,n;return!(null!==(A=c.intervalInfos.get(e))&&void 0!==A&&A.joined.has(t)||null!==(n=c.intervalInfos.get(e))&&void 0!==n&&n.left.has(t))})).concat(rb(null!==(a=null===(s=c.intervalInfos.get(e))||void 0===s?void 0:s.timeout)&&void 0!==a?a:new Set)),null===(u=c.intervalInfos.get(e))||void 0===u||u.stateChanged.forEach((function(t){var A,n,r;E.includes(t)&&(null===(A=c.intervalInfos.get(e))||void 0===A||A.stateChanged.delete(t),A=null!==(n=null===(r=c.channelsUsersStates.get(e))||void 0===r?void 0:r.get(t))&&void 0!==n?n:{},I.interval.userStateList.push({userId:t,states:A,statesCount:Object.keys(A).length}))})),I.interval&&(s=(a=I.interval).leave,u=a.timeout,n=a.userStateList,(0<a.join.userCount||0<s.userCount||0<u.userCount||0<n.length)&&c.emit("presence",I)),c.intervalSnapshot.set(e,{alreadyJoinedUsers:E,alreadyTimeoutUsers:A}),c.intervalInfos.set(e,pW()),t&&c.timeoutUsersWithoutInterval.set(e,new Set(A))})),c.on("initCollSucceed",function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,s,u,g,I,l,E,C,d,h,p,f;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.resolvePromise,s=n.rejectPromise,u=function(e){var A,n,r,i=null!==(A=null===(n=c.channelsUsersStates.get(t))||void 0===n?void 0:n.size)&&void 0!==A?A:0;switch(A=Number(Qc("PRESENCE_INTERVAL_OCCUPANCY"))||Number(null===(r=a())||void 0===r?void 0:r["presence.occupancy"]),e){case"open":var o;if(i>=A&&!c.intervalMode.get(t))c.log("open interval mode in channel: ".concat(uc(t))),c.intervalMode.set(t,!0),c.intervalSnapshot.set(t,c.getIntervalSnapshot(t)),c.intervalTimerId.set(t,setInterval((function(){c.emit("presence-interval",t)}),1e3*Number(null===(o=a())||void 0===o?void 0:o["presence.interval"]))),c.intervalInfos.set(t,pW()),eb._rte_crdt_client_enable_bidirection(c.clientPtr,0);break;case"close":i<A&&c.intervalMode.get(t)&&(c.log("close interval mode in channel: ".concat(uc(t))),c.intervalMode.delete(t),c.emit("presence-interval",t,!0),c.clearIntervalById(c.intervalTimerId.get(t)),c.intervalTimerId.delete(t),eb._rte_crdt_client_enable_bidirection(c.clientPtr,1))}},g=td(t),c.cbPtrMap4InitCollByCrdt.set(g,{prefixChannelName:t,controlInterval:u}),c.withPresenceCbContextPtrs.set(t,g),I=eb._rte_crdt_collection_subscribe(A,c.cbPtr4InitCollByCrdt,g),c.getLoginSockets().map((function(e){c.sendPing(e)})),I!==Yc.ErrOK?(l="".concat("Sync Api Error",": rte_crdt_collection_subscribe, ret is ").concat(I),c.warn(l),E=yh(I),C=E.code,d=E.reason,s(new Db(Wb.subscribe,[d+l],C))):(c.log("subscribe channel(".concat(uc(t),") presence succeed.")),c.log("Put channel(".concat(uc(t),") document succeed by crdt.")),h=c.context.uid,p=td(h),eb._rte_crdt_collection_put_doc(A,p,Xk(h)),Md(p),c.getLoginSockets().map((function(e){c.sendPing(e)}))),f={},(null!==(r=c.localStateCache.get(t))&&void 0!==r?r:new Map).forEach((function(e,t){f[t]=e})),!(0<Object.keys(f).length)){e.next=19;break}return e.prev=11,e.next=14,c.requestCRDTSetState(t,f);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),c.warn("update user local cache doc by crdt failure. error is ".concat(e.t0));case 19:c.subscribedPresenceChannels.add(t),c.emitPresenceSnapshot(t,A),o(!0),c.timeoutUsersWithoutInterval.set(t,null!==(i=c.timeoutInSnapshot.get(t))&&void 0!==i?i:new Set),u("open");case 24:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t,A,n){return e.apply(this,arguments)}}()),c.on("putCache2Remote",function(){var e=pa(O.mark((function e(t){var A,n;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},(null!==(A=c.localStateCache.get(t))&&void 0!==A?A:new Map).forEach((function(e,t){n[t]=e})),!(0<Object.keys(n).length)){e.next=11;break}return e.prev=3,e.next=6,c.requestRPCSetState(t,n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),c.warn("update user local cache doc by rpc failure. error is ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()),c.on("endOfCallback",(function(e){eb.removeFunction(e)})),c}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"putGlobalDoc",value:(A=pa(O.mark((function e(){var t,A,n,r,i,o,a,s,c,u,g,I,l,E=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Promise((function(e,t){A=e,n=t})),i=$a(Aa.RTM_ERROR_LOGIN_REJECTED),o=i.code,a=i.reason,(s=null!==(t=this.connection.apClient.vid)&&void 0!==t?t:"")?(c=td("/Vendors/"+s+"/Presence"),u=td(this.context.uid),g=eb.addFunction((function(e,t){e!==Yc.ErrOK?(e="".concat("Sync Callback Error",": rte_crdt_client_put_doc_remote, ret is ").concat(e),E.warn(e),n(new Db(Wb.login,[a+e],o))):(eb._rte_crdt_client_start_keepalive(E.clientPtr,c,u),Md(c),Md(u),E.getLoginSockets().map((function(e){E.sendPing(e)})),E.log("".concat("Sync Callback emitted ",": Put global document succeed!")),A(!0)),E.emit("endOfCallback",g)}),"vii"),I=eb._rte_crdt_client_put_doc_remote(this.clientPtr,c,u,g,0),this.getLoginSockets().map((function(e){E.sendPing(e)})),I!==Yc.ErrOK?(l="".concat("Sync Api Error",": rte_crdt_client_put_doc_remote, ret is ").concat(I),this.warn(l),n(new Db(Wb.login,[a+l],o))):this.log("".concat("Sync Request Start",": put global document when performing ").concat(Wb.login))):(this.warn("vid is empty."),n(new Db(Wb.login,[a+"vid is empty."],o))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"loginHandler",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12e3,A=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.loggedOut&&A)throw t=$a(Aa.RTM_ERROR_LOGIN_ABORTED),new Ad(this.operation,[t.reason],t.code);A&&this.registerSocketsFailureListener(),this.connection.initConnection();var n=this.getSocketLoginObservables(this.connection.lastOpenSocketsOfSync);return n.forEach((function(t,n){var r=e.loginSocketSubs[n].login;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].login=t.pipe(Fc((function(t){e.curLoginSockets[n]=t,e.emit("userJoined"),A&&e.connection.apClient.apFinish$.next(void 0)}))).subscribe(e.lastLoginSockets[n])})),this.initKeepAliveSender(),this.initLoginReceiver(),ng.apply(void 0,rb(n).concat([Vk(this.connection,"connectionSyncInitFailure").pipe(Fc((function(t){if(be(t)||Qe(t))throw t;throw t=$a(Aa.RTM_ERROR_LOGIN_ABORTED),new Db(e.operation,[t.reason],t.code)})))])).pipe(Vd(1),Oh(t),Pd((function(t){return t instanceof sg&&e.warn("Sync client ".concat(A?"re-":"","login timeout")),t&&t.code===Aa.RTM_ERROR_TOKEN_EXPIRED&&e.connection.apClient.apFinish$.next(void 0),e.clearSockets(0,A),Rc(t)})),Fc((function(){A||e.registerSocketsFailureListener()})),Df(pa(O.mark((function t(){return O.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.putGlobalDoc();case 3:t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(0),e.clearSockets(0,!1),Rc(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))),qo((function(){A||e.connection.apClient.apFinish$.next(void 0)})))}},{key:"getIntervalSnapshot",value:function(e){var t,A,n=rb(null!==(t=this.timeoutUsersWithoutInterval.get(e))&&void 0!==t?t:new Set),r=[];return null===(A=this.channelsUsersStates.get(e))||void 0===A||A.forEach((function(e,t){n.includes(t)||r.push(t)})),{alreadyJoinedUsers:r,alreadyTimeoutUsers:n}}},{key:"clearIntervalById",value:function(e){clearInterval(e)}},{key:"clearIntervalCacheOfChannel",value:function(e){this.timeoutInSnapshot.delete(e),this.intervalMode.delete(e),this.intervalTimerId.delete(e),this.intervalInfos.delete(e),this.timeoutUsersWithoutInterval.delete(e),this.intervalSnapshot.delete(e)}},{key:"logoutHandler",value:function(){var e=pa(O.mark((function e(){var t,A,n,r=this,i=arguments;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(0<i.length&&void 0!==i[0])||i[0],this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),A=this.getLoginSockets(),n=A.map((function(e){return r.connection.waitClosing(e)})),this.clearSockets(0),this.connection.closeSocket(0,0,(function(){eb._rte_crdt_client_destroy(r.clientPtr),eb._rte_crdt_bytes_destroy(r.tickAndMsgPtr)})),t&&this.delCbPtr4DelChannel(),e.next=10,ng.apply(void 0,rb(n)).toPromise();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(e,t){Object.entries(this.loginSocketSubs[e]).forEach((function(e){var A=(e=Lb(e,2))[1];"channels"===e[0]&&t||(Array.isArray(A)||A instanceof Map?A.forEach((function(e){return e.unsubscribe()})):A&&A.unsubscribe())})),this.loginSocketSubs[e]={channels:t?this.loginSocketSubs[e].channels:new Map,receivers:[]}}},{key:"initKeepAliveSender",value:function(){var e=this;this.lastLoginSockets.map((function(t){return t.pipe(Sf((function(t){return Ti(0,1e3*e.presenceShakeHandInterval,Fo()?void 0:new zH(bW)).pipe(Fc((function(){e.isInitBusy||t.isReset||e.sendPing(t,!0)})))})),Fc((function(){e.isInitBusy=!1})))})).forEach((function(t,A){var n=e.loginSocketSubs[A].keepAlive;void 0!==n&&n.unsubscribe(),e.loginSocketSubs[A].keepAlive=t.subscribe({error:function(){e.warn("sendPing is error!")}})}))}},{key:"initLoginReceiver",value:function(){var e=this;Qf.apply(void 0,rb(this.lastLoginSockets.map((function(e){return e.pipe(Sf((function(e){return e.fromReceived()})))})))).subscribe(),this.lastLoginSockets.map((function(t){return t.pipe(Sf((function(t){return ng(Vk(t,"reconnectSync").pipe(Fc(e.onSocketReconnect(t))),t.fromReceived()).pipe(Lm(void 0))})))})).forEach((function(t,A){e.loginSocketSubs[A].receivers.push(t.subscribe({error:function(){}}))}))}},{key:"requestSocketLogin",value:function(e,t){var A=this,n=oo((function(){A.userJoinOptions=new oA(t),eb._rte_crdt_client_reset_connection(A.clientPtr),A.log("establish sync connection start, packet seq is ".concat(e.packetCount)),A.sendPing(e)})),r=e.fromReceived().pipe(Fc((function(t){e.attemptsSinceLastError=0,!1===e.loggedIn&&(A.log("User logged in Sync"),e.loggedIn=!0,A.emit("userJoined"));try{var n=t.length*t.BYTES_PER_ELEMENT,r=eb._malloc(n);eb.HEAPU8.set(t,r);var i=eb._rte_crdt_client_recv_proxy_msg(A.clientPtr,r,BigInt(n),A.tickAndMsgPtr);if(eb._free(r),i!==Yc.ErrOK)A.warn("".concat("Sync Api Error",": rte_crdt_client_recv_proxy_msg, ret is ").concat(i)),eb._rte_crdt_client_reset_connection(A.clientPtr),e.forceReconnect();else{var o=new Uint8Array(eb.HEAPU8.buffer,eb._rte_crdt_bytes_data(A.tickAndMsgPtr),Number(eb._rte_crdt_bytes_length(A.tickAndMsgPtr)).valueOf()).slice();o.byteLength&&e.sendPacket(o)}}catch(e){A.warn("recv_msg error: ".concat(JSON.stringify(Rd(Rd({},e),{},{e:e})),", ").concat(JSON.stringify(e)))}})),Lm(e));return $U(n,r).pipe(Af((function(e){var t=1>=e.packetCount;return void 0!==e&&t})),Pd((function(n){return n instanceof sg&&(A.warn("Login sync response timeout, rejoin: %s",t),n.name="loginRespTimeout"),A.clearSockets(),A.emit("banSyncIP",e.ip),Rc(n)})))}},{key:"getSocketLoginObservables",value:function(e){var t=this;return e.map((function(e){return e.pipe(Sf((function(e,A){return t.incSeqIfNeeded(0),t.requestSocketLogin(e,A!==Yc.ErrOK)})),gk())}))}},{key:"incSeqIfNeeded",value:function(e){if(![0,1].includes(e))throw new Xw({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[e]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1]),this.seqSentStatuses[e]=!0}},{key:"getLoginSockets",value:function(){return tN(this.curLoginSockets)}},{key:"onSocketReconnect",value:function(e){var t=this;return function(){t.warn("socket(".concat(e.name,") internal emit connectionOfSyncLost")),t.emit("connectionOfSyncLost")}}},{key:"clearSockets",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,A=1<arguments.length&&void 0!==arguments[1]&&arguments[1];[0].forEach((function(n){e.cleanLoginSubs(n,A),e.connection.closeSocket(n,t)}))}},{key:"sendPing",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],A=Qc("PRINT_TICK_LOG");if(A&&this.log("======sendPing======= %o",{socketName:e.name,lastPacketCount:e.packetCount}),e.isActiveClose)navigator.onLine&&this.warn("socket is closed, not send ping");else{for(var n=0;;n++)try{var r=this.tickAndMsgPtr,i=eb._rte_crdt_client_tick(this.clientPtr,r),o=eb._rte_crdt_bytes_data(r),a=Number(eb._rte_crdt_bytes_length(r)).valueOf(),s=new Uint8Array(eb.HEAP8.buffer,o,a).slice(),c=i,u=s,g=c;if(g===Yc.ErrNetwork){this.warn("".concat("Sync Api Error",": rte_crdt_client_tick, ret is ").concat(g)),eb._rte_crdt_client_reset_connection(this.clientPtr),e.forceReconnect();break}0<u.byteLength&&e.sendPacket(u);var I=Number(u.slice(2,3).toString());if(A&&this.log("-----tick info----- %o",{BufferLen:u.byteLength,idx:n,code:g,packetCount:e.packetCount,uri:I}),0<u.byteLength&&A&&console.log(u,"Sync_log: tick-buffer"),g===Yc.ErrNoMoreElems)break;g!==Yc.ErrOK&&this.warn("".concat("Sync Api Error",": rte_crdt_client_tick, ret is ").concat(g))}catch(e){if(this.warn("getBytesWithTick error: ".concat(e)),t)throw e}this.incSeqIfNeeded(0)}}},{key:"requestCRDTSetState",value:function(e,t){var A=this,n=Wb.presenceSetState;this.log("".concat(n," by crdt."));var r=this.withPresenceChannels.get(e),i=r.crdtCollectionPtr;if(r.writeable){r=td(this.context.uid);var o=Xk(this.context.uid);if(i=eb._rte_crdt_collection_ref_doc(i,r,o),Md(r),!i)throw t=(e=$a(Aa.RTM_ERROR_PRESENCE_OPERATION_FAILED)).code,new Db(n,[e.reason+"".concat("Sync Api Error",": rte_crdt_collection_ref_doc, docInstancePtr is ").concat(i)],t);if((r=eb._rte_crdt_document_batch_write_begin(i))!==Yc.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_document_batch_write_begin, ret is ").concat(r)),e=yh(r),new Db(n,[e.reason],e.code);for(var a in t){r=eb._rte_crdt_path_create(),o=td(a);var s=Xk(a);eb._rte_crdt_path_add_property(r,o,s),Md(o),o=eb._rte_crdt_value_create(),s=eb._rte_crdt_value_set_scalar(o);var c=td(t[a]),u=Xk(t[a]);eb._rte_crdt_scalar_value_set_bytes(s,c,u),Md(c),s=eb._rte_crdt_document_put(i,null,r,o),eb._rte_crdt_path_destroy(r),eb._rte_crdt_value_destroy(o),s!==Yc.ErrOK&&this.warn("".concat("Sync Api Error",": rte_crdt_document_put, ret is ").concat(s))}a=eb._rte_crdt_document_batch_write_end(i),this.getLoginSockets().map((function(e){A.sendPing(e)})),a!==Yc.ErrOK?this.warn("".concat("Sync Api Error",": rte_crdt_document_batch_write_end, ret is ").concat(a)):(this.updatePresenceStateCache(e,n,t),this.log("".concat(uc(e)," presence SetState succeed!")))}else this.updatePresenceStateCache(e,n,t),this.log("doc not writeable, ".concat(n," by local cache."))}},{key:"requestRPCSetState",value:function(e,t){var A,n,r=this,i=new Promise((function(e,t){A=e,n=t})),o=Wb.presenceSetState;this.log("".concat(o," by rpc."));var a=this.withoutPresenceChannels.get(e),s=a.remoteChannelCollPtr,c=a.docPtr;if(!a.writeable)return this.updatePresenceStateCache(e,o,t),this.log("doc not writeable, ".concat(o," by local cache.")),A({timeToken:0}),i;var u=Object.keys(t).length;a=eb._malloc(4*u);var g=eb._malloc(4*u),I=eb._malloc(8*u),l=a,E=g,C=I,d=[];for(B in t){var h=td(B),p=Xk(t[B]),f=td(t[B]);d.push(h),d.push(f),eb.setValue(l,h,"i32*"),eb.setValue(E,f,"i32*"),eb.setValue(C,Number(p).valueOf(),"i64"),l+=4,E+=4,C+=8}var B=td(e);if(this.cbPtrMap4SetStateByRpc.set(B,{resolvePromise:A,rejectPromise:n,prefixChannelName:e,operation:o,state:t}),e=eb._rte_crdt_client_put_remote(this.clientPtr,s,c,a,g,I,BigInt(u),this.cbPtr4SetStateByRpc,B),this.getLoginSockets().map((function(e){r.sendPing(e)})),eb._free(a),eb._free(g),eb._free(I),d.forEach((function(e){Md(e)})),e!==Yc.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_client_put_remote, ret is ").concat(e)),i=yh(e),new Db(o,[i.reason],i.code);return this.log("".concat("Sync Request Start",": ").concat(o)),i}},{key:"requestCRDTGetState",value:function(e,t){var A=Wb.presenceGetState;this.log("".concat(A," by crdt."));var n=td(t);return t=Xk(t),e=this.getStatesWithDocId(e,n,t,{operation:A}).states,Md(n),e}},{key:"requestRPCGetState",value:function(e,t){var A,n,r,i=this,o=new Promise((function(e,t){n=e,r=t})),a=Wb.presenceGetState;this.log("".concat(a," by rpc."));var s="/Vendors/"+this.vid+"/ChannelPresence/"+e+"/Users",c=null===(A=this.withoutPresenceChannels.get(e))||void 0===A?void 0:A.remoteChannelCollPtr;A=c||td(s),s=td(e),this.cbPtrMap4GetStateByRpc.set(s,{resolvePromise:n,rejectPromise:r,prefixChannelName:e,operation:a,userId:t}),e=td(t),t=td("");var u=BigInt(-1);if(s=eb._rte_crdt_client_get_remote(this.clientPtr,A,e,t,u,!1,!1,this.cbPtr4GetStateByRpc,s),this.getLoginSockets().map((function(e){i.sendPing(e)})),this.log("parameter :".concat({coll:mk(A),key:mk(e),rangeEnd:mk(t),limit:u}," of getState")),Md(e),Md(t),!c&&Md(A),s!==Yc.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_client_get_remote, ret is ").concat(s)),o=yh(s),new Db(a,[o.reason],o.code);return this.log("".concat("Sync Request Start",": ").concat(a)),o}},{key:"requestCRDTRemoveState",value:function(e,t){var A=this,n=Wb.presenceRemoveState;this.log("".concat(n," by crdt."));var r=this.withPresenceChannels.get(e),i=r.crdtCollectionPtr;if(r.writeable){r=td(this.context.uid);var o=Xk(this.context.uid);if(i=eb._rte_crdt_collection_ref_doc(i,r,o),Md(r),!i)throw t=(e=$a(Aa.RTM_ERROR_PRESENCE_OPERATION_FAILED)).code,new Db(n,[e.reason+"".concat("Sync Api Error",": rte_crdt_collection_ref_doc, docInstancePtr is ").concat(i)],t);if((r=eb._rte_crdt_document_batch_write_begin(i))!==Yc.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_document_batch_write_begin, ret is ").concat(r)),e=yh(r),new Db(n,[e.reason],e.code);for(var a in r=[],t){o=eb._rte_crdt_path_create();var s=td(a),c=Xk(a);eb._rte_crdt_path_add_property(o,s,c),Md(s),(s=eb._rte_crdt_document_delete(i,null,o))!==Yc.ErrOK?(this.warn("".concat("Sync Api Error",": rte_crdt_document_delete, ret is ").concat(s)),r.push(a)):this.log("remove state key: ".concat(a," succeed")),eb._rte_crdt_path_destroy(o)}if(a=eb._rte_crdt_document_batch_write_end(i),this.getLoginSockets().map((function(e){A.sendPing(e)})),a!==Yc.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_document_batch_write_end, ret is ").concat(a)),e=yh(a),new Db(n,[e.reason],e.code);this.updatePresenceStateCache(e,n,t),this.log("".concat(uc(e)," presence RemoveState succeed!").concat(0<r.length?" failedKeys: ".concat(r):""," "))}else this.updatePresenceStateCache(e,n,t),this.log("doc not writeable, ".concat(n," by local cache."))}},{key:"requestRPCRemoveState",value:function(e,t){var A,n=this,r=new Promise((function(e,t){A=e})),i=Wb.presenceRemoveState;this.log("".concat(i," by rpc."));var o=this.withoutPresenceChannels.get(e),a=o.remoteChannelCollPtr,s=o.docPtr;if(!o.writeable)return this.updatePresenceStateCache(e,i,t),this.log("doc not writeable, ".concat(i," by local cache.")),A({timeToken:0}),r;for(var c in o=[],t){var u=td(e+"removeState(".concat(c,")"));this.cbPtrMap4RemoveStateByRpc.set(u,{failedKeys:o,operation:i,key:c,prefixChannelName:e,state:t});var g=td(c);u=eb._rte_crdt_client_delete_remote(this.clientPtr,a,s,g,this.cbPtr4RemoveStateByRpc,u),this.getLoginSockets().map((function(e){n.sendPing(e)})),Md(g),u!==Yc.ErrOK?(this.warn("".concat("Sync Api Error",": rte_crdt_client_delete_remote, ret is ").concat(u)),o.push(c)):this.log("".concat("Sync Request Start",": ").concat(i,", key(").concat(c,")"))}return 0<o.length&&this.warn("".concat(i," failedKeys: ").concat(o)),A({timeToken:0}),r}},{key:"requestCRDTWhoNow",value:function(e,t,A){var n=this,r=Wb.whoNow;this.log("".concat(r," by crdt.timeoutUsersWithoutInterval: ").concat(JSON.stringify(this.timeoutUsersWithoutInterval)));var i=this.getUsersByChannel(e).filter((function(t){var A;return t=t.userId,!(null!==(A=n.timeoutUsersWithoutInterval.get(e))&&void 0!==A&&A.has(t))})),o={totalOccupancy:i.length,occupants:[],timeToken:0,nextPage:""};return A||t?(i.forEach((function(i){var a=i.userIdPtr,s=i.userIdLen;i=i.userId,t&&!A?o.occupants.push({userId:i,states:{},statesCount:0}):t&&A&&(a=n.getStatesWithDocId(e,a,s,{operation:r}).states,o.occupants.push({userId:i,states:a,statesCount:Object.keys(a).length}))})),o):o}},{key:"requestRPCWhoNow",value:function(e,t,A,n){var r,i,o,a=this,s=new Promise((function(e,t){i=e,o=t})),c=Wb.whoNow;this.log("".concat(c," by rpc."));var u="/Vendors/"+this.vid+"/ChannelPresence/"+e+"/Users",g=td(u);t=t?jK(atob(t)):td("");var I=td(""),l=null===(r=this.getConsoleConfig())||void 0===r?void 0:r["presence.occupancy"];r=BigInt(Number(null!=l?l:Qc("PRESENCE_THRESHOLD")));var E=l=!1;if(A||n?(l=!(!A||n),E=!1):(E=l=!0,r=BigInt(-1)),e=td(e),this.cbPtrMap4WhoNowByRpc.set(e,{resolvePromise:i,rejectPromise:o,operation:c,countOnly:E,keysOnly:l}),e=eb._rte_crdt_client_get_remote(this.clientPtr,g,t,I,r,l,E,this.cbPtr4WhoNowByRpc,e),this.getLoginSockets().map((function(e){a.sendPing(e)})),this.log("parameter: ".concat({coll:u,key:mk(t),rangeEnd:mk(I),limit:r,keysOnly:l,countOnly:E}," of whoNow")),Md(g),Md(I),Md(t),e!==Yc.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_client_get-remote, ret is ").concat(e)),s=yh(e),new Db(c,[s.reason],s.code);return this.log("".concat("Sync Request Start",": ").concat(c)),s}},{key:"requestRPCWhereNow",value:function(e){var t,A,n=this,r=new Promise((function(e,n){t=e,A=n})),i=Wb.whereNow,o=td("_keepalive_"),a="/Vendors/"+this.vid+"/Presence/"+e,s=td(a),c="".concat(a);c=jK(c);var u=BigInt(1);if(e=td(e),this.cbPtrMap4WhereNowByRpc.set(e,{resolvePromise:t,rejectPromise:A,operation:i,key:a}),e=eb._rte_crdt_client_get_remote(this.clientPtr,o,s,c,u,!1,!1,this.cbPtr4WhereNowByRpc,e),this.getLoginSockets().map((function(e){n.sendPing(e)})),this.log("parameter: ".concat({coll:"_keepalive_",key:a,rangeEnd:mk(c),limit:u}," of whereNow")),Md(o),Md(s),Md(c),e!==Yc.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_client_get_remote, ret is ").concat(e)),r=yh(e),new Db(i,[r.reason],r.code);return this.log("".concat("Sync Request Start",": ").concat(i)),r}},{key:"getUsersByChannel",value:function(e){var t;e=null===(t=this.withPresenceChannels.get(e))||void 0===t?void 0:t.crdtCollectionPtr,t=eb._rte_crdt_collection_iterator_create(e,null,BigInt(0)),e=[];for(var A=eb._malloc(4),n=eb._malloc(4),r=0;;r++){var i=eb._rte_crdt_collection_iterator_next(t,A,n);if(i!==Yc.ErrOK){eb._rte_crdt_collection_iterator_destroy(t),i!==Yc.ErrNoMoreElems&&this.warn("".concat("Sync Api Error",": rte_crdt_collection_iterator_next, ret is ").concat(i));break}i=eb.getValue(n,"i64");var o=eb.getValue(A,"i32"),a=mk(o);e.push({userIdPtr:o,userIdLen:i,userId:a})}return eb._free(A),eb._free(n),e}},{key:"updatePresenceStateCache",value:function(e,t,A){var n,r=null!==(n=this.localStateCache.get(e))&&void 0!==n?n:new Map;if(t===Wb.presenceSetState)for(var i in A)r.set(i,A[i]);else if(t===Wb.presenceRemoveState)if(0===Object.keys(A).length)r.clear();else for(var o in A)r.delete(o);this.localStateCache.set(e,r)}},{key:"subscribe",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Promise((function(e,t){A=e,n=t})),this.isInitBusy=!0,i=this.getCrdtCollectionPtr(t),o=td(t),this.cbPtrMap4SubscribeChannel.set(o,{prefixChannelName:t,crdtCollectionPtr:i,rejectPromise:n,resolvePromise:A}),a=eb._rte_crdt_collection_init(i,this.cbPtr4SubscribeChannel,o),this.getLoginSockets().map((function(e){I.sendPing(e)})),a!==Yc.ErrOK?(s="".concat("Sync Api Error",": rte_crdt_collection_init, ret is ").concat(a),this.warn(s),this.emit("initDocFailure",t),c=yh(a),u=c.code,g=c.reason,n(new Db(Wb.subscribe,[g+s],u))):this.log("".concat("Sync Request Start",": subscribe channel")),this.isInitBusy=!1,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attend",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Promise((function(e,t){A=e,n=t})),!this.withoutPresenceChannels.has(t)){e.next=5;break}return this.warn("attend channel(".concat(uc(t),") already.")),A(!0),e.abrupt("return",r);case 5:return i="/Vendors/"+this.vid+"/ChannelPresence/"+t+"/Users",o=td(i),a=td(this.context.uid),s=td(t),this.cbPtrMap4AttendChannel.set(s,{prefixChannelName:t,remoteChannelCollPtr:o,docPtr:a,rejectPromise:n,resolvePromise:A}),this.withoutPresenceChannels.set(t,{writeable:!1,docPtr:a,remoteChannelCollPtr:o}),(c=eb._rte_crdt_client_put_doc_remote(this.clientPtr,o,a,this.cbPtr4AttendChannel,s))!==Yc.ErrOK?(u="".concat("Sync Api Error",": rte_crdt_client_put_doc_remote, ret is ").concat(c),this.warn(u),this.emit("initDocFailure",t),g=yh(c),I=g.code,l=g.reason,n(new Db(Wb.subscribe,[l+u],I))):(this.log("".concat("Sync Request Start",": attend channel.")),this.getLoginSockets().map((function(e){E.sendPing(e)}))),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearChannelCacheAPointers",value:function(e,t){if(t)t=this.withPresenceChannels.get(e).collNamePtr,eb._rte_crdt_client_delete_coll(this.clientPtr,t),Md(t),this.withPresenceChannels.delete(e),(t=this.withPresenceCbContextPtrs.get(e))&&(this.cbPtrMap4InitCollByCrdt.delete(t),Md(t)),this.withPresenceCbContextPtrs.delete(e),this.log("Delete channel(".concat(uc(e),") document succeed by crdt.")),this.clearIntervalById(this.intervalTimerId.get(e)),this.clearIntervalCacheOfChannel(e);else{var A=this.withoutPresenceChannels.get(e);t=A.remoteChannelCollPtr,A=A.docPtr,this.withoutPresenceChannels.delete(e),Md(t),Md(A)}this.localStateCache.delete(e)}},{key:"delCbPtr4DelChannel",value:function(){eb.removeFunction(this.cbPtr4SetStateByRpc),eb.removeFunction(this.cbPtr4GetStateByRpc),eb.removeFunction(this.cbPtr4WhoNowByRpc),eb.removeFunction(this.cbPtr4WhereNowByRpc),eb.removeFunction(this.cbPtr4AttendChannel),eb.removeFunction(this.cbPtr4DelChannelByRpc),eb.removeFunction(this.cbPtr4SubscribeChannel),eb.removeFunction(this.cbPtr4InitCollByCrdt),eb.removeFunction(this.cbPtr4RemoveStateByRpc)}},{key:"absent",value:function(e,t){var A,n=this,r=new Promise((function(e,t){A=e}));if(t){var i=td(this.context.uid),o=this.withPresenceChannels.get(e).crdtCollectionPtr;eb._rte_crdt_collection_delete_doc(o,i,Xk(this.context.uid)),o=td("/Vendors/"+this.vid+"/ChannelPresence/"+e+"/Users"),eb._rte_crdt_client_stop_keepalive(this.clientPtr,o,i),Md(o),Md(i),this.getLoginSockets().map((function(e){n.sendPing(e)})),this.clearChannelCacheAPointers(e,t),A(!0)}else{var a=this.withoutPresenceChannels.get(e);if(i=a.remoteChannelCollPtr,o=a.docPtr,!(a=a.writeable))return this.warn("channel(".concat(uc(e),") is not writeable, can not delete, writeable value is ").concat(a,".")),A(!1),r;eb._rte_crdt_client_stop_keepalive(this.clientPtr,i,o),a=td(e),this.cbPtrMap4DelChannelByRpc.set(a,{resolvePromise:A,prefixChannelName:e}),(i=eb._rte_crdt_client_delete_doc_remote(this.clientPtr,i,o,this.cbPtr4DelChannelByRpc,a))!==Yc.ErrOK?(this.warn("".concat("Sync Api Error",": rte_crdt_client_delete_doc_remote, ret is ").concat(i)),A(!1)):this.log("".concat("Sync Request Start",": start delete channel(").concat(uc(e),") by rpc.")),this.clearChannelCacheAPointers(e,t),this.getLoginSockets().map((function(e){n.sendPing(e)}))}return this.subscribedPresenceChannels.delete(e),r}},{key:"getCrdtCollectionPtr",value:function(e){var t=td("/Vendors/"+this.vid+"/ChannelPresence/"+e+"/Users"),A=Gs(),n=td(A);return eb._rte_crdt_client_create_coll(this.clientPtr,t,n,Xk(A)),Md(n),A=eb._rte_crdt_client_get_coll(this.clientPtr,t),this.withPresenceChannels.set(e,{writeable:!1,crdtCollectionPtr:A,collNamePtr:t,channelType:Cj(e).channelType}),A}},{key:"emitPresenceSnapshot",value:function(e,t){var A=this,n=eb._rte_crdt_collection_iterator_create(t,null,BigInt(0));t=[];for(var r=eb._malloc(4),i=eb._malloc(4),o=0;;o++){var a=eb._rte_crdt_collection_iterator_next(n,r,i);if(a!==Yc.ErrOK){a!==Yc.ErrNoMoreElems&&this.warn("".concat("Sync Api Error",": rte_crdt_collection_iterator_next, ret is ").concat(a)),eb._rte_crdt_collection_iterator_destroy(n);break}a=eb.getValue(i,"i64");var s=eb.getValue(r,"i32"),c=eb.UTF8ToString(s);t.push({userIdPtr:s,userIdLen:a,userId:c})}eb._free(r),eb._free(i),this.log("users(".concat(t.map((function(e){return uc(e.userId)})),") in channel(").concat(uc(e),"), totalCount: ").concat(t.length)),n=Cj(e);var u=[];n={eventType:"SNAPSHOT",channelType:n.channelType,channelName:n.channelName,publisher:"",stateChanged:{},snapshot:u,interval:null};var g=new Map;this.timeoutInSnapshot.set(e,new Set),t.forEach((function(t){var n=t.userId;t=A.getStatesWithDocId(e,t.userIdPtr,t.userIdLen,{userId:n}).states,A.timeoutInSnapshot.get(e).has(n)?A.log("snapshot: user(".concat(uc(n),") timeout, ignore.")):(u.push({userId:n,states:t,statesCount:Object.keys(t).length}),g.set(n,t))})),this.channelsUsersStates.set(e,g),n.snapshot=u,this.emit("presence",n)}},{key:"getStatesWithDocId",value:function(e,t,A,n){var r;this.log("query crdt document by uid(".concat(uc(eb.UTF8ToString(t)),")."));var i={},o=null===(r=this.withPresenceChannels.get(e))||void 0===r?void 0:r.crdtCollectionPtr;if(!(r=eb._rte_crdt_collection_ref_doc(o,t,A)))return this.warn("".concat("Sync Api Error",": rte_crdt_collection_ref_doc, docInstancePtr is ").concat(r)),{states:i};if(t=eb._rte_crdt_path_create(),A=eb._rte_crdt_nested_value_create(),(r=eb._rte_crdt_document_get(r,null,t,A))!==Yc.ErrOK&&(this.warn("".concat("Sync Api Error",": rte_crdt_document_get, ret is ").concat(r)),n.operation))throw e=yh(r),new Db(n.operation,[e.reason],e.code);return eb._rte_crdt_path_destroy(t),Qc("PRINT_TICK_LOG")&&eb._rte_crdt_nested_value_print(A),eb._rte_crdt_nested_value_is_map(A)?i=this.getStatesWithMapNested(A,null!=n&&n.userId?{userId:n.userId,prefixChannelName:e,querySnapshot:!0}:void 0):this.warn("nested value is not a map in func getStatesWithDocId."),eb._rte_crdt_nested_value_destroy(A),{states:i}}},{key:"isScalarValueWithCrdt",value:function(e){return!!eb._rte_crdt_value_is_scalar(e)}},{key:"isScalarValueWithNested",value:function(e){return!!eb._rte_crdt_nested_value_is_scalar(e)}},{key:"getScalarValuePtrWithCrdt",value:function(e){return eb._rte_crdt_value_get_scalar(e)}},{key:"getScalarValuePtrWithNested",value:function(e){return eb._rte_crdt_nested_value_get_scalar(e)}},{key:"scalarValueIsBytes",value:function(e){return!!eb._rte_crdt_scalar_value_is_bytes(e)}},{key:"getStatesWithMapNested",value:function(e,t){eb._rte_crdt_nested_value_print(e);var A={};e=eb._rte_crdt_nested_value_iterator_create(e);for(var n=eb._malloc(4),r=eb._malloc(4),i=eb._malloc(4),o=[],a=0;;a++){var s=eb._rte_crdt_nested_value_iterator_next_key_value(e,n,r,i);if(s!==Yc.ErrOK){s!==Yc.ErrNoMoreElems&&this.log("".concat("Sync Api Error",": rte_crdt_nested_value_iterator_next_key_value, ret is ").concat(s)),eb._rte_crdt_nested_value_iterator_destroy(e);break}if(eb.getValue(r,"i64"),"_expired"===(s=Fw(n)))this.warn("get key(".concat("_expired",") in func getStatesWithMapNested.")),null!=t&&t.querySnapshot&&this.timeoutInSnapshot.get(null==t?void 0:t.prefixChannelName).add(null==t?void 0:t.userId);else if(at(s[0])){var c=eb.getValue(i,"i32");if(this.isScalarValueWithNested(c)){var u=this.getScalarValuePtrWithNested(c);if(this.scalarValueIsBytes(u)){c=eb._malloc(4);var g=eb._malloc(4);(u=eb._rte_crdt_scalar_value_get_bytes(u,c,g))!==Yc.ErrOK?this.warn("getBytes failure in func getStatesWithMapNested. ".concat("Sync Api Error",": rte_crdt_scalar_value_get_bytes, ret is ").concat(u)):(eb.getValue(g,"i64"),u=Fw(c),A[s]=u),eb._free(c),eb._free(g)}else this.warn("scalar value is not a bytes in func getStatesWithMapNested.")}else eb._rte_crdt_nested_value_is_map(c)?this.warn("value is a map in func getStatesWithMapNested."):eb._rte_crdt_nested_value_is_list(c)?this.warn("value is a list in func getStatesWithMapNested."):this.warn("value is not scalar, map or list in func getStatesWithMapNested.")}else o.push(s)}return 0<o.length&&this.log("".concat("Sync Invalid Data",": ").concat(o," in func getStatesWithMapNested.")),eb._free(n),eb._free(r),eb._free(i),A}},{key:"getChannelsWithMapNested",value:function(e){eb._rte_crdt_nested_value_print(e);var t=[];e=eb._rte_crdt_nested_value_iterator_create(e);for(var A=eb._malloc(4),n=eb._malloc(4),r=eb._malloc(4),i=[],o=0;;o++){var a=eb._rte_crdt_nested_value_iterator_next_key_value(e,A,n,r);if(a!==Yc.ErrOK){a!==Yc.ErrNoMoreElems&&this.warn("".concat("Sync Api Error",": rte_crdt_nested_value_iterator_next_key_value, ret is ").concat(a)),eb._rte_crdt_nested_value_iterator_destroy(e);break}eb.getValue(n,"i64"),at((a=Fw(A))[0])?(a=Cj(a),t.push({channelName:a.channelName,channelType:a.channelType})):i.push(a)}return 0<i.length&&this.log("".concat("Sync Invalid Data",": ").concat(i," when performing whereNow")),eb._free(A),eb._free(n),eb._free(r),t}},{key:"updateClientKey",value:function(e){var t=eb._rte_crdt_client_set_key;e=td(e),t(this.clientPtr,e),Md(e)}},{key:"renewKey",value:function(e){var t,A,n=this,r=new Promise((function(e,n){t=e,A=n})),i=Wb.renewToken,o=eb.addFunction((function(e,r){e!==Yc.ErrOK?(n.warn("".concat("Sync Callback Error",": rte_crdt_client_renew_key_remote, ret is ").concat(e)),A(!1)):(t(!0),n.log("".concat("Sync Callback emitted ",": ").concat(i," by rpc succeed. "))),n.emit("endOfCallback",o)}),"vii"),a=td(e),s=eb._rte_crdt_client_renew_key_remote(this.clientPtr,a,o,0);if(Md(a),s!==Yc.ErrOK)throw e=(r=yh(s)).code,r=r.reason,this.warn("".concat("Sync Api Error",": rte_crdt_client_renew_key_remote, ret is ").concat(s)),new Db(i,[r],e);return this.log("".concat("Sync Request Start",": ").concat(i)),this.updateClientKey(e),r}}]),t}(Mh),jf,Os=vH.SubscribeTopicErrorCode,Dda=(jf=function(e){function t(e,A,r,i,o){zb(this,t);var a=n.call(this,e,"StreamChannel",!0);na(V(a),"channelName",void 0),na(V(a),"userId",void 0),na(V(a),"appId",void 0),na(V(a),"rtm",void 0),na(V(a),"getSession",void 0),na(V(a),"getSyncSession",void 0),na(V(a),"isJoinedChannel",!1),na(V(a),"rtcClient",void 0),na(V(a),"localDataChannelMap",new Map),na(V(a),"subscribeInfoMap",new Map),na(V(a),"preSubscribeInfoMap",new Map),na(V(a),"remoteUserMap",new Map),na(V(a),"remoteDatachannelMap",new Map),na(V(a),"rtcClients",new Map),na(V(a),"isReuseRtcClient",!1),na(V(a),"internalEmitter",new ke),na(V(a),"funcMap4CloseTopic",new Map),na(V(a),"addDcListener",(function(e,t,A,n,r){var i=V(a);null==t||t.on("open",(function(){a.log("".concat(a.channelName,"(").concat(A,") remote dc opened."))}));var o,s=(o=pa(O.mark((function o(s){return O.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a.warn("".concat(a.channelName,"(").concat(A,") remote dc closed. error is ").concat(s,", state is ").concat(i.rtcClient.connectionState)),"CONNECTED"===i.rtcClient.connectionState){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,a.handleDcError(e,A,t,n,r);case 5:case"end":return o.stop()}}),o)}))),function(e){return o.apply(this,arguments)});a.funcMap4CloseTopic.set("".concat(A,":").concat(e),s),null==t||t.on("close",s),null==t||t.on("error",function(){var o=pa(O.mark((function o(s){return O.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a.warn("error occurs in ".concat(a.channelName,"(").concat(A,") remote dc. error is ").concat(s,", state is ").concat(i.rtcClient.connectionState)),"CONNECTED"===i.rtcClient.connectionState){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,a.handleDcError(e,A,t,n,r);case 5:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()),"sub"===e&&r&&(t.on("message",r),a.log("".concat(a.channelName,"(").concat(A,") msg event added")))})),a.channelName=A.channelName,a.appId=A.appId,a.userId=A.userId,a.rtm=r,a.getSession=Ew(i),a.getSyncSession=iK(o),a.setMaxListeners(512),a.internalEmitter.setMaxListeners(512),Lh.setParameter("ENABLE_DATASTREAM_2",!0),Lh.setParameter("AP_RTM",!0),Lh.setParameter("DATASTREAM_MAX_RETRANSMITS",0),a.rtm.context.config.logUpload&&Lh.setParameter("UPLOAD_LOG",!0),a.isReuseRtcClient=a.rtcClients.has(a.channelName),a.log("Create streamChannel, isReuseRtcClient: ".concat(a.isReuseRtcClient));try{a.rtcClient=a.isReuseRtcClient?a.rtcClients.get(a.channelName):Lh.createClient({codec:"vp8",mode:"rtc"}),a.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:3})}catch(t){throw e=t.code,r=(A=Dq(Gg[e])).code,new Db(Wb.createStreamChannel,[A.reason+"create streamChannel failure, server code is ".concat(e)],r)}return a.addAllRtcListeners(),a}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"handleConnectionStateChange",value:(A=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("DISCONNECTED"!==t){e.next=11;break}return this.clearLocalCache(),this.isJoinedChannel=!1,this.internalEmitter.emit("stream-channel-leaved",this.channelName),this.removeAllRtcListeners(),o=bg(this.channelName,"STREAM"),a=this.getSyncSession().withPresenceChannels.has(o)||this.getSyncSession().withoutPresenceChannels.has(o),s=null!==(r=null===(i=this.getSession().subscribedChannels.get(o))||void 0===i?void 0:i.withPresence)&&void 0!==r&&r,this.getSession().subscribedChannels.delete(o),e.next=11,this.unsubPresence(o,a,s);case 11:"CONNECTED"===t&&(this.isJoinedChannel=!0),c={channelName:this.channelName,state:t,reason:(null!=n?n:"CONNECTED"===t)?"OK":""},this.rtm.emit("status",c);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return A.apply(this,arguments)})},{key:"unsubPresence",value:function(){var e=pa(O.mark((function e(t,A,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=A,!e.t0){e.next=4;break}return e.next=4,this.getSyncSession().absent(t,n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"unsubLockAMeta",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=bg(this.channelName,"STREAM"),o=null!==(t=null===(A=this.getSession().subscribedChannels.get(i))||void 0===A?void 0:A.withMetadata)&&void 0!==t&&t,a=null!==(n=null===(r=this.getSession().subscribedChannels.get(i))||void 0===r?void 0:r.withLock)&&void 0!==n&&n,o&&(this.getSession().requestUnsubscribeChannelMetadata(i),this.rtm.channelMetadataSub.delete(i)),a&&this.getSession().requestUnsubscribeLock(i),this.getSession().emit("unSubChannelLock",i),this.getSession().emit("unSubChannelMetadata",i);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleUserPublishedList",value:function(e){var t=[];e.forEach((function(e){var A;null===(A=e.dataChannels)||void 0===A||A.forEach((function(A){A.getConfig()&&t.push({user:e,config:A.getConfig()})}))})),0===t.length?this.rtm.emit("topic",{eventType:"SNAPSHOT",channelName:this.channelName,publisher:"",topicInfos:[],totalTopics:0}):this.handleReceivedDcs(t,"","SNAPSHOT")}},{key:"handleUserPublished",value:function(e,t,A){"datachannel"===t&&void 0!==A&&this.handleReceivedDcs([{user:e,config:A}],e.uid.toString(),"REMOTE_JOIN")}},{key:"handleUserUnPublished",value:function(e,t,A){var n,r;if("datachannel"===t&&void 0!==(t=null==A?void 0:A.metadata)){t=(A=this.decodeMetadata(t)).topic,A=A.metadata;var i=e.uid.toString();0===(null===(n=e.dataChannels)||void 0===n?void 0:n.length)&&this.remoteUserMap.delete(i),(e=this.getInitTopicEventData("REMOTE_LEAVE",this.channelName,i,1)).topicInfos.push({publishers:[{publisherUserId:i,publisherMeta:A}],topicName:t,totalPublisher:1}),this.rtm.emit("topic",e),this.deleteRemoteDc(t,i),null!==(r=this.subscribeInfoMap.get(t))&&void 0!==r&&r.has(i)&&(this.log("sub topic -> preSub topic, ".concat(t,", ").concat(i)),this.addPreSub(t,i),this.deleteSub(t,i))}}},{key:"handleTokenPrivilegeWillExpire",value:function(){this.rtm.emit("tokenPrivilegeWillExpire",this.channelName)}},{key:"removeAllRtcListeners",value:function(){this.rtcClient.off("connection-state-change",this.handleConnectionStateChange),this.rtcClient.off("published-user-list",this.handleUserPublishedList),this.rtcClient.off("user-published",this.handleUserPublished),this.rtcClient.off("user-unpublished",this.handleUserUnPublished),this.rtcClient.off("token-privilege-will-expire",this.handleTokenPrivilegeWillExpire)}},{key:"addAllRtcListeners",value:function(){this.rtcClient.on("connection-state-change",this.handleConnectionStateChange.bind(this)),this.rtcClient.on("published-user-list",this.handleUserPublishedList.bind(this)),this.rtcClient.on("user-published",this.handleUserPublished.bind(this)),this.rtcClient.on("user-unpublished",this.handleUserUnPublished.bind(this)),this.rtcClient.on("token-privilege-will-expire",this.handleTokenPrivilegeWillExpire.bind(this))}},{key:"handleReceivedDcs",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,i=0;case 2:if(!(i<t.length)){e.next=23;break}if(s=t[i],c=s.user,u=s.config,void 0!==(g=null==u?void 0:u.metadata)){e.next=8;break}return this.log("meta of datachannel is invalid. user(".concat(c,"), channel(").concat(this.channelName,"), dc(").concat(u,")")),e.abrupt("continue",20);case 8:if(I=c.uid.toString(),this.remoteUserMap.set(I,c),l=this.decodeMetadata(g),E=l.topic,C=l.metadata,d=null==u?void 0:u.id,r.has(E)||r.set(E,[]),null===(o=r.get(E))||void 0===o||o.push({publisherUserId:I,publisherMeta:C}),this.addRemoteDc(E,I,C,d),null===(a=this.preSubscribeInfoMap.get(E))||void 0===a||!a.has(I)){e.next=20;break}return e.next=20,this.handlePreSubscribeTopic(E,I,null===(h=this.remoteDatachannelMap.get(E))||void 0===h||null===(p=h.get(I))||void 0===p?void 0:p.id);case 20:i++,e.next=2;break;case 23:this.emitTopic(A,n,r);case 24:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"emitTopic",value:function(e,t,A){var n=this.getInitTopicEventData(t,this.channelName,e,A.size);A.forEach((function(e,t){n.topicInfos.push({publishers:e,topicName:t,totalPublisher:e.length})})),0===n.topicInfos.length&&this.log("length of topicInfos is 0 in emitTopic."),this.rtm.emit("topic",n)}},{key:"getInitTopicEventData",value:function(e,t,A,n){return{eventType:e,channelName:t,publisher:A,topicInfos:[],totalTopics:n}}},{key:"userIdToRTCRemoteUser",value:function(e){if("number"==typeof this.userId){var t=void 0;null==t?t=0:t&&(t=+t),e=o2((null==e?"":BA(e)).replace(n2,""),t||0)}return{uid:e,hasAudio:!1,hasVideo:!1,dataChannels:[]}}},{key:"addRemoteDc",value:function(e,t,A,n){this.remoteDatachannelMap.has(e)||this.remoteDatachannelMap.set(e,new Map),(e=this.remoteDatachannelMap.get(e)).has(t)||e.set(t,{meta:A,id:n})}},{key:"deleteRemoteDc",value:function(e,t){var A,n;null===(A=this.remoteDatachannelMap.get(e))||void 0===A||A.delete(t),null!==(n=this.remoteDatachannelMap.get(e))&&void 0!==n&&n.size||this.remoteDatachannelMap.delete(e)}},{key:"addPreSub",value:function(e,t){var A;this.preSubscribeInfoMap.has(e)||this.preSubscribeInfoMap.set(e,new Set),null===(A=this.preSubscribeInfoMap.get(e))||void 0===A||A.add(t)}},{key:"deletePreSub",value:function(e,t){var A,n;null===(A=this.preSubscribeInfoMap.get(e))||void 0===A||A.delete(t),null!==(n=this.preSubscribeInfoMap.get(e))&&void 0!==n&&n.size||this.preSubscribeInfoMap.delete(e)}},{key:"addSub",value:function(e,t){var A;this.subscribeInfoMap.has(e)||this.subscribeInfoMap.set(e,new Set),null===(A=this.subscribeInfoMap.get(e))||void 0===A||A.add(t)}},{key:"deleteSub",value:function(e,t){var A,n;null===(A=this.subscribeInfoMap.get(e))||void 0===A||A.delete(t),null!==(n=this.subscribeInfoMap.get(e))&&void 0!==n&&n.size||this.subscribeInfoMap.delete(e)}},{key:"decodeMetadata",value:function(e){return GU.decode((new TextEncoder).encode(e))}},{key:"decodeMessage",value:function(e){return HU.decode(e)}},{key:"encodeMessage",value:function(e,t,A,n,r){return HU.encode(Rd({messageType:n,payload:e,encrypted:A,payloadLength:t},r?{customType:r}:{})).finish()}},{key:"onDcMessage",value:function(e,t,A){var n=this,r=function(e){var r=n.decodeMessage(new Uint8Array(e)),i=r.encrypted,o=r.payloadLength;e=r.messageType;var a=r.payload;r=r.customType,i&&!n.rtm.key?n.warn("Received a message with encryption but the key is not ready yet."):!i&&n.rtm.key?n.warn("Received a message without encryption but the key is ready."):(i=1===e?(new TextDecoder).decode(i?nw(a,n.rtm.key,n.rtm.iv,n.rtm.keyLength).slice(0,o):a):i?nw(a,n.rtm.key,n.rtm.iv,n.rtm.keyLength).slice(0,o):a,n.rtm.emit("message",{channelName:n.channelName,channelType:"STREAM",topicName:t,message:i,publisher:A,messageType:1===e?"STRING":"BINARY",customType:r}))};this.addDcListener("sub",e,t,A,r),this.internalEmitter.on("unsubscribeTopicMessage",(function(n,i){n===t&&i===A&&e.off("message",r)}))}},{key:"handlePreSubscribeTopic",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xz(this.rtcClient.subscribe(this.remoteUserMap.get(A)||this.userIdToRTCRemoteUser(A),"datachannel",n),(function(e){return e}));case 2:(r=e.sent).isErr()&&(o=null==r||null===(i=r.error)||void 0===i?void 0:i.code,this.log("subscribe predictive user(".concat(uc(A),") in topic(").concat(t,") failed, code is ").concat(o))),r.isOk()&&(a=r.value,this.log("pre-subtopic ".concat(this.channelName,"(").concat(t,") succeed.")),this.onDcMessage(a,t,A),this.addSub(t,A),this.deletePreSub(t,A));case 5:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"patchSubscribeTopic",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={succeedUsers:[],failedUsers:[],failedDetails:[],timeToken:0,topicName:t},o=64-((null===(n=this.preSubscribeInfoMap.get(t))||void 0===n?void 0:n.size)||0)-((null===(r=this.subscribeInfoMap.get(t))||void 0===r?void 0:r.size)||0),a=xi(A).filter((function(e,A){return A+1>o&&(i.failedDetails.push({user:e,errorCode:Os.SUB_USER_EXCEED_LIMITATION,timeToken:0,topicName:t}),i.failedUsers.push(e)),A+1<=o})),e.next=5,Promise.all(a.map((function(e){var A,n;return Xz(c.rtcClient.subscribe(c.remoteUserMap.get(e)||c.userIdToRTCRemoteUser(e),"datachannel",null===(A=c.remoteDatachannelMap.get(t))||void 0===A||null===(n=A.get(e))||void 0===n?void 0:n.id),(function(e){return e}))})));case 5:return s=e.sent,s.map((function(e,t){return{userId:a[t],result:e}})).forEach((function(e){if(e.result.isErr()){var A,n,r,o=null===(A=e.result.error)||void 0===A?void 0:A.code;i.failedDetails.push({user:e.userId,errorCode:Os.UNKNOWN_ERROR,reason:"Subscribe topic failure, web_rtc code is ".concat(o,", the reason of web_rtc is that ").concat(null==e||null===(n=e.result)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.toString()),timeToken:0,topicName:t}),i.failedUsers.push(e.userId),c.warn(e.result,"WEB_RTCerror"),c.log("subscribe user(".concat(e.userId,") in topic(").concat(t,") failed, code is ").concat(o))}else i.succeedUsers.push(e.userId),A=e.result.value,c.log("subtopic ".concat(c.channelName,"(").concat(t,") succeed.")),c.onDcMessage(A,t,e.userId)})),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"clearLocalCache",value:function(){this.localDataChannelMap=new Map,this.remoteDatachannelMap=new Map,this.preSubscribeInfoMap=new Map,this.subscribeInfoMap=new Map,this.remoteUserMap=new Map}},{key:"checkIsJoinedChannel",value:function(e){if(!this.isJoinedChannel){this.log("".concat(this.channelName," have not joined stream channel when ").concat(e));var t=$a(Aa.RTM_ERROR_CHANNEL_NOT_JOINED);throw new Db(e,[t.reason],t.code)}}},{key:"join",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w,D,k,N,T,L,M,U,x,P,G,F,K,V,Y,J,q,H=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I=Wb.join,this.validateRtmConnection(I),null!==(A=t)&&void 0!==A&&A.token&&fB(t.token,this.appId,I,(function(e){H.warn(e)})),""!==(null===(n=t)||void 0===n?void 0:n.token)){e.next=6;break}throw l=$a(Aa.RTM_ERROR_INVALID_TOKEN),E=l.code,C=l.reason,new Jc(I,[C],E);case 6:if(!(100<=this.rtm.streamChannelList.length)){e.next=10;break}throw this.log("exceed join channel limit ".concat(100)),d=$a(Aa.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION),h=d.code,p=d.reason,new Db(I,[p],h);case 10:if(t=Rd(Rd({},t),{},{withLock:null!==(r=null===(i=t)||void 0===i?void 0:i.withLock)&&void 0!==r&&r,withMetadata:null!==(o=null===(a=t)||void 0===a?void 0:a.withMetadata)&&void 0!==o&&o,withPresence:null===(s=null===(c=t)||void 0===c?void 0:c.withPresence)||void 0===s||s}),this.validateSessionExist(I),f={timeToken:0},!this.isJoinedChannel){e.next=16;break}return this.log("".concat(this.channelName," has already joined channel")),e.abrupt("return",f);case 16:B=!1,Q=Lh.__CLIENT_LIST__.map((function(e){return"channel(".concat(e.channelName,"), state: ").concat(e.connectionState,"}")})),this.log("FusionSDK: ".concat(!1,". clientList of rtc: ").concat(Q)),e.next=28;break;case 21:if(!(y<Lh.__CLIENT_LIST__.length)){e.next=28;break}if(Lh.__CLIENT_LIST__[y].channelName!==this.channelName){e.next=25;break}return B=!0,e.abrupt("break",28);case 25:y++,e.next=21;break;case 28:e.prev=28,this.log("Join streamChannel, isReuseRtcClient: ".concat(B)),this.internalEmitter.emit("stream-channel-joined",this.channelName),m=null===(v=this.rtcClients.get(this.channelName))||void 0===v?void 0:v.connectionState,e.next=36;break;case 35:this.handleUserPublishedList(this.rtcClient.remoteUsers);case 36:if("CONNECTED"===m||"CONNECTING"===m){e.next=41;break}return b=null===(_=t)||void 0===_?void 0:_.token,this.rtm.context.config.cloudProxy&&this.rtcClient.startProxyServer(5),e.next=41,this.rtcClient.join(this.appId,this.channelName,b||null,this.userId);case 41:this.isJoinedChannel=!0,e.next=53;break;case 44:if(e.prev=44,e.t0=e.catch(28),this.internalEmitter.emit("stream-channel-leaved",this.channelName),"CAN_NOT_GET_GATEWAY_SERVER"!==(R=e.t0.code)){e.next=51;break}throw S=$a(Aa.RTM_ERROR_INVALID_TOKEN),w=S.code,D=S.reason,new Db(I,[D],w);case 51:throw k=Dq(Gg[R]),N=k.code,T=k.reason,new Db(Wb.createStreamChannel,[T+"Join channel failure, server code is ".concat(R)],N);case 53:if(L=bg(this.channelName,"STREAM"),null===(u=t)||void 0===u||!u.withMetadata||"true"!==this.rtm.consoleConfig["storage.channel_subscribe_enabled"]){e.next=58;break}return e.next=57,null===(M=this.getSession())||void 0===M?void 0:M.requestSubscribeChannelMetadata(L,"JOIN");case 57:this.rtm.channelMetadataSub.has(L)||this.rtm.channelMetadataSub.add(L);case 58:if(null===(g=t)||void 0===g||!g.withLock){e.next=61;break}return e.next=61,null===(U=this.getSession())||void 0===U?void 0:U.requestSubscribeLock(L);case 61:if(t&&this.getSession().subscribedChannels.set(L,t),"CONNECTED"===this.rtm.syncConnectionState){e.next=65;break}throw x=$a(Aa.RTM_ERROR_PRESENCE_NOT_CONNECTED),P=x.code,G=x.reason,new Ad(I,[G],P);case 65:if(F=$a(Aa.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED),K=F.code,V=F.reason,e.prev=66,null===(Y=t)||void 0===Y||!Y.withPresence){e.next=72;break}return e.next=70,null===(J=this.getSyncSession())||void 0===J?void 0:J.subscribe(L);case 70:e.next=74;break;case 72:return e.next=74,null===(q=this.getSyncSession())||void 0===q?void 0:q.attend(L);case 74:e.next=79;break;case 76:throw e.prev=76,e.t1=e.catch(66),new Et(I,[V+e.t1],K);case 79:return e.abrupt("return",f);case 80:case"end":return e.stop()}}),e,this,[[28,44],[66,76]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renewStreamChannelToken",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.rtcClient.renewToken(t);case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(1),A=e.t0.code,n=Dq(Gg[A]),r=n.code,i=n.reason,new Db(Wb.createStreamChannel,[i+"RenewToken of streamChannel failure, server code is ".concat(A)],r);case 11:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a,s,c;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Wb.leave,this.validateRtmConnection(t),this.validateSessionExist(t),this.checkIsJoinedChannel(t),A={timeToken:0},r=new Promise((function(e,t){n=e})),this.log("Leave streamChannel, isReuseRtcClient: ".concat(this.isReuseRtcClient)),e.prev=7,i=this.isReuseRtcClient&&!1,e.next=11,Promise.all([this.unsubLockAMeta(),i?this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:0}):this.rtcClient.leave()]);case 11:this.rtm.context.config.cloudProxy&&!i&&this.rtcClient.stopProxyServer(),n(A),e.next=20;break;case 15:throw e.prev=15,e.t0=e.catch(7),o=e.t0.code,a=Dq(Gg[o]),s=a.code,c=a.reason,new Db(Wb.createStreamChannel,[c+"Leave channel failure, server code is  ".concat(o)],s);case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}}),e,this,[[7,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"joinTopic",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wb.joinTopic,this.validateRtmConnection(r),this.validateSessionExist(r),tq(t,r),this.checkIsJoinedChannel(r),i={timeToken:0,topicName:t},!this.localDataChannelMap.has(t)){e.next=9;break}return this.log("topic(%s) already exists",t),e.abrupt("return",i);case 9:if(!(8<=this.localDataChannelMap.size)){e.next=14;break}throw this.log("exceed create topic limit"),o=$a(Aa.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION),a=o.code,s=o.reason,new Db(r,[s],a);case 14:return A={qos:!1,meta:null},c=GU.encode({metadata:null===(n=A)||void 0===n?void 0:n.meta,topic:t}).finish(),u=function(){for(var e=Array.from(p.localDataChannelMap.values()).filter((function(e){return void 0!==e})).map((function(e){return e.getConfig().id})),t=function(t){if(-1===e.findIndex((function(e){return e===t})))return{v:t}},A=0;8>A;A++){var n=t(A);if("object"===ub(n))return n.v}return-1},e.prev=17,l=u(),this.localDataChannelMap.set(t,void 0),e.next=22,Xz(this.rtcClient.publish({id:l,ordered:null!==(g=null===(I=A)||void 0===I?void 0:I.qos)&&void 0!==g&&g,metadata:String.fromCharCode.apply(String,rb(c))}),(function(e){return e}));case 22:if(!(E=e.sent).isErr()){e.next=29;break}throw this.localDataChannelMap.delete(t),d=null==E||null===(C=E.error)||void 0===C?void 0:C.code,new Db(r,["JoinTopic failure, code of rtcClient.publish api is ".concat(d)],Aa.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED);case 29:h=E.value,this.localDataChannelMap.set(t,h),this.addDcListener("pub",h,t);case 32:e.next=37;break;case 34:throw e.prev=34,e.t0=e.catch(17),e.t0;case 37:return e.abrupt("return",i);case 38:case"end":return e.stop()}}),e,this,[[17,34]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"handleDcError",value:function(){var e=pa(O.mark((function e(t,A,n,r,i){var o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.getConfig(),"pub"!==t){e.next=11;break}return e.next=4,this.rtcClient.unpublish(n);case 4:return e.next=6,this.rtcClient.publish(o);case 6:a=e.sent,this.localDataChannelMap.set(A,a),this.addDcListener("pub",a,A),e.next=18;break;case 11:if(!r||!i){e.next=18;break}return e.next=14,this.rtcClient.unsubscribe(this.remoteUserMap.get(r)||this.userIdToRTCRemoteUser(r),"datachannel",o.id);case 14:return e.next=16,this.rtcClient.subscribe(this.remoteUserMap.get(r)||this.userIdToRTCRemoteUser(r),"datachannel",o.id);case 16:s=e.sent,this.addDcListener("sub",s,A,r,i);case 18:case"end":return e.stop()}}),e,this)})));return function(t,A,n,r,i){return e.apply(this,arguments)}}()},{key:"publishTopicMessage",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w,D;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wb.publishTopicMessage,this.validateRtmConnection(i),o={timeToken:0,topicName:t},this.validateSessionExist(i),tq(t,i),this.checkIsJoinedChannel(i),null!=n&&n.customType&&nJ(null==n?void 0:n.customType,i),"string"!=typeof A||A){e.next=10;break}throw a=$a(Aa.RTM_ERROR_CHANNEL_INVALID_MESSAGE),s=a.code,c=a.reason,new Jc(i,[c],s);case 10:if(!(1024<("string"==typeof A?(new TextEncoder).encode(A).buffer:A.buffer).byteLength+new Blob([null!==(r=null==n?void 0:n.customType)&&void 0!==r?r:""]).size)){e.next=14;break}throw u=$a(Aa.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION),g=u.code,I=u.reason,new Jc(i,[I],g);case 14:if(l=this.localDataChannelMap.get(t)){e.next=18;break}throw E=$a(Aa.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED),C=E.code,d=E.reason,new Db(i,[d],C);case 18:if("CONNECTED"===this.rtcClient.connectionState){e.next=21;break}throw h=$a(Aa.RTM_ERROR_CHANNEL_NOT_JOINED),p=h.code,f=h.reason,new Db(i,[f],p);case 21:if("open"===l.readyState){e.next=25;break}throw this.log("send topic(%s) message failed. readyState of datachannel is ".concat(l.readyState),t),B=$a(Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),Q=B.code,y=B.reason,new Db(i,[y],Q);case 25:v=this.rtm.initEncryption,m="string"==typeof A?(new TextEncoder).encode(A):A,_=m.byteLength,e.prev=28,b=v?aB(m,this.rtm.key,this.rtm.iv,this.rtm.keyLength):m,R="string"==typeof A?1:0,l.send(this.encodeMessage(b,_,v,R,null==n?void 0:n.customType)),e.next=38;break;case 34:throw e.prev=34,e.t0=e.catch(28),S=$a(Aa.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED),w=S.code,D=S.reason,new Db(i,[D],w);case 38:return e.abrupt("return",o);case 39:case"end":return e.stop()}}),e,this,[[28,34]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"leaveTopic",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=Wb.leaveTopic,this.validateRtmConnection(A),this.validateSessionExist(A),n={timeToken:0,topicName:t},tq(t,A),this.checkIsJoinedChannel(A),this.localDataChannelMap.has(t)){e.next=9;break}throw r=$a(Aa.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED),i=r.code,o=r.reason,new Db(A,[o],i);case 9:return a=this.localDataChannelMap.get(t),e.prev=10,(s=this.funcMap4CloseTopic.get("".concat(t,":pub")))&&(null==a||a.off("close",s)),e.next=15,this.rtcClient.unpublish(a);case 15:this.localDataChannelMap.delete(t),e.next=23;break;case 18:throw e.prev=18,e.t0=e.catch(10),c=e.t0.code,u=Dq(Gg[c]),g=u.reason,new Db(Wb.createStreamChannel,[g+"LeaveTopic failure, server code is  ".concat(c)]);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,this,[[10,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeTopic",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w,D=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.log("start subscribe ".concat(this.channelName,"(").concat(t,"), users: ").concat(null==A?void 0:A.users)),c=Wb.subscribeTopic,this.validateRtmConnection(c),this.validateSessionExist(c),tq(t,c),this.checkIsJoinedChannel(c),u=null!==(n=null==A||null===(r=A.users)||void 0===r?void 0:r.filter((function(e){return!re(e)})))&&void 0!==n?n:[],null!=A&&A.users&&(A.users=null==A||null===(i=A.users)||void 0===i?void 0:i.filter((function(e){return re(e)}))),null!=A&&A.users&&(A.users=rb(new Set(A.users))),g=new Set,this.preSubscribeInfoMap.forEach((function(e,t){g.add(t)})),this.subscribeInfoMap.forEach((function(e,t){g.add(t)})),!(50<=g.size)){e.next=16;break}throw this.log("subscribed topic(%s) failed, exceed subscribe topic limit ".concat(50),t),I=$a(Aa.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION),l=I.code,E=I.reason,new Db(c,[E],l);case 16:if(null!==(o=this.remoteDatachannelMap.get(t))&&void 0!==o&&o.size||null!=A&&A.users&&0!==A.users.length){e.next=19;break}throw C=$a(Aa.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST),d=C.code,h=C.reason,new Db(c,[h],d);case 19:if(!(64<=[].concat(rb(this.preSubscribeInfoMap.get(t)||[]),rb(this.subscribeInfoMap.get(t)||[])).length)){e.next=23;break}throw this.log("subscribe topic(".concat(t,") exceed user limit: ").concat(64)),p=$a(Aa.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION),f=p.code,B=p.reason,new Db(c,[B],f);case 23:if(Q={failedUsers:u,failedDetails:u.map((function(e){return{user:e,errorCode:Os.INVALID_PARAMS,timeToken:0,topicName:t}})),succeedUsers:[],timeToken:0,topicName:t},y=new Set,null!==(a=this.remoteDatachannelMap.get(t))&&void 0!==a&&a.size||!(0<((null==A||null===(s=A.users)||void 0===s?void 0:s.length)||0))){e.next=33;break}return _=64-((null===(v=this.preSubscribeInfoMap.get(t))||void 0===v?void 0:v.size)||0)-((null===(m=this.subscribeInfoMap.get(t))||void 0===m?void 0:m.size)||0),xi((null==A?void 0:A.users)||[]).filter((function(e,A){return A+1>_&&(Q.failedDetails.push({user:e,errorCode:Os.SUB_USER_EXCEED_LIMITATION,timeToken:0,topicName:t}),Q.failedUsers.push(e)),A+1<=_})).forEach((function(e){y.add(e),D.addPreSub(t,e)})),this.log("".concat(t," not existent in channel").concat(this.channelName,".")),Q.succeedUsers=rb(y),this.log("subscribed ".concat(this.channelName,"(").concat(t,"), resp is %o"),Q),e.abrupt("return",Q);case 33:return b=[],null!=A&&A.users&&0!==A.users.length?b=(null==A||null===(S=A.users)||void 0===S?void 0:S.filter((function(e){var A,n,r,i=null===(A=D.preSubscribeInfoMap.get(t))||void 0===A?void 0:A.has(e);return A=null===(n=D.subscribeInfoMap.get(t))||void 0===n?void 0:n.has(e),n=!(null!==(r=D.remoteDatachannelMap.get(t))&&void 0!==r&&r.has(e)),i||A?(y.add(e),D.log("subscribe ".concat(uc(e)," in topic(").concat(t,") already."))):n&&y.add(e),D.log("can't sub the user ".concat(e,", isPreSubscribed: ").concat(i,", isSubscribed: ").concat(A,", isUserNotPublishTopic: ").concat(n)),!i&&!A&&!n})))||[]:null===(R=this.remoteDatachannelMap.get(t))||void 0===R||R.forEach((function(e,A){var n,r;null!==(n=D.preSubscribeInfoMap.get(t))&&void 0!==n&&n.has(A)||null!==(r=D.subscribeInfoMap.get(t))&&void 0!==r&&r.has(A)||b.push(A)})),e.next=37,this.patchSubscribeTopic(t,b);case 37:return w=e.sent,y.forEach((function(e){D.addPreSub(t,e)})),w.succeedUsers.forEach((function(e){D.addSub(t,e)})),this.log("".concat(c," result: preSubUsers(").concat(rb(y),"), subUsers(").concat(w.succeedUsers,")")),Q.succeedUsers=[].concat(rb(y),rb(w.succeedUsers)),Q.failedUsers=[].concat(rb(Q.failedUsers),rb(w.failedUsers)),Q.failedDetails=[].concat(rb(Q.failedDetails),rb(w.failedDetails)),e.abrupt("return",Q);case 46:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unsubscribeTopic",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C,d,h=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Wb.unsubscribeTopic,this.validateRtmConnection(a),this.validateSessionExist(a),tq(t,a),this.checkIsJoinedChannel(a),null!==(n=this.preSubscribeInfoMap.get(t))&&void 0!==n&&n.size||null!==(r=this.subscribeInfoMap.get(t))&&void 0!==r&&r.size){e.next=8;break}throw s=$a(Aa.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED),c=s.code,u=s.reason,new Db(a,[u],c);case 8:return g=null!==(i=null==A||null===(o=A.users)||void 0===o?void 0:o.filter((function(e){return!re(e)})))&&void 0!==i?i:[],I={failedUsers:g,failedDetails:g.map((function(e){return{user:e,errorCode:Os.INVALID_PARAMS,timeToken:0,topicName:t}})),timeToken:0,succeedUsers:[],topicName:t},l=[],null!=A&&A.users&&0!==A.users.length?l=A.users.filter((function(e){return re(e)})).filter((function(e){var A,n,r=null===(A=h.preSubscribeInfoMap.get(t))||void 0===A?void 0:A.has(e);return A=null===(n=h.subscribeInfoMap.get(t))||void 0===n?void 0:n.has(e),r?(h.deletePreSub(t,e),I.succeedUsers.push(e)):A||(I.failedDetails.push({user:e,errorCode:Os.NOT_SUBSCRIBED_USER,timeToken:0,topicName:t}),I.failedUsers.push(e)),A})):((this.preSubscribeInfoMap.get(t)||new Set).forEach((function(e){h.deletePreSub(t,e),I.succeedUsers.push(e)})),null===(E=this.subscribeInfoMap.get(t))||void 0===E||E.forEach((function(e){l.push(e)}))),e.prev=12,e.next=15,Promise.all(l.map((function(e){var A,n;return Xz(h.rtcClient.unsubscribe(h.remoteUserMap.get(e)||h.userIdToRTCRemoteUser(e),"datachannel",null===(A=h.remoteDatachannelMap.get(t))||void 0===A||null===(n=A.get(e))||void 0===n?void 0:n.id),(function(e){return e}))})));case 15:C=e.sent,C.map((function(e,t){return{userId:l[t],result:e}})).forEach((function(e){var A,n,r=e.userId,i=e.result;if(i.isErr())throw e=null==i||null===(A=i.error)||void 0===A?void 0:A.code,I.failedDetails.push({user:r,reason:"Unsubscribe topic failure, web_rtc code is ".concat(e,", the reason of web_rtc is that ").concat(null==i||null===(n=i.error)||void 0===n?void 0:n.toString()),timeToken:0,topicName:t}),I.failedUsers.push(r),A=(r=Dq(Gg[errorCode])).code,new Db(Wb.createStreamChannel,[r.reason+"unsubscribeTopic failure, server code is ".concat(e)],A);I.succeedUsers.push(r),h.deleteSub(t,r)})),e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(12),e.t0;case 23:return this.log("".concat(a," success. sdk resp is %o"),I),d={timeToken:0},I.succeedUsers.forEach((function(e){h.internalEmitter.emit("unsubscribeTopicMessage",t,e)})),e.abrupt("return",d);case 28:case"end":return e.stop()}}),e,this,[[12,20]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getSubscribedUserList",value:function(e){var t=Wb.getSubscribedUserList;if(this.validateRtmConnection(t),this.validateSessionExist(t),tq(e,t),this.checkIsJoinedChannel(t),!this.preSubscribeInfoMap.has(e)&&!this.subscribeInfoMap.has(e))throw e=$a(Aa.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED),new Db(t,[e.reason],e.code);t={subscribed:[],timeToken:0,topicName:e};var A=rb(this.preSubscribeInfoMap.get(e)||[]);return e=rb(this.subscribeInfoMap.get(e)||[]),t.subscribed=[].concat(rb(A),rb(e)),t}},{key:"validateRtmConnection",value:function(e){if("CONNECTED"!==this.rtm.connectionState&&"RECONNECTING"!==this.rtm.connectionState){this.log("The client state is ".concat(this.rtm.connectionState,", cannot do the operation(").concat(e,")"));var t=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Ad(e,[t.reason],t.code)}}},{key:"validateSessionExist",value:function(e){if(void 0===this.getSession()){var t=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Ad(e,[t.reason],t.code)}}}]),t}(Mh),yd(jf.prototype,"join",[Bd],Object.getOwnPropertyDescriptor(jf.prototype,"join"),jf.prototype),yd(jf.prototype,"leave",[Bd],Object.getOwnPropertyDescriptor(jf.prototype,"leave"),jf.prototype),yd(jf.prototype,"joinTopic",[Bd],Object.getOwnPropertyDescriptor(jf.prototype,"joinTopic"),jf.prototype),yd(jf.prototype,"publishTopicMessage",[Bd],Object.getOwnPropertyDescriptor(jf.prototype,"publishTopicMessage"),jf.prototype),yd(jf.prototype,"leaveTopic",[Bd],Object.getOwnPropertyDescriptor(jf.prototype,"leaveTopic"),jf.prototype),yd(jf.prototype,"subscribeTopic",[Bd],Object.getOwnPropertyDescriptor(jf.prototype,"subscribeTopic"),jf.prototype),yd(jf.prototype,"unsubscribeTopic",[Bd],Object.getOwnPropertyDescriptor(jf.prototype,"unsubscribeTopic"),jf.prototype),yd(jf.prototype,"getSubscribedUserList",[Bd],Object.getOwnPropertyDescriptor(jf.prototype,"getSubscribedUserList"),jf.prototype),jf),Eda=function(e){function t(e,n,r){return zb(this,t),na(V(r=A.call(this,r,"Context")),"_token",void 0),na(V(r),"config",void 0),na(V(r),"_uid",void 0),na(V(r),"_sid",void 0),na(V(r),"_vid",void 0),na(V(r),"_startTime",void 0),na(V(r),"_area","CN"),na(V(r),"_socketUseProxy",!1),na(V(r),"appId",void 0),na(V(r),"cloudProxy",!1),na(V(r),"cloudProxyServers",[]),r.appId=e,r.config=n,r}Zb(t,e);var A=$b(t);return Ib(t,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&Qc("ENABLE_EDGE_AUTO_FALLBACK")},set:function(e){this.log("socketUseProxy is set to %s",e),this._socketUseProxy=e}},{key:"token",set:function(e){this._token="string"==typeof e&&e?e:void 0}},{key:"uid",get:function(){if("string"==typeof this._uid&&this._uid)return this._uid;throw new Sh("Cannot get illegal uid")},set:function(e){if(this.log("The user ID is set to %s",uc(e)),!re(e))throw new Sh;this._uid=e}},{key:"vid",get:function(){return"string"==typeof this._vid?this._vid:(this.warn("Cannot get illegal vid"),"")},set:function(e){if("string"!=typeof e)throw new Sh;this._vid=e}},{key:"key",get:function(){if("string"==typeof this._token&&this._token)return this._token;if("string"==typeof this.appId&&this.appId)return this.appId;throw new Sh("Cannot get illegal key")}},{key:"sid",get:function(){if("string"==typeof this._sid&&this._sid)return this._sid;throw new Sh("Cannot get illegal sid")},set:function(e){if(this.log("sid is set to %s",e),"string"!=typeof e||!e)throw new Sh;this._sid=e}},{key:"startTime",get:function(){if("number"==typeof this._startTime&&this._startTime)return this._startTime;throw new Sh("Cannot get illegal startTime")},set:function(e){if(this.log("startTime is set to %s",e),"number"!=typeof e||!e)throw new Sh;this._startTime=e}},{key:"rtmArea",get:function(){if("string"==typeof this._area&&this._area)return this._area;throw new Sh("Cannot get illegal area")},set:function(e){this.log("area is set to %s",e),"string"==typeof e&&e?this._area=e:this.warn("set area failed")}}]),t}(Mh),Jf,Fda=(Jf=function(e){function t(e,A,r,i){return zb(this,t),na(V(e=n.call(this,e,"Presence",!0)),"rtm",void 0),na(V(e),"getSyncSession",void 0),na(V(e),"getSession",void 0),e.rtm=A,e.getSyncSession=iK(r),e.getSession=Ew(i),e}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"whoNow",value:(A=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(si(a=Wb.whoNow,A),s=!1!==(null==n?void 0:n.includedUserId),c=!0===(null==n?void 0:n.includedState),u=null!==(r=null==n?void 0:n.page)&&void 0!==r?r:"",this.validateRtmConnection(a),this.validateName(t,"channelName",a),!1!==(null==n?void 0:n.includedUserId)||!0!==(null==n?void 0:n.includedState)){e.next=10;break}throw g=$a(Aa.RTM_ERROR_PRESENCE_INVALID_ARGUMENT),I=g.code,l=g.reason,new Jc(a,[l+"include uid is false but include state is true"],I);case 10:if(this.validateSyncConnection(a),E=bg(t,A),null===(i=null===(o=this.getSession().subscribedChannels.get(E))||void 0===o?void 0:o.withPresence)||void 0===i||!i){e.next=17;break}return e.abrupt("return",this.getSyncSession().requestCRDTWhoNow(E,s,c));case 17:return e.abrupt("return",this.getSyncSession().requestRPCWhoNow(E,u,s,c));case 18:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return A.apply(this,arguments)})},{key:"getOnlineUsers",value:function(){var e=pa(O.mark((function e(t,A,n){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.whoNow(t,A,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"whereNow",value:function(){var e=pa(O.mark((function e(t){var A,n,r;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=Wb.whereNow,this.validateRtmConnection(A),this.validateName(t,"userId",A),this.validateSyncConnection(A),n={channels:[],totalChannel:0,timeToken:0},t!==this.rtm.userId){e.next=12;break}return r=new Set,this.getSyncSession().withPresenceChannels.forEach((function(e,t){r.add(t)})),this.getSyncSession().withoutPresenceChannels.forEach((function(e,t){r.add(t)})),r.forEach((function(e){e=Cj(e),n.channels.push({channelName:e.channelName,channelType:e.channelType})})),n.totalChannel=r.size,e.abrupt("return",n);case 12:return e.abrupt("return",this.getSyncSession().requestRPCWhereNow(t));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserChannels",value:function(){var e=pa(O.mark((function e(t){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.whereNow(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setState",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in si(o=Wb.presenceSetState,A),this.validateRtmConnection(o),this.validateName(t,"channelName",o),a=bg(t,A),s=Object.keys(n).length,c=new Map,null===(r=this.getSyncSession().localStateCache.get(a))||void 0===r||r.forEach((function(e,t){c.set(t,"")})),n)c.set(u,"");if(0!==s){e.next=12;break}throw g=$a(Aa.RTM_ERROR_PRESENCE_INVALID_ARGUMENT),I=g.code,l=g.reason,new Jc(o,[l+"state of parameter is empty"],I);case 12:if(!(32<s||32<c.size)){e.next=15;break}throw E=$a(Aa.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW),C=E.code,d=E.reason,new ri(o,[d],C);case 15:if(!(100<this.getSyncSession().localStateCache.size)){e.next=18;break}throw h=$a(Aa.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES),p=h.code,f=h.reason,new ri(o,[f],p);case 18:if(lX(n,o),B={timeToken:0},this.getSyncSession().subscribedPresenceChannels.has(a)){e.next=24;break}return this.getSyncSession().updatePresenceStateCache(a,o,n),this.log("".concat(o," by local cache.")),e.abrupt("return",B);case 24:if(!(null===(i=this.getSession().subscribedChannels.get(a))||void 0===i?void 0:i.withPresence)){e.next=30;break}return this.getSyncSession().requestCRDTSetState(a,n),e.abrupt("return",B);case 30:return e.abrupt("return",this.getSyncSession().requestRPCSetState(a,n));case 31:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"getState",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(si(o=Wb.presenceGetState,n),this.validateRtmConnection(o),this.validateName(A,"channelName",o),this.validateName(t,"userId",o),this.validateSyncConnection(o),a=bg(A,n),s={statesCount:0,states:{},userId:t,timeToken:0},t!==this.rtm.userId){e.next=15;break}if(this.getSyncSession().withoutPresenceChannels.get(a)||this.getSyncSession().withPresenceChannels.get(a)){e.next=15;break}return null==(c=this.getSyncSession().localStateCache.get(a))||c.forEach((function(e,t){s.states[t]=e})),s.statesCount=Object.keys(s.states).length,this.log("".concat(o," by local cache.")),e.abrupt("return",s);case 15:if(!(null!==(r=null===(i=this.getSession().subscribedChannels.get(a))||void 0===i?void 0:i.withPresence)&&void 0!==r&&r)){e.next=26;break}if(null!==(u=this.getSyncSession().channelsUsersStates.get(a))&&void 0!==u&&u.has(t)){e.next=20;break}throw g=$a(Aa.RTM_ERROR_PRESENCE_USER_NOT_EXIST),I=g.code,l=g.reason,new Db(o,[l],I);case 20:return E=this.getSyncSession().requestCRDTGetState(a,t),s.statesCount=Object.keys(E).length,s.states=E,e.abrupt("return",s);case 26:return e.abrupt("return",this.getSyncSession().requestRPCGetState(a,t));case 27:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"removeState",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(si(I=Wb.presenceRemoveState,A),this.validateRtmConnection(I),this.validateName(t,"channelName",I),!(null!=n&&null!==(r=n.states)&&void 0!==r&&r.length)||null==n||null===(i=n.states)||void 0===i||!i.length||new Set(n.states).size===(null===(o=n.states)||void 0===o?void 0:o.length)){e.next=8;break}throw l=$a(Aa.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY),E=l.code,C=l.reason,new Jc(I,[C],E);case 8:if(!(32<(null!==(a=null==n||null===(s=n.states)||void 0===s?void 0:s.length)&&void 0!==a?a:0))){e.next=11;break}throw d=$a(Aa.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW),h=d.code,p=d.reason,new ri(I,[p],h);case 11:if(null==n||null===(c=n.states)||void 0===c||c.forEach((function(e){mJ(e,I)})),this.validateSyncConnection(I),f=bg(t,A),B={timeToken:0},Q={},null==n||null===(u=n.states)||void 0===u||u.forEach((function(e){Q[e]=""})),this.getSyncSession().subscribedPresenceChannels.has(f)){e.next=21;break}return this.getSyncSession().updatePresenceStateCache(f,I,Q),this.log("".concat(I," by local cache.")),e.abrupt("return",B);case 21:if(!(null===(g=this.getSession().subscribedChannels.get(f))||void 0===g?void 0:g.withPresence)){e.next=27;break}return this.getSyncSession().requestCRDTRemoveState(f,Q),e.abrupt("return",B);case 27:return e.abrupt("return",this.getSyncSession().requestRPCRemoveState(f,Q));case 28:case"end":return e.stop()}}),e,this)})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"validateName",value:function(e,t,A){if(!re(e))throw e=$a("channelName"===t?Aa.RTM_ERROR_INVALID_CHANNEL_NAME:Aa.RTM_ERROR_INVALID_USER_ID),new Jc(A,[e.reason],e.code)}},{key:"validateSyncConnection",value:function(e){if("CONNECTED"!==this.rtm.syncConnectionState){this.log("The syncClient state is ".concat(this.rtm.syncConnectionState,", cannot do the operation(").concat(e,")"));var t=$a(Aa.RTM_ERROR_PRESENCE_NOT_CONNECTED);throw new Ad(e,[t.reason],t.code)}}},{key:"validateRtmConnection",value:function(e){if("CONNECTED"!==this.rtm.connectionState&&"RECONNECTING"!==this.rtm.connectionState){this.log("The client state is ".concat(this.rtm.connectionState,", cannot do the operation(").concat(e,")"));var t=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Ad(e,[t.reason],t.code)}}}]),t}(Mh),yd(Jf.prototype,"whoNow",[Bd],Object.getOwnPropertyDescriptor(Jf.prototype,"whoNow"),Jf.prototype),yd(Jf.prototype,"getOnlineUsers",[Bd],Object.getOwnPropertyDescriptor(Jf.prototype,"getOnlineUsers"),Jf.prototype),yd(Jf.prototype,"whereNow",[Bd],Object.getOwnPropertyDescriptor(Jf.prototype,"whereNow"),Jf.prototype),yd(Jf.prototype,"getUserChannels",[Bd],Object.getOwnPropertyDescriptor(Jf.prototype,"getUserChannels"),Jf.prototype),yd(Jf.prototype,"setState",[Bd],Object.getOwnPropertyDescriptor(Jf.prototype,"setState"),Jf.prototype),yd(Jf.prototype,"getState",[Bd],Object.getOwnPropertyDescriptor(Jf.prototype,"getState"),Jf.prototype),yd(Jf.prototype,"removeState",[Bd],Object.getOwnPropertyDescriptor(Jf.prototype,"removeState"),Jf.prototype),Jf),og,Gda=(og=function(e){function t(e,A,r,i){zb(this,t);var o=n.call(this,e,"Lock",!0);return na(V(o),"rtm",void 0),na(V(o),"getSession",void 0),na(V(o),"localAcquiredLocks",void 0),na(V(o),"setOperationNoRes",new Set),na(V(o),"removeOperationNoRes",new Set),na(V(o),"acquireOperationNoRes",new Set),na(V(o),"releaseOperationNoRes",new Set),na(V(o),"revokeOperationNoRes",new Set),na(V(o),"watchingLocks",new Set),na(V(o),"onLockWatching",(function(e){var t=e.lockName;o.watchingLocks.add("".concat(e.prefixChannelName).concat(Co(t)))})),o.rtm=A,o.getSession=Ew(r),o.localAcquiredLocks=i,o}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"setLock",value:(A=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E,C,d;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return si(i=Wb.setLock,A),this.validateRtmConnection(i),this.validateEnableLock(i),o={timeToken:0,channelName:t,channelType:A,lockName:n},this.validateChannelAndLock(t,n,i),void 0!==(null==r?void 0:r.ttl)&&(300<r.ttl?r.ttl=300:10>r.ttl&&(r.ttl=10)),a=bg(t,A),s=Co(n),this.setOperationNoRes.has("".concat(a).concat(s))&&this.throwInvalidOperationError(i),this.setOperationNoRes.add("".concat(a).concat(s)),e.prev=11,u=this.getSession().requestSetLock(a,n,{ttl:null!==(c=null==r?void 0:r.ttl)&&void 0!==c?c:10}),e.next=15,u.toPromise();case 15:e.next=39;break;case 17:if(e.prev=17,e.t0=e.catch(11),!be(e.t0)){e.next=38;break}if(this.logError(e.t0),!ti(e.t0)){e.next=25;break}throw e.t0;case 25:if(!Qe(e.t0)){e.next=30;break}throw g=$a(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT),I=g.code,l=g.reason,new Db(i,[l],I);case 30:if(null==e.t0.code){e.next=35;break}throw E=$a(e.t0.code),C=E.code,d=E.reason,new Db(i,[d],C);case 35:this.warn("error code is undefined, ".concat(e.t0));case 36:e.next=39;break;case 38:this.warn("not rtm error, ".concat(e.t0));case 39:return e.prev=39,this.setOperationNoRes.delete("".concat(a).concat(s)),e.finish(39);case 42:return e.abrupt("return",o);case 43:case"end":return e.stop()}}),e,this,[[11,17,39,42]])}))),function(e,t,n,r){return A.apply(this,arguments)})},{key:"removeLock",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return si(r=Wb.removeLock,A),this.validateRtmConnection(r),this.validateEnableLock(r),i={timeToken:0,channelName:t,channelType:A,lockName:n},this.validateChannelAndLock(t,n,r),o=bg(t,A),a=Co(n),this.removeOperationNoRes.has("".concat(o).concat(a))&&this.throwInvalidOperationError(r),this.removeOperationNoRes.add("".concat(o).concat(a)),e.prev=10,s=this.getSession().requestRemoveLock(o,n),e.next=14,s.toPromise();case 14:e.next=38;break;case 16:if(e.prev=16,e.t0=e.catch(10),!be(e.t0)){e.next=37;break}if(this.logError(e.t0),!ti(e.t0)){e.next=24;break}throw e.t0;case 24:if(!Qe(e.t0)){e.next=29;break}throw c=$a(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT),u=c.code,g=c.reason,new Db(r,[g],u);case 29:if(null==e.t0.code){e.next=34;break}throw I=$a(e.t0.code),l=I.code,E=I.reason,new Db(r,[E],l);case 34:this.warn("error code is undefined, ".concat(e.t0));case 35:e.next=38;break;case 37:this.warn("not rtm error, ".concat(e.t0));case 38:return e.prev=38,this.removeOperationNoRes.delete("".concat(o).concat(a)),e.finish(38);case 41:return e.abrupt("return",i);case 42:case"end":return e.stop()}}),e,this,[[10,16,38,41]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"acquireLock",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E,C;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(si(o=Wb.acquireLock,A),this.validateRtmConnection(o),this.validateEnableLock(o),this.validateChannelAndLock(t,n,o),a=bg(t,A),s=Co(n),!(null===(i=this.localAcquiredLocks.get(a))||void 0===i?void 0:i.get(n))){e.next=11;break}throw c=$a(Aa.RTM_ERROR_LOCK_OPERATION_PERFORMING),u=c.code,g=c.reason,new Db(o,[g],u);case 11:return this.acquireOperationNoRes.has("".concat(a).concat(s))&&this.throwInvalidOperationError(o),this.acquireOperationNoRes.add("".concat(a).concat(s)),E=new Promise((function(e,t){I=t,l=e})),e.prev=14,C=this.getSession().requestAcquireLock(a,n,{retry:null==r?void 0:r.retry,reject:I,resolve:l}),e.next=18,C.toPromise();case 18:l({lockName:n,channelName:t,channelType:A,timeToken:0}),e.next=29;break;case 21:if(e.prev=21,e.t0=e.catch(14),this.logError(e.t0),!be(e.t0)){e.next=28;break}throw e.t0;case 28:this.warn("acquireLock not match rtm error, ".concat(e.t0));case 29:return e.prev=29,this.clearLockCacheForAcquire(a,s,null==r?void 0:r.retry),e.finish(29);case 32:return e.abrupt("return",E);case 33:case"end":return e.stop()}}),e,this,[[14,21,29,32]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"clearLockCacheForAcquire",value:function(e,t,A){this.acquireOperationNoRes.delete("".concat(e).concat(t)),A&&this.watchingLocks.delete("".concat(e).concat(t))}},{key:"releaseLock",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(si(i=Wb.releaseLock,A),this.validateRtmConnection(i),this.validateEnableLock(i),o={timeToken:0,channelName:t,channelType:A,lockName:n},this.validateChannelAndLock(t,n,i),a=bg(t,A),s=Co(n),this.watchingLocks.has("".concat(a).concat(s))||null!==(r=this.localAcquiredLocks.get(a))&&void 0!==r&&r.get(n)){e.next=11;break}throw c=$a(Aa.RTM_ERROR_LOCK_NOT_ACQUIRED),u=c.code,g=c.reason,new Db(i,[g],u);case 11:return this.releaseOperationNoRes.has("".concat(a).concat(s))&&this.throwInvalidOperationError(i),this.releaseOperationNoRes.add("".concat(a).concat(s)),e.prev=13,I=this.getSession().requestReleaseLock(a,n),e.next=17,I.toPromise();case 17:e.next=41;break;case 19:if(e.prev=19,e.t0=e.catch(13),!be(e.t0)){e.next=40;break}if(this.logError(e.t0),!ti(e.t0)){e.next=27;break}throw e.t0;case 27:if(!Qe(e.t0)){e.next=32;break}throw l=$a(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT),E=l.code,C=l.reason,new Db(i,[C],E);case 32:if(null==e.t0.code){e.next=37;break}throw d=$a(e.t0.code),h=d.code,p=d.reason,new Db(i,[p],h);case 37:this.warn("error code is undefined, ".concat(e.t0));case 38:e.next=41;break;case 40:this.warn("not rtm error, ".concat(e.t0));case 41:return e.prev=41,this.releaseOperationNoRes.delete("".concat(a).concat(s)),e.finish(41);case 44:return e.abrupt("return",o);case 45:case"end":return e.stop()}}),e,this,[[13,19,41,44]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"revokeLock",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E,C;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return si(i=Wb.removeLock,A),this.validateRtmConnection(i),this.validateEnableLock(i),o={timeToken:0,channelName:t,channelType:A,lockName:n},this.validateChannelAndLock(t,n,i),this.validateName(r,"owner",i),a=bg(t,A),s=Co(n),this.revokeOperationNoRes.has("".concat(a).concat(s))&&this.throwInvalidOperationError(i),this.revokeOperationNoRes.add("".concat(a).concat(s)),e.prev=11,c=this.getSession().requestDisableLock(a,n,r),e.next=15,c.toPromise();case 15:e.next=39;break;case 17:if(e.prev=17,e.t0=e.catch(11),!be(e.t0)){e.next=38;break}if(this.logError(e.t0),!ti(e.t0)){e.next=25;break}throw e.t0;case 25:if(!Qe(e.t0)){e.next=30;break}throw u=$a(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT),g=u.code,I=u.reason,new Db(i,[I],g);case 30:if(null==e.t0.code){e.next=35;break}throw l=$a(e.t0.code),E=l.code,C=l.reason,new Db(i,[C],E);case 35:this.warn("error code is undefined, ".concat(e.t0));case 36:e.next=39;break;case 38:this.warn("not rtm error, ".concat(e.t0));case 39:return e.prev=39,this.revokeOperationNoRes.delete("".concat(a).concat(s)),e.finish(39);case 42:return e.abrupt("return",o);case 43:case"end":return e.stop()}}),e,this,[[11,17,39,42]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"getLock",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return si(n=Wb.getLock,A),this.validateRtmConnection(n),this.validateEnableLock(n),r={timeToken:0,totalLocks:0,lockDetails:[],channelName:t,channelType:A},this.validateName(t,"channelName",n),i=bg(t,A),e.prev=7,o=this.getSession().requestGetLock(i),e.next=11,o.toPromise();case 11:a=e.sent,r.totalLocks=a.length,r.lockDetails=a.map((function(e){var t,A,n=JSON.parse(e.lockState||"");return{lockName:null!==(t=e.lockName)&&void 0!==t?t:"",ttl:n.create_ttl,owner:null!==(A=n.user)&&void 0!==A?A:""}})),e.next=38;break;case 16:if(e.prev=16,e.t0=e.catch(7),!be(e.t0)){e.next=37;break}if(this.logError(e.t0),!ti(e.t0)){e.next=24;break}throw e.t0;case 24:if(!Qe(e.t0)){e.next=29;break}throw s=$a(Aa.RTM_ERROR_LOCK_OPERATION_TIMEOUT),c=s.code,u=s.reason,new Db(n,[u],c);case 29:if(null==e.t0.code){e.next=34;break}throw g=$a(e.t0.code),I=g.code,l=g.reason,new Db(n,[l],I);case 34:this.warn("error code is undefined, ".concat(e.t0));case 35:e.next=38;break;case 37:this.warn("not rtm error, ".concat(e.t0));case 38:return e.abrupt("return",r);case 39:case"end":return e.stop()}}),e,this,[[7,16]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"validateName",value:function(e,t,A){if(!re(e))throw e=$a("lockName"===t?Aa.RTM_ERROR_LOCK_INVALID_NAME:"channelName"===t?Aa.RTM_ERROR_INVALID_CHANNEL_NAME:Aa.RTM_ERROR_INVALID_USER_ID),new Jc(A,[e.reason],e.code)}},{key:"validateChannelAndLock",value:function(e,t,A){if(this.validateName(e,"channelName",A),this.validateName(t,"lockName",A),32<(null==t?void 0:t.length))throw e=$a(Aa.RTM_ERROR_LOCK_INVALID_NAME),new Jc(A,[e.reason],e.code)}},{key:"throwInvalidOperationError",value:function(e){var t=$a(Aa.RTM_ERROR_LOCK_OPERATION_PERFORMING);throw new Db(e,[t.reason],t.code)}},{key:"validateRtmConnection",value:function(e){if("CONNECTED"!==this.rtm.connectionState&&"RECONNECTING"!==this.rtm.connectionState){this.log("The client state is ".concat(this.rtm.connectionState,", cannot do the operation(").concat(e,")"));var t=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Ad(e,[t.reason],t.code)}}},{key:"validateEnableLock",value:function(e){if("true"!==this.rtm.consoleConfig["lock.enabled"]){var t=$a(Aa.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new Db(e,[t.reason],t.code)}}}]),t}(Mh),yd(og.prototype,"setLock",[Bd],Object.getOwnPropertyDescriptor(og.prototype,"setLock"),og.prototype),yd(og.prototype,"removeLock",[Bd],Object.getOwnPropertyDescriptor(og.prototype,"removeLock"),og.prototype),yd(og.prototype,"acquireLock",[Bd],Object.getOwnPropertyDescriptor(og.prototype,"acquireLock"),og.prototype),yd(og.prototype,"releaseLock",[Bd],Object.getOwnPropertyDescriptor(og.prototype,"releaseLock"),og.prototype),yd(og.prototype,"revokeLock",[Bd],Object.getOwnPropertyDescriptor(og.prototype,"revokeLock"),og.prototype),yd(og.prototype,"getLock",[Bd],Object.getOwnPropertyDescriptor(og.prototype,"getLock"),og.prototype),og),pe,Hda=(pe=function(e){function t(e,A,r,i){return zb(this,t),na(V(e=n.call(this,e,"Storage",!0)),"rtm",void 0),na(V(e),"getSession",void 0),na(V(e),"localAcquiredLocks",void 0),na(V(e),"subscribedUserMetaCache",{}),e.rtm=A,e.getSession=Ew(r),e.localAcquiredLocks=i,e}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"setChannelMetadata",value:(A=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return si(o=Wb.setChannelMetadata,A),this.validateRtmConnection(o),this.validateEnableStorage(o),a={totalCount:0,timeToken:0,channelName:t,channelType:A},this.validateSessionExist(o),s=bg(t,A),re(t)||this.throwInvalidArgumentError("channelName",o),null!=r&&r.lockName&&((!re(r.lockName)||32<(null==r||null===(u=r.lockName)||void 0===u?void 0:u.length))&&this.throwInvalidArgumentError("lockName",o),null!=(I=null===(g=this.localAcquiredLocks.get(s))||void 0===g?void 0:g.get(r.lockName))&&I.revision||this.throwNotAcquiredError(null==r?void 0:r.lockName,t,o),c=null==I?void 0:I.revision),l=new Map,n.forEach((function(e){var t,A=new Io;A.setKey(e.key),A.setRevision(null!==(t=e.revision)&&void 0!==t?t:-1),A.setValue(e.value),l.set(e.key,A)})),E=[],l.forEach((function(e){E.push(e)})),C=null!==(i=null==r?void 0:r.majorRevision)&&void 0!==i?i:-1,uq(o,{items:E,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:C,type:"Set"}),e.prev=15,d=this.getSession().requestSetChannelMetadata(E,{majorRevision:C,enableRecordTs:null==r?void 0:r.addTimeStamp,enableRecordUserId:null==r?void 0:r.addUserId},s,null==r?void 0:r.lockName,c).toPromise(),e.next=19,d;case 19:e.next=43;break;case 21:if(e.prev=21,e.t0=e.catch(15),!be(e.t0)){e.next=42;break}if(this.logError(e.t0),!ti(e.t0)){e.next=29;break}throw e.t0;case 29:if(!Qe(e.t0)){e.next=34;break}throw h=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),p=h.code,f=h.reason,new Db(o,[f],p);case 34:if(null==e.t0.code){e.next=39;break}throw B=$a(e.t0.code),Q=B.code,y=B.reason,new Db(o,[y],Q);case 39:this.warn("error code is undefined, ".concat(e.t0));case 40:e.next=43;break;case 42:this.warn("not rtm error, ".concat(e.t0));case 43:return e.abrupt("return",a);case 44:case"end":return e.stop()}}),e,this,[[15,21]])}))),function(e,t,n,r){return A.apply(this,arguments)})},{key:"getChannelMetadata",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return si(n=Wb.getChannelMetadata,A),this.validateRtmConnection(n),this.validateEnableStorage(n),r={totalCount:0,majorRevision:0,metadata:{},timeToken:0,channelName:t,channelType:A},this.validateSessionExist(n),re(t)||this.throwInvalidArgumentError("channelName",n),e.prev=7,i=this.getSession().requestGetChannelMetaData(bg(t,A)),e.next=11,i.pipe(hf((function(e){return OB(e)}))).toPromise();case 11:o=e.sent,r.majorRevision=o.majorRevision,r.totalCount=o.items.length,o.items.forEach((function(e){var t;r.metadata[e.getKey()]={value:null!==(t=e.getValue())&&void 0!==t?t:"",revision:e.getRevision(),updated:e.getUpdateTs(),authorUid:e.getAuthorUserId()}})),e.next=39;break;case 17:if(e.prev=17,e.t0=e.catch(7),!be(e.t0)){e.next=38;break}if(this.logError(e.t0),!ti(e.t0)){e.next=25;break}throw e.t0;case 25:if(!Qe(e.t0)){e.next=30;break}throw a=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),s=a.code,c=a.reason,new Db(n,[c],s);case 30:if(null==e.t0.code){e.next=35;break}throw u=$a(e.t0.code),g=u.code,I=u.reason,new Db(n,[I],g);case 35:this.warn("error code is undefined, ".concat(e.t0));case 36:e.next=39;break;case 38:this.warn("not rtm error, ".concat(e.t0));case 39:return e.abrupt("return",r);case 40:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"removeChannelMetadata",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return si(r=Wb.removeChannelMetadata,A),this.validateRtmConnection(r),this.validateEnableStorage(r),i={totalCount:0,timeToken:0,channelName:t,channelType:A},o=bg(t,A),this.validateSessionExist(r),re(t)||this.throwInvalidArgumentError("channelName",r),a=null==n?void 0:n.data,s=!a||0===a.length,c=new Map,null==a||a.forEach((function(e){var t,A;if(16384<new Blob([null!==(t=e.value)&&void 0!==t?t:""]).size)throw e=$a(Aa.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW),new ri(r,[e.reason],e.code);(t=new Io).setKey(e.key),t.setRevision(null!==(A=e.revision)&&void 0!==A?A:-1),c.set(e.key,t)})),u=[],c.forEach((function(e){u.push(e)})),s?null!=n&&n.majorRevision&&lJ(r,n.majorRevision):uq(r,{items:u,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:null!==(g=null==n?void 0:n.majorRevision)&&void 0!==g?g:-1,type:"Delete"}),null!=n&&n.lockName&&((!re(n.lockName)||32<(null==n||null===(l=n.lockName)||void 0===l?void 0:l.length))&&this.throwInvalidArgumentError("lockName",r),null!=(d=null===(E=this.localAcquiredLocks.get(o))||void 0===E?void 0:E.get(n.lockName))&&d.revision||this.throwNotAcquiredError(null==n?void 0:n.lockName,t,r),I=null!==(C=null==d?void 0:d.revision)&&void 0!==C?C:void 0),e.prev=16,f=s?this.getSession().requestClearChannelMetadata({majorRevision:null!==(h=null==n?void 0:n.majorRevision)&&void 0!==h?h:-1,enableRecordTs:null==n?void 0:n.addTimeStamp,enableRecordUserId:null==n?void 0:n.addUserId},o,null==n?void 0:n.lockName,I).toPromise():this.getSession().requestDeleteChannelMetadata(u,{majorRevision:null!==(p=null==n?void 0:n.majorRevision)&&void 0!==p?p:-1,enableRecordTs:null==n?void 0:n.addTimeStamp,enableRecordUserId:null==n?void 0:n.addUserId},o,null==n?void 0:n.lockName,I).toPromise(),e.next=20,f;case 20:e.next=44;break;case 22:if(e.prev=22,e.t0=e.catch(16),!be(e.t0)){e.next=43;break}if(this.logError(e.t0),!ti(e.t0)){e.next=30;break}throw e.t0;case 30:if(!Qe(e.t0)){e.next=35;break}throw B=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),Q=B.code,y=B.reason,new Db(r,[y],Q);case 35:if(null==e.t0.code){e.next=40;break}throw v=$a(e.t0.code),m=v.code,_=v.reason,new Db(r,[_],m);case 40:this.warn("error code is undefined, ".concat(e.t0));case 41:e.next=44;break;case 43:this.warn("not rtm error, ".concat(e.t0));case 44:return e.abrupt("return",i);case 45:case"end":return e.stop()}}),e,this,[[16,22]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"updateChannelMetadata",value:function(){var e=pa(O.mark((function e(t,A,n,r){var i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return si(o=Wb.updateChannelMetadata,A),this.validateRtmConnection(o),this.validateEnableStorage(o),a={timeToken:0,totalCount:0,channelName:t,channelType:A},s=bg(t,A),this.validateSessionExist(o),re(t)||this.throwInvalidArgumentError("channelName",o),c=new Map,n.forEach((function(e){var t,A=new Io;A.setKey(e.key),A.setRevision(null!==(t=e.revision)&&void 0!==t?t:-1),A.setValue(e.value),c.set(e.key,A)})),u=[],c.forEach((function(e){u.push(e)})),uq(o,{items:u,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:null!==(i=null==r?void 0:r.majorRevision)&&void 0!==i?i:-1,type:"Update"}),null!=r&&r.lockName&&((!re(r.lockName)||32<(null==r||null===(I=r.lockName)||void 0===I?void 0:I.length))&&this.throwInvalidArgumentError("lockName",o),null!=(C=null===(l=this.localAcquiredLocks.get(s))||void 0===l?void 0:l.get(r.lockName))&&C.revision||this.throwNotAcquiredError(null==r?void 0:r.lockName,t,o),g=null!==(E=null==C?void 0:C.revision)&&void 0!==E?E:void 0),e.prev=14,h=this.getSession().requestUpdateChannelMetadata(u,{majorRevision:null!==(d=null==r?void 0:r.majorRevision)&&void 0!==d?d:-1,enableRecordTs:null==r?void 0:r.addTimeStamp,enableRecordUserId:null==r?void 0:r.addUserId},s,null==r?void 0:r.lockName,g).toPromise(),e.next=18,h;case 18:e.next=42;break;case 20:if(e.prev=20,e.t0=e.catch(14),!be(e.t0)){e.next=41;break}if(this.logError(e.t0),!ti(e.t0)){e.next=28;break}throw e.t0;case 28:if(!Qe(e.t0)){e.next=33;break}throw p=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),f=p.code,B=p.reason,new Db(o,[B],f);case 33:if(null==e.t0.code){e.next=38;break}throw Q=$a(e.t0.code),y=Q.code,v=Q.reason,new Db(o,[v],y);case 38:this.warn("error code is undefined, ".concat(e.t0));case 39:e.next=42;break;case 41:this.warn("not rtm error, ".concat(e.t0));case 42:return e.abrupt("return",a);case 43:case"end":return e.stop()}}),e,this,[[14,20]])})));return function(t,A,n,r){return e.apply(this,arguments)}}()},{key:"setUserMetadata",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wb.setUserMetadata,this.validateRtmConnection(r),this.validateEnableStorage(r),i=null==A?void 0:A.userId,o={timeToken:0,totalCount:0,userId:i||this.rtm.userId},this.validateSessionExist(r),i&&!re(i)&&this.throwInvalidArgumentError("userId",r),a=new Map,t.forEach((function(e){var t,A=new Io;A.setKey(e.key),A.setRevision(null!==(t=e.revision)&&void 0!==t?t:-1),A.setValue(e.value),a.set(e.key,A)})),s=[],a.forEach((function(e){s.push(e)})),c=null!==(n=null==A?void 0:A.majorRevision)&&void 0!==n?n:-1,uq(r,{items:s,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:c,type:"Set"}),e.prev=13,e.next=16,this.getSession().requestSetLocalMetadata(s,{majorRevision:c,enableRecordTs:null==A?void 0:A.addTimeStamp,enableRecordUserId:null==A?void 0:A.addUserId},i).toPromise();case 16:e.next=40;break;case 18:if(e.prev=18,e.t0=e.catch(13),!be(e.t0)){e.next=39;break}if(this.logError(e.t0),!ti(e.t0)){e.next=26;break}throw e.t0;case 26:if(!Qe(e.t0)){e.next=31;break}throw u=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),g=u.code,I=u.reason,new Db(r,[I],g);case 31:if(null==e.t0.code){e.next=36;break}throw l=$a(e.t0.code),E=l.code,C=l.reason,new Db(r,[C],E);case 36:this.warn("error code is undefined, ".concat(e.t0));case 37:e.next=40;break;case 39:this.warn("not rtm error, ".concat(e.t0));case 40:return e.abrupt("return",o);case 41:case"end":return e.stop()}}),e,this,[[13,18]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"getUserMetadata",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=Wb.getUserMetadata,this.validateRtmConnection(A),this.validateEnableStorage(A),n=null==t?void 0:t.userId,r={timeToken:0,totalCount:0,majorRevision:0,metadata:{},userId:n||this.rtm.userId},this.validateSessionExist(A),n&&!re(n)&&this.throwInvalidArgumentError("userId",A),e.prev=7,e.next=10,this.getSession().requestGetLocalMetaData(n||this.rtm.userId).toPromise();case 10:i=e.sent,o=OB(i),r.totalCount=o.items.length,r.majorRevision=o.majorRevision,o.items.forEach((function(e){var t;r.metadata[e.getKey()]={value:null!==(t=e.getValue())&&void 0!==t?t:"",revision:e.getRevision(),updated:e.getUpdateTs(),authorUid:e.getAuthorUserId()}})),e.next=39;break;case 17:if(e.prev=17,e.t0=e.catch(7),!be(e.t0)){e.next=38;break}if(this.logError(e.t0),!ti(e.t0)){e.next=25;break}throw e.t0;case 25:if(!Qe(e.t0)){e.next=30;break}throw a=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),s=a.code,c=a.reason,new Db(A,[c],s);case 30:if(null==e.t0.code){e.next=35;break}throw u=$a(e.t0.code),g=u.code,I=u.reason,new Db(A,[I],g);case 35:this.warn("error code is undefined, ".concat(e.t0));case 36:e.next=39;break;case 38:this.warn("not rtm error, ".concat(e.t0));case 39:return e.abrupt("return",r);case 40:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeUserMetadata",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=Wb.removeUserMetadata,this.validateRtmConnection(A),this.validateEnableStorage(A),n=null==t?void 0:t.userId,r={timeToken:0,totalCount:0,userId:n||this.rtm.userId},this.validateSessionExist(A),n&&!re(n)&&this.throwInvalidArgumentError("userId",A),i=null==t?void 0:t.data,o=!i||0===i.length,a=new Map,null==i||i.forEach((function(e){var t,n;if(16384<new Blob([null!==(t=e.value)&&void 0!==t?t:""]).size)throw e=$a(Aa.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW),new ri(A,[e.reason],e.code);(t=new Io).setKey(e.key),t.setRevision(null!==(n=e.revision)&&void 0!==n?n:-1),a.set(e.key,t)})),s=[],a.forEach((function(e){s.push(e)})),o?null!=t&&t.majorRevision&&lJ(A,t.majorRevision):uq(A,{items:s,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:null!==(c=null==t?void 0:t.majorRevision)&&void 0!==c?c:-1,type:"Delete"}),e.prev=14,I=o?this.getSession().requestClearLocalMetadata({majorRevision:null!==(u=null==t?void 0:t.majorRevision)&&void 0!==u?u:-1,enableRecordTs:null==t?void 0:t.addTimeStamp,enableRecordUserId:null==t?void 0:t.addUserId},n).toPromise():this.getSession().requestDeleteLocalMetadata(s,{majorRevision:null!==(g=null==t?void 0:t.majorRevision)&&void 0!==g?g:-1,enableRecordTs:null==t?void 0:t.addTimeStamp,enableRecordUserId:null==t?void 0:t.addUserId},n).toPromise(),e.next=18,I;case 18:e.next=42;break;case 20:if(e.prev=20,e.t0=e.catch(14),!be(e.t0)){e.next=41;break}if(this.logError(e.t0),!ti(e.t0)){e.next=28;break}throw e.t0;case 28:if(!Qe(e.t0)){e.next=33;break}throw l=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),E=l.code,C=l.reason,new Db(A,[C],E);case 33:if(null==e.t0.code){e.next=38;break}throw d=$a(e.t0.code),h=d.code,p=d.reason,new Db(A,[p],h);case 38:this.warn("error code is undefined, ".concat(e.t0));case 39:e.next=42;break;case 41:this.warn("not rtm error, ".concat(e.t0));case 42:return e.abrupt("return",r);case 43:case"end":return e.stop()}}),e,this,[[14,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserMetadata",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wb.updateUserMetadata,this.validateRtmConnection(r),this.validateEnableStorage(r),i=null==A?void 0:A.userId,o={timeToken:0,totalCount:0,userId:i||this.rtm.userId},this.validateSessionExist(r),i&&!re(i)&&this.throwInvalidArgumentError("userId",r),a=new Map,null==t||t.forEach((function(e){var t,A=new Io;A.setKey(e.key),A.setRevision(null!==(t=e.revision)&&void 0!==t?t:-1),A.setValue(e.value),a.set(e.key,A)})),s=[],a.forEach((function(e){s.push(e)})),uq(r,{items:s,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:null!==(n=null==A?void 0:A.majorRevision)&&void 0!==n?n:-1,type:"Update"}),e.prev=12,e.next=15,this.getSession().requestUpdateLocalMetadata(s,{majorRevision:null!==(c=null==A?void 0:A.majorRevision)&&void 0!==c?c:-1,enableRecordTs:null==A?void 0:A.addTimeStamp,enableRecordUserId:null==A?void 0:A.addUserId},i).toPromise();case 15:e.next=39;break;case 17:if(e.prev=17,e.t0=e.catch(12),!be(e.t0)){e.next=38;break}if(this.logError(e.t0),!ti(e.t0)){e.next=25;break}throw e.t0;case 25:if(!Qe(e.t0)){e.next=30;break}throw u=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),g=u.code,I=u.reason,new Db(r,[I],g);case 30:if(null==e.t0.code){e.next=35;break}throw l=$a(e.t0.code),E=l.code,C=l.reason,new Db(r,[C],E);case 35:this.warn("error code is undefined, ".concat(e.t0));case 36:e.next=39;break;case 38:this.warn("not rtm error, ".concat(e.t0));case 39:return e.abrupt("return",o);case 40:case"end":return e.stop()}}),e,this,[[12,17]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"subscribeUserMetadata",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=Wb.subscribeUserMetadata,this.validateRtmConnection(A),this.validateEnableStorage(A),this.validateEnableStorageSub(A),n={timeToken:0,userId:t||this.rtm.userId},this.validateSessionExist(A),re(t)){e.next=9;break}throw r=$a(Aa.RTM_ERROR_INVALID_USER_ID),i=r.code,o=r.reason,new Jc(A,[o],i);case 9:if(!t.split("").includes(".")){e.next=12;break}throw a=$a(Aa.RTM_ERROR_INVALID_USER_ID),s=a.code,c=a.reason,new Jc(A,[c],s);case 12:if(this.subscribedUserMetaCache[t]!==bn.SUBSCRIBED){e.next=14;break}return e.abrupt("return",n);case 14:if(!(50<=Object.values(this.subscribedUserMetaCache).filter((function(e){return e===bn.SUBSCRIBED})).length)){e.next=17;break}throw u=$a(Aa.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION),g=u.code,I=u.reason,new ri(A,[I],g);case 17:return e.prev=17,e.next=20,this.getSession().requestSubscribeUserMetadata(t,"NORMAL");case 20:this.rtm.userMetadataSub.has(t)||this.rtm.userMetadataSub.add(t),this.subscribedUserMetaCache[t]=bn.SUBSCRIBED,e.next=46;break;case 24:if(e.prev=24,e.t0=e.catch(17),!be(e.t0)){e.next=45;break}if(this.logError(e.t0),!ti(e.t0)){e.next=32;break}throw e.t0;case 32:if(!Qe(e.t0)){e.next=37;break}throw l=$a(Aa.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),E=l.code,C=l.reason,new Db(A,[C],E);case 37:if(!e.t0.code){e.next=42;break}throw d=$a(e.t0.code),h=d.code,p=d.reason,new Db(A,[p],h);case 42:this.warn("error code is undefined, ".concat(e.t0));case 43:e.next=46;break;case 45:this.warn("not rtm error, ".concat(e.t0));case 46:return e.abrupt("return",n);case 47:case"end":return e.stop()}}),e,this,[[17,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribeUserMetadata",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=Wb.unsubscribeUserMetadata,this.validateRtmConnection(A),this.validateEnableStorage(A),n={timeToken:0,userId:t||this.rtm.userId},this.validateSessionExist(A),re(t)){e.next=8;break}throw r=$a(Aa.RTM_ERROR_INVALID_USER_ID),i=r.code,o=r.reason,new Jc(A,[o],i);case 8:if(!t.split("").includes(".")){e.next=11;break}throw a=$a(Aa.RTM_ERROR_INVALID_USER_ID),s=a.code,c=a.reason,new Jc(A,[c],s);case 11:if(this.subscribedUserMetaCache[t]&&this.subscribedUserMetaCache[t]!==bn.UNSUBSCRIBED){e.next=14;break}throw u=$a(Aa.RTM_ERROR_STORAGE_NOT_SUBSCRIBE),g=u.code,I=u.reason,new Ad(A,[I],g);case 14:return e.prev=14,e.next=17,this.getSession().requestUnsubscribeUserMetadata(t);case 17:this.rtm.userMetadataSub.delete(t),this.subscribedUserMetaCache[t]=bn.UNSUBSCRIBED,e.next=25;break;case 21:if(e.prev=21,e.t0=e.catch(14),!be(e.t0)){e.next=25;break}throw e.t0;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,this,[[14,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"throwNotAcquiredError",value:function(e,t,A){throw e=$a(Aa.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED),new Db(A,[e.reason],e.code)}},{key:"throwInvalidArgumentError",value:function(e,t){throw e=$a("userId"===e?Aa.RTM_ERROR_INVALID_USER_ID:"channelName"===e?Aa.RTM_ERROR_INVALID_CHANNEL_NAME:Aa.RTM_ERROR_STORAGE_INVALID_LOCK_NAME),new Jc(t,[e.reason],e.code)}},{key:"validateRtmConnection",value:function(e){if("CONNECTED"!==this.rtm.connectionState&&"RECONNECTING"!==this.rtm.connectionState){this.log("The client state is ".concat(this.rtm.connectionState,", cannot do the operation(").concat(e,")"));var t=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Ad(e,[t.reason],t.code)}}},{key:"validateSessionExist",value:function(e){if(void 0===this.getSession()){var t=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Ad(e,[t.reason],t.code)}}},{key:"validateEnableStorage",value:function(e){if("true"!==this.rtm.consoleConfig["storage.enabled"]){var t=$a(Aa.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new Db(e,[t.reason],t.code)}}},{key:"validateEnableStorageSub",value:function(e){if("true"!==this.rtm.consoleConfig["storage.user_subscribe_enabled"]){var t=$a(Aa.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new Db(e,[t.reason],t.code)}}}]),t}(Mh),yd(pe.prototype,"setChannelMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"setChannelMetadata"),pe.prototype),yd(pe.prototype,"getChannelMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"getChannelMetadata"),pe.prototype),yd(pe.prototype,"removeChannelMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"removeChannelMetadata"),pe.prototype),yd(pe.prototype,"updateChannelMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"updateChannelMetadata"),pe.prototype),yd(pe.prototype,"setUserMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"setUserMetadata"),pe.prototype),yd(pe.prototype,"getUserMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"getUserMetadata"),pe.prototype),yd(pe.prototype,"removeUserMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"removeUserMetadata"),pe.prototype),yd(pe.prototype,"updateUserMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"updateUserMetadata"),pe.prototype),yd(pe.prototype,"subscribeUserMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"subscribeUserMetadata"),pe.prototype),yd(pe.prototype,"unsubscribeUserMetadata",[Bd],Object.getOwnPropertyDescriptor(pe.prototype,"unsubscribeUserMetadata"),pe.prototype),pe),UH,VH,WH,XH,qe,qW=null===(UH=/Chrome\/([0-9.]+)/.exec(null===(WH=window)||void 0===WH||null===(XH=WH.navigator)||void 0===XH?void 0:XH.userAgent))||void 0===UH||null===(VH=UH[1])||void 0===VH?void 0:VH.split(".")[0];if(qW&&88<=parseInt(qW,10)&&!Fo()){var YH,Zp=document.createElement("video"),$p=document.createElement("canvas");Zp.setAttribute("style","display:none"),Zp.setAttribute("muted",""),Zp.muted=!0,Zp.setAttribute("autoplay",""),Zp.autoplay=!0,Zp.setAttribute("playsinline",""),$p.setAttribute("style","display:none"),$p.setAttribute("width","1"),$p.setAttribute("height","1"),null===(YH=$p.getContext("2d"))||void 0===YH||YH.fillRect(0,0,1,1),Zp.srcObject=null==$p?void 0:$p.captureStream()}var tA={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,FAILED:5},rW={CONNECTING:0,LOGIN_SUCCESS:10001,REJECTED_BY_SERVER:10,LOST:16,INTERRUPTED:2,LOGOUT:10002,SAME_UID_LOGIN:8,TOKEN_EXPIRED:9,PRESENCE_NOT_READY:10},Ps;!function(e){e[e.JOINED=0]="JOINED",e[e.LEFT=1]="LEFT"}(Ps||(Ps={}));var Ida={error:!1,warn:!1,info:!1,track:!1,debug:!1},sW={error:!0,warn:!1,info:!1,track:!1,debug:!1},Jda={error:!0,warn:!0,info:!1,track:!1,debug:!1},Kda={error:!0,warn:!0,info:!0,track:!1,debug:!1},Lda={error:!0,warn:!0,info:!0,track:!0,debug:!0},aq={logUpload:!1,logFilter:sW,cloudProxy:!1},tW=function(e,t){switch(e){case"debug":t.logFilter=Lda,Lh.setLogLevel(0);break;case"info":t.logFilter=Kda,Lh.setLogLevel(1);break;case"warn":t.logFilter=Jda,Lh.setLogLevel(2);break;case"none":t.logFilter=Ida,Lh.setLogLevel(4);break;default:t.logFilter=sW,Lh.setLogLevel(3)}},Mda=(qe=function(e){function t(e,A,r){var i,o,a;zb(this,t);var s=Wb.initRTM;if(!/^[\dA-Za-z]{32}$/.test(e))throw A=$a(Aa.RTM_ERROR_INVALID_APP_ID),new Db(s,[A.reason],A.code);if(!re(A))throw A=$a(Aa.RTM_ERROR_INVALID_USER_ID),new Db(s,[A.reason],A.code);var c={logUpload:null!==(i=null==r?void 0:r.logUpload)&&void 0!==i?i:aq.logUpload,logFilter:aq.logFilter,cloudProxy:null!==(o=null==r?void 0:r.cloudProxy)&&void 0!==o?o:aq.cloudProxy};i=Rd(Rd(Rd({},aq),c),{},{logFilter:Rd(Rd({},null==aq?void 0:aq.logFilter),null==c?void 0:c.logFilter)}),Lh.setParameter("SHOW_GLOBAL_CLIENT_LIST",!0),null!=r&&r.logLevel&&tW(r.logLevel,i),c=kX(o=Gs());var u=E8(i,o,A),g=F8(i,o,A),I=G8(i,o,A),l=H8(c,i,o,A),E=wU(c,i,o,A),C=E("RTM:DEBUG","<Entry> ");u("The Agora RTM Web SDK version is %s","2.1.10"),u("The new process ID is %s",o),i.logUpload&&C("The uploaded logs address is:".concat(" https://logservice-h3t-gz.agora.io/log.html?processId=process-").concat(o)),u('The Git commit ID is "'.concat("v2.1.10-0-gf671cb6c-dirty",'"')),u("The build is %s","v2.1.10-0-gf671cb6c-dirty"),u("NODE_ENV is %s","production"),u("Creating an RTM instance"),u("The App ID is %s",XI(e,4,10,"*".repeat(6))),c={genLogger:E,genTracker:l,info:u,warn:g,logError:I,loggerId:c};var d=n.call(this,c,"RTM",!0);if(na(V(d),"userId",void 0),na(V(d),"appId",void 0),na(V(d),"processId",void 0),na(V(d),"streamChannelList",[]),na(V(d),"stChannelInstances",[]),na(V(d),"token",void 0),na(V(d),"cipherKey",void 0),na(V(d),"cloudProxy",void 0),na(V(d),"presenceTimeout",Qc("PRESENCE_TIMEOUT")),na(V(d),"presence",void 0),na(V(d),"storage",void 0),na(V(d),"lock",void 0),na(V(d),"encryptionMode",void 0),na(V(d),"salt",void 0),na(V(d),"key",""),na(V(d),"iv",""),na(V(d),"keyLength",0),na(V(d),"initEncryption",!1),na(V(d),"useStringUserId",void 0),na(V(d),"context",void 0),na(V(d),"session",void 0),na(V(d),"sessionOfSync",void 0),na(V(d),"loginPromise",void 0),na(V(d),"loginSyncPromise",void 0),na(V(d),"lastLoginTime",void 0),na(V(d),"connectionState","DISCONNECTED"),na(V(d),"syncConnectionState","DISCONNECTED"),na(V(d),"blacklistedIP",{}),na(V(d),"blacklistedSyncIP",{}),na(V(d),"reconnId",0),na(V(d),"reconnSyncId",0),na(V(d),"channelAttributesCacheLru",new Xp(void 0,{maxlen:1e4})),na(V(d),"attributeDrafts",new Set),na(V(d),"internalEmitter",new ke),na(V(d),"onMemberCountUpdated",T0((function(e,t){var A;e!==(null!==(A=d.subChannelCountCache.get(t))&&void 0!==A?A:0)&&d.subChannelCountCache.set(t,e)}),1e3)),na(V(d),"subChannelStateCache",new Map),na(V(d),"subChannelPromiseCache",new Map),na(V(d),"subChannelCountCache",new Map),na(V(d),"channelMemberJoinedLru",new Map),na(V(d),"channelMemberLeftLru",new Map),na(V(d),"channelMemberJoinStateLru",new Map),na(V(d),"localAcquiredLocks",new Map),na(V(d),"channelCollPtrs",new Map),na(V(d),"connectionCount",0),na(V(d),"consoleConfig",void 0),na(V(d),"userMetadataSub",new Set),na(V(d),"channelMetadataSub",new Set),na(V(d),"logLevel",void 0),na(V(d),"needReSubPresenceChannels",new Map),na(V(d),"TokenPrivilegeWillExpireHandler",(function(){d.emit("tokenPrivilegeWillExpire","")})),na(V(d),"userDropHandler",(function(e){if("FAILED"!==d.connectionState)switch(d.log("remote same uid logged. sdk logout sync..."),d.logoutSync(),d.logoutVosWeb(),e){case 2:d.logError("Server banned because of token is expired"),d.onConnectionStateChanged("FAILED","TOKEN_EXPIRED");break;case 11:d.logError("Kicked off by remote session"),d.onConnectionStateChanged("FAILED","SAME_UID_LOGIN");break;case 10019:d.logError("Kicked off by authorization"),d.onConnectionStateChanged("FAILED","TOKEN_EXPIRED");break;default:d.logError("User kicked off for unknown code: ".concat(e)),d.onConnectionStateChanged("FAILED","INTERRUPTED")}})),na(V(d),"userMetaDataUpdatedHandler",(function(e){var t,A,n=e.uid;if(e=e.data,(null!==(t=null===(A=d.session)||void 0===A?void 0:A.userMetaEventInfos.get(n))&&void 0!==t?t:-1)>=e.majorRevision||!d.userMetadataSub.has(n))d.log("user(".concat(uc(n),") meta not changed or not subscribed, ignore."));else if(d.storage.subscribedUserMetaCache[n]){var r,i,o,a={};e.items.map((function(e){var t;a[null==e?void 0:e.getKey()]={value:null!==(t=e.getValue())&&void 0!==t?t:"",revision:e.getRevision(),updated:e.getUpdateTs(),authorUid:e.getAuthorUserId()}})),t={totalCount:null==e||null===(r=e.items)||void 0===r?void 0:r.length,majorRevision:null==e?void 0:e.majorRevision,metadata:a},r="UPDATE",null!==(i=d.session)&&void 0!==i&&i.userMetaEventInfos.has(n)||(r="SNAPSHOT"),i={channelType:"USER",channelName:"",publisher:n,storageType:"USER",data:t,eventType:r},null===(o=d.session)||void 0===o||o.userMetaEventInfos.set(n,e.majorRevision),d.emit("storage",i)}})),na(V(d),"onChannelTextMessage",(function(e){var t=e.memberId,A=e.text,n=e.channelId;e.properties,d.emit("message",{channelName:n,channelType:e.channelType,topicName:"",message:A,publisher:t,messageType:"STRING",customType:e.customType})})),na(V(d),"onChannelRawMessage",(function(e){e.desc;var t=e.raw,A=e.memberId,n=e.channelId;e.properties,d.emit("message",{channelName:n,channelType:e.channelType,topicName:"",message:t,publisher:A,messageType:"BINARY",customType:e.customType})})),na(V(d),"onMemberNotice",(function(e){var t=e.channelId,A=e.memberId,n=e.type,r=e.size,i=e.instance.toString();e=e.seq.toString();var o={MemberLeft:d.channelMemberJoinedLru.get(t),MemberJoined:d.channelMemberLeftLru.get(t),MemberCountUpdated:void 0}[n];if(o){var a;if(o.has(i+e))return void d.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",n,e,uc(t),uc(A||""));if(o.set(i+e,void 0),"string"!=typeof A)return;if(A!==d.userId){if((i=d.channelMemberJoinStateLru.get(t).get(A))===Ps.JOINED&&"MemberJoined"===n)return void d.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,uc(t),uc(A||""));if(i===Ps.LEFT&&"MemberLeft"===n)return void d.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,uc(t),uc(A||""))}null===(a=d.channelMemberJoinStateLru.get(t))||void 0===a||a.set(A,"MemberJoined"===n?Ps.JOINED:Ps.LEFT)}d.info("Channel %s - %s, memberId: %s",n,uc(t),"MemberCountUpdated"===n?"[unknown]":uc(A||"")),d.userId,("MemberLeft"===n&&re(A)||"MemberJoined"===n&&re(A)||"MemberCountUpdated"===n&&"number"==typeof r)&&d.onMemberCountUpdated(r,t)})),na(V(d),"onChannelMetaDataUpdated",(function(e){var t,A,n,r,i,o=e.channelId;if(e=e.data,(null!==(t=null===(A=d.session)||void 0===A?void 0:A.channelMetaEventInfos.get(o))&&void 0!==t?t:-1)>=e.majorRevision||!d.channelMetadataSub.has(o))d.log("channel(".concat(o,") meta not changed or not subscribed, ignore."));else{t=(A=Cj(o)).channelName,A=A.channelType;var a={};e.items.map((function(e){var t;a[null==e?void 0:e.getKey()]={value:null!==(t=e.getValue())&&void 0!==t?t:"",revision:e.getRevision(),updated:e.getUpdateTs(),authorUid:e.getAuthorUserId()}}));var s={totalCount:null==e||null===(n=e.items)||void 0===n?void 0:n.length,majorRevision:null==e?void 0:e.majorRevision,metadata:a};n="UPDATE",null!==(r=d.session)&&void 0!==r&&r.channelMetaEventInfos.has(o)||(n="SNAPSHOT"),r={channelType:A,channelName:t,publisher:"",storageType:"CHANNEL",data:s,eventType:n},null===(i=d.session)||void 0===i||i.channelMetaEventInfos.set(o,e.majorRevision),d.emit("storage",r)}})),na(V(d),"onChannelLockEvent",(function(e){var t,A,n,r=bg(e.channelName,e.channelType);null!==(t=null===(A=d.session)||void 0===A||null===(n=A.subscribedChannels.get(r))||void 0===n?void 0:n.withLock)&&void 0!==t&&t&&d.emit("lock",e)})),na(V(d),"emitLockExpired",(function(e){var t,A=bg(e.channelName,e.channelType);null!==(t=d.localAcquiredLocks.get(A))&&void 0!==t&&t.get(e.lockName)&&(d.emit("lock",Rd(Rd({},e),{},{ttl:0})),d.updateLocalAcquiredLocksCache(A,null==e?void 0:e.lockName,"delete"))})),na(V(d),"onChannelMemberCountUpdated",(function(e,t){d.onMemberCountUpdated(t,e)})),na(V(d),"onLogout",(function(){var e,t,A,n;d.validateSessionExist(Wb.logout);try{d.clearChannel(d.session,d.session.usedChannelIds),d.streamChannelList.forEach((function(e){var t;e=bg(e,"STREAM"),null===(t=d.session)||void 0===t||t.subscribedChannels.delete(e)}))}catch(e){}null===(e=d.session)||void 0===e||e.removeListener("channelTextMessage",d.onChannelTextMessage),null===(t=d.session)||void 0===t||t.removeListener("channelRawMessage",d.onChannelRawMessage),null===(A=d.session)||void 0===A||A.removeListener("memberNotice",d.onMemberNotice),null===(n=d.session)||void 0===n||n.removeListener("channelMetaDataUpdated",d.onChannelMetaDataUpdated),d.internalEmitter.removeListener("channelMemberCountUpdated",d.onChannelMemberCountUpdated)})),d.logLevel=null!==(a=null==r?void 0:r.logLevel)&&void 0!==a?a:"error",d.appId=e,d.userId=A,d.processId=o,d.setMaxListeners(512),d.internalEmitter.setMaxListeners(512),d.lock=new Gda(c,V(d),(function(){return d.session}),d.localAcquiredLocks),d.presence=new Fda(c,V(d),(function(){return d.sessionOfSync}),(function(){return d.session})),d.storage=new Hda(c,V(d),(function(){return d.session}),d.localAcquiredLocks),"number"==typeof(null==r?void 0:r.presenceTimeout)&&(a=r.presenceTimeout,300<r.presenceTimeout?a=300:10>r.presenceTimeout&&(a=10),d.presenceTimeout=a),d.token=null==r?void 0:r.token,d.context=new Eda(e,i,c),"AES_128_GCM"===(null==r?void 0:r.encryptionMode)||"AES_256_GCM"===(null==r?void 0:r.encryptionMode)){var h,p;if(e="detail: ",void 0===(null==r?void 0:r.cipherKey))e+="not provide cipherKey but set encryptionMode.";else if(r.salt&&0<(null==r||null===(h=r.salt)||void 0===h?void 0:h.byteLength)&&32<(null==r||null===(p=r.salt)||void 0===p?void 0:p.byteLength))e+="salt should be ".concat(32," bytes");else if("detail: "===e){var f;d.keyLength="AES_128_GCM"===r.encryptionMode?16:32,(h=new Uint8Array(32)).set(null!==(f=r.salt)&&void 0!==f?f:new Uint8Array([])),d.salt=h,d.cipherKey=null==r?void 0:r.cipherKey,d.encryptionMode=r.encryptionMode;try{var B=jk.util.createBuffer(d.salt),Q=jk.pkcs5.pbkdf2(d.cipherKey,B.getBytes(B.length()),1e3,12+d.keyLength,"sha256");d.key=Q,d.iv=Q.slice(-12),Q?(d.initEncryption=!0,d.log("initialize crypto key success.")):d.warn("generate crypto key failure using pbkdf2.")}catch(e){throw A=$a(Aa.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER),new Db(s,[A.reason+e],A.code)}}if(8<e.length)throw A=$a(Aa.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER),new Db(s,[A.reason+e],A.code)}if(!1===(null==r?void 0:r.useStringUserId)){if(!dB(A))throw A=$a(Aa.RTM_ERROR_INVALID_USER_ID),new Jc(s,[A.reason],A.code);d.useStringUserId=!1}else d.useStringUserId=!0;return window.addEventListener("offline",(function(){d.warn("network-state-change: ONLINE -> OFFLINE")})),window.addEventListener("online",(function(){d.log("network-state-change: OFFLINE -> ONLINE")})),d}Zb(t,e);var A,n=$b(t);return Ib(t,[{key:"renewToken",value:(A=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w,D,k,N,T,L,M,U=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Wb.renewToken,fB(t,this.appId,n,(function(e){U.warn(e)})),r={timeToken:0},null==A||!A.channelName){e.next=23;break}if(re(A.channelName)){e.next=7;break}throw i=$a(Aa.RTM_ERROR_INVALID_CHANNEL_NAME),o=i.code,a=i.reason,new Jc(n,[a],o);case 7:if(-1!==(s=this.streamChannelList.findIndex((function(e){return e===A.channelName})))){e.next=12;break}throw this.warn("renewToken: channel(".concat(A.channelName,") not join.")),c=$a(Aa.RTM_ERROR_INVALID_CHANNEL_NAME),u=c.code,g=c.reason,new Jc(n,[g],u);case 12:return e.prev=12,e.next=15,this.stChannelInstances[s].renewStreamChannelToken(t);case 15:return e.abrupt("return",r);case 18:throw e.prev=18,e.t0=e.catch(12),e.t0;case 21:e.next=67;break;case 23:if("string"==typeof t&&0!==t.length){e.next=26;break}throw l=$a(Aa.RTM_ERROR_INVALID_TOKEN),E=l.code,C=l.reason,new Jc(n,[C],E);case 26:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=29;break}throw d=$a(Aa.RTM_ERROR_NOT_LOGIN),h=d.code,p=d.reason,new Ad(n,[p],h);case 29:if(this.validateSessionExist(n),t!==this.context.token){e.next=33;break}return f={timeToken:0},e.abrupt("return",f);case 33:return e.prev=33,B=this.context.token,this.context.token=t,e.next=38,Promise.all([this.session.connection.apClient.getApEdgeInfo$(!1).pipe(Ok((function(){return Error("No available edge address to connect")})),Mm((function(e){return e.pipe(Fc((function(e){if(be(e))throw e})),Km(2500),Vd(4))})),Vd(1),Oh(2e4),Pd((function(e){return Qe(e)&&U.warn("renewToken timed out"),Rc(e)}))).toPromise(),this.sessionOfSync.connection.apClient.getApEdgeInfo$(!1).pipe(Ok((function(){return Error("No available edge address for sync to connect")})),Mm((function(e){return e.pipe(Fc((function(e){if(be(e))throw e})),Km(2500),Vd(4))})),Vd(1),Oh(2e4),Pd((function(e){return Qe(e)&&U.warn("renewToken for sync timed out"),Rc(e)}))).toPromise()]);case 38:Q=e.sent,y=Lb(Q,2),v=y[0].ticket,m=y[1].ticket,e.next=54;break;case 44:if(e.prev=44,e.t1=e.catch(33),this.context.token=B,!Qe(e.t1)){e.next=52;break}throw _=$a(Aa.RTM_ERROR_LOGIN_TIMEOUT),b=_.code,R=_.reason,new Ol(n,[R],b);case 52:throw S=$a(e.t1.code),w=S.code,D=S.reason,new Bw(n,[D],w);case 54:return k=this.session,e.next=57,this.session.requestUpdateEdgeTicket(v).toPromise();case 57:if(0===(N=e.sent).code){e.next=63;break}throw T=$a(N.code),L=T.code,M=T.reason,new Db(n,[M],L);case 63:k.curLoginSockets.filter((function(e){return void 0!==e})).forEach((function(e){return e.ticket=v}));case 64:return e.next=66,null===(I=this.sessionOfSync)||void 0===I?void 0:I.renewKey(m);case 66:return e.abrupt("return",r);case 67:case"end":return e.stop()}}),e,this,[[12,18],[33,44]])}))),function(e,t){return A.apply(this,arguments)})},{key:"updateConfig",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A={timeToken:0},n=0,r=ow(t);case 3:if(!(n<r.length)){e.next=13;break}if("logLevel"!==(i=r[n])){e.next=8;break}if(t.logLevel){switch(t.logLevel){case"debug":eb._rte_crdt_client_set_log_level(0);break;case"info":eb._rte_crdt_client_set_log_level(1);break;case"warn":eb._rte_crdt_client_set_log_level(2);break;default:eb._rte_crdt_client_set_log_level(3)}tW(t.logLevel,this.context.config)}return e.abrupt("continue",10);case 8:null!=(o=t[i])&&(t.cloudProxy&&this.info("RTM cloud proxy enabled"),t.logUpload&&this.info("Log upload enabled"),this.context.config[i]=o);case 10:n++,e.next=3;break;case 13:return e.abrupt("return",A);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.connectionCount=0,e.next=3,nW.pipe(Vd(1),Fc((function(){switch(h.logLevel){case"debug":eb._rte_crdt_client_set_log_level(0);break;case"info":eb._rte_crdt_client_set_log_level(1);break;case"warn":eb._rte_crdt_client_set_log_level(2);break;default:eb._rte_crdt_client_set_log_level(3)}h.log("wasm loaded. logLevel is ".concat(h.logLevel))}))).toPromise();case 3:try{eb.rtejsLog=function(e,t){switch(e){case 0:h.log(t," ---------- rtejsLog ");break;case 1:h.info(t," ---------- rtejsLog ");break;case 2:h.warn(t," ---------- rtejsLog ");break;default:h.logError(t," ---------- rtejsLog ")}}}catch(e){this.warn("reload function rtejsLog failure. ".concat(e))}if(A=Wb.login,this.token&&fB(this.token,this.appId,A,(function(e){h.warn(e)})),"DISCONNECTED"===this.connectionState||"FAILED"===this.connectionState){e.next=9;break}return n={timeToken:0},e.abrupt("return",n);case 9:if(re(this.userId)){e.next=12;break}throw r=$a(Aa.RTM_ERROR_INVALID_USER_ID),i=r.code,o=r.reason,new Jc(A,[o],i);case 12:if(a=this.token,this.token===this.context.appId&&(a=void 0),"string"!=typeof a||!a){e.next=18;break}this.context.token=a,e.next=21;break;case 18:if("string"==typeof a||null==a){e.next=21;break}throw s=$a(Aa.RTM_ERROR_INVALID_TOKEN),c=s.code,u=s.reason,new Jc(A,[u],c);case 21:return l=new Promise((function(e,t){g=e,I=t})),bJ(!0),this.info("RTM Client logging in as ".concat(uc(this.userId))),E=lw(),this.context.sid=pg(E),Cq("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:lf(this.session&&this.session.startTime),index:{index1:this.userId,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},installId:this.processId,lts:Xa.fromNumber(Date.now()),os:7,sid:pg(E),token:a||"",userId:this.userId,ver:"2.1.10",buildno:1212,subVersion:412,version:8},null!==(t=this.context.config.cloudProxy)&&void 0!==t&&t,!0),C={timeToken:0},d=Date.now(),this.loginPromise=this.loginImpl({uid:this.userId,instanceId:E}),this.loginPromise.then((function(){h.connectionCount++,2<=h.connectionCount&&(h.checkVid(),h.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS"),g(C))})).catch((function(e){var t;(0<h.connectionCount&&(h.logoutSync(),h.warn("close sync-proxy socket")),be(e))&&De("Link",{ackedServerIp:"",destServerIp:"",ec:e.code||1,sc:e.serverCode,elapse:lf(h.session&&h.session.startTime),lts:Xa.fromNumber(Date.now()),responseTime:Date.now()-d,sid:pg(E),userId:h.userId},null!==(t=h.context.config.cloudProxy)&&void 0!==t&&t,h.context.vid);h.context.socketUseProxy=!1,I(e)})).finally((function(){h.loginPromise=void 0,bJ(!1),h.context.socketUseProxy&&h.log("port fallback to 443")})),this.loginSync().then((function(){h.connectionCount++,2<=h.connectionCount&&(h.checkVid(),h.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS"),g(C))})).catch((function(e){0<h.connectionCount&&(h.logoutRegistrar(),h.warn("close registrar socket")),h.logError(e),I(e)})),e.abrupt("return",l);case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loginSync",value:function(){var e=pa(O.mark((function e(){var t,A,n=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=lw(),this.loginSyncPromise=this.loginSyncImpl({uid:this.userId,instanceOfSyncId:t}),this.info("RTM Sync Client logging in as ".concat(uc(this.userId))),A=Date.now(),e.abrupt("return",this.loginSyncPromise.catch((function(e){var r;be(e)&&(n.info({ackedServerIp:"",destServerIp:"",ec:e.code||1,sc:e.serverCode,elapse:lf(n.session&&n.session.startTime),lts:Xa.fromNumber(Date.now()),responseTime:Date.now()-A,sid:pg(t),userId:n.userId,cloudProxy:null!==(r=n.context.config.cloudProxy)&&void 0!==r&&r,loginSync:"isRtmError"},"Link"),n.logError(e));throw e})).finally((function(){n.loginSyncPromise=void 0})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exceptionLogout",value:function(){var e=pa(O.mark((function e(t,A){var n,r=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.logoutVosWeb();case 2:return this.getJoinedPresenceChannels().forEach((function(e){var t,A=e.prefixChannelName;e=e.withPresence,null===(t=r.sessionOfSync)||void 0===t||t.absent(A,e)})),e.next=6,null===(n=this.sessionOfSync)||void 0===n?void 0:n.logoutHandler(!1);case 6:this.logoutRegistrar(),this.internalLogout(),this.onSyncConnectionStateChanged(t,A),this.onConnectionStateChanged(t,A);case 10:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"internalLogout",value:function(){this.channelMetadataSub.clear(),this.userMetadataSub.clear(),this.internalEmitter.emit("LOGOUT")}},{key:"logoutVosWeb",value:function(){var e=pa(O.mark((function e(){var t=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.stChannelInstances.filter((function(e){return t.log("channel(".concat(e.channelName,"), isJoinedChannel: ").concat(e.isJoinedChannel)),e.isJoinedChannel})).map((function(e){return e.removeAllListeners(),e.leave()})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getJoinedPresenceChannels",value:function(){var e,t,A,n=[];return null===(e=this.sessionOfSync)||void 0===e||e.withPresenceChannels.forEach((A=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push({prefixChannelName:A,withPresence:!0});case 1:case"end":return e.stop()}}),e)}))),function(e,t){return A.apply(this,arguments)})),null===(t=this.sessionOfSync)||void 0===t||t.withoutPresenceChannels.forEach(function(){var e=pa(O.mark((function e(t,A){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push({prefixChannelName:A,withPresence:!1});case 1:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}()),n}},{key:"reportEvents",value:function(){var e;GB(this.context.vid,this.context.cloudProxy,!0);var t=null===(e=this.session)||void 0===e?void 0:e.connection.apClient.reportIntervalId;t&&clearInterval(t)}},{key:"loginSyncImpl",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=t.uid,n=t.instanceOfSyncId,r=t.forceLoginTime,i=void 0===r?0:r,o=n,"DISCONNECTED"===this.syncConnectionState||"FAILED"===this.syncConnectionState||0!==i){e.next=5;break}return e.abrupt("return");case 5:return 0===i&&this.onSyncConnectionStateChanged("CONNECTING","CONNECTING"),(a=new kW(this.context,this.logger,!1)).blacklistedSyncIP=this.blacklistedSyncIP,this.sessionOfSync=s=new Cda(this.context,a,o,this.logger,(function(){return u.presenceTimeout}),(function(){return u.consoleConfig})),c=function(){"CONNECTED"===u.syncConnectionState&&(u.onSyncConnectionStateChanged("RECONNECTING","INTERRUPTED"),u.sessionOfSync)&&u.sessionOfSync.once("userJoined",(function(){u.onSyncConnectionStateChanged("CONNECTED","LOGIN_SUCCESS")}))},s.on("connectionOfSyncLost",c),s.on("banSyncIP",(function(e){u.banSyncIP(e)})),s.on("presence",(function(e){u.emit("presence",e)})),s.on("initDocFailure",(function(e){var t;null===(t=u.session)||void 0===t||t.updateChannelOptionsCache2False(e,"withPresence"),e=Cj(e),u.emit("presence",{eventType:"ERROR_OUT_OF_SERVICE",channelType:e.channelType,channelName:e.channelName,publisher:u.context.uid,stateChanged:{},interval:null,snapshot:[]})})),s.once("internal-logout",pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=u.session)||void 0===t||t.connection.apClient.apFinish$.next(void 0),e.next=3,u.logoutImpl(!0);case 3:case"end":return e.stop()}}),e)})))),e.abrupt("return",s.loginHandler().toPromise().then((function(){u.onSyncConnectionStateChanged("CONNECTED","LOGIN_SUCCESS")})).catch((function(e){if("loginRespTimeout"===e.name&&2>i)return s.removeAllListeners(),u.loginSyncImpl({uid:A,instanceOfSyncId:n,forceLoginTime:i+1});throw Qe(e)&&u.onSyncConnectionStateChanged("DISCONNECTED","LOST"),u.onSyncConnectionStateChanged("DISCONNECTED","REJECTED_BY_SERVER"),u.handleConnectionFailed("syncProxy",e),e})));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=pa(O.mark((function e(){return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.logoutImpl();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logoutImpl",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={timeToken:0},!this.loginPromise){e.next=4;break}return e.next=4,this.loginPromise;case 4:if(!this.loginSyncPromise){e.next=7;break}return e.next=7,this.loginSyncPromise;case 7:if("DISCONNECTED"!==this.connectionState){e.next=10;break}return this.warn("Already in logout state: ".concat(this.connectionState)),e.abrupt("return",r);case 10:if(De("Logout",{elapse:lf(this.session.startTime),lts:Xa.fromNumber(Date.now()),sid:pg(this.session.instanceId),userId:this.context.uid},null!==(n=this.context.config.cloudProxy)&&void 0!==n&&n,this.context.vid),"FAILED"!==this.connectionState){e.next=16;break}return this.info('Reset connection state from "FAILED" to "DISCONNECTED"'),e.next=15,this.exceptionLogout("DISCONNECTED","LOGOUT");case 15:return e.abrupt("return",r);case 16:if("RECONNECTING"!==this.connectionState||!A){e.next=21;break}return this.info('Reset connection state from "RECONNECTING" to "FAILED"'),e.next=20,this.exceptionLogout("FAILED","TOKEN_EXPIRED");case 20:return e.abrupt("return",r);case 21:if("RECONNECTING"!==this.connectionState||t){e.next=26;break}return this.info('Reset connection state from "RECONNECTING" to "DISCONNECTED"'),e.next=25,this.exceptionLogout("DISCONNECTED","LOST");case 25:return e.abrupt("return",r);case 26:return o=new Promise((function(e,t){i=e})),e.next=29,this.logoutVosWeb();case 29:return this.logoutSync().catch((function(e){console.log("logoutSync",e)})),this.internalLogout(),this.logoutRegistrar().then((function(){a.log("Log out success")})).finally((function(){a.reportEvents(),t?a.onConnectionStateChanged("FAILED","PRESENCE_NOT_READY"):a.onConnectionStateChanged("DISCONNECTED","LOGOUT"),i(r)})),e.abrupt("return",o);case 33:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"logoutRegistrar",value:function(){var e=pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hasLock(),this.localAcquiredLocks.clear(),e.abrupt("return",this.session.logoutHandler(t));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var e=pa(O.mark((function e(){var t,A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wb.logout,s=this.getJoinedPresenceChannels(),Promise.all(s.map((function(e){var t,A=e.prefixChannelName;return e=e.withPresence,null===(t=h.sessionOfSync)||void 0===t?void 0:t.absent(A,e)}))),this.log("logoutSync: absent all channel presence doc success!"),c="/Vendors/"+(null!==(t=null===(A=this.sessionOfSync)||void 0===A?void 0:A.connection.apClient.vid)&&void 0!==t?t:"")+"/Presence",u=td(c),g=td(this.userId),eb._rte_crdt_client_stop_keepalive(null===(n=this.sessionOfSync)||void 0===n?void 0:n.clientPtr,u,g),null===(r=this.sessionOfSync)||void 0===r||r.getLoginSockets().map((function(e){var t;null==h||null===(t=h.sessionOfSync)||void 0===t||t.sendPing(e)})),E=new Promise((function(e,t){I=e,l=t})),C=eb.addFunction(function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==Yc.ErrOK&&(i=yh(t),o=i.code,s=i.reason,l(new Db(a,[s],o)),h.warn("".concat("Sync Callback Error",": rte_crdt_client_delete_doc_remote, ret is ").concat(t))),h.log("".concat("Sync Callback emitted ",": Delete global document succeed!")),e.next=4,null===(n=h.sessionOfSync)||void 0===n?void 0:n.logoutHandler();case 4:I(!0),null===(r=h.sessionOfSync)||void 0===r||r.emit("endOfCallback",C);case 6:case"end":return e.stop()}}),e)})));return function(t,A){return e.apply(this,arguments)}}(),"vii"),d=eb._rte_crdt_client_delete_doc_remote(null===(i=this.sessionOfSync)||void 0===i?void 0:i.clientPtr,u,g,C,0),Md(u),Md(g),null===(o=this.sessionOfSync)||void 0===o||o.getLoginSockets().map((function(e){var t;null==h||null===(t=h.sessionOfSync)||void 0===t||t.sendPing(e)})),d!==Yc.ErrOK?this.warn("".concat("Sync Api Error",": rte_crdt_client_delete_doc_remote, ret is ").concat(d)):(this.log("".concat("Sync Request Start",": delete global document when performing ").concat(a,".")),this.onSyncConnectionStateChanged("DISCONNECTED","LOGOUT")),e.abrupt("return",E);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"publish",value:function(){var e=pa(O.mark((function e(t,A,n){var r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wb.publish,null==n||!n.channelType||"USER"===(null==n?void 0:n.channelType)||"MESSAGE"===(null==n?void 0:n.channelType)){e.next=4;break}throw i=$a(Aa.RTM_ERROR_INVALID_CHANNEL_TYPE),o=i.code,a=i.reason,new Jc(r,[a],o);case 4:if(this.validateRtmConnection(r),re(t)){e.next=8;break}throw s=$a(Aa.RTM_ERROR_INVALID_CHANNEL_NAME),c=s.code,u=s.reason,new Jc(r,[u],c);case 8:if(mX(A,r),null!=n&&n.customType&&nJ(null==n?void 0:n.customType,r),g={timeToken:0,channelName:t},I=A instanceof Uint8Array?{rawMessage:A,messageType:"RAW"}:{text:A,messageType:"TEXT"},E=(l="USER"===(null==n?void 0:n.channelType))?"TEXT"===I.messageType?ve.P2pSMsgNoOfflineFlag:ve.P2pRMsgNoOfflineFlag:"TEXT"===I.messageType?ve.ChannelSMsg:ve.ChannelRMsg,XW(I,Aa.RTM_ERROR_CHANNEL_INVALID_MESSAGE),"RECONNECTING"!==this.connectionState){e.next=20;break}return C=Date.now(),e.next=19,new Promise((function(e,A){var i,o=(i=pa(O.mark((function i(){var o,s,c,u,g,d,h,p;return O.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=Date.now()-C,i.prev=1,i.next=4,WI({message:I,peerId:t,session:b.session,errorCodes:{NOT_LOGGED_IN:Aa.RTM_ERROR_NOT_LOGIN,TOO_OFTEN:Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION},diff:o,customType:null==n?void 0:n.customType,toPeer:l});case 4:e(),i.next=15;break;case 7:i.prev=7,i.t0=i.catch(1),u=$a(Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),g=u.code,d=u.reason,Qe(i.t0)&&(null===(h=b.session)||void 0===h||h.emit("messageCount",{messageCategory:E,type:"common",key:"sentcount"}),null===(p=b.session)||void 0===p||p.emit("messageCount",{messageCategory:E,type:"common",key:"timeoutcount"}),A(new Ol(r,[d],g))),be(i.t0)&&A(i.t0),null===(s=b.session)||void 0===s||s.emit("messageCount",{messageCategory:E,type:"common",key:"sentcount"}),null===(c=b.session)||void 0===c||c.emit("messageCount",{messageCategory:E,type:"common",key:"unknowerrorcount"}),A(new Db(r,[d],g));case 15:return i.prev=15,clearTimeout(a),i.finish(15);case 18:case"end":return i.stop()}}),i,null,[[1,7,15,18]])}))),function(){return i.apply(this,arguments)});b.internalEmitter.once("RECONNECTED",o);var a=setTimeout((function(){b.internalEmitter.off("RECONNECTED",o);var e=$a(Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);A(new Ol(r,[e.reason],e.code))}),9e3)}));case 19:return e.abrupt("return",g);case 20:return e.prev=20,e.next=23,WI({message:I,peerId:t,session:this.session,errorCodes:{NOT_LOGGED_IN:Aa.RTM_ERROR_NOT_LOGIN,TOO_OFTEN:Aa.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION},diff:0,customType:null==n?void 0:n.customType,toPeer:l});case 23:e.next=39;break;case 25:if(e.prev=25,e.t0=e.catch(20),!Qe(e.t0)){e.next=32;break}throw null===(p=this.session)||void 0===p||p.emit("messageCount",{messageCategory:E,type:"common",key:"sentcount"}),null===(f=this.session)||void 0===f||f.emit("messageCount",{messageCategory:E,type:"common",key:"timeoutcount"}),B=$a(Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT),Q=B.code,y=B.reason,new Ol(r,[y],Q);case 32:if(!be(e.t0)){e.next=35;break}throw this.logError(e.t0),e.t0;case 35:throw null===(d=this.session)||void 0===d||d.emit("messageCount",{messageCategory:E,type:"common",key:"sentcount"}),null===(h=this.session)||void 0===h||h.emit("messageCount",{messageCategory:E,type:"common",key:"unknowerrorcount"}),v=$a(Aa.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),m=v.code,_=v.reason,new Et(r,[_],m);case 39:return e.abrupt("return",g);case 40:case"end":return e.stop()}}),e,this,[[20,25]])})));return function(t,A,n){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v,m,_,b,R,S,w,D,k,N,T,L,M,U,x,P,G,F,K,V,Y,J,q,H,j,W,X,z,Z,$,ee,te,Ae,ne,ie,oe,ae,se,ce,ue,ge,Ie=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=Wb.subscribe,this.validateRtmConnection(p),A={withLock:null!==(n=null===(r=A)||void 0===r?void 0:r.withLock)&&void 0!==n&&n,withMessage:null===(i=null===(o=A)||void 0===o?void 0:o.withMessage)||void 0===i||i,withMetadata:null!==(a=null===(s=A)||void 0===s?void 0:s.withMetadata)&&void 0!==a&&a,withPresence:null===(c=null===(u=A)||void 0===u?void 0:u.withPresence)||void 0===c||c},f={timeToken:0,channelName:t},this.validateSessionExist(p),re(t)){e.next=8;break}throw B=$a(Aa.RTM_ERROR_INVALID_CHANNEL_NAME),Q=B.code,y=B.reason,new Jc(p,[y],Q);case 8:if(this.session.subscribedChannels.get(t)||!(50<=this.session.usedChannelIds.length||50<=rb(this.session.subscribedChannels.keys()).length)){e.next=12;break}throw m=$a(Aa.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION),_=m.code,b=m.reason,De("ChnJoin",{cname:t,lts:Xa.fromNumber(Date.now()),userId:this.userId,elapse:lf(this.session.startTime),errCode:_,sid:pg(this.session.instanceId)},null!==(v=this.context.config.cloudProxy)&&void 0!==v&&v,this.context.vid),new ri(p,[b],_);case 12:if(this.channelMemberJoinedLru.set(t,new Xp(void 0,{maxlen:1e4})),this.channelMemberJoinStateLru.set(t,new Xp(void 0,{maxlen:1e4})),R=null===(g=this.session.subscribedChannels.get(t))||void 0===g?void 0:g.withLock,S=null===(I=this.session.subscribedChannels.get(t))||void 0===I?void 0:I.withMetadata,w=null===(l=this.session.subscribedChannels.get(t))||void 0===l?void 0:l.withMessage,D=null===(E=this.session.subscribedChannels.get(t))||void 0===E?void 0:E.withPresence,this.session.subscribedChannels.get(t)?(M=this.session.subscribedChannels.get(t),this.session.subscribedChannels.set(t,{withLock:(null==M?void 0:M.withLock)||(null===(k=A)||void 0===k?void 0:k.withLock),withMetadata:(null==M?void 0:M.withMetadata)||(null===(N=A)||void 0===N?void 0:N.withMetadata),withPresence:(null==M?void 0:M.withPresence)||(null===(T=A)||void 0===T?void 0:T.withPresence),withMessage:(null==M?void 0:M.withMessage)||(null===(L=A)||void 0===L?void 0:L.withMessage)})):this.session.subscribedChannels.set(t,A),null===(C=A)||void 0===C||!C.withMetadata||S||"true"!==this.consoleConfig["storage.channel_subscribe_enabled"]){e.next=30;break}return e.prev=20,e.next=23,null===(U=this.session)||void 0===U?void 0:U.requestSubscribeChannelMetadata(t,"JOIN");case 23:this.channelMetadataSub.has(t)||this.channelMetadataSub.add(t),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(20),null===(x=this.session)||void 0===x||x.updateChannelOptionsCache2False(t,"withMetadata"),this.warn("sub channel metadata failure when sub channel(".concat(uc(t),"), error is ").concat(e.t0,"."));case 30:if(null===(d=A)||void 0===d||!d.withLock||R){e.next=40;break}return e.prev=31,e.next=34,null===(P=this.session)||void 0===P?void 0:P.requestSubscribeLock(t);case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(31),null===(G=this.session)||void 0===G||G.updateChannelOptionsCache2False(t,"withLock"),this.warn("sub lock info failure when sub channel(".concat(uc(t),"), error is ").concat(e.t1,"."));case 40:if(null===(h=A)||void 0===h||!h.withMessage||w){e.next=72;break}if(e.prev=41,Y=this.subChannelStateCache.get(t),null===(F=A)||void 0===F||!F.withMessage||!Y||"LEFT"===Y){e.next=47;break}return De("ChnJoin",{cname:t,lts:Xa.fromNumber(Date.now()),userId:this.userId,elapse:lf(this.session.startTime),errCode:Aa.RTM_ERROR_OK,sid:pg(this.session.instanceId)},null!==(J=this.context.config.cloudProxy)&&void 0!==J&&J,this.context.vid),q={channelName:t,timeToken:0},e.abrupt("return",q);case 47:De("ChnJoin",{cname:t,lts:Xa.fromNumber(Date.now()),userId:this.userId,elapse:lf(this.session.startTime),errCode:0,sid:pg(this.session.instanceId)},null!==(K=this.context.config.cloudProxy)&&void 0!==K&&K,this.context.vid),this.log("Joining the channel %s",uc(t)),this.subChannelStateCache.set(t,"JOINING"),this.session.usedChannelIds.push(t),this.subChannelPromiseCache.set(t,this.session.requestChannelJoin(t).then((function(){Ie.subChannelStateCache.set(t,"JOINED")}))),De("ChnJoinRes",{cname:t,lts:Xa.fromNumber(Date.now()),elapse:lf(this.session.startTime),errCode:0,sid:pg(this.session.instanceId),serverErrCode:0,userId:this.userId},null!==(V=this.context.config.cloudProxy)&&void 0!==V&&V,this.context.vid),this.info("The channel %s joined successfully",uc(t)),this.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.internalEmitter.once("LOGOUT",this.onLogout),e.next=70;break;case 58:if(e.prev=58,e.t2=e.catch(41),"JOINING"===this.subChannelStateCache.get(t)&&this.subChannelStateCache.set(t,"LEFT"),this.logError(e.t2),!be(e.t2)){e.next=64;break}throw e.t2;case 64:if(!Qe(e.t2)){e.next=68;break}throw j=$a(Aa.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT),W=j.code,X=j.reason,De("ChnJoinRes",{cname:t,lts:Xa.fromNumber(Date.now()),elapse:lf(this.session.startTime),errCode:W,sid:pg(this.session.instanceId),serverErrCode:0,userId:this.userId},null!==(H=this.context.config.cloudProxy)&&void 0!==H&&H,this.context.vid),new Ol(p,[X],W);case 68:throw z=$a(Aa.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED),Z=z.code,$=z.reason,new Et(p,[$],Z);case 70:e.next=73;break;case 72:this.subChannelStateCache.set(t,"JOINED");case 73:if("CONNECTED"===this.syncConnectionState){e.next=81;break}this.warn("The uer is not logged in PresenceService. Cannot subscribe presence"),null===(ee=this.session)||void 0===ee||ee.updateChannelOptionsCache2False(t,"withPresence"),ne={eventType:"ERROR_OUT_OF_SERVICE",channelType:"MESSAGE",channelName:t,publisher:this.context.uid,stateChanged:{},interval:null,snapshot:[]},this.needReSubPresenceChannels.set(t,null!==(te=null===(Ae=A)||void 0===Ae?void 0:Ae.withPresence)&&void 0!==te&&te),this.emit("presence",ne),e.next=96;break;case 81:if(ie=$a(Aa.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED),oe=ie.code,ae=ie.reason,e.prev=82,null===(se=A)||void 0===se||!se.withPresence||D){e.next=88;break}return e.next=86,null===(ue=this.sessionOfSync)||void 0===ue?void 0:ue.subscribe(t);case 86:e.next=91;break;case 88:if(null!==(ce=A)&&void 0!==ce&&ce.withPresence||void 0!==D){e.next=91;break}return e.next=91,null===(ge=this.sessionOfSync)||void 0===ge?void 0:ge.attend(t);case 91:e.next=96;break;case 93:throw e.prev=93,e.t3=e.catch(82),new Et(p,[ae+e.t3],oe);case 96:return e.abrupt("return",f);case 97:case"end":return e.stop()}}),e,this,[[20,26],[31,36],[41,58],[82,93]])})));return function(t,A){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h,p,f,B,Q,y,v;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=Wb.unsubscribe,this.validateRtmConnection(u),g={timeToken:0,channelName:t},this.channelMemberLeftLru.set(t,new Xp(void 0,{maxlen:1e4})),this.validateSessionExist(u),"LEFT"!==this.subChannelStateCache.get(t)&&this.subChannelStateCache.get(t)){e.next=8;break}throw I=$a(Aa.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED),l=I.code,E=I.reason,new Ad(u,[E],l);case 8:if(C=null!==(A=null===(n=this.session.subscribedChannels.get(t))||void 0===n?void 0:n.withPresence)&&void 0!==A&&A,d=null!==(r=null===(i=this.session.subscribedChannels.get(t))||void 0===i?void 0:i.withMetadata)&&void 0!==r&&r,h=null!==(o=null===(a=this.session.subscribedChannels.get(t))||void 0===a?void 0:a.withLock)&&void 0!==o&&o,null===(s=this.session)||void 0===s||s.subscribedChannels.delete(t),this.needReSubPresenceChannels.delete(t),e.prev=13,this.session.requestChannelLeave(t),!d){e.next=19;break}return e.next=18,this.session.requestUnsubscribeChannelMetadata(t);case 18:this.channelMetadataSub.delete(t);case 19:if(!h){e.next=22;break}return e.next=22,this.session.requestUnsubscribeLock(t);case 22:return e.next=24,this.clearChannel(this.session,[t]);case 24:null===(p=this.sessionOfSync)||void 0===p||p.absent(t,C),e.next=37;break;case 27:if(e.prev=27,e.t0=e.catch(13),this.logError(e.t0),!be(e.t0)){e.next=34;break}throw void 0===e.t0.code&&(e.t0.code=Aa.RTM_ERROR_CHANNEL_LEAVE_FAILED),De("ChnLeave",{cname:t,lts:Xa.fromNumber(Date.now()),elapse:lf(this.session.startTime),errCode:Aa.RTM_ERROR_CHANNEL_LEAVE_FAILED,sid:pg(this.session.instanceId),userId:this.userId},null!==(B=this.context.config.cloudProxy)&&void 0!==B&&B,this.context.vid),e.t0;case 34:throw De("ChnLeave",{cname:t,lts:Xa.fromNumber(Date.now()),elapse:lf(this.session.startTime),errCode:Aa.RTM_ERROR_CHANNEL_LEAVE_FAILED,sid:pg(this.session.instanceId),userId:this.userId},null!==(f=this.context.config.cloudProxy)&&void 0!==f&&f,this.context.vid),Q=$a(Aa.RTM_ERROR_CHANNEL_LEAVE_FAILED),y=Q.code,v=Q.reason,new Et(u,[v],y);case 37:return De("ChnLeave",{cname:t,lts:Xa.fromNumber(Date.now()),elapse:lf(this.session.startTime),errCode:0,sid:pg(this.session.instanceId),userId:this.userId},null!==(c=this.context.config.cloudProxy)&&void 0!==c&&c,this.context.vid),e.abrupt("return",g);case 39:case"end":return e.stop()}}),e,this,[[13,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createStreamChannel",value:function(e){var t=this,A=Wb.createStreamChannel;if(this.validateRtmConnection(A),this.validateSessionExist(A),!re(e)){var n=$a(Aa.RTM_ERROR_INVALID_CHANNEL_NAME);throw new Jc(A,[n.reason],n.code)}return-1!=(A=this.streamChannelList.findIndex((function(t){return t===e})))?(this.log("channel already exists ".concat(uc(e))),this.stChannelInstances[A]):(A=new Dda(this.logger,{channelName:e,appId:this.appId,userId:!1===this.useStringUserId?parseInt(this.userId):this.userId},this,(function(){return t.session}),(function(){return t.sessionOfSync})),this.stChannelInstances.push(A),A.internalEmitter.on("stream-channel-joined",(function(e){t.streamChannelList.push(e)})),A.internalEmitter.on("stream-channel-leaved",(function(e){t.streamChannelList=t.streamChannelList.filter((function(t){return t!==e}))})),A)}},{key:"addEventListener",value:function(e,t){this.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.off(e,t)}},{key:"loginImpl",value:function(){var e=pa(O.mark((function e(t){var A,n,r,i,o,a,s,c,u,g,I,l,E,C,d,h=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=t.uid,n=t.instanceId,r=t.forceLoginTime,i=void 0===r?0:r,o=Wb.login,a=n,!(void 0!==this.lastLoginTime&&500>Date.now()-this.lastLoginTime&&0<i)){e.next=6;break}throw s=$a(Aa.RTM_ERROR_LOGIN_ABORTED),c=s.code,u=s.reason,new Vi(o,[u],c);case 6:e.prev=6,this.context.uid=A,e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(6),g=$a(Aa.RTM_ERROR_INVALID_USER_ID),I=g.code,l=g.reason,new Jc(o,[l],I);case 14:return 0===i&&this.onConnectionStateChanged("CONNECTING","CONNECTING"),(E=new ZV(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=C=new eW(this.context,E,a,this.logger,{initEncryption:this.initEncryption,key:this.key,iv:this.iv,keyLength:this.keyLength}),d=function(){"CONNECTED"===h.connectionState&&(h.onConnectionStateChanged("RECONNECTING","INTERRUPTED"),h.session&&(h.session.once("userJoined",(function(){h.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS")})),h.session.clearLockSnapshotLastTime()))},C.on("connectionLost",d),C.on("tokenExpired",pa(O.mark((function e(){var t;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=h.session)||void 0===t||t.connection.apClient.apFinish$.next(void 0),e.next=3,h.logoutImpl(void 0,!0);case 3:case"end":return e.stop()}}),e)})))),C.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),C.once("userDrop",this.userDropHandler),C.on("instanceChanged",(function(e){return a=e})),C.on("banEdgeIP",(function(e){h.banIP(e)})),C.on("userMetaDataUpdated",this.userMetaDataUpdatedHandler),this.session.on("channelTextMessage",this.onChannelTextMessage),this.session.on("channelRawMessage",this.onChannelRawMessage),this.session.on("memberNotice",this.onMemberNotice),this.session.on("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.session.on("channelLockEvent",this.onChannelLockEvent),this.session.on("lockWatching",this.lock.onLockWatching),this.session.on("lockExpired",this.emitLockExpired),this.session.on("acquireSuccess",(function(e){h.updateLocalAcquiredLocksCache(e.prefixChannelName,e.lockName,"add",e.revision)})),this.session.on("releaseSuccess",(function(e){h.updateLocalAcquiredLocksCache(e.channelName,e.lockName,"delete")})),this.session.on("appConfig",(function(e){h.consoleConfig=e})),this.lastLoginTime=Date.now(),e.abrupt("return",C.loginHandler().toPromise().catch((function(e){if("loginRespTimeout"===e.name&&2>i)return h.log("loginRespTimeout: internal re-login..."),C.removeAllListeners(),h.loginImpl({uid:A,instanceId:n,forceLoginTime:i+1});throw h.handleConnectionFailed("registrar",e)})));case 39:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleConnectionFailed",value:function(e,t){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Wb.login;if(this.log("Login failed when connecting ".concat(e)),"CONNECTING"===this.connectionState){if(Qe(t)){this.onConnectionStateChanged("DISCONNECTED","LOST");var n=$a(Aa.RTM_ERROR_LOGIN_TIMEOUT);throw new Ol(A,[n.reason],n.code)}if((null==t?void 0:t.code)===Aa.RTM_ERROR_TOKEN_EXPIRED)throw this.onConnectionStateChanged("DISCONNECTED","TOKEN_EXPIRED"),t;if(this.onConnectionStateChanged("DISCONNECTED","REJECTED_BY_SERVER"),be(t))throw t;throw n=$a(Aa.RTM_ERROR_LOGIN_ABORTED),new Db(A,[n.reason],n.code)}}},{key:"onConnectionStateChanged",value:function(e,t){var A,n,r=this;("RECONNECTING"===e&&(this.reconnId+=1),Cq("ConnectionStateChange",{elapse:lf(this.session&&this.session.startTime),lts:Xa.fromNumber(Date.now()),newState:tA[e],oldState:tA[this.connectionState],reason:rW[t],sid:pg(this.session&&this.session.instanceId||Xa.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},null!==(A=this.context.config.cloudProxy)&&void 0!==A&&A),"RECONNECTING"===this.connectionState&&"CONNECTED"===e)&&(A=null===(n=this.session)||void 0===n?void 0:n.subscribedChannels.keys(),(n=rb(null!=A?A:[]))&&0<n.length&&n.forEach((function(e){var t,A=(null===(t=r.session)||void 0===t?void 0:t.subscribedChannels.get(e))||{};A.withMetadata,A.withLock,t=r.localAcquiredLocks.get(e)||new Map,r.lock.acquireOperationNoRes.forEach((function(t){var A,n=t.slice(e.length).slice(3);r.log("Try reacquireLock(".concat(n," from notResp lock queue when reconnected.")),null===(A=r.session)||void 0===A||A.requestAcquireLock(e,n).toPromise().then((function(e){r.log("reacquireLock(".concat(n,") succeed that want to acquire with retry true before connection lost, code is ").concat(e,"."))})).catch((function(e){r.warn("reacquireLock(".concat(n,") failed, ret is ").concat(null==e?void 0:e.errorCode))})).finally((function(){r.lock.acquireOperationNoRes.delete(t)}))})),t&&t.forEach((function(t,A){var n;r.log("Try reacquireLock(".concat(A,") when reconnected."));var i=function(){var t,n=Cj(e);r.emitLockExpired({channelType:n.channelType,channelName:n.channelName,eventType:"EXPIRED",lockName:A,ttl:0,publisher:"",snapshot:[]}),null===(t=r.session)||void 0===t||t.requestReleaseLock(e,A).toPromise()};null===(n=r.session)||void 0===n||n.requestAcquireLock(e,A).toPromise().then((function(e){e.lockRev.toNumber()!==t.revision&&(r.log("newRev: ".concat(e.lockRev,", rev: ").concat(t.revision,", code: ").concat(e," for reacquire.")),i())})).catch((function(){i()}))}))})),this.internalEmitter.emit("RECONNECTED"));this.connectionState=e,"FAILED"!==e&&"DISCONNECTED"!==e||(this.reconnId=0,this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.storage.subscribedUserMetaCache={},this.attributeDrafts.clear()),this.emit("status",{state:e,reason:t})}},{key:"onSyncConnectionStateChanged",value:function(e,t){var A,n=this;"RECONNECTING"===e&&(this.reconnSyncId+=1),this.log("Sync-ConnectionStateChange: %o",{elapse:lf(this.session&&this.session.startTime),lts:Xa.fromNumber(Date.now()),newState:tA[e],oldState:tA[this.connectionState],reason:rW[t],sid:pg(this.session&&this.session.instanceId||Xa.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId,cloudProxy:null!==(A=this.context.config.cloudProxy)&&void 0!==A&&A,reconnSyncId:this.reconnSyncId}),"RECONNECTING"===this.syncConnectionState&&"CONNECTED"===e&&this.needReSubPresenceChannels.forEach((function(e,t){var A,r,i,o,a;!e||null!==(A=n.sessionOfSync)&&void 0!==A&&A.subscribedPresenceChannels.has(t)||(null===(i=n.session)||void 0===i||i.updateChannelOptionsCache2True(t,"withPresence"),null===(o=n.sessionOfSync)||void 0===o||o.subscribe(t));!1!==e||null!==(r=n.sessionOfSync)&&void 0!==r&&r.subscribedPresenceChannels.has(t)||(null===(a=n.sessionOfSync)||void 0===a||a.attend(t));n.needReSubPresenceChannels.delete(t)})),this.syncConnectionState=e,"FAILED"!==e&&"DISCONNECTED"!==e||(this.reconnSyncId=0,this.sessionOfSync&&this.sessionOfSync.removeAllListeners()),this.info("sync-status-change: %o",{newState:e,reason:t})}},{key:"banIP",value:function(e){var t;this.log("ip banned",e);var A=null!==(t=this.blacklistedIP[e])&&void 0!==t?t:0;this.blacklistedIP[e]=A+1}},{key:"banSyncIP",value:function(e){var t,A=null!==(t=this.blacklistedSyncIP[e])&&void 0!==t?t:0;this.blacklistedSyncIP[e]=A+1}},{key:"updateLocalAcquiredLocksCache",value:function(e,t,A,n){var r,i=null!==(r=this.localAcquiredLocks.get(e))&&void 0!==r?r:new Map;"delete"===A?null==i||i.delete(t):(i.set(t,{revision:n}),this.localAcquiredLocks.set(e,i))}},{key:"clearChannel",value:function(){var e=pa(O.mark((function e(t,A){var n,r,i=this;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=O.mark((function e(n){var r,o,a,s;return O.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=A[n],t.emit("channelLeft",s),t.emit("unSubChannelLock",s),t.emit("unSubChannelMetadata",s),"JOINING"!==i.subChannelStateCache.get(s)){e.next=7;break}return e.next=7,i.subChannelPromiseCache.get(s);case 7:i.subChannelStateCache.set(s,"LEFT"),null===(r=i.channelMemberLeftLru.get(s))||void 0===r||r.empty(),null===(o=i.channelMemberJoinedLru.get(s))||void 0===o||o.empty(),null===(a=i.channelMemberJoinStateLru.get(s))||void 0===a||a.empty(),i.subChannelCountCache.set(s,0),t.usedChannelIds=t.usedChannelIds.filter((function(e){var t;return null===(t=i.session)||void 0===t||t.subscribedChannels.delete(s),e!==s}));case 13:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<A.length)){e.next=7;break}return e.delegateYield(n(r),"t0",4);case 4:r++,e.next=2;break;case 7:this.internalEmitter.removeListener("LOGOUT",this.onLogout);case 8:case"end":return e.stop()}}),e,this)})));return function(t,A){return e.apply(this,arguments)}}()},{key:"hasLock",value:function(){var e=!1;return 0<this.localAcquiredLocks.size&&this.localAcquiredLocks.forEach((function(t){0<t.size&&(e=!0)})),e}},{key:"validateRtmConnection",value:function(e){if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState){this.log("The client state is ".concat(this.connectionState,", cannot do the operation(").concat(e,")"));var t=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Ad(e,[t.reason],t.code)}}},{key:"validateSessionExist",value:function(e){if(void 0===this.session){var t=$a(Aa.RTM_ERROR_NOT_LOGIN);throw new Db(e,[t.reason],t.code)}}},{key:"checkVid",value:function(){var e,t=this.context.vid,A=null===(e=this.sessionOfSync)||void 0===e?void 0:e.connection.apClient.vid;t!==A&&this.warn("The vid of uniLbs(".concat(t,") is not the same as the vid of syncProxy(").concat(A,")"))}}]),t}(Mh),yd(qe.prototype,"renewToken",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"renewToken"),qe.prototype),yd(qe.prototype,"updateConfig",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"updateConfig"),qe.prototype),yd(qe.prototype,"login",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"login"),qe.prototype),yd(qe.prototype,"logout",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"logout"),qe.prototype),yd(qe.prototype,"publish",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"publish"),qe.prototype),yd(qe.prototype,"subscribe",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"subscribe"),qe.prototype),yd(qe.prototype,"unsubscribe",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"unsubscribe"),qe.prototype),yd(qe.prototype,"createStreamChannel",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"createStreamChannel"),qe.prototype),yd(qe.prototype,"addEventListener",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"addEventListener"),qe.prototype),yd(qe.prototype,"removeEventListener",[Bd],Object.getOwnPropertyDescriptor(qe.prototype,"removeEventListener"),qe.prototype),qe);return{BUILD:"v2.1.10-0-gf671cb6c-dirty",VERSION:"2.1.10",processId:y8,RTM:Mda,getParameter:Qc,setArea:function(e){var t=e.areaCodes;if(e=e.excludedArea,Lh.setArea({areaCode:t,excludedArea:e}),!Array.isArray(t)||0===t.length||!t.every((function(e){return e in Bt})))throw new Jc("setArea","Invalid area config");if(void 0!==e&&e===Bt.GLOBAL)throw new Jc("setArea","Excluded area cannot be global");if(console.log(JSON.stringify({areaCodes:t,excludedArea:e}),"RTM setArea"),void 0===e)cc=Ys(t.map((function(e){return Tb[e]})));else{if(t.includes(e))throw new Jc("setArea","Excluded area cannot be in areaCodes");if(!(e in Tb))throw new Jc("setArea","Invalid excludedArea:",e);cc=eX({areas:t.map((function(e){return Tb[e]})),excludedArea:Tb[e]})}},setParameter:x8,setRTCParameter:function(e,t){Lh.setParameter(e,t)},constantsType:EZ,RTMBaseError:el}}));
